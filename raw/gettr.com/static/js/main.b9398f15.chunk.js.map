{"version":3,"sources":["core/Util.js","core/util/SymbolExpr.js","core/model/social/XMFollow.js","core/model/net/XRequest.js","core/model/net/XHttpBase.js","core/ErrorCodes.js","core/ObjectBase.js","core/util/HashtagUtil.js","core/model/social/XMSocialIndexable.js","core/model/post/XPostStats.js","core/model/activity/XMPostItem.js","core/model/social/XMComment.js","core/NetworkManager.js","system/ClientAppService.js","core/model/XMList.js","core/model/util/XResultMap.js","core/model/util/XResultList.js","core/model/XBinaryData.js","core/model/social/XMWatch.js","core/model/post/XMWatchesPost.js","core/model/post/XMWatchedPost.js","core/model/activity/XVarData.js","core/model/activity/XPostFeed.js","core/model/social/XCommentInfo.js","core/model/social/XMCommentStats.js","core/model/post/XCommentFeed.js","util/file.js","GetterService.js","core/XMCache.js","core/ObjectManager.js","core/model/user/XUserCred.js","../node_modules/unicode-regex/lib/data.generated sync /^/.//.*$","core/XMCOD.js","core/model/net/XResponse.js","assets/icons/checkRound.svg","assets/icons/envelopeSent.svg","assets/icons/icon_warning.svg","app/components/notifications/NotifMessage.js","styles/components/GMobileDrawer.js","core/model/post/XMPost.js","system/Global.js","app/components/auth/api/login.js","app/components/auth/api/loginRefresh.js","app/components/auth/api/sendVerifCode.js","app/components/auth/api/verifCode.js","app/components/auth/api/changePassword.js","app/components/auth/api/changeLoginStep.js","app/components/auth/api/checkUsername.js","app/components/auth/api/checkEmail.js","app/components/auth/api/index.js","app/components/auth/api/sendVerifCodeSignup.js","app/components/auth/api/claimSignup.js","app/components/auth/api/changeSignupStep.js","app/components/auth/api/signup.js","app/components/auth/api/addPinPost.js","app/components/auth/api/deletePinPost.js","app/components/auth/store/index.js","app/components/post/_constants/post.constants.js","app/components/post/api/postSubmit.js","app/components/post/api/repostSubmit.js","app/components/post/api/commentSubmit.js","app/components/post/api/index.js","app/components/post/store/index.js","app/components/timeline/_constants/timeline.constants.js","app/components/timeline/api/index.js","app/components/timeline/api/getUserFeed.js","app/components/timeline/api/getPinnedPost.js","app/components/timeline/store/index.js","app/components/comment/api/index.js","app/components/comment/api/fetchUserComments.js","app/components/comment/_constants/comments.constants.js","app/components/comment/store/index.js","store/modules/timeline/index.js","store/modules/status/api/getBlockedUsers.js","store/modules/status/api/currentUserBlockedUser.js","store/modules/status/api/currentUserMutesUser.js","store/modules/status/api/index.js","store/modules/status/api/currentUserFollowsUser.js","store/modules/status/api/toggleMute.js","store/modules/status/api/toggleFollowing.js","store/modules/status/api/toggleBlock.js","store/modules/status/index.js","store/modules/index.js","store/index.js","i18n/index.js","app/base/TimelineContext.js","styles/themes/index.js","styles/themes/_lightMuiTheme.js","styles/themes/_darkMuiTheme.js","app/base/UIContext.js","assets/icons/ico_mobile_home.svg","assets/icons/ico_mobile_home_activated.svg","assets/icons/ico_mobile_account.svg","assets/icons/ico_mobile_account_activated.svg","assets/icons/ico_mobile_search.svg","assets/icons/ico_mobile_search_activated.svg","app/components/MobileBottomNavigation.js","app/components/notifications/MuiToastContainer.js","assets/icons/icon_close.svg","util/scrollUtils.js","app/components/PopupDialogNew.js","styles/components/GTwemoji.js","styles/components/GMentionsInput.js","app/components/PopupDialog.js","styles/components/GConfirmAlert.js","util/TextUtil.js","styles/components/GTypography.js","assets/icons/ico-link.svg","assets/icons/ico-article.svg","app/components/VideoPlayer.js","app/components/YoutubeVideoPlayer.js","app/components/PrevImage.js","app/components/PreviewContent.js","util/imageUtils.js","assets/images/avatar148.svg","assets/icons/icon_circlefull_close.svg","app/components/GiphyLogo.js","assets/images/Poweredby_640px-White_HorizText.png","styles/components/GDisplayFiles.js","assets/icons/icon_upload_file.svg","util/EventUtils.js","app/components/FileUploader.js","assets/icons/icon_smile.svg","assets/icons/icon_circlefull_close20.svg","styles/components/GEmojiPicker.js","assets/icons/icon_back.svg","styles/components/GGiphyPicker.js","assets/icons/ico-img.svg","assets/icons/ico-gif.svg","app/pages/post/PostToolsGroup.js","styles/components/GLoader.js","assets/icons/ico-retweet.svg","assets/icons/icon_more_vertical.svg","app/components/FollowUserButton.js","assets/icons/ico-verification.svg","util/NumberUtil.js","app/pages/dashboard/UserProfilePopup.js","app/components/HoverPopup.js","app/components/UserLabelLink.js","app/components/TiledImages.js","util/UIUtil.js","app/components/HighlightLink.js","app/components/GifImage.js","app/components/post/comps/TwitterContentView.js","app/components/post/comps/PostContentView.js","assets/icons/ico-mute.svg","assets/icons/ico-block.svg","assets/icons/ico-report.svg","assets/icons/ico-follow.svg","assets/icons/ico-unfollow.svg","assets/icons/ico-pin-down.svg","assets/icons/ico-delete.svg","app/pages/dashboard/PostFeedItemViewForPopup.js","assets/icons/ico-success-filled.svg","app/components/ReportContentDialog.js","util/refreshHelper.js","app/pages/dashboard/PostFeedItemViewForDetail.js","assets/icons/ico-pin.svg","app/pages/dashboard/PostFeedItemViewForTimeline.js","app/pages/post/NewCommentContentView.js","app/components/post/comps/PostFeedItem.js","util/BrowserUtils.js","styles/components/GBackTitle.js","app/components/post/comps/CommentComposer.js","assets/icons/ico-like.svg","assets/icons/ico-liked.svg","app/pages/post/LikeButton.js","assets/icons/ico-quote.svg","core/model/social/XMShare.js","assets/icons/ico-unmute.svg","app/components/post/comps/CommentCommentComposer.js","assets/icons/ico-comment.svg","app/pages/post/CommentPostButton.js","assets/icons/ico-share.svg","assets/icons/icon_twitter.svg","assets/icons/icon_facebook.svg","assets/icons/icon_link.svg","app/pages/post/ShareButton.js","app/pages/dashboard/CommentStatLine.js","app/components/post/comps/CommentFeedItem.js","app/components/post/comps/RepostComposer.js","app/pages/post/RepostButton.js","app/pages/dashboard/PostStatLine.js","assets/icons/icon_swiper_prev_39.svg","assets/icons/icon_swiper_next_39.svg","app/components/PopupImages.js","app/components/AvatarLink.js","app/components/post/comps/PostComposer.js","app/components/MenuItem.js","assets/icons/profile.svg","assets/icons/settings.svg","assets/icons/logout.svg","app/components/UserMenu.js","assets/icons/ico-home.svg","assets/icons/ico-home-actived.svg","assets/icons/search.svg","assets/icons/search-activated.svg","assets/icons/ico-profile.svg","assets/icons/ico-profile-actived.svg","assets/icons/ico-settings.svg","assets/icons/ico-settings-actived.svg","assets/icons/ico-helpcenter.svg","assets/icons/ico-helpcenter-actived.svg","assets/icons/ico-language.svg","assets/icons/ico-language-activated.svg","assets/icons/icon_add_post.svg","assets/images/common/logoColor.svg","assets/images/common/brand-logo-small.svg","assets/icons/ico-smart-phone.svg","assets/icons/ico-smart-phone-activated.svg","assets/icons/checkMark.svg","app/LanguageDialog.js","assets/icons/ico-Android-app.svg","assets/icons/ico-iOS-app.svg","assets/images/phoneApp.png","app/components/DownloadDialog.js","app/NavigateSideBar.js","app/base/NewUIPage.js","app/pages/NewNotFoundPage.js","app/routes/route-notfound.js","assets/md/privacy.md","app/routes/route-privacy.js","app/components/HashtagSearchFeed.js","assets/icons/ico-circlefull close.svg","assets/icons/icon_verification.svg","assets/icons/ico-search.svg","app/components/PostSearchBoxNew.js","webpack:///./src/assets/icons/icon_back.svg?e313","app/components/ColumnHeader.js","app/components/TabPanel.js","app/pages/dashboard/NewSearchResult.js","assets/icons/icon_back_to_top.svg","app/components/BackToTopButton.js","app/components/CookieNotification.js","app/components/auth/comps/AuthBar.js","app/pages/settings/Loader.js","app/components/UserLayout.js","app/components/WhoToFollow.js","styles/components/GCheckbox.js","app/components/timeline/comps/UserFeed.js","app/pages/dashboard/NewMyDashboard.js","assets/icons/eyeOpen.svg","assets/icons/eyeClose.svg","styles/components/GTextField.js","app/components/auth/comps/ReCaptcha.js","app/components/auth/comps/LoginForm.js","assets/icons/arrowLeft.svg","assets/icons/ico-warning.svg","app/components/auth/comps/ForgotLoginForm.js","app/components/auth/comps/Counter.js","app/components/auth/comps/SendCode.js","app/components/auth/comps/ChangePasswordForm.js","app/pages/auth/LoginPageNew.js","app/routes/route-login.js","app/components/auth/comps/SignupForm.js","app/components/PopularUsersFeed.js","app/components/auth/comps/DiscoverPeople.js","app/pages/auth/SignupPageNew.js","app/routes/route-signup.js","app/routes/route-logout.js","app/pages/profile/ProfileFeed.js","app/components/ReportUserDialog.js","assets/icons/profile/icon_edit_close.svg","app/pages/profile/public_user_view/consts.js","assets/icons/profile/icon_camera_big.svg","assets/zoomPlus.svg","assets/zoomMinus.svg","util/canvasUtils.js","app/components/AvatarEditDialog.js","app/components/BannerEditDialog.js","app/pages/profile/public_user_view/ImageSettings.js","app/pages/profile/public_user_view/EditProfileForm.js","app/pages/profile/public_user_view/EditProfileDialog.js","assets/icons/ico-date.svg","assets/icons/icon_profile_options.svg","assets/icons/ico-location.svg","app/pages/profile/public_user_view/DropdownMenuItems.js","app/pages/profile/CommentFeed.js","app/pages/profile/LikeFeed.js","app/pages/profile/public_user_view/NewPublicUserView.js","app/routes/route-userinfo.js","app/routes/route-usernotexist.js","app/pages/settings/NoDataMessage.js","app/pages/profile/follow/FollowFeed.js","app/pages/profile/follow/NewUserFollowView.js","app/pages/dashboard/PostCommentFeed.js","app/pages/post/NewPostPageView.js","app/pages/post/NewCommentPageView.js","assets/icons/ico-arrow.svg","app/pages/settings/ChangePasswordForm.js","assets/icons/check.svg","app/pages/settings/Languages.js","app/pages/settings/UserLayout.js","app/pages/settings/Muted.js","app/pages/settings/Blocked.js","app/pages/settings/PrivacyTabs.js","assets/icons/ico-right-arrow.svg","assets/icons/ico-settings-language.svg","assets/icons/ico-settings-logout.svg","assets/icons/ico-settings-password.svg","assets/icons/ico-settings-privacy.svg","app/pages/settings/MobileIndex.js","app/pages/settings/NewSettingsIndex.js","assets/icons/envelope.svg","app/pages/helpCenter/ContactUs.js","app/pages/helpCenter/HelpCenterMobileIndex.js","assets/icons/ico-down-arrow.svg","app/pages/helpCenter/HelpCenterContent.js","app/components/TextFileReader.js","assets/md/terms.md","app/pages/helpCenter/NewHelpCenterIndex.js","app/pages/helpCenter/MobileAppHelpCenterIndex.js","app/routes/route-mobile-app-help-center.js","app/routes/route-terms.js","app/components/TrendingFeed.js","styles/components/GSectionHeader.js","assets/icons/ico-account-profile.svg","assets/icons/ico-account-settings.svg","assets/icons/ico-account-help.svg","app/pages/profile/AccountPage.js","app/pages/admin/TopicTrendsPage.js","app/pages/auth/VerifyForm.js","app/pages/auth/ClaimPage.js","app/pages/auth/Claim.js","app/pages/auth/ClaimError.js","app/components/layout/AuthLayout.js","app/pages/dashboard/TopicImg.js","app/pages/dashboard/SuggestTopics.js","app/pages/dashboard/SuggestPeople.js","app/pages/dashboard/NewExploreSideBar.js","app/components/layout/HomeMainContainer.js","app/components/layout/RegularLayout.js","app/components/layout/LayoutManager.js","app/components/DownloadBar.js","app/components/MobilePermissionsBar.js","app/routes/index.js","app/routes/route-dashboard.js","app/routes/route-comment.js","app/routes/route-post.js","app/routes/route-tag.js","app/routes/route-search.js","app/routes/route-user-following.js","app/routes/route-user-followers.js","app/routes/route-trending.js","app/routes/route-popular-users.js","app/routes/route-claim-error.js","app/routes/route-claim-callback.js","app/routes/route-settings-index.js","app/routes/route-help-center-index.js","app/routes/route-account.js","app/routes/route-admin-topic-trends.js","app/components/ZendeskChat.js","app/App.js","index.js","core/model/VisualConsts.js","app/components/auth/_constants/user.constants.js","EnvConfig.js","core/model/ModelConsts.js","core/util/Base64.js","core/model/XObject.js","styles/components/GButton.js","core/model/user/XUserStats.js","core/model/user/XUserObject.js","core/model/user/XUserInfo.js","system/Session.js","core/net/REST.js","core/model/social/SocialModelHelper.js","core/model/XACL.js","core/model/XMObject.js","core/ErrorConsts.js","core/model/user/XMUserFeedback.js","app/AppMessages.js","core/util/ImageUtil.js","i18n/utils/index.js","util/GAxios.js","system/Error.js","system/Portal.js","core/API.js","core/model/XError.js","core/model/social/XMObjectStats.js","core/model/activity/XMActivityLog.js","app/AppConsts.js","core/util/TagUtil.js"],"names":["ENC_STRING","encryptors","EncryptorClass","REGEX_SPLIT2","REGEX_SPLIT3","UrlPattern","RegExp","UrlMatchPattern","UsernamePattern","ReservedUsernames","Util","config","uuid","uuidv1","replace","toUpperCase","str","verdict","test","console","log","match","text","encrypt","encryptedStr","decrypt","data","encryptedData","lang","LanguageCodes","CHINESE_ALL","includes","s","trim","length","ch","trace","String","padStart","gap","regex","tokens","join","identifier","StringPadStart","fspec","lastSlashIdx","lastIndexOf","substring","nullIsEmpty","this","StringLength","v","undefined","s1","s2","ignoreCase","NotNull","toLowerCase","kwd","klen","tlen","indexOf","Math","ceil","hashedVal","split","reduce","a","b","charCodeAt","e","ts1","ts2","HashString","Array","isArray","list","label","value","item","count","i","eq","sqLeft","sqRight","delim","ArrayIsEmpty","joiner","ArrayToQuotedString","arrayStr","enforceBrackets","defaultVal","StringIsEmpty","len","startPos","endPos","trimmedStr","result","idx","splice","re","slice","result_t","username1","username2","StringEquals","fname","lname","fn","FirstAlphaNumeric","ln","c","charAt","input","lowerCase","cleaned","inputName","u","candidate","NormalizeUsername","UserProps","USERNAME_MIN_LENGTH","USERNAME_MAX_LENGTH","nullOK","NICKNAME_MIN_LENGTH","NICKNAME_MAX_LENGTH","userId","PASS_TOO_SHORT","lc_pwd","lc_userId","PASS_INCL_NAME","PASS_BAD_CHARS","charLeft","charRight","charRightMap","'","c0","prefix","p","o","Object","entries","constructor","hostExpr","startsWith","url","paramPrefix","object","classObj","classname","method","msg","args","assert","valuesString","delimitor","uppercase","values","push","pos","value1","value2","err","error","obj","size","key","hasOwnProperty","jsonObj","path","keyArray","GetEmbeddedJSONKeys","subpath","inFields","exFields","results","importData","oldData","replaceCount","list1","list2","merged","UniqueArray","j","inc","entrymap","IsNull","entrymap_sorted","Map","sort","from","keys","array1","array2","Set","stack","l","has","warn","add","CompareArrays","lowercase","defaultvalue","words","capWords","Capitalize","Number","v1","v2","toNumber","isInteger","suffix","double","single","hex","toString","r","g","integerToHex","exec","parseInt","seed","bytes","base","byteMask","2","4","8","16","Date","now","trunc","random","JSON","parse","stringify","clone","CloneObject","origInstance","assign","create","getPrototypeOf","objArray","arraySize","objMap","MapUniqueObjectsByField","sorted","label2","MapObjectsByField","sameKeyObjs","dataMap","fieldName","matchWord","matchPct","keyPct","StringMatchPct","substr","reverse","resultMap","keepNull","valueArray","MemoryUtil","process","memoryUsage","field","memrec","used","total","utilpct","round","usedMB","totalMB","rssMB","extMB","monthAbbrev","S_MIN","S_HOUR","S_DAY","S_WEEK","S_YEAR","TimeUtil","ts","d","mm","getMonth","yyyy","getFullYear","locale","moment","format","dd","getDate","includeMillis","MM","DD","YY","hh","getHours","getMinutes","ss","getSeconds","ms","getMilliseconds","out","YYYY","AP","ago","negative","tmp","SinceTime","verbose","unit","elapsed","Ts2MMDDYYYY","t1","t2","mins","diff","_mins","hours","_hours","years","min","seconds","fromNow","t","get","valueOnly","secs","startTS","MilliSeconds","SymbolExpr","symbol","normalizer","name","StripProps","parseProps","props","JSON5","symbol1","symbol2","name1","name2","parsed","ParseSymbol","symbolExpr","ComposeSymbol","ObjectIsEmpty","frags","filter","f","STATUS_FOLLOWING","STATUS_NOT_FOLLOWING","STATUS_ACCEPTED","STATUS_PENDING","STATUS_BLOCKED","STATUS_MUTED","STATUS_UNKNOWN","STATUS_TYPES","_CLSNAME_FOLLOWS","_CLSNAME_FOLLOWERS","XMFollowBase","clsname","class","addAcceptedUser","getData","AddAcceptedUser","AddPendingUser","AddBlockedUser","AddMutedUser","listType","PROP_ACCEPTED","LIST_TYPES","getWords","GetAcceptedUsers","GetPendingUsers","GetBlockedUsers","GetMutedUsers","GetUserStatusMap","getUserStatusMap","hasWord","HasUserIn","HasAcceptedUser","countAcceptedUsers","HasPendingUser","HasBlockedUser","HasMutedUser","GetStatus","targetId","removeWord","RemoveAcceptedUser","RemovePendingUser","RemoveBlockedUser","RemoveMutedUser","RemoveAllUsers","countWords","PROP_PENDING","PROP_BLOCKED","PROP_MUTED","SocialProps","ACCEPTED","PENDING","BLOCKED","MUTED","UNBLOCKED","XMObject","AddWord","userIds","n","SetWords","GetWords","accepted","blocked","muted","pending","statusMap","forEach","HasWord","HasWordIn","status","inList","HasUserInList","RemoveUser","RemoveWord","RemoveAllWords","CountWords","XMFollows","ModelFolder","FOLLOWS","ModelType","tracking","newObj","initNew","_setId","enableTrackingNew","XMFollowers","FOLLOWERS","XMFollow","setOwnerId","GetFollower","SetFollowingUser","GetFollowingUser","SetFollowStatus","honorBlock","IsFollowing","SetBlocked","UnsetBlocked","IsBlocked","SetMuted","UnsetMuted","IsMuted","FOLLOW","followerId","followingId","followObj","_id","DeriveID","setFollower","setFollowingUser","setFollowStatus","SetOwnerId","GetOwnerId","SetObjectField","PROP_FOLLOWING_USERID","GetObjectField","PROP_STATUS","ClearObjectField","RegisterType","_CLSNAME","PROP_USER_ID","PROP_USER_TOKEN","PROP_ENDPOINT","HDR_APP_AUTH","HDR_APP_URL","HDR_APP_LANG","XRequest","params","_setTypeID","req","appUrl","setHeader","getHeaderValue","set","username","setUserId","getUserId","userCred","token","getAccessToken","setToken","getToken","XUserCred","Create","IsGuest","IsRobot","IsAuthenticatedUser","getCode","getMessage","time","Ts2YY_MM_DD_hh_mm_ss","os","getOSName","device","getDeviceName","browser","getBrowserName","ipaddr","getIPAddress","getEndpoint","uap","uastring","getUserAgent","UAParser","ua","_getUAParser","getResult","getBrowser","getBrowserInfo","version","getDevice","getDeviceInfo","getEngine","engine","getEngineInfo","getOS","getOSInfo","getRequestObject","connection","remoteAddress","content","xReq","setContent","setUserCred","formData","inclHeader","setFormData","xreq","headers","userCredStr","CreateFromAuthHeader","body","IsString","XObject","DeSerialize","XObjectProps","TYPE","GetTypeID","Wrap","CreateNew","setRequestObject","setEndpoint","setHeaders","importObjectFields","XHttpBase","PROP_HEADERS","PROP_ACCEPT","PROP_CONTENT","PROP_CONTENT_TYPE","PROP_ENCODE_TYPE","CONTENT_TYPE_JSON","CONTENT_TYPE_FORMDATA","HDR_USER_AGENT","hdrs","getHeaders","hval","typeString","scontent","Serialize","getContent","setContentType","fd","getFormData","ct","agentString","jsonData","httpMessage","Unwrap","E","code","eobj","XError","ErrorCodes","HTTP_CLIENT_ERROR","HTTP_CLIENT_AUTH","HasCode","IsError","xerr","Error","message","SYS_ERR","New","FromJSON","getFormattedMessage","getReadableMessage","SYS_DB_CONN","SYS_DB_REQ","SYS_NOTIMPL","SYS_BAD_ARGS","SYS_BAD_DATA","SYS_INIT","SYS_NETERR","RES_NOTFOUND","RES_NOACCESS","RES_ERROR","TAG_NOTFOUND","API_OK","API_NO_OP","API_BAD_PARAMS","API_BAD_DATA","API_ERROR","INVALID_ACTION","EMAIL_EXISTS","USER_BAD_INPUT","USER_BAD_TOKEN","USER_BAD_REQUEST","USER_BAD_AUTH","USER_EXISTS","USER_NOTFOUND","USER_NOT_ALLOWED","USER_INVALID","USER_OVER_LIMIT","USER_BAD_USERNAME","USER_BAD_DEVICEID","USER_BAD_DIGEST","USER_BAD_VCODE","PASS_BAD_PWD","SVC_ERROR","ObjectBase","handler","watchers","_getWatchers","watcherArray","propname","oldValue","newValue","handlers","thisObj","dispatchedCount","LogMem","getClassname","expr","typeStr","assertType","hasError","ClsObj","GetName","inst","group","groupEnd","gcBefore","global","gc","Log","GetMemStatLine","clsObj","type","_m","model","jsonRec","AssertArrayNoNulls","prev","override","ImportObjectFields","val","ExportObjectFields","uselessWords","uselessPrefix","uselessSuffix","noBreakPrefixes","HashtagUtil","ExtractURLs","ch1","word","lcWord","allLowerCase","trackOthers","removeUseless","retainCase","hashBucket","atBucket","wordBucket","rawHashBucket","rawAtBucket","rawWordBucket","seps","IsUseless","IsUselessPrefix","IsUselessSuffix","tagname","_newtag","tagSets","loneSet","resultSet","workingSet","targetSet","XMSocialIndexable","MessageProps","PROPS_CACHED","PROP_REPOSTID_TRACE","PROP_REPOSTER_TRACE","PROP_IMPORT_POST_ID","getOwnerId","reScan","PROP_TEXT","_processTagsAndMentions","flag","PROP_ISNOTFOUND","langCode","PROP_TEXT_LANG","append","TextScanTagsAt","tags","usernames","addHashtags","setHashtags","addUsertags","setUsertags","tagnames","updated","_AddTags","PROP_HASHTAGS","setDirty","_SetTags","_GetTags","_HasTag","labels","PROP_USERTAGS","PROP_PREVIEW_URL","PROP_PREVIEW_IMAGE_URL","title","setTitle","getTitle","setDescription","getDescription","PROP_MAIN_IMAGE_URL","addWord","PROP_IMAGE_URLS","urls","setWords","getWordCount","meta","PROP_META","PROP_ORIG_VIDEO_URL","getVideoUrl","hasVideo","hasImages","PROP_COMMENT_DISABLED","postId","updated1","setWordAt","updated2","getWordAt","getOriginalPostId","omitReposter","allPosterIds","getPosterIdList","reposters","reposterCount","posterId","omitIdx","PROP_EMBEDDED_POST","getX","postAux","getAuxData","sharedPost","SHARED_POST","repostObj","getEmbeddedPost","getText","getTextLanguage","clear","PARENT_OWNER_ID","DESC","COMMENT_POST_ID","IMPORT_POST_ID","RPS_IDS","RPS_OWNER_IDS","StatsProps","TWT_LIKEDBY_POST","TWT_POST_SHAREDBY","PROP_IMAGE_URL","PROP_VIDEO_DURATION","PROP_VIDEO_WIDTH","PROP_VIDEO_HEIGHT","PROP_VIDEO_URL","VISIBILITY","PROP_ACL","PROP_COMMENT_POST_ID","PROP_TITLE","PROP_DSC","USER_EDITABLE_PROPS","concat","PROP_CREATED_DATE","PROP_UPDATED_DATE","PROP_OWNERID","PROP_TWT_LIKEDBY_POST","PROP_TWT_POST_SHAREDBY","PROP_TWT_RETWT_ORIGINAL_URL","PROP_TWT_RETWT_POST","NONE","SOCIAL_INDEXABLE","GetWordAt","GetOriginalPostId","XPostStats","SetCommentCount","GetCommentCount","likeCount","SetLikesPostCount","GetLikesPostCount","GetLikePostExtraStatus","SetLikePostExtraStatus","GetLikedPostCount","SetLikedPostCount","SetSharedPostCount","GetSharedPostCount","watchCount","SetWatchedPostCount","GetWatchedPostCount","viewCount","SetViewPostCount","GetViewPostCount","POST_STATS","objectId","statObj","XMObjectStats","SetXObjectField","COMMENTS","GetXObjectField","LIKE_POST_EXTRA_STATUS","LIKES_POST","LIKEDBY_POST","POST_SHAREDBY","WATCHED_POST","userStats","VIEWS_FULL_POST","cachedTemplate","XMPostItem","auxData","tp","getTParent","wrap","VARDATA","getVarData","getCreatorId","activityLog","getActivityLog","XMActivityLog","GetInitiator","commentPosterId","GetCommentInitiator","GetPostID","GetOriginalPostID","GetOriginalPostOwnerID","id","getPostId","objectType","objectMap","getAuxDataField","xObject","unwrap","getType","prevValue","getAuxObject","POST","xPost","setAuxDataXField","getPostStatsId","getPosterId","USER_INFO","getOriginalPosterId","priorityVarMap","varDataMap","valueRenderer","GenerateMessage","GenerateMessageFrags","template","SetMessageTemplate","GetMessageTemplate","getMessageTemplate","GetCompiledTemplate","GetReceiverId","SetReceiverId","SetAction","GetAction","GetActioner","GetTargetId","varMap","SetVariableMap","GetVariableMap","SetVariable","GetVariable","xActivityLog","getCachedProps","ACTIVITY","GetActivityLog","essentialProps","includeType","activityData","sig","GetSignature","updatedTS","GetUpdatedTS","sharedPostIds","GetSharedPostIDs","postObj","getPost","ACTION","VARMAP","MSGTPL","COMPILED","POST_ITEM","clsType","WrapXObject","receiverId","action","GetReceiver","createdTS","GetCreatedTS","dateStr","toISOString","idStr","tpl","setMessageTemplate","setVariableMap","postItem","setReceiverId","getId","_setActivityLog","getHashtags","getUsertags","newsItem","_setEssentialProps","GetId","setAction","setCreatedTS","GetCreatorId","GetPostOwnerID","ownerId","GetRepostedIds","GetRepostedOwnerIds","mergeableText","presetVarMap","textTpl","compiledTpl","templateMerge","srcFrags","ParseExprWrappers","outFrags","frag","filledText","getValueFromSymbolExpr","compiled","templateCompile","RECEIVER_ID","GetSourceType","USER","GetSourceId","INITIATOR_ID","SRC_ID","SRC_TYPE","AssertNotNull","XMComment","_enableACL","POST_ID","commentId","PARENT_COMMENT_ID","PROP_PARENT_OWNER_ID","getAuxDataXField","COMMENT_STATS","USERINFO","xActivity","SocialModelHelper","CreateActivityLogFromSocialIndexable","xPostItem","CreateFromActivity","COMMENT","idVal","parentCommentId","setParentCommentId","setPostId","setNotFound","setText","instances","NetworkManager","cred","apiHost","isClient","isServer","getUserCred","callback","assertNotNull","getApiHost","api_prefix","xRequest","qargs","argStr","map","REST","XRequestGET","then","response","API","MAIN_DATA","GetXError","catch","errObj","FromHttpResponse","EC","newInstance","Session","CheckIn","XUserInfo","PROP_USERINFO","ClientAppService","_iid","reactGA","portal","Global","GetPortal","om","nm","_dispatchHandlers","getProps","getSession","userInfo","rememberMe","session","setUserInfo","watchProperty","unwatchProperty","updateUserInfo","initUser","getInstanceId","getUserInfo","getXUserInfo","host","getUsername","fallback","getOriginalUsername","alt","getNickname","getAvatarUrl","getUserToken","userLoggedIn","USERID_GUEST","GA4React","initialize","ga4","pageview","ReactGA","_initializeReactGA","source","getReactGA","category","binaryObj","fqUrl","getURL","urlHost","requestGET","getObjectManager","getFromCacheNoWait","untrackFromCache","argstr","cache","_getResource","entryType","xmobject","getFromCache","getNetworkManager","apiUrl","_args2str","trackExisting","getAppUrl","setAppUrlHeader","requestMethod","xresp","jsonResult","IsWrapped","ID","mainContent","CreateNewFormData","thirdParty","Promise","resolve","reject","XRequestMethod","FromRequestError","invalidUser","clearUserInfo","_processResult","PROP_LIST","XMList","setList","getWrappedList","itemArray","dataObj","getClass","GetList","field1","field2","direction","getList","SortObjectsByLabel","sortedList","getSortedList","idValue","GetItemByID","GetItemByOwnerID","getItemAt","GetItemIndexByID","max","GetItemIndicesByField","GetItemByField","GetItemsByField","getItemsByField","ArrayToWrappedArray","matcher","GetItemsByMatcher","getItemsByMatcher","GetItemIndexByField","getItemCount","startIdx","retval","RemoveItemByID","RemoveItemByField","wrapperFunc","jsonItemList","jsonItem","xmObject","includesItem","getItemByField","index","addItem","xmObjects","added","xobj","addXItems","SortUniqueObjectsByLabel","getSortedXObject","CREATED_DATE","unique","includeNull","jsonList","GetItemIDs","ToFieldValueList","XMLIST","itemList","itemValue","resultList","valueMap","listObj","PROP_ID","xitem","indices","objectAtIdx","PROP_QUERY","PROP_SVCNAME","PROP_ENTRYMAP","PROP_SIZE","XResultMap","entryMap","getEntryMap","keyField","serviceName","getServiceName","query","getQuery","XResultList","getNumber","getEntryCount","XRESULT_MAP","service","setServiceName","setQuery","fieldKey","asResultMap","xResultMap","setEntryMap","XRESULT_LIST","XBinaryData","data64","setBase64","getBase64","BINARY_DATA","BINARY","WrapXMObject","_CLSNAME_WATCHES","_CLSNAME_WATCHED","XMWatchBase","PROP_WATCH","GetWatches","GetWatchStatusMap","WATCH","countWatches","GetWatchStatus","STATUS_NOT_WATCHED","removeAllWords","STATUS_WATCHED","targetIds","HasWatch","XMWatches","WATCHES_OBJECT","XMWatched","WATCHED_OBJECT","XMWatchesPost","WATCHES_POST","XMWatchedPost","PROP_TYPE_MAP","XVarData","SetTypeMap","GetTypeMap","DeclareType","GetTypes","GetTypeCount","HasType","GetInstances","GetInstanceIds","GetInstanceCount","DeclareInstance","HasInstance","fieldMap","SetInstanceData","GetInstanceData","SetInstanceVariable","HasInstanceVariable","GetInstanceVariable","GetInstanceVariableCount","GetValueFromSymbolExpr","vd","typeMap","ObjectSize","typeBucket","previousData","instancesMap","instanceData","instance","previousValue","instanceMap","XPostFeed","varData","json","xPostFeed","items","addXPostItems","thisVarData","addXObject","postItems","trackAuxData","setTParent","postIds","jsonPostItem","origPostIds","getPostIds","getOriginalPostIds","getSharedPostIds","userId1","GetPosterId","userId2","GetPostOwnerId","origPosterIds","GetSharedPosterIDs","getPosterIds","origPostOwnerIds","getOriginalPosterIds","sharedPostOwnerIds","getSharedPosterIds","statIds","statId","GetPostStatsID","store","mostRecent","offset","curSize","end","SORTBY","SORT_NEWEST","SORT_OLDEST","SORT_HOTEST","SORT_LIKED","SORT_FOLLOWED","POST_FEED","xPostItems","XCommentInfo","setCommentStatsId","COMMENT_STATS_ID","GetCommentStatsId","COMMENT_INFO","xComment","xCommentStats","existingData","newInit","XMCommentStats","GetLikedCommentCount","SetLikedCommentCount","SetSharedCommentCount","GetSharedCommentCount","SetWatchedCommentCount","GetWatchedCommentCount","SetViewCommentCount","GetViewCommentCount","LIKEDBY_COMMENT","COMMENT_SHAREDBY","WATCHED_COMMENT","VIEWS_FULL_COMMENT","XCommentFeed","xCommentFeed","addComments","commentObjs","getKeyedList","jsonCommentObj","jsonInfo","UPDATED_DATE","allStats","getXCommentStatsMap","statsObj","userMap","getXUserInfoMap","infoObj","COMMENT_FEED","fileToMd5","file","reader","FileReader","addEventListener","md5","CryptoJS","MD5","enc","Latin1","Hex","readAsBinaryString","XResponse","XMPost","GetterService","applyConfig","urlPrefix","appPrefix","urlTagInfo","urlActivityLog","urlLogMessage","_trackingUser","URL","phrase","getAppPrefix","encodeURIComponent","hashtag","topic","inclObj","INCL_OBJ","section","ENGLISH","CHINESE_SIMPLIFIED","langList","SupportedLanguageList","GetObjectFromArrayByValue","getSessionVar","LANGUAGE","xUserInfo","getLanguagePref","prevCode","setSessionVar","setLanguagePref","BATCH_SIZE","alertIds","idString","confirmId","sourceId","startTime","starter","isComment","OFFSET","START_TS","DIRECTION","apiAddLikeObject","hasACL","loggedInUserId","getUrl","requestPOST","shareStatus","requestDELETE","unshareStatus","statusValue","apiUserShareObjectStatus","userIsGod","userHasAdminRole","userHasSysAdminRole","userHasModeratorRole","userHasPreviewFeatures","featureId","userHasFeature","userHasFeatureDisabled","FEATURE_FOLLOW_USER","FEATURE_SUBMIT_POST","FEATURE_REPOST","FEATURE_REPLY_POST","FEATURE_REPLY_COMMENT","FEATURE_LIKE","userIsOwner","canEditResource","container","appContainer","refreshView","apiGetObjectStats","appendFetchParams","feedList","fetchUserTimeline","options","medias","encodedPhrase","q","topics","startTs","FILTER_LANGUAGE_PREF","FILTER_TOPICS","inclOptions","INCL_POSTSTATS","INCL_USERINFO","fetchPost","PARAM_INCL","user_getResource","parentId","PREFIX_COMMENT_ID","endpoint","INCL_COMMENTSTATS","INCL_POSTS","fetchComment","commentObj","checkUserUrl","email","EmailIsValid","usrObj","objId","FormData","bio","postUrl","xAuth","axios","getResource","fetchUserInfo","SETTINGS_PROFILE","refreshUserInfo","getSettingsUrl","apiGetUserSettings","settingsObj","settingsChanges","settingsData","EncryptJSON","updateSettingsUrl","isLoggedInUser","invalidateSettings","fetchUserStats","updateUserStats","tagId","apiGetCategoryStats","topicIds","userTopics","submitTopicsUrl","PARAM_CATEGORIES","CreateOptions","TOPIC_CATEGORIES","apiUserAlertCount","alertCount","apiUserAlerts","ALERT_IDS","READ_TS","READ_MEDIUM","MEDIUM_APP","apiUserAlertsStatus","returnVal","targetUserId","apiAddFollows","followStatus","getUserStatsUrl","apiUserFollowStatus","apiUserFollowerStatus","apiRemoveFollows","apiBlockFollower","apiUnblockFollower","apiMuteFollower","apiUnmuteFollower","apiGetFollows","INCL_REFOBJS","PROP_TAGS","fetchUserFollows","apiGetFollowers","followerObj","fetchUserFollowers","apiGetWatchesObject","xWatches","apiGetObjectWatchers","xWatchers","likeStatus","apiRemoveLikeObject","apiUserLikeObjectStatus","apiAddWatchObject","watchStatus","apiRemoveWatchObject","apiUserWatchObjectStatus","requestId","processResults","rlObj","USER_REQUEST","authInfo","requestType","encrypted","confirmObj","curPassword","newPassword","CURRENT_PASSWORD","NEW_PASSWORD","curpwd","EncryptPwd","newpwd","confirmType","CONFIRM_SMS","SMS","EMAIL","xConfirm","apiConfirmById","isConfirmed","xUserFeedback","keywords","urlKwdTags","searchPostPhrase","postProcess","inclFields","expanded","newPost","files","validateWrite","hasOwner","m3u8","setVideoUrl","ori","setOriginalVideoUrl","screen","setMainImageURL","duration","setVideoDuration","width","setVideoWidth","height","setVideoHeight","imageFiles","imageMeta","heads","wid","hgt","setImageMeta","setImageURLs","requestPOST_FormData","savedPost","apiError","newComment","getParentCommentId","forPost","savedComment","logId","getDerivedID","m","userinfo","authinfo","newUser","helpId","fetchBinaryData","fromLang","toLang","translationDisbled","API_KEY","getPortal","getGoogleAPIKey","encodeURI","fetch","Accept","res","requestExternalGET","apiKey","requestExternalPOST","fileURL","createObjectURL","canvas","document","createElement","canvasContext","getContext","image","Image","src","onload","naturalWidth","naturalHeight","drawImage","target","toBlob","blob","revokeObjectURL","lastModifiedDate","onerror","hasExif","fileSize","lv","getInfluencerLevel","_removeExif","authorization","userid","filename","lossless","env","onUploadProgress","loaded","reasonId","apiReportPost","apiReportUser","apiGetMutedUsers","apiGetFollowingUsers","apiGetBlockedUsers","apiMuteUser","apiFollowUser","apiBlockUser","apiSuspendUser","apiUnSuspendUser","TYPE_ALL","XMCache","codList","XMCOD","STATUS_NONE","ttl","reFetchFunc","isCached","typeCache","getTypeCache","cod","existingObj","getObject","untrackObject","trackObject","_setCOD","track","STATUS_NEW","tc","xmobj","getObjectNoWait","_discardCOD","reFetch","getCOD","getObjectNoWiat","getTypeCacheCount","oldCodList","ObjectManager","isServerRole","_getCache","trackNew","remote","processResult","GetTypeFromClass","getFromRemote","getFromSM","ids","WrapArray","trackExistingObjects","groupGetFromRemote","untrack","idArray","notFoundIds","foundResources","isClientRole","getResources","getStorageManager","sm","oldCache","clearAll","GetAccessToken","SetAccessToken","GetUserId","SetUserId","authData","PROP_USERID","PROP_TOKEN","setAccessToken","TOKEN_GUEST","TOKEN_ROBOT","USERID_ROBOT","strcred","webpackContext","webpackContextResolve","__webpack_require__","module","exports","STATUS_DIRTY","initialStatus","refetchFunc","trackXObject","expires","setExpiration","func","newObject","resetExpiration","doFetch","hasExpired","refreshObject","newStatus","setStatus","clearDirty","RC_OK","RC_ERROR","hasFormData","getObjectField","rc","SetResult","GetResult","errorData","SetError","GetError","HasError","httpResponse","edata","statusText","setResult","xerror","setError","objectData","resultData","responseObj","errorObj","GetData","_extends","arguments","prototype","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref3","SvgCheckRound","_ref","svgRef","titleId","viewBox","xmlns","ref","ForwardRef","x","y","_ref4","x1","y1","x2","y2","_ref5","_ref6","SvgEnvelopeSent","SvgIconWarning","useStyles","makeStyles","theme","wrapper","display","alignItems","justifyContent","padding","spacing","backgroundColor","palette","background","notif","border","inner","borderRadius","iconWrapper","marginLeft","marginRight","iconWrapperMessage","paddingRight","color","link","fontSize","lineHeight","fontWeight","textTransform","wrapperError","borderColor","light","secondary","NotifMessage","toastProps","classes","className","clsx","toast","ERROR","WARNING","AppConsts","NOTIF_MESSAGE_ERROR","iconWrapperError","NOTIF_MESSAGE_SUCCESS","SUCCESS","Typography","variant","createStyles","root","dropdownContent","mixins","dropdownMenu","position","right","top","transition","red","drawerContent","paddingTop","left","transform","overflow","whiteSpace","textOverflow","drawerCancel","margin","marginTop","drawerCancelBtn","grey","A200","iOS","navigator","userAgent","GMobileDrawer","open","toggleDrawer","children","rest","anchor","onClose","onOpen","disableBackdropTransition","disableDiscovery","classnames","onBackdropClick","stopPropagation","onClick","xPostObj","clonedPost","CloneInstance","oldObj","origPostId","origUserId","setOriginalPostInfo","setAuxData","setXAuxObject","origPosterId","embedPost","window","Portal","getSiteURL","IsBrowser","GetInstance","getAppContext","History","ImageUtil","CACHE_PATH","THUMBNAIL_DIR","GetCachedURL","appConfig","_appliedConfig","exit","appService","setNetworkManager","setObjectManager","setAppService","setUserCredFunction","getUserCredFunction","initPortal","login2","pwd","userConstants","API_LOGIN_URL2","loginData","authenticated","GAxios","info","user","SetUserToken","localStorage","setItem","LS_SESSION_INFO","_setUserInfo","login","emsg","loginRefresh","getItem","sendVerifCode","reqtype","SEND_VERIF_CODE_REQ_TYPE","API_SEND_VERIF_CODE","success","verifCode","reqType","VERIF_CODE_TYPE_F_PWD","VERIF_CODE_REQ_TYPE","VERIF_CODE_REQ_TYPE_SIGNUP","verifycode","API_VERIF_CODE","changePassword","newPwd","password","API_CHANGE_PWD","changeLoginStep","step","checkUsername","checkEmail","AuthApi","sendVerifCodeSignup","POSITION","TOP_CENTER","AppConst","claimSignup","changeSignupStep","signup","addPinPost","deletePinPost","NS","initialState","isSuspended","isLoading","loginStep","STEP_LOGIN","signupStep","STEP_SIGNUP","claimStep","imPost","claimed","autoConnect","createAsyncThunk","resetSessionStatus","createAction","resetSendVerifCodeStatus","resetVerifCodeStatus","resetchangePasswordStatus","logout","changeImpost","changeAutoConnect","setClaimUsername","setClaimed","authSlice","createSlice","reducers","state","payload","extraReducers","builder","addCase","fulfilled","rejected","pinnedPosts","pinpsts","actions","postConstants","PROP_LABEL","PROP_ON_SUBMIT","PROP_ON_CANCEL","PROP_IMAGE_FILES","PROP_POPUP","PROP_TRIGGER","COMPOSER_MAX_TEXT_LENGTH","ACL_PERM_READ","VISTYPE_PUBLIC","POST_TYPE","COMMENT_TYPE","FILE_TYPE_IMAGE","FILE_TYPE_VIDEO","SUBMIT_POST_URL","SUBMIT_REPOST_URL","LS_REPOST_ID","PROP_TEXT_COMP","PROP_SCENE","STATE_IMAGES_OPEN","PROP_ORIGIN_COMP","DELETEPOST","TAB_LIKE","acl","_t","pub","vis","aux","serial","PostApi","postSubmit","dataNew","enctype","repostSubmit","commentSubmit","pid","postSlice","timelineConstants","TimelineApi","getUserFeed","api","fetchUserPostsFeed","postFeed","newFeed","getXPostItems","likedPosts","lks","sharedPosts","shrs","_tp","s_pst","postStats","nbrRemoved","removed","numLikes","lkbpst","numComments","cm","numShares","shbpst","posts","timestamp","getTrendsPostsFeed","getPinnedPost","fetchPostWithStats_UserInfo","nfound","createXPostItem","resetTimelineStatus","resetTimelineData","addPost","removePost","removeRepost","resetRefreshProfileFeed","addLikedPost","removeLikedPost","addSharedPost","removeSharedPost","setPostStatus","resetPinnedPost","removePinnedPost","updatePostLikedCount","updatePostCommentCount","updatePostRepostCount","setPostCounts","timelineSliceNew","userFeed","reachEnd","refreshProfileFeed","newData","post","activity","pstid","postItemAction","ActivityLogProps","SHARES_POST","SHARES_COMMENT","newPostId","likes","shares","counts","pstId","newPosts","newLikedPosts","newSharedPosts","CommentApi","fetchUserComments","maxBatchSize","fetchUserPosts","DIRECTION_FORWARD","commentFeed","likedComments","sharedComments","commentsConstants","clearUserComments","incrementOffset","userCommentsSlice","newlikedComments","newsharedComments","timelineSlice","postTimeline","timelineData","timelineId","commentTimeline","addTimelineData","setTimelineData","setTimelineId","setOffset","setUserMap","resetTimeline","getBlockedUsers","currentUserBlockedUser","currentUserMutesUser","StatusApi","currentUserFollowsUser","toggleMute","successCallback","errorCallback","getState","isMuted","unmuteUser","_","muteUser","toggleFollowing","isFollowing","following","unfollowUser","followUser","toggleBlock","isBlocked","unblockUser","blockUser","statusSlice","commentStats","loading","changeFollowingStatus","setFollowingStatus","changeMutedStatus","setMutedStatus","changeBlockedStatus","setBlockedStatus","changePostStats","stats","setPostStats","changeCommentStats","setCommentStats","resetUsersStatus","rootReducer","combineReducers","reducer","preloadedState","configureStore","middleware","getDefaultMiddleware","serializableCheck","immutableCheck","resources","en","translation","es","ja","ko","i18next","use","initReactI18next","init","lng","getLang","fallbackLng","react","useSuspense","parseMissingKeyHandler","TimelineContext","React","createContext","TimelineProvider","useState","contextValue","addData","resetData","Provider","themes","createMuiTheme","breakpoints","xl","lg","md","xs","primary","dark","main","gray","100","A100","A300","A400","A700","A800","disabled","composer","placeholder","lightGray","default","transparent","searchBox","hover","click","black","button","disbale","buttonDanger","typography","h1","h2","body1","body2","fontFamily","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightSemiBold","fontWeightBold","fontWeightBolder","notchedOutline","app","maxWidth","header","avatar","ellipsis","zIndex","svg","gradient","danger","overlay","radio","divider","blue","overrides","MuiAvatar","MuiBackdrop","MuiDialog","getTheme","UIContext","currentTheme","setTheme","THEME","MuiThemeProvider","getAppService","themeName","_setThemeName","ThemeProvider","SvgIcoMobileHome","SvgIcoMobileHomeActivated","SvgIcoMobileAccount","SvgIcoMobileAccountActivated","SvgIcoMobileSearch","SvgIcoMobileSearchActivated","bottom","borderTop","MobileBottomNavigation","setValue","history","useHistory","useTheme","matches","useMediaQuery","only","currentPathname","location","pathname","isSearchPage","useEffect","URL_HELP_CENTER_MOBILE_APP","BottomNavigation","onChange","event","showLabels","BottomNavigationAction","icon","minWidth","marginBottom","down","minHeight","boxShadow","MuiToastContainer","Slide","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","closeButton","limit","SvgIconClose","scrollHelper","inter","onlyFlag","scrollY","interCount","preScrollY","resetPreScrollY","preventDefault","supportsPassive","defineProperty","wheelOpt","passive","wheelEvent","lock","getElementsByClassName","scrollWindow","firstElementChild","style","overflowY","unlock","scrollTo","rememberScrollY","scrollToAndForget","_scrollY","setInterval","clearInterval","scrollHeight","removeItem","setPreScrollY","disableScroll","enableScroll","removeEventListener","setElementViewableHeight","el","offsetHeight","setTimeout","visualViewport","viewableHeight","innerHeight","maxHeight","resetElementViewableHeight","checkHasScrollBar","contentDom","getElementById","outerHeight","PopupDialogNew","connect","connector","customHeader","headerContent","showCloseIcon","contentStyle","onCancel","setCloseFunc","titleComp","headerComp","Fragment","dialogContent","closeOnDocumentClick","closeOnEscape","modal","lockScroll","resetScroll","repositionOnResize","close","verticalAlign","GTwemoji","html","srcReg","domNode","emojiData","getEmojiDataFromNative","attribs","emoji","aria-label","backgroundImage","twemoji","backgroundSize","renderEmoji","emojiRegex","TEXT_LENGTH_LIMIT","SPECIAL_SYMBOL","SPECIAL_SYMBOL_REG","NON_SPECIAL_SYMBOL_REG","HASHTAG_SPECIAL_SYMBOL_REG","LINK_PATTERN_STRING","commonTransform","isExceed","fetchData","fetchService","_key","renderHtml","renderToString","GMentionsInput","isEmpty","suggestStyle","suggestList","comStart","tempText","insertEmojiOrText","bind","setupInsertEmoji","ReactDOM","findDOMNode","autoFocus","focus","emitChange","suggestText","nextProps","setState","innerText","isEnter","keyCode","timer","clearTimeout","innerHTML","blur","originText","getPos","_text","whoIsFront","convertToHtml","setPos","selection","getSelection","anchorNode","_range","getRangeAt","range","cloneRange","selectNodeContents","setEnd","endContainer","endOffset","createRange","sel","sursor","getElementsByTagName","setStart","collapse","removeAllRanges","addRange","setSuggestion","offsetLeft","offsetTop","cursorIndex","textLengthLimit","effectivePart","exceedPart","adaptTextToHtml","divTextArea","emptyText","onCompositionStart","onCompositionEnd","onCompositionUpdate","onKeyUp","onInput","onBlur","onFocus","contentEditable","dangerouslySetInnerHTML","__html","suggest","selectSuggest","Component","withStyles","outline","resize","textAlign","wordBreak","opacity","cursor","PopupDialog","closeAction","openAction","onOK","onHelp","onDoNothing","closeWindow","doneAction","closeFunc","doNothingButton","visibility","resetButton","cancelButton","cancelText","okButton","okText","helpButton","helpText","hasReset","hasCancel","hasOk","hasHelp","helpContent","needDN","needDoNothing","getDoNothingButton","getResetButton","getCancelButton","getOkButton","getHelpButton","confirmAlertRoot","borderBottom","up","flexDirection","borderLeft","GConfirmAlertCustomUI","GConfirmAlert","text1","confirm","dom","render","nested","hasOK","parentComp","trigger","removeChild","appendChild","youtubeFormat","getYoutubeVideoID","bold","GTypography","isBold","isUppercase","SvgIcoLink","SvgIcoArticle","wayPoint","verticalVideo","transcodingTips","hiddenVideo","isInViewPort","element","current","viewHeight","documentElement","clientHeight","getBoundingClientRect","VideoPlayerContext","arrPlayer","arrPlayerId","currentPlayer","vid","player","VideoPlayer","_isVertical","playerRef","useRef","vpContext","useContext","youtubePlayers","YoutubePlayerContext","isVertical","setIsVertical","isMov","setIsMov","setCurrentPlayer","video","options_","listenToScroll","debounce","scrollEvent","setPlay","setPause","getInstanceVideo","pause","pauseYoutubeVideos","pauseVideo","doPlay","unmute","play","initPlay","videojs","pushArr","listen","pictureInPictureElement","exitPictureInPicture","vidWidth","vid_wid","videHeight","vid_hgt","isFirst","on","currentSrc","endsWith","sources","isControlBar","classList","contains","parentElement","isBigPlayButton","getVideo","isVolumeControl","hasClass","paused","dispose","data-vjs-player","playsInline","autoPlay","YoutubeVideoPlayer","setUuid","active","_setActive","activeRef","setActive","isActive","handleFullScreen","internalPlayer","getIframe","iframe","innerWidth","_uuid","uuidv4","initPlayer","destroy","destroyPlayer","videoId","onPlay","defaultImage","PrevImage","imgUrl","setImgUrl","img","handleExternalLink","fetchMetadata","corsHostUrl","siteUrls","URI","withinString","siteUrl","Authorization","_meta","clean_tweet","imageUrl","photos","description","urlMetadata","metadata","_metadata","siteName","TYPE_SEARCH_DELAY_MS","previewContainer","previewEmptyContainer","previewImg","objectFit","letterSpacing","textDecoration","previewSecondContainer","smallPreview","paddingLeft","smallPreviewShared","smallImage","normalVideo","isRepost","smallVideo","flexShrink","hasImageOrVideo","smallPreviewTitle","wordWrap","metaTitle","metaDescrition","repostComposerYoutubeVideo","PreviewContent","setupFetchMetadata","scene","previewMetaData","hasMediaRepost","imgResTooSmall","setImgResTooSmall","showSmallImagePreview","some","formattedURL","Box","mt","href","flex","linkIcon","blobToBase64","readAsDataURL","readFile","zoomImage","handleMediaUrl","server","dataURLtoFile","dataurl","arr","mime","bstr","atob","u8arr","Uint8Array","File","getVideoDuration","videoFile","preload","onloadedmetadata","handle","compressImage","quality","maxSideLength","maxFileSize","w","h","newW","newH","whRatio","ctx","readAsArrayBuffer","view","DataView","getUint16","byteLength","marker","getUint32","little","getOrientation","orientation","rotate","PI","translate","fillStyle","fillRect","base64","toDataURL","ab","ArrayBuffer","ia","Blob","getShortUrls","maxLength","fullUrl","getImageStyleFromMetadata","imageMetadata","containerWidth","containerHeight","objectPosition","box","headTop","headBottom","realHeight","toCenter","imageHeight","realImageHeight","pixelsToCenter","availableSpace","pixels","getTiledImageStyleFromMetadata","getImageInfo","_URL","webkitURL","objectUrl","clipPath","rx","cx","cy","ry","SvgAvatar148","SvgIconCirclefullClose","giphyLogo","GiphyLogo","flexWrap","hasFile","noSupport","typeTag","GDisplayFiles","onDelete","gif","onGifDelete","mobileMatches","poster","setPoster","currentTime","onseeked","videoHeight","videoWidth","getVideoImage","noLink","hideAttribution","controls","SvgIconUploadFile","exclusiveEvent","tempGuid","cacheEventsGroup","eventName","guid","prevOne","_unbindPrevAll","unbindAll","keyOne","_remove","_bindPrevAll","eventBus","detail","emit","dispatchEvent","CustomEvent","remove","VIDEO_SIZE_LIMIT","IMAGE_SIZE_LIMIT","GIF_SIZE_LIMIT","VIDEO_SECONDS_LIMITS","IMAGE_FILE_EXTENSIONS","VIDEO_FILE_EXTENSIONS","IMAGE_FILE_EXTENSION_REGEX","VIDEO_FILE_EXTENSION_REGEX","toastWarning","FileUploader","normalFiles","setNormalFiles","videoFiles","setVideoFiles","isShowFileDragDrop","setIsShowFileDrapDrop","isUploadError","setIsUploadError","uploadType","setUploadType","normalFilesRef","uploadTypeRef","filesToRestore","influencerLvl","isInfluencer","handleInputChange","showFileDragDrop","hideFileDragDrop","setupDeleteFile","removeFile","setupUploadFiles","uploadFiles","onSelectFunction","fileHandles","displayFiles","imageSrc","vf","videoSrc","scenes","timeOut","errorFlag","realUrls","allProgress","fileName","char","splitFileName","uploadFunc","uploadFile","progress","widthHeight","exifr","output","fileType","dataTransfer","newFiles","newGifs","newVideoFiles","errorTip","allowedTypes","newGif","newFile","newVideoFile","videoSecondLimit","maxImg","_allVideoFIles","number","_allImageFIles","multiple","fileInputRef","accept","uploaded-type","uploaded-number","iconUploadFile","SvgIconSmile","SvgIconCirclefullClose20","iconContainer","paddingBottom","closeIcon","GEmojiPicker","onSelect","anchorEl","setAnchorEl","Boolean","currentTarget","Tooltip","Popover","anchorOrigin","vertical","horizontal","transformOrigin","showPreview","showSkinTones","sheetSize","selected","native","i18n","search","categories","people","nature","foods","places","objects","symbols","flags","recent","giphyFetch","GiphyFetch","dialogContainer","searchInput","giphyGridContainer","overflowX","gifphyImageWrapper","giphyImage","emotionName","autoplayToggleContainer","backBtn","noResult","GGiphyPicker","validateBeforeClick","searchText","setSearchText","isOpen","setIsOpen","scrollableEl","gifs","setGifs","emotions","setEmotions","setReachEnd","autoPlayChecked","setAutoPlayChecked","isMobile","load","emotionData","loadMore","currentLang","subcategories","handleClose","Dialog","scroll","icon_back","Switch","checked","images","fixed_height","fixed_height_still","emotion","handleClick","fireOnRapidScroll","onEnter","fillRule","clipRule","SvgIcoImg","SvgIcoGif","PostToolsGroup","onSelectFiles","onSelectEmoji","onSelectGiphy","_fileInput","getAttribute","em","defaultLoaderWrapper","loader","linearProgress","popupLoaderWrapper","loaderWrapper","isButton","GLoader","isPopup","tips","wrapperStyle","notCloseOnDocumentClick","withBorderRadius","loaderContent","LinearProgress","thickness","CircularProgress","SvgIcoRetweet","SvgIconMoreVertical","btn","unfollowBtn","FollowUserButton","auth","xUserStats","getUserStatus","suggestFollow","setLoading","setHover","hidden","setHidden","statusLabel","setStatusLabel","lockFollowing","setLockFollowing","fetchFollowStatus","userFollowStatus","ret","userFollows","setFollowsCount","getFollowsCount","userUnfollows","unfollowConfirm","handleMouseOver","handleMouseLeave","GButton","onMouseOver","onMouseLeave","SvgIcoVerification","formatLongNumber","num","sNum","floor","sVal","parseFloat","pow","toPrecision","toFixed","shortNum","sigfigs_opt","power10","LN10","suffixNum","nickname","secondaryText","follow","followText","followingName","followersName","followAndFollowingContainer","UserProfilePopup","gotoFollowers","gotoFollowing","avatarUrl","styleClasses","compName","ousername","mr","flg","twitter","twt_flg","getTotalFollowers","popover","pointerEvents","paper","HoverPopup","userInfoTemp","leftAligned","extraClass","setOpen","setIsLoading","outOfScreen","setOutOfScreen","popoverContainer","postFeedItemContainer","handlePopoverClose","onTimeout","getFollowedCount","userRes","aria-owns","onMouseEnter","rect","handlePopoverOpen","PaperProps","getContentAnchorEl","disableRestoreFocus","UserLabelLink","to","rootTiledImages","gridTemplateColumns","gridGap","imgData","gridColumn","gridRow","extraImgsCount","TiledImages","imageURLs","noZoom","imageContainersDimensions","setImageContainersDimensions","rootContainerRef","_imageURLs","imageContainers","querySelectorAll","resizeObserver","ResizeObserver","contentRect","imageContainer","observe","unobserve","handleClickImage","onError","UIUtil","getUrlHashtagPage","mention","getUrlUsertagPage","shortenElementURL","setAttribute","hostname","preDomainName","afterDomainName","hide","tag","HighlightLink","previewUrl","isDetail","contentText","WrapEmojiToText","WrapLinksToText","previewUrlNew","rel","next","shortenLinkText","gifBadge","getRealHeight","imageWidth","GifImage","imageClassName","gifContainerRef","setContainerWidth","headline","dot","media","isPostWithPreview","TwitterContentView","twitterPost","imagesOpen","setImagesOpen","currentIndex","setCurrentIndex","cleanTweet","createdAt","created_at","profileImage","profile_image","videoInfo","video_info","verified","safeDateString","sinceTime","SinceTimeV5","utc","aspectRatio","aspect_ratio","variants","bitrate","primaryVideoInfo","fallbackVideoInfo","content_type","autoplay","fluid","responsive","playbackRates","Avatar","rootContentView","mainImages","originPost","originPostContent","originHeadline","originMedia","originTextContent","originProfileImage","commentProfileImage","originSmallImage","videoWrapper","repostOriginVideoWrapper","omittedWrapper","hoverPopup","userDisplayName","influencer","userAtNameShort","Display","userAtName","unavailablePost","imageAlt","repostTilledImg","maeginTop","repostHasNoFilesForText","repostHasNoFilesForImage","PostContentView","timelineNew","originalPosterInfo","pageType","sharedObj","detailedRepostUserData","hasFiles","videoURL","setVideoURL","setPreviewMetaData","imageContainerDimensions","setImageContainerDimensions","isErrorVideoImg","setIsErrorVideoImg","imageContainerRef","postObject","twt_rtpst","imageContainerRect","getMetaData","newText","newImageURLs","getImageURLs","newVideoURL","getOriginalVideoUrl","getMainImageURL","prevsrc","previmg","dsc","txt","textComps","imageComp","videoComp","posterInfo","displayId","getCreatedTS","sinceTimeFormat","SinceTimeV4","displayName","GetNickname","GetIconUrl","ico","textComp","allUrl","imageBodyComp","formattedUrl","isAbsolutePath","originPostComp","_originalPosterInfo","_sharedObj","rpstIds","find","_getSharedPost","isShared","getOriginalPosterInfo","commentTextContent","textContent","uinf","shrdpst","uid","SvgIcoMute","SvgIcoBlock","SvgIcoReport","SvgIcoFollow","SvgIcoUnfollow","SvgIcoPinDown","SvgIcoDelete","userAvatar","PostFeedItemViewForPopup","postItemRef","SvgIcoSuccessFilled","answer","reportButton","dialogTitleLeft","ReportContentDialog","handleSubmit","selectedAnswerKey","setSelectedAnswerKey","answerKeys","TOTAL_ANSWERS_CNT","fullScreen","DialogTitle","fullWidth","toggleAnswer","refreshHelper","cacheRefreshGroup","setup","viewName","refreshFunc","refresh","posterInfoPart2","feedItemMain","flexGrow","messageContent","postDetailMessageContent","dropdownImage","postedTime","avatarContent","commentDetailAvatar","commentFeedItemMain","PostFeedItemViewForDetail","headLine","menuDropDown","detailLink","itemId","hideDropdown","PostStatLine","setupRefresh","SvgIcoPin","pinnedLine","repostSpacing","pinIcon","PostFeedItemViewForTimeline","isPinnedPost","removePostFromProfile","cancelBubble","handleContentClick","infl","originheadline","NewCommentContentView","comment","metaData","setMetaData","fetchMetadataFunc","setFetchMetadataFunc","imageURLsOpen","setImageURLsOpen","getPreviewURL","renderMainText","imageCount","getImageCount","imagePath","imagePaths","renderMainImage","origVid","ovid","isObject","getTime","renderMainVideo","metaDataComp","xStats","renderData","dropdownImageWrapper","dotmr","PostFeedItem","loggedinUserId","loggedinUserInfo","userFollowing","userMuted","userBlocked","pinnedPostIds","hasMounted","usermap","sharedUser","updatePinnedPostsIds","userInfoProfile","setDd","isDeleted","setIsDeleted","isDrawerOpen","setIsDrawerOpen","canShowMuted","setCanShowMuted","canShowFollowing","setCanShowFollowing","canShowBlocked","setCanShowBlocked","isDialogOpen","setIsDialogOpen","dropdownOpen","setDropdownOpen","dropdownTop","setDropdownTop","isNoContentRepost","reposterUsername","GetOriginalUsername","reposterUserId","ppIds","isMyPost","isAdmin","canDelete","canDeleteResource","deleteMsg","pinnedIds","isPinned","scrollIntoView","block","behavior","menuItems","removePostItemCallback","userUnlikesPost","go","onShow","handlePostDelete","getAction","userUnshares","deletePost","handlePinPostStatus","handleMute","handleToggleMute","URL_LOGIN","handleFollowing","handleBlock","handleToggleBlock","pinMenuItem","UIStyleConsts","DROPDOWN_MENU_ITEM","ClickAwayListener","onClickAway","removeElement","countedTop","isPost","isLikedAPost","originalUserId","originalPost","getSharedPost","getLikedSharedPost","originalPostId","rusrIds","timeStamp","cdate","Ts2hh_mm_MM_DD_YYYY","origin","getUrlPostPage","contentType","getXMActivityLog","getContentType","comp","allProps","reportPost","Collapse","in","matchMedia","SCROLL_TRANSITION","backTitleWrapper","backTitle","titleHasClick","backSubTitle","mobileAuthBar","authButton","GBackTitle","subTitle","rightPart","hideBackLink","dispatch","useDispatch","useSelector","prevScrollPosRef","visible","setVisible","handleMobileScroll","currentScrollPos","pageYOffset","_handleClick","goBack","HEIGHT","CommentComposer","handleStats","gifFile","setGifFile","acceptType","setAcceptType","allFiles","setAllFiles","setFilesToRestore","setProgress","metaDataLoading","setMetaDataLoading","textareaMaxHeight","setTextareaMaxHeight","removeFileFunc","setRemoveFileFunc","insertEmojiFunc","setInsertEmojiFunc","uploadFilesFunc","setUploadFilesFunc","popupDialogOpen","setPopupDialogOpen","isWaiting","setIsWaiting","resetAll","filesUploaded","setPreviewTitle","setPreviewImageURL","setPreviewURL","setPreviewDescription","submitComment","onSubmit","gifUrl","original","handleSubmitError","canPost","currentText","noData","cleanedData","getActionButtons","submitButton","commentBox","insertEmoji","commentRepliedPost","getTargetId","SvgIcoLike","SvgIcoLiked","animation","LikeButton","isPostDetail","loggedIn","tooltip","setLikedCount","updateLikeStatus","updateCommentLikeStatus","skin","isDisabled","userUnlikesComment","userLikesComment","userLikesPost","POST_FEED_ITEM_BUTTON","likeActiveImage","SvgIcoQuote","STATUS_SHARED","STATUS_NOT_SHARED","_CLSNAME_SHARES","_CLSNAME_SHARED","XMShareBase","PROP_SHARE","GetShares","SHARE","countShares","GetShareStatus","HasShare","XMShares","SHARES","XMShared","SHARED","SvgIcoUnmute","CommentCommentComposer","CommentFeedItem","postPosterInfo","showMenuDropDown","SvgIcoComment","CommentPostButton","SvgIcoShare","SvgIconTwitter","SvgIconFacebook","SvgIconLink","menuButton","menuItem","menuInner","dropdownShare","isImagePopup","ShareButton","drawerOpen","setDrawerOpen","dropdownRef","MenuItem","platform","onCopy","Button","disableRipple","disableSwipeToOpen","aria-controls","aria-haspopup","CommentStatLine","userComments","getUrlCommentPage","changeStats","num_likes","num_comment","comments","num_reposts","reposts","repostStatus","commentButton","setCommentCount","newCount","setLikedCommentCount","RepostButton","setRepostCount","updateRepostStatus","commentDetailContent","commentDetail","headerDescription","verification","secondFont","replyingContent","statsLine","usernameLinkHover","usernameLink","statsCounts","countItem","countLabel","commentDetailStatLine","deleteComment","isDropdownOpen","setIsDropdownOpen","ddRef","isNotProfilePage","userInfoMap","originPosterId","getCommentPosterId","puid","originPosterInfo","upperCaseId","postUsername","CHAR_AROBASE","getIconUrl","s_cmst","lkbcm","shbcm","isNaN","goToLoginPage","handlePostCommentDelete","deletePostComment","onShowDrawerOrMenu","repostHasFiles","RepostComposer","shst","propOnSubmit","closeRepostMenu","alreadyReposted","setCloseComposer","getRepostId","repostId","embeddedPostId","newPostObj","CreateFromOriginalInfo","submitRepost","userSharesComment","userSharesPost","isQuoted","minLength","commentRepostedPost","menuPanel","menu","menuSvg","repostOpen","setRepostOpen","getPostAction","itemClassName","USER_PUB_POST","repostProcess","repostImage","Menu","keepMounted","POST_PUBLISHEDBY","src_id","detailStats","detailLine","alignSelf","commentPostContainer","fetchLikeStatus","userLikePostStatus","fetchRepostStatus","userSharePostStatus","getPostStats","getLikedPostCount","getSharedPostCount","getCommentCount","likesCount","commentsCount","repostsCount","StatContainer","child","SvgIconSwiperPrev39","fillOpacity","SvgIconSwiperNext39","SwiperCore","Navigation","Pagination","Scrollbar","A11y","Lazy","rootPopup","isAvatarImage","rootSwiper","PopupImages","propCurrentIndex","averageColors","setAverageColors","mobileVh","setMobileVh","tabletMatches","isGif","isDefault","fac","FastAverageColor","promises","crossOrigin","getColor","all","colors","resolvePromisesToState","handleMobileViewport","getDetailLink","overlayStyle","loop","spaceBetween","slidesPerView","navigation","prevEl","nextEl","pagination","clickable","scrollbar","initialSlide","onSlideChange","swiper","realIndex","onPaginationRender","$el","imgWrapper","AvatarLink","userNotExist","noRedirect","disableHistoryPush","hasImage","setHasImage","emojiStr","subStr","imgProps","PostComposer","getTextareaMaxHeight","newMaxHeight","postButton","xpost","submitPost","postBox","menuItemContainer","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","menuItemName","NewMenuItem","doClick","overrideContentComp","role","isSeparator","contentComp","isValidElement","SvgProfile","strokeMiterlimit","SvgSettings","SvgLogout","leftContentContainer","smallDropdownContent","UserMenu","small","goUrl","nickName","URL_LOGOUT","aria-describedby","getUserMenuTrigger","SvgIcoHome","SvgIcoHomeActived","SvgSearch","SvgSearchActivated","SvgIcoProfile","SvgIcoProfileActived","SvgIcoSettings","SvgIcoSettingsActived","SvgIcoHelpcenter","SvgIcoHelpcenterActived","SvgIcoLanguage","SvgIcoLanguageActivated","SvgIconAddPost","SvgLogoColor","SvgBrandLogoSmall","SvgIcoSmartPhone","SvgIcoSmartPhoneActivated","SvgCheckMark","languageDialogContainer","languageDialogHeader","languageDialog","alignContent","languageTitle","buttonWrapper","langButton","checkMark","LanguageDialog","allLangs","currentLangCode","selectLangCode","selectEl","nativeName","SvgIcoAndroidApp","SvgIcoIOsApp","logo","appImageContainer","appImage","appbuttons","boxSizing","DownloadDialog","downloadAppButtons","download","py","PhoneImg","wrapperFooter","inactiveIcon","navigateMenu","tabletPostButton","fixedButton","brandLogo","postBtnContainer","headerMenuItem","scrollWrapper","NavigateSideBar","appContext","useLocation","pcMatches","setCurrentLangCode","isLanguageDialogOpen","setIsLanguageDialogOpen","isDownloadDialogOpen","setIsDownloadDialogOpen","navLinks","helpCenterLink","URL_HELP_CENTER","URL_HELPCENTER_MOBILE_INDEX","URL_HELPCENTER_REGISTRATION","settingsLink","URL_SETTINGS_MOBILE_INDEX","URL_SETTINGS_CHANGE_PASSWORD","renderSettingsLink","profileLink","myProfileUrl","renderProfileLink","homeLink","languageLink","condition","getSupportedLanguageList","setLang","reload","searchLink","renderSearchLink","downloadLink","renderSectionLinks","IconButton","ConditionalLink","propTypes","PropTypes","DEFAULT_TITLE","APP_WEB_NAME","DEFAULT_DESCRIPTION","DEFAULT_TWITTER","APP_TWITTER_USERNAME","DEFAULT_IMAGE","GetAppLogoURL","FB_APP_ID","GetFacebookAppID","NewUIPage","noCrawl","SITE_URL","GetSiteURL","theTitle","theDescription","metaTags","itemprop","property","VisualConsts","DEFAULT_THUMBNAIL_WIDTH","DEFAULT_THUMBNAIL_HEIGHT","Helmet","htmlAttributes","itemscope","itemtype","primaryColumn","pageNotFoundContainer","pageNotFoundTitle","pageNotFoundContent","returnLink","ExploreSideBar","NewNotFoundPage","DASHBOARD","DASHBOARD_PRIMARY_COLUMN","DASHBOARD_COLUMN","NewNotFound","privacyContainer","Privacy","fullDesc","privacyMdPath","escapeHtml","noResultContainer","HashtagSearchFeed","timeline","feed","setFeed","enableLoad","setEnableLoad","escape","getSearchByPhrase","searchFeed","decodeURIComponent","scrollableAncestor","SvgIcoCirclefullclose","SvgIconVerification","SvgIcoSearch","searchResult","shape","borderRight","PostSearchBoxNew","searchTimeout","postSearchBoxRef","inputRef","inputChangeTimes","inputPhrase","setInputPhrase","SEARCH_MODE_RECENT_SEARCH","searchMode","setSearchMode","showResult","setShowResult","selectedListItemIndex","setSelectedListItemIndex","resultListItems","setResultListItems","setListItemSelectableLIndexes","inputFocused","setInputFocused","submitting","_setSubmitting","submittingRef","setSubmitting","handleClickOutside","handleKeyDown","setSearch","_inputPhrase","currentTimes","getResultListItems","listItemSelectableIndexes","resultListItem","clickHandler","handleInputBlur","formattedPhrase","setRecentSearchListItem","isPhrase","clearInput","notifyInputDone","selectableListItemIndexes","currentArrayIndex","findIndex","arrayMaxIndex","goToSearchResult","getUrlSearchResults","getSearchListItems","searchListItems","getHeaderListItem","getRecentSearchListItems","getNormalSearchListItems","isHashtag","hashtagUrl","isUser","userProfileUrl","recentSearchListItems","LOCAL_STORAGE_RECENT_SEARCH","fetchSearchChoices","isVerified","isHeader","labelText","actionLinkText","recentSearchListItem","recentSearchItemUuid","date","removeRecentSearchListItem","getResultHeaderComp","labelComp","clearAllComp","getResultListItemsComp","lastHashIdx","elem","userItems","isLastHash","getHashtagListItemComp","getUserListItemComp","getPhraseListItemComp","isFooter","viewAllText","getResultFooterComp","selectable","mouseEnterHandler","removeSearchComp","verifiedComp","hashName","highlightClassName","searchWords","autoEscape","textToHighlight","cancelIcon","searchIcon","selectedResultListItem","clickSearchIcon","autoComplete","onKeyDown","getSearchBoxComp","wrapperComp","getSearchResultComp","SvgIconBack","ColumnHeader","tabPanel","TabPanel","other","aria-labelledby","a11yProps","searchBoxWrapper","columnHeaderTitle","mobileColumnHeaderTitle","tabs","tab","columnHeader","headerIcon","headerSubtitle","borderBottomWidth","borderBottomStyle","borderBottomColor","resultTop","userListItem","hashtagListItem","resultUser","resultHashtags","TOP_POSTS_MAX","getTab","NewSearchResult","searchString","tabValue","setTabValue","userListItems","setUserListItems","userOffset","setUserOffset","hashtagListItems","setHashtagListItems","hashtagOffset","setHashtagOffset","postListItems","setPostListItems","postOffset","setPostOffset","updater","setUpdater","errorMsg","setErrorMsg","moreHashtags","setMoreHashtags","moreUsers","setMoreUsers","morePosts","setMorePosts","formatQuery","fetchUserListItems","fetchMore","fetchSearchResultChoices","fws","fetchSuggestedUsertags","fetchHashtagListItems","cats","fetchSuggestedHashtags","fetchPostListItems","getTopSearchResult","fetchMorePostListItems","hashtagBody","userBody","postBody","Tabs","Tab","SvgIconBackToTop","smoothscroll","polyfill","iconButton","THRESHOLD_NUM","BackToTopButton","useScrollTrigger","disableHysteresis","threshold","outerContainer","snackbar","innerContainer","leftGrid","rightGrid","paragraph","acceptButton","learnMore","CookieNotification","cookiesAccepted","setCookiesAccepted","Grid","upperWrapper","mb","innerWrapper","btnSignIn","btnSignUp","closeBtn","AuthBar","goTo","Container","URL_SIGNUP","Loader","clickButton","card","sidebar","userInfoContainer","userAvatarContainer","userIdWrapper","numberPage","UserLayout","isPage","isProfile","displayNameWrapper","numberWrapper","suggestPeopleContainer","sectionHeader","cardWrapper","footerContent","footerText","WhoToFollow","isBottom","setItems","useCallback","dataArr","followings","GCheckbox","Checkbox","noDataTips","endTips","UserFeed","feedOffset","setFeedOffset","setStartTs","checkHasPost","hasPost","NewMyDashboard","Hidden","SvgEyeOpen","SvgEyeClose","btnEye","inputField","iconBtn","GTextField","hideIcon","charCount","maxCharLength","showPwd","iconBtnClick","passwordType","charValidateType","showPassword","setShowPassword","showAdornment","setShowAdornment","InputProps","InputAdornment","tabIndex","onMouseDown","TextField","SelectProps","displayEmpty","IconComponent","ExpandMore","MenuProps","ReCaptcha","grecaptcha","recaptchaRef","sitekey","hl","formContainer","formControl","formControlLast","forgotPwdWrapper","forgotPwdLink","contentBottom","LoginForm","gotoForgotPassword","setPageSeo","useTranslation","reCaptchaRef","component","initialValues","validationSchema","string","required","executeAsync","reset","isSubmitting","handleChange","handleBlur","isValid","dirty","errors","touched","setFieldTouched","FormControl","buttonsContainer","SvgArrowLeft","mask","SvgIcoWarning","textHelperContainer","warningIcon","textHelperError","inputFieldError","borderWidth","backWrapper","back","ForgotLoginForm","handleErrorEmail","errorEmail","STEP_VERIF_CODE","FormHelperText","Counter","timeLeft","setTimeLeft","newTime","titleMbSmall","textHelper","inputs","contentBottomSendCode","textHelperErrorSendCode","linkDisabled","SendCode","handleSignup","canSendAgain","setCanSendAgain","timeBeforeSendAgain","inputsComp","handleSendAgain","__clearvalues__","VERIF_CODE_TYPE_SIGNUP","STEP_CHANGE_PASSWORD","inputsWrapper","onComplete","fields","fieldWidth","fieldHeight","linkHelperWrapper","linkHelper","formControlCP","tabTitle","ChangePasswordForm","newPass","confirmPass","oneOf","Link","contentContainer","LoginPageNew","currentStep","setStep","goToLogin","goToSendCode","STEP_SEND_CODE","submitRequest","textHelperPrivacy","passwordTextHelperContainer","iconMargin","conditionsWrapper","conditions","alertLink","alertTitle","alert","dialog","dialogTitle","SignupForm","usernameExistError","setUsernameExistError","usernameClaimable","setUsernameClaimable","setClaimUrl","serverError","setServerError","emailExistError","setEmailExistError","emailServerError","setEmailServerError","setShowPwd","handleClaim","checkClaimStatus","sessionStorage","twitterUrl","DialogContent","Yup","checkRes","exist","ERROR_TYPE_SERVER","claimable","Alert","severity","AlertTitle","STATUS_SERVER_ERROR","PopularUsersFeed","isMaxPerpageFixed","maxPerPage","hasMore","setHasMore","pageNumber","setPageNumber","setRemoved","totalNum","setTotalNum","removedNum","hasWhiteSpaceAtbeginning","contentWrapper","DiscoverPeople","nextURL","contentWrapperW","SignupPageNew","goToSignup","loginState","DISCOVER_PEOPLE_TYPE_SIGNUP","NewLogout","claimTop","tellTwitter","fontStyle","sync","sync2","noDataWrapper","noDataSubtext","ProfileFeed","isMyProfile","forMedias","importStatus","setImportStatus","endHours","setEndHours","isImagePinPost","setIsImagePinPost","getters","setGetters","setSharedPost","canShowPinnedPosts","setCanShowPinnedPosts","noGetters","every","getter","_pinnedPostsIds","getPinnedPosts","pstOrder","pinnedPostsIds","setPinnedPostsIds","fetchPinnedPosts","pId","lenght","fetchSharedPost","fetchGetters","newItems","fetchAsyncStatus","finished","sharedPostId","oldOffset","ReportUserDialog","SvgIconEditClose","days","months","filterUnits","colorInterpolationFilters","floodOpacity","stdDeviation","mode","in2","SvgIconCameraBig","SvgZoomPlus","SvgZoomMinus","createImage","getRadianAngle","degreeValue","getCroppedImg","ImgSrc","maxSize","safeArea","sqrt","rotation","getImageData","pixelCrop","putImageData","avatarEditDialogContainer","dialogTitleContainer","dialogTitleText","actionButton","cropContainer","backdropFilter","sliderContainer","sliderInner","iconMinus","iconPlus","dialogCloseIcon","AvatarEditDialog","originalImage","setOriginalImage","setCroppedImage","crop","setCrop","setRotation","zoom","setZoom","setPixelCrop","onCropComplete","croppedArea","handleCroppedImage","croppedImage","imgBase64","cancelCroppedImage","aspect","cropShape","onCropChange","onRotationChange","onZoomChange","showGrid","handleZoomMinus","Slider","handleZoomPlus","BannerEditDialog","croppedBannerImage","ALLOWED_EXTENSIONS","MAX_BANNER_SIZE","bannerImageContainer","banner","ImageSettings","croppedAvatarImage","bannerLocalImage","setAvatarOpen","isAvatarOpen","isBannerOpen","setAvatarLocalImage","setBannerOpen","avatarLocalImage","setCroppedAvatarImage","setBannerLocalImage","setCroppedBannerImage","bannerFileInputRef","avatarFileInputRef","handleAvatarInputChange","imageDataUrl","handleBannerInputChange","ImageSettingsStyle","dialogPaper","dialogTitleOptions","dialogBanner","dialogCameraBig","dialogCameraSmall","dialogAvatar","formHelperContainer","alertWrapper","dialogBirthDateComment","selectsWrapper","birthDateControl","dialogBirthDateTitle","removeBirthDate","EditProfileForm","birthdate","bgimg","website","currentYear","startYear","getYears","birthSplit","setBirthSplit","renderCount","setRenderCount","isTabletOrMobile","_handleSubmit","removeDate","year","month","day","birthDate","trimData","isAfter","formatData","updateUserProfile","enableReinitialize","resetForm","setFieldValue","birthdayKeys","isInitialValues","birthdayKey","InputLabel","Select","labelId","select","errorTxt","EditProfileDialog","SvgIcoDate","SvgIconProfileOptions","SvgIcoLocation","iconShare","DropdownMenuItems","handleSuspend","handleReport","commentContainer","CommentFeed","userNickname","LikeFeed","likedItems","setLikedItems","setNbrRemoved","userList","setUserList","setLikedComments","setSharedComments","reachedEnd","fetchLikedPostsAndComments","thePosterId","tgt_oid","replyToUserId","opuid","likedCommentsTab","sharedCommentsTab","userProfileDetails","userBannerImage","userProfileContent","userProfile__top","userProfileAvatar","userProfileOptions","profileOptionsIcon","userProfileNickname","userProfileUsername","userProfileStats","userSubtext","userStatsContainer","userStatsCount","userStatsText","userProfileSubtitle","joinDate","noDataSubTips","tabsContainer","views","NewPublicUserView","userObj","profileUsername","setLayoutUserInfo","setIsMuted","setIsBlocked","setIsSuspended","statFollowers","setStatFollowers","statFollows","setStatFollows","dialogOpen","setDialogOpen","isClaiming","setIsClaiming","isReloading","setIsReloading","viewIndex","headerHeight","object1","object2","LSUserInfo","checkIfMuted","getMutedUsers","mutedUserList","checkIfBlocked","blockedUserList","handleNotAuthenticated","show","unSuspendUser","suspendUser","bodyComp","rightOptions","profileName","profileUserId","profileBgimg","profileDescription","profileDescriptionHtml","profileLocation","profileWebsite","profileBirthDate","_profileWebsite","jointTS","jointMMYYYY","Ts2MMYYYYV2","reportUser","newRoute","NewUserInfo","setOusername","APP_NAME","userProfileBody","NoDataMessage","followFeedHeader","twitterFollower","tabActive","FollowFeed","currentUserId","FOLLOWING","itemsGroup","setItemsGroup","itemsExists","setItemsExists","dataExists","handleRedirect","page","getTWTFollowers","leftDashBoardWrapper","explorSideBarWrapper","NewUserFollowView","profileOriginalUsername","MAX_BATCH_SIZE","postCommentFeedContainer","noMoreComment","commentListItemContainer","PostCommentFeed","commentList","setCommentList","fetchComments","DIRECTION_REVERSE","getXComments","newUserFeed","loadNew","newComments","commentCount","commentCommentCount","NewPostPageView","postInfo","setPostInfo","setIsFollowing","isUnavailable","setIsUnavailable","fetchPostInfo","handleNotAuth","getUnavailableComp","posterName","handleBlocked","NewCommentPageView","setCommentObj","notFound","userLikeCommentStatus","userShareCommentStatus","fetchCommentWithStats_UserInfo_Post","fetchCommentObj","offsetPosition","commentItem","SvgIcoArrow","mobileBtn","currentPass","submitPasswordChange","SvgCheck","option","checkedIcon","check","Languages","prevLang","changed","setChanged","dismiss","RadioGroup","FormControlLabel","control","Radio","usernameWrapper","btnOutlined","followBtn","notChecked","isChecked","setIsChecked","userData","isLoggedIn","handleUnmute","handleUnblock","USER_LIST_BLOCKED","USER_LIST_MUTED","USER_LIST_FOLLOW","Muted","Blocked","PrivacyTabs","SvgIcoRightArrow","SvgIcoSettingsLanguage","SvgIcoSettingsLogout","SvgIcoSettingsPassword","SvgIcoSettingsPrivacy","float","MobileIndex","URL_SETTINGS_INTERFACE_LANGUAGE","URL_SETTINGS_PRIVACY","handleLogout","menuContainer","tabMenuTitle","indexContainer","NewSettingsIndex","tabNumber","selectTabByUrlQuery","SvgEnvelope","GBtitle","ContactUs","CONTACTUS_EMAIL","startIcon","HelpCenterMobileIndex","cacheI18nT","URL_HELPCENTER_POST_REPOST_REPLY","URL_HELPCENTER_SHARE","URL_HELPCENTER_CONTACTUS","SvgIcoDownArrow","accordionDetail","itemContainer","question","answers","noteMark","notes","note","accordionSummary","HelpCenterContent","selectedIndex","setSeletedIndex","activeAccordion","setActiveAccordion","Accordion","AccordionSummary","expandIcon","AccordionDetails","TextFileReader","subTitleGap","NewHelpCenterIndex","URL_HELPCENTER_PRIVACYPOLICY","URL_HELPCENTER_TERMSOFUSER","HELPCENTER_CONTENT","registration","postRepostReply","share","termsMdPath","MobileAppHelpCenterIndex","MobileAppHelpCenter","termsContainer","Terms","feedItem","waypoint","TrendingFeed","setTimeline","GSectionHeader","SvgIcoAccountProfile","SvgIcoAccountSettings","SvgIcoAccountHelp","accountInfo","followInfo","AccountPage","followingCount","setFollowingCount","followerCount","setFollowerCount","getFollowingAndFollowersCount","TopicTrendsPage","initialData","getFinalData","finalData","deleteData","syntaxHighlight","initStr","multiline","rows","subTitleBold","checkbox","checkboxLabel","impostDesc","VerifyForm","impost","ClaimPage","setNextURL","postImportPosts","Claim","URLSearchParams","ClaimError","gridRight","footer","textFooter","rightLinksWrapper","linkClick","linkExternal","AuthLayout","isLangDialogOpen","setIsLangDialogOpen","initialLangCode","oldLangCode","setOldLangCode","handleLanDialog","URL_DASHBOARD","Divider","TopicImg","topicContent","topicName","topicDesc","sectionFooter","NewSuggestTopics","setTopics","htinfo","trendDesc","SuggestPeople","exploreSidebarContainer","scrollbarWidth","newToGetter","signUpButton","stickySearchBoxWrapper","NewExploreSideBar","registerUrl","getUrlSignup","enableTransforms","dir","secondaryColumn","rightMenu","msOverflowStyle","HomeMainContainer","getComponent","RegularLayout","formatRoutes","routes","LayoutManager","term","regularRoutes","authRoutes","miscRoutes","changeLang","langUrl","langsList","trackPageView","formattedRegularRoutes","formattedAuthRoutes","formattedMiscRoutes","isRegularRoute","isAuthRoute","isNotFoundRoute","buttons","btnCancel","btnDownload","DownloadBar","setDownloadCookieAccepted","downloadCookieAccepted","MobilePermissionsBar","isApp","isFAQPage","pageId","hashtagId","hashtagName","pageTitle","setPageTitle","pageDescription","setPageDescription","seo","setData","exact","setting","launcher","chatLabel","mobile","ZendeskChat","isZendesk","setIsZendesk","zendeskEl","defer","zendeskKey","noNavBarPaths","URL_TEMPORARILY_BLOCKED","URL_FIRST_LOGIN","URL_CHANGE_PASSWORD","URL_CLAIM","noMaxWidthPaths","defaultLang","appMain","appContent","noMaxWidth","App","doNavBar","doMaxWidth","firstTimeVisit","LOCAL_STORAGE_FIRST_TIME_VISIT","langInLocalStorage","LOCAL_STORAGE_LAST_BROWSER_LANG","browserLang","language","envConfig","InitEnvConfig","Initialize","getBrowserHistory","hydrate","RenderProps","StyleConsts","API_LOGIN_URL","API_SIGNUP","FAKE_REQUEST","STEP_FIRST_LOGIN","STEP_SUGGESTION","ERROR_TYPE_DEFAULT","CLAIM_SIGNUP","E_METER_LIMIT_EXCEEDED","COOKIE_SESSION","COOKIE_DOMAIN","dumpConfig","cfg","doHttps","HTTPS","REACT_APP_API_ENV","REACT_APP_FE_URL_PREFIX","IsServer","NICKNAME_GUEST","VISTYPES","XMObjectProps","PROP_OWNER_ID","CONFIRM_TYPE_EMAIL","CONFIRM_TYPES","REQUEST_TYPE_EMAIL","REQUEST_TYPE_PWDCHG","REQUEST_TYPE_SIGNUP","REQUEST_TYPE_PWDRESET","REQUEST_TYPE_UPGRADE","REQUEST_TYPES","FEATURE_AUTO_FOLLOW","ENABLED_FEATURES","DISABLED_FEATURES","NICKNAME","USERNAME","JOINT_DATE","USER_STATS","TWT_FOLLOWED","TWT_FOLLOWS","TOKEN","FIRSTNAME","LASTNAME","RANK","SCORE","BLOCK_LIST","MUTE_LIST","ICON_URL","BGIMG_URL","LOCATION","WEBSITE","BIRTHDATE","ORIG_USERNAME","USER_SIGNUP_UPDATABLE_PROPS","ROLE_INFLUENCER","STATUS","DEVICEID","DIGEST","TAGS","PINPOSTS","FOLLOWED","LIKES_COMMENT","ROLE_ROOT","ROLE_ADMIN","ROLE_SYSADM","ROLE_MODERATOR","FEATURE_IMPORT_USER","FEATURE_IMPORT_POST","FEATURE_SUBMIT_COMMENT","FEATURE_USER_FOLLOWS","FEATURE_USER_LIKES","FEATURE_USER_REPOST","FEATURE_IMPORT_PROFILE","FEATURE_SUSPEND_USER","STATUS_QUICKSIGNUP","STATUS_UNVERIFIED","STATUS_ACTIVE","STATUS_SUSPENDED","PROP_MSGTYPE","PROP_ACTION","PROP_ACTION_START_TS","PROP_ACTION_STOP_TS","PROP_ACTIVITY_ID","PROP_DEPTH_LEVEL","PROP_INITIATOR_ID","PROP_INITIATOR_LEVEL","PROP_HAS_MEDIA","PROP_POST_ID","PROP_ORIG_POST_ID","PROP_ORIG_POST_OWNER_ID","PROP_SRC_TYPE","PROP_SRC_ID","PROP_SRC_OWNER_ID","PROP_TGT_TYPE","PROP_TGT_ID","PROP_TGT_OWNER_ID","PROP_RPS_TYPE","PROP_RPS_IDS","PROP_RPS_OWNER_IDS","PROP_USER_HOST","PROP_RECEIVER_ID","PROP_READ_TS","PROP_READ_MEDIUM","PROP_DONE_TS","PROP_DONE_METHOD","PROPS_ACTIVITY","SORT_TYPES","PROPS_COMMON","UserStatsProps","_keyStr","Base64","chr1","chr2","chr3","enc1","enc2","enc3","enc4","utftext","fromCharCode","_utf8_encode","c2","c3","_utf8_decode","SetId","ClearId","cname","PROP_TYPE","prevP","titleFormat","PROP_TITLE_FORMAT","PROP_DERIVED_TITLE","ttlf","getTitleFormat","getEmbedded","PROP_ORIG_TITLE","PROP_ORIG_LANG","subtitle","PROP_SUBTITLE","PROP_ORIG_TITLE_LANG","desc","PROP_DESC","PROP_ICON_URL","srcId","PROP_DATA_SOURCE","PROP_WWW_URL","PROP_TEXT_URL","PROP_AUDIO_URL","IMAGE_URL","BGIMAGE_URL","colorCode","BGCOLOR","FGCOLOR","objData","prevObj","topLabel","getXPropertyPath","replacedData","existOK","HasObjectField","cleared","GetObjectFields","SetBase64Field","GetBase64Field","SetEncryptedField","GetEncryptedField","xp","setTransientXParent","PROP_PARENT","pobj","getXParent","prevData","CloneData","SNAP_DATA","sdata","getSnapshot","SNAP_DATE","snapdata","snapshot","_setSnapshot","clearModified","snapshotTS","currentTS","snapshotData","setObjectField","setXObjectField","getXObjectField","hasObjectField","GetEmbeddedJSONPaths","getLabels","toBoolean","setBase64Field","getBase64Field","setEncryptedField","getEncryptedField","clearObjectField","xparent","isDirty","cleardirty","SetCreatedTS","retVal","ClearCreatedTS","timeVal","SetUpdatedTS","ClearUpdatedTS","GetTS","inSeconds","HasUpdatedWithin","SetPublishedTS","GetPublishedTS","ClearPublishedTS","SetEditedTS","GetEditedTS","ClearEditedTS","SetExpiration","GetExpiration","ClearExpiration","HasExpired","SetPublicVisibility","ClearPublicVisibility","scope","SetVisibility","ClearVisibility","VISTYPE_PRIVATE","GetVisibility","checkACL","IsPublicVisible","IsGroupVisible","IsPrivateVisible","IsDeleted","inclProps","exclProps","replacer","space","toJSON","AUX_DATA","xobject","wordArray","SetWordAt","GetWorldIndex","GetWordCount","PARENT","TITLE","TITLE_FORMAT","DERIVED_TITLE","ORIG_TITLE","ORIG_LANG","SUBTITLE","VERTITLE","WWW_URL","TEXT_URL","VIDEO_URL","AUDIO_URL","VIDEO_DURATION","VIDEO_WIDTH","VIDEO_HEIGHT","AUX_TAGMAP","PUBLISHED_DATE","EXPIRATION_DATE","DATA_SOURCE","VISTYPE_GROUP","XOBJECT","IsInstance","ClsType","GetClassByType","jsonType","GetType","Warn","parentObj","setXParent","jsonArray","typeId","seqNum","GenRandom","cloneData","cloneAux","newXobj","GetAuxData","prevId","parts","hasProp","xValue","b64val","encode","decode","encval","DecryptJSON","existingWords","wordList","deltaTime","dateVal","expdate","EDITED_DATE","Assert","pubVis","VISTYPE_DELETED","STYPE","xtype","serialized","mainData","XUserStats","SetNickname","useUsername","likesPost","getLikesPostCount","likesComment","getLikesCommentCount","SetLikesCommentCount","GetLikesCommentCount","SetWatchesPostCount","GetWatchesPostCount","SetWatchesCommentCount","GetWatchesCommentCount","SetSharesPostCount","GetSharesPostCount","SetSharesCommentCount","GetSharesCommentCount","getSharesPostCount","getSharesCommentCount","follows","SetFollowsCount","GetFollowsCount","followers","SetFollowersCount","GetFollowersCount","useMail","GetEmail","GetUsername","watches","WATCHES_COMMENT","GetFollowings","SetFollowings","XUserObject","SetOriginalUsername","DEFAULT","IsCompatibleLanguage","PREF_TOPICS","roleId","IsInfluencer","INFLUENCER_LEVEL_MAX","influencerRole","getRole","level","PROP_INFLUENCER_LEVEL","GetEnabledAppFeatureList","IsAppFeatureDisabled","hasAppFeature","GetAppFeature","HasAppFeature","propertyName","AddAppFeature","RemoveAppFeature","DisableAppFeature","RemoveDisabledAppFeature","GetDisabledAppFeatureList","GetStatusTS","IsActive","IsUnverified","IsSuspended","AddPinnedPost","SetPinnedPosts","GetPinnedPosts","RemovePinnedPost","HasPinnedPost","GetPinnedPostCount","IndexOfPinnedPost","APPUSER_ROLES","FEATURE_PREVIEW","STATUS_TS","langPref","GetLanguagePref","IsChinese","roles","properties","GetRoles","roleAdded","SetRoles","roleObj","AddRole","exists","roleDef","rolePropValue","HasRole","featureGroup","features","GetFeatures","featureAdded","SetFeatures","featureObj","featureDef","propValue","feature","AddFeature","FEATURE_GROUP_APP","GetFeature","RemoveFeature","disabledList","FEATURE_GROUP_APP_DISABLED","featureIdx","inFeatureList","HasFeature","presetList","xDisabled","enabledFeatureMap","userLevel","syslist","sysFeatures","appFeatures","mergedList","MergeStrings","PROP_PINPOSTS","GetWordIndex","CreateFromUserInfo","GetUserToken","SetFirstName","GetFirstName","SetLastName","GetLastName","SetEmail","phoneNo","SetSMS","Text2Array","blocks","SetBlockedUsers","mutes","SetMutedUsers","SetUserStats","GetUserStats","FillFromUserStats","GetSMS","HasVerifiedContact","GetRole","HasGodRole","HasAdminRole","HasSysAdminRole","SetUsername","useEmail","SetStatus","SetBlockFlag","SetMuteFlag","GetBlockFlag","GetMuteFlag","getWatchesPostCount","getWatchesCommentCount","SetFollowingFlag","GetFollowingFlag","jsonStats","BLOCKFLAG","MUTEFLAG","FLWFLAG","VERIFIED_CONTACT","APP_ROLES","USER_ID","USER_NAME","ORIG_USER_NAME","USER_NICKNAME","globalSession","defVal","defaultValue","domain","cookieName","getCookieSessionName","getDecryptedCookie","remember","opts","COOKIE_EXPIRE_DAYS","Cookies","setCookie","domainName","getCookieDomainName","getJSON","getCookie","getCookieData","USER_TOKEN","isGuestUser","USERNAME_GUEST","USERNAME_ROBOT","curInfo","guestName","iconUrl","setEncryptedCookie","setCookieDomain","prevUsername","fieldsUpdated","thisUserInfo","getUserStats","roleType","userHasRole","NAME","StripWrapper","eResponse","CreateXError","SYS_ERROR","xResponse","CreateOK","RespondOK","send","RespondError","CreateWithRC","HTTP_CLIENT_NOTFOUND","HTTP_TOO_MANY_REQUESTS","jsonHeaders","headerLines","rawContent","getRawContent","stringContent","jsonContent","authLine","toAuthHeader","getAppUrlHeader","respObj","xrespObj","getError","setInitiator","setSourceObject","setTargetObject","PERM_OWNER","PERM_USER","PERM_GROUP","PERM_PUBLIC","WHO_TYPES","PERM_TYPES","PERM_READ","XACL","who","defaultPerm","GetPermissions","perm","SetPermission","SetPublicREAD","SetUserPerm","ClearPermission","ClearPublicPerm","ClearPublicREAD","ClearUserPerm","ClearGroupPerm","CheckPerm","AssertValidWho","GetPublicPerm","SetPublicPerm","SetOwnerPerm","SetGroupPerm","permValue","mustHaveUpdatedTS","_updatedNow","enableTracking","SetCreatorId","ClearCreatorId","SetBasedOnId","GetBasedOnId","ClearBasedOnId","SetPreviousVersion","GetPreviousVersion","getPreviousVersion","SetNextVersion","getNextVersion","hasPreviousVersion","hasNextVersion","getUpdatedTS","getACL","setPublicREAD","checkPublicREAD","_cacheStatus","_lastUpdated","markDirty","setNew","clearStatus","isNew","AddTag","tagArray","AddTags","SetTags","GetTags","relname","GetTagsByRel","GetTagsGroupedByRel","simpleCheck","HasTag","HasTagByRel","nameCheck","IndexOfTagname","RemoveTag","CountTags","varExpr","AddVarExpr","varExprs","AddVarExprs","SetVarExprs","GetVarExprs","varname","GetVarExpr","HasVarExpr","RemoveVarExpr","CountVarExprs","AddRelTag","AddRelTags","SetRelTags","GetRelTag","GetRelTags","GetRelTagCount","HasRelTag","GetRelTagMap","relMap","SetRelTagMap","IndexOfRelTagname","RemoveRelTag","CountRelTags","tagMap","prevMap","AddSourceTag","AddSourceTags","SetSourceTags","GetSourceTags","GetSourceTagsByRel","GetSourceTagsGroupedByRel","HasSourceTag","HasSourceTagByRel","IndexOfSourceTagByRel","IndexOfSourceTagname","RemoveSourceTag","CountSourceTags","GetNextVersion","restoreSnapshot","CreateNewVersion","_editedNow","isModified","isClean","setDeleted","useTS","vttl","getVersionTitle","getPublishedTS","PROP_VTITLE","changedFromSnapshot","vtitle","GetFolderName","OWNERID","ACL","VERSION_TITLE","VERSION_PREV","VERSION_NEXT","VERSION_STATUS","RELTAGS","SRCTAGS","VAREXPRS","XMOBJECT","PROP_BGIMAGE_URL","existingId","CREATORID","BASED_ON","nextId","nowTS","objType","newId","DELETED_DATE","setPreviousVersion","hasSnapshot","resetFromSnapshot","setNextVersion","newObjId","newOwnerId","tagName","_AddTag","_GetTagsByRel","_GetTagsGroupedByRel","TagUtil","_HasTagByRel","_IndexOfTagByRel","_IndexOfTagname","_RemoveTag","_CountTags","GetPropertyValue","PROP_RELTAGS","cleanedTag","RemoveProperty","GetTag","tagnameOnly","reltags","StripTagsProps","tagList","PROP_SRCTAGS","exprArray","NormalizeTag","existingTags","relProp","relContainer","GroupTagsByRel","IndexOfTagByProp","follower","PROP_FOLLOWER","PASS_NONE","XMUserFeedback","TEXT","CONFIRM_ID","PAGE_URL","addTags","getTags","SetRead","GetReadBy","GetReadTS","expiredOK","confirmedTS","getReadTS","expiry","getExpiration","USER_FEEDBACK","feedbackId","feedbackObj","GenRandomLong","confirmTS","CONFIRM_ACTION_SOURCE","CONFIRMED_DATE","AppMessages_en","LABEL_WEBSITE","LABEL_APPNAME","LABEL_HOMEPAGE","LABEL_ABOUT_US","LABEL_TOS","LABEL_PRIVACY_POLICY","LABEL_FEEDBACK","LABEL_SUBMIT_CHANGE","LABEL_USERNAME","LABEL_USERNAME_ENTER","LABEL_DISPLAYNAME","LABEL_DISPLAYNAME_ENTER","LABEL_EMAIL_ADDRESS","LABEL_EMAIL_ENTER","LABEL_PASSWORD_ENTER","LABEL_PASSWORD2_ENTER","LABEL_DELETE","LABEL_EDIT","LABEL_SELECT","LABEL_CANCEL","LABEL_CLONE","LABEL_CLOSE","LABEL_RESET","LABEL_RETURN","LABEL_SUBMIT_POST","LABEL_SUBMIT_REPOST","LABEL_SUBMIT_COMMENT","LABEL_HOME","LABEL_EXPLORE","LABEL_NOTIFICATIONS","LABEL_MESSAGES","LABEL_PROFILE","MSG_PASSWORD_OK","MSG_PASSWORD_NOT_VALID","MSG_PASSWORD_NOT_MATCHED","MSG_NICKNAME_NOT_VALID","MSG_EMAIL_NOT_VALID","MSG_EMAIL_NONE","MSG_INVITE_CODE_INVALID","MSG_INVITE_CODE_VERIFIED","MSG_USERNAME_EXISTS","MSG_USERNAME_AVAILABLE","MSG_USERNAME_CHECK_ERROR","MSG_USERNAME_NOT_VALID","MSG_CREATE_POST_LABEL","AppMessages_zh","AppMessages_tw","AppMessages_ko","AppMessages_es","CHINESE_TRADITIONAL","KOREAN","SPANISH","JAPANESE","themeId","cacheRoot","CACHE_ROOT","cachePrefix","objRootPath","FilePathDelim3_Min9","vext","brokenFilename","folderPath","urlExpr","provider","HasProps","GetSymbolName","inclRoot","basestr","TAG_ICON_ROOT","CATCH_I18N_T","nextLang","callBack","changeLanguage","curLang","opt","handle401","handleXError","customConfig","initConfig","EM_EN","msgTpl","intialized","created","_isProduction","_isDevelopment","initialized","IsProductionBuild","isProductionHost","IsDevelopmentBuild","isDevelopmentHost","httpsEnabled","serverHost","APP_WEB_DOMAIN","isLocalhost","port","serverPortSSL","defaultHost","defaultPort","serverPort","defaultProt","serverProt","defaultDir","cacheDir","protocol","serverURL","getServerProtocol","getServerHost","getServerPort","portSSL","getServerPortSSL","urlString","siteURL","getServerURL","panel","context","serviceObj","setPortal","resetUserInfo","createMemoryHistory","initialEntries","createBrowserHistory","initBrowserHistory","getRoutes","apiGetUserList","apiUserCRUD","apiUserLogin","apiUserSignup","apiUserLogout","apiUserProfileCRUD","_setServerURL","_setSiteURL","_setServerPortSSL","cookieDomain","trackCookieSessionName","trackCookieDomainName","resultsHandler","errorHandler","ok","processResponse","apiCall","resetUser","processError","where","authResult","loadedUserInfo","inIconUrl","loadedIconUrl","SetIconUrl","AUTH_FAILED","_logoutUser","helper","logoutData","_clearUserInfo","apiPostCall","changeRules","msgBody","rules","apiUserRUD","SEARCH_MAINTAGS","OPTION_DELIM","AUX_DATA_STATS","optionString","HasValueInValuesString","label1","upperCase","GetValuesInValuesString","AddValueToValuesString","RemoveValueFromValuesString","PROP_ECODE","PROP_EMSG","stackTrace","setMessage","XERROR","errRec","FromError","setTrace","setStackTrace","ee","_setNew","curId","GetContentType","SetPostID","SetPostOwnerID","GetOriginalPostOwnerId","SetOriginalPostOwnerID","SetOriginalPostID","initiator","SetInitiator","lvl","SetInitiatorLvl","GetInitiatorLvl","SetUserHost","GetUserHost","ecode","API_ECODE","SVC_NAME","hasMedia","HAS_MEDIA","apiType","apiName","spec","setUserHost","API_TYPE","API_NAME","API_SPEC","API_TIME","setErrorCode","svcName","SVC_TIME","SVC_ECODE","srcType","srcObject","SetSourceObject","GetSourceObject","GetSourceOwnerId","SourceIsUser","targetType","targetObject","SetTargetObject","GetTargetType","GetTargetObject","GetTargetOwnerId","TargetIsUser","repostedIds","repostedOwnerIds","SetRepostedObject","GetRepostedId","GetRepostedType","GetRepostedOwnerId","SetParentLogId","GetParentLogId","SetInverseLogId","GetInverseLogId","addBracket","GetVarMap","targetIsUser","sourceIsUser","getSourceId","getSourceType","getTargetType","ACTIVITY_LOG","targetOwnerId","initTS","repostIds","reposterIds","postOwnerId","originalPostOwnerId","setRepostedObject","setPostOwnerId","setOriginalPostId","setOriginalPostOwnerId","initiatorId","initiatorLvl","INITIATOR_LVL","TGT_TYPE","TGT_ID","TGT_OWNER_ID","ORIG_POST_ID","ORIG_POST_OWNER_ID","TGT_OBJECT","setInitiatorLvl","setHasMedia","srcOwnerId","SRC_OWNER_ID","stype","ttype","StripHttpFromURL","USER_HOST","SRC_OBJECT","PARENT_LOG_ID","INVERSE_LOG_ID","RPS_TYPE","extraFields","PHRASE_SPLIT","WORD_SPLIT","TAG_PROP_REL","symbolText","GetGenIDNumber","n36","lc","wordStr","wordCount","acc","cur","_Word2Tag","strippedTags","tagCount","SplitTag","removeSpace","splitWords","setBucket","firstOnly","hasParts","NoBreakPrefix","shift","part","bucket","ParseTag","GroupTagsByProp","GetTagsByProp","GetPropValueOfTags","tagsCount","GetTagname","tagexpr","normalize","tag1","tag2","CompareSymbols","HasProperty","SetProperty","tagStr","propStr","TAG_MAX_LENGTH","cjk_charset","cjk","toRegExp"],"mappings":"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sBAAM8oE,aAAYL,EAAQG,QAAQnuE,MAAO6R,MAAM,mBAA/C,SACE,sBACE+4D,MAAO,CACLvvB,MAAM,GAAD,OAAK91C,EAAL,MACLg2C,OAAO,GAAD,OAAKh2C,EAAL,MACNkkD,QAAS,eACT6kB,gBAAgB,QAAD,OACbC,KAAQ3kE,MAAMokE,EAAQG,QAAQnuE,OAAO1D,MAAMyxE,GAAQ,GADtC,MAGfS,eAAgB,qBAsB3BC,CAJIlyE,EAAKR,QACd,IAAIR,OAAJ,WAAemzE,OAAa7xC,OAA5B,KAAuC,KACvC,gCAEgB,aAAQt3B,QAAS0oD,IAP1B,M,UCxDL0gB,GAAoB/iB,IAAU0K,yBAiCvBsY,GAAiB,CAC5B,MACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MACA,MACA,IACA,IACA,IACA,IACA,IACA,IACA,MACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAEIC,GAAkB,WAAOD,GAAertE,MAAM,GAAG5D,KAAK,KAApC,KAClBmxE,GAAsB,YAAQF,GAAejxE,KAAK,KAA5B,KACfoxE,GAA0B,WApGD,CACpC,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MACA,MACA,IACA,IACA,IACA,IACA,IACA,IACA,KAsEmEpxE,KACnE,IADqC,KAG1BqxE,GAAsB,kKAoInC,SAASC,GAAgB1yE,GAAyB,IAAnB2yE,EAAkB,wDAC3C/tE,EAAS5E,EACVR,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,UAAM,WACdA,QAAQ,UAAM,WACdA,QAAQ,UAAM,WACdA,QAAQ,UAAM,WACdA,QAAQ,QAAM,SACdA,QAAQ,QAAM,UACdA,QAAQ,U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","file":"static/js/main.b9398f15.chunk.js","sourcesContent":["import * as moment from 'moment';\n// import 'moment/locale/zh-cn';\n// import 'moment/locale/zh-tw';\nimport 'moment/locale/es';\nimport 'moment/locale/ko';\nimport 'moment/locale/fr';\n// import 'moment/locale/gr';\nimport 'moment/locale/ja';\nimport uuidv1 from 'uuid/v1';\n\n// import JSON5 from \"json5\";\nimport EncryptorClass from 'simple-encryptor';\n\nimport { LanguageCodes, UserProps } from './model/ModelConsts';\nimport { PASS_INCL_NAME, PASS_BAD_CHARS, PASS_TOO_SHORT } from './ErrorConsts';\nimport { t } from 'src/i18n/utils';\n\n\nconst ENC_PWD = 'w';\nconst ENC_PWD_KEY = '$#@!2093k4qrlk43';\n\nconst ENC_STRING = '_s';\nconst ENC_STRING_KEY = 'LK!@!JE#Rd(-%#*@';\n\nconst ENC_INFO = 'i';\nconst ENC_INFO_KEY = 'A@#$34#@!905dfl4';\nconst PASSWORD_MIN_LENGTH = 6;\nconst PASSWORD_MAX_LENGTH = 128;\n\nconst encryptors = {\n  [ENC_PWD]: EncryptorClass(ENC_PWD_KEY),\n  [ENC_STRING]: EncryptorClass(ENC_STRING_KEY),\n  [ENC_INFO]: EncryptorClass(ENC_INFO_KEY),\n};\n\n// const _CLSNAME = \"Util\";\n\nconst REGEX_SPLIT2 = /.{1,2}/g;\nconst REGEX_SPLIT3 = /.{1,3}/g;\n\nconst UrlPattern = new RegExp(/[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/, 'i'); // fragment locator\n\nconst UrlMatchPattern = new RegExp(/[(http(s)?):\\/\\/(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/, 'gi'); // fragment locator\n  \nconst UrlPattern_Original = new RegExp('^(https?:\\\\/\\\\/)?' + // protocol\n  '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\n  '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\n  '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\n  '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\n  '(\\\\#[-a-z\\\\d_]*)?$', 'i'); // fragment locator\n\nconst UsernamePattern = new RegExp(/^[a-z0-9_]*$/);\n\nconst ReservedUsernames = [\n  'twitter', 'getter', 'admin'\n];\n\n/**\n * Utility functions\n *\n */\nclass Util {\n\n  /**\n   *\n   * @param {SystemConfig} config\n   */\n  static Initialize(config) {\n    // Not used right now - these impact frontend as frontend will\n    // need their own key configs\n    // this.encPwdKey = config.getEncPwdKey();\n    // this.encStringKey = config.getEncStringKey();\n    // this.encInfoKey = config.getEncInfoKey();\n  }\n\n  /**\n   * Generate an ID string based on UUID but without\n   * the dashes\n   *\n   * @return {string}\n   *\n   */\n  static GenUUID1() {\n    let uuid = uuidv1();\n    uuid = uuid.replace('-', '');\n    uuid = uuid.replace('-', '');\n    uuid = uuid.replace('-', '');\n    uuid = uuid.replace('-', '');\n    return uuid.toUpperCase();\n  }\n\n\n  /**\n   *\n   * @param {string} str\n   */\n  static IsValidURL(str) {\n    const verdict = UrlPattern.test(str);\n    console.log(`TEST: ${verdict} for URL: ${str}`);\n    return verdict;\n  }\n\n  /**\n   *\n   * @param {string} str\n   * @return {string[]} array of matched urls\n   */\n  static ExtractURLs(str) {\n    return str ? str.match(UrlMatchPattern) : [];\n  }\n\n  /**\n   * Encrypt the content using the key for password\n   *\n   * @param {string} text\n   * @return {string} encrypted string\n   */\n  static EncryptPwd(text) {\n    const encryptor = encryptors[ENC_PWD];\n    // const encryptor = EncryptorClass(this.encPwdKey);\n    return encryptor.encrypt(text);\n  }\n\n  /**\n   * Decrypt the content using the key for password\n   *\n   * @param {string} encryptedStr\n   * @return {string} text\n   */\n  static DecryptPwd(encryptedStr) {\n    const encryptor = encryptors[ENC_PWD];\n    // const encryptor = EncryptorClass(this.encPwdKey);\n    return encryptor.decrypt(encryptedStr);\n  }\n\n  /**\n   * Encrypt the content using the key for general string\n   *\n   * @param {string} text\n   * @return {string} encrypted string\n   */\n  static EncryptText(text) {\n    const encryptor = encryptors[ENC_STRING];\n    // const encryptor = EncryptorClass(this.encStringKey);\n    return encryptor.encrypt(text);\n  }\n\n  /**\n   * Decrypt the content using the key for general string\n   *\n   * @param {string} encryptedStr\n   * @return {string} text\n   */\n  static DecryptText(encryptedStr) {\n    const encryptor = encryptors[ENC_STRING];\n    // const encryptor = EncryptorClass(this.encStringKey);\n    return encryptor.decrypt(encryptedStr);\n  }\n\n  /**\n   * Encrypt the content using the key for info object\n   *\n   * @param {*} data can be JSON\n   * @return {string} encrypted string\n   */\n  static EncryptJSON(data) {\n    const encryptor = encryptors[ENC_INFO];\n    // const encryptor = EncryptorClass(this.encInfoKey);\n    return encryptor.encrypt(data);\n  }\n\n  /**\n   * Decrypt the content using the key for info object\n   *\n   * @param {string} encryptedData\n   * @return {{}} data as a string\n   */\n  static DecryptJSON(encryptedData) {\n    const encryptor = encryptors[ENC_INFO];\n    // const encryptor = EncryptorClass(this.encInfoKey);\n    return encryptor.decrypt(encryptedData);\n  }\n\n  // ------------------- LANGUAGE UTILITIES -----------------------\n\n  /**\n   *\n   * @param {string} lang\n   * @return {boolean} true if language specified is one of the\n   * chinese written languages (simplified or traditional)\n   */\n  static IsChinese(lang) {\n    return LanguageCodes.CHINESE_ALL.includes(lang);\n  }\n\n  // -------------------- STRING UTILITIES -------------------------\n\n  /**\n   * Determine length of string. null means\n   * zero length\n   * @param {string=} s string\n   * @param {boolean} trim true to trim first before checking for length\n   * @return {number} 0 means empty or null\n   */\n  static StringLength(s, trim = false) {\n    if (s == null) { return 0; }\n    return (trim === true) ? s.trim().length : s.length;\n  }\n\n  /**\n   * Pad string at the start if shorter than given length\n   *\n   * @param {*} s string to pad if shorter than length\n   * @param {*} ch character to pad. default to space\n   * @param {*} length pad if shorter than this length\n   */\n  static StringPadStart(s, ch = ' ', length = null) {\n    if (length == null) {\n      console.trace('PrePad: no length for:', s);\n      return s;   // bad input\n    }\n    if (s == null) { s = ''; }\n    return String(s).padStart(length, ch); // built-in function\n  }\n\n  /**\n   * Insert a character/string every X number of characters\n   * of the given string\n   *\n   * @param {string} s string to insert character\n   * @param {string} ch character(s) to insert\n   * @param {number} gap size of gap in character\n   */\n  static StringInsertDelim(s, ch, gap) {\n    // not working\n    const regex = new RegExp(`/.{1,${gap}/g`);\n    const tokens = s.match(regex);\n    return tokens ? tokens.join(ch) : s;\n  }\n\n  /**\n   * Delimit an identifier into a (file) path of\n   * two characters with padding  to a minimum\n   * of 8 characters.\n   *\n   * @param {string} identifier\n   * @return {string}\n   */\n  static FilePathDelim2_Min8(identifier) {\n    const padded = Util.StringPadStart(identifier, '_', 8);\n    const tokens = padded.match(REGEX_SPLIT2);\n    return tokens ? tokens.join('/') : identifier;\n  }\n\n  /**\n   * Delimit an identifier into a (file) path of\n   * three characters and padding to 9 characters\n   *\n   * @param {string} identifier\n   * @return {string}\n   */\n  static FilePathDelim3_Min9(identifier) {\n    const padded = Util.StringPadStart(identifier, '_', 9);\n    const tokens = padded.match(REGEX_SPLIT3);\n    return tokens ? tokens.join('/') : identifier;\n  }\n\n  /**\n   * Given a fully qualified file specification (path + filename),\n   * return the path portion\n   *\n   * @param {string} fspec file path with file name, eg. /path/filename\n   * @return {string} path portion, e.g., /path\n   */\n  static GetFilePathFromFileSpec(fspec) {\n    if ((fspec == null) || (fspec.length === 1)) { return fspec; }\n\n    const lastSlashIdx = fspec.lastIndexOf('/');\n    return (lastSlashIdx) !== -1 ? fspec.substring(0, lastSlashIdx) : fspec;\n  }\n\n  /**\n   * Given a fully qualified file specification (path + filename),\n   * return the filename portion.\n   *\n   * @param {string} fspec file path with file name, eg. /path/filename\n   * @return {string} filename portion, e.g., filename\n   */\n  static GetFilenameFromFileSpec(fspec) {\n    if ((fspec == null) || (fspec.length === 1)) { return fspec; }\n\n    const lastSlashIdx = fspec.lastIndexOf('/');\n    if (lastSlashIdx === fspec.length) { return fspec; }   // last char is a slash!\n    return (lastSlashIdx) !== -1 ? fspec.substring(lastSlashIdx + 1) : fspec;\n  }\n\n  /**\n   * Return true if string is empty, which\n   * includes null.\n   *\n   * @param {string=} s string or null\n   * @param {boolean} trim true to trim first before checking for length\n   * @return {boolean} true if string is empty or null\n   */\n  static StringIsEmpty(s, trim = false, nullIsEmpty = true) {\n    if (s == null && (nullIsEmpty === false)) { return false; }\n    return this.StringLength(s, trim) === 0;\n  }\n\n  /**\n   * Return if the given value is either null or undefined.\n   *\n   * @param {*} v any value\n   * @return {boolean} true if value is either null or undefined.\n   *\n   * @see ~NotNull\n   */\n  static IsNull(v) {\n    return (v === null) || (v === undefined);\n  }\n\n  /**\n   * Check if value is not null or not undefined\n   *\n   * @param {*} v\n   * @return {boolean} true if value is not null or undefined\n   *\n   * @see ~IsNull\n   */\n  static NotNull(v) {\n    return (v !== null) && (v !== undefined);\n  }\n\n  /**\n   *\n   * @param {*} s\n   * @return {boolean} true if string type\n   */\n  static IsString(s) {\n    return typeof s === 'string';\n  }\n\n  /**\n   *\n   * @param {*} s1\n   * @param {*} s2\n   * @param {boolean=} ignoreCase\n   * @param {boolean=} nullIsEmpty\n   * @param {boolean=} trim\n   * @return {boolean}\n   */\n  static StringEquals(s1, s2, ignoreCase = true, nullIsEmpty = false, trim = false) {\n    if (trim === true) {\n      s1 = (Util.NotNull(s1)) ? String(s1).trim() : null;\n      s2 = (Util.NotNull(s2)) ? String(s2).trim() : null;\n    }\n    if (nullIsEmpty === true) {\n      if (s1 && s1.length === 0) { s1 = null; }\n      if (s2 && s2.length === 0) { s2 = null; }\n    }\n    if (ignoreCase === false) {\n      s1 = (Util.NotNull(s1)) ? String(s1).toLowerCase() : null;\n      s2 = (Util.NotNull(s2)) ? String(s2).toLowerCase() : null;\n    }\n    return s1 === s2;\n  }\n\n  /**\n   * Match a string as a substring of another\n   *\n   * @param {string} s1 should be keyword to check inside s2\n   * @param {string} s2 longer string to check for embedment of s1\n   * @param {boolean} ignoreCase true to convert all to lowercase before comparing\n   * @param {boolean} partial true to do additional match with subset of s1. s1 is trimed\n   * from right to left as expecting user to type word from left to right.\n   * @return {number} 100% is complete match, > 0% is subset pct, < 0% is partial match of s1,\n   * with -99% the highest possible partial match and -1% minimum match.\n   */\n  static StringMatchPct(s1, s2, ignoreCase = true, partial = true, trim = true) {\n    let kwd = s1 || null;\n    let text = s2 || null;\n    if ((kwd == null) || (text == null)) { return 0; }\n\n    if (ignoreCase) {\n      kwd = s1 ? s1.toLowerCase() : s1;\n      text = s2 ? s2.toLowerCase() : s2;\n    }\n\n    if (trim) {\n      kwd = kwd.trim();\n      text = text.trim();\n    }\n    const klen = kwd.length;\n    const tlen = text.length;\n    if (klen === tlen) {\n      if (kwd === text) { return 100; }\n    }\n    if (text.indexOf(kwd) >= 0) {\n      // console.log(\"StringMatchPct\", `key ${kwd} found in text: ${text}`);\n      return Math.ceil(((tlen - klen) / tlen) * 100);\n    }\n\n    if (partial === false) { return 0; }   // 0% match\n\n    return 0;   // for now\n  }\n\n  /**\n   * Hash the given string into some hash code\n   *\n   * @param {string} s shouild be, or we'll try to make it a string.\n   * @return {number} hashed code unless there was exception. null will return zero\n   */\n  static HashString(s) {\n    if (s == null) { return 0; }\n    if (typeof s !== 'string') { s = String(s); }\n    let hashedVal;\n    try {\n      hashedVal = s.split('').reduce((a, b) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0);\n    } catch (e) {\n      hashedVal = s;\n    }\n    // console.error(`Hash: \"${s} => ${result}`);\n    return (hashedVal < 0) ? -hashedVal : hashedVal;\n  }\n\n  /**\n   * Hash a value based on two timestamps.\n   *\n   * @param {number} ts1\n   * @param {number} ts2\n   * @return {string} hashed code as String\n   */\n  static HashTimestamps(ts1, ts2) {\n    if ((ts1 === -1) || (ts1 === null)) { ts1 = ''; }\n    if ((ts2 === -1) || (ts2 === null)) { ts2 = ''; }\n\n    return Util.HashString(String(ts1) + String(ts2));\n  }\n\n\n  // --------------------------- ARRAYS -------------------------------\n\n  /**\n   * Determine if the given value is an empty/null array.\n   * This function will check for null or none-array type and\n   * treated them as empty.\n   *\n   * @param {Array} a value to check\n   * @return {boolean} true if value is null, non-array, or empty array (length zero)\n   */\n  static ArrayIsEmpty(a) {\n    if (!a) { return true; }\n    if (!Array.isArray(a)) { return true; }\n    return a.length <= 0;\n  }\n\n  /**\n   * Given an object array, return the the object that\n   * has a property name that matches the given value\n   *\n   * @param {object[]} list array of object\n   * @param {string} label property name inside objects to check\n   * @param {*} value value to compare (using ==)\n   * @return {*} item in list that match the label == value\n   */\n  static GetObjectFromArrayByValue(list, label, value) {\n    const count = list ? list.length : 0;\n    let result;\n    let item;\n    for (let i = 0; i < count; i++) {\n      item = list[i];\n      if (item && item[label] && (item[label] === value)) {\n        result = item;\n        break;\n      }\n    }\n    return item;\n  }\n\n  /**\n   * Take an array and convert to a string that quotes every element.\n   * @param {Array} a array of values. elements should be string or\n   * convertable to string\n   * @param {string} eq element quote symobol (default to single quote)\n   * @param {string} sqLeft left string quote symbol (default to double quote)\n   * @param {string} sqRight right string quote symbol (default to double quote)\n   * @param {string} delim delimiter between elements. (default to comma)\n   * @return {string} formatted string array representation\n   */\n  static ArrayToQuotedString(a, eq = \"'\", sqLeft = '\"', sqRight = '\"', delim = ',') {\n    if (Util.ArrayIsEmpty(a)) { return `${eq}${eq}`; }\n\n    const joiner = `${eq}${delim}${eq}`;\n    const s = `${sqLeft}${eq}${a.join(joiner)}${eq}${sqRight}`;\n    // console.log(`ArrayToQuotedString: ${a} ==> ${s}`);\n    return s;\n  }\n\n  /**\n   * Take an array and convert to JavaScript array expression, parsable\n   * by JSEP.\n   *\n   * @param {Array} a\n   * @param {string} eq element quote symbole (default to single quote)\n   * @return {string} format like ['a','b','c']\n   */\n  static ArrayToJSString(a, eq = \"'\") {\n    return Util.ArrayToQuotedString(a, eq, '[', ']');\n  }\n\n  /**\n   * Convert a (JavaScript) string expression of an array to actual strin garray\n   *\n   * @param {string} arrayStr string array expression like ['a','b','c']\n   * @param {boolean} enforceBrackets true to return string if no square brackets found\n   * @param {*} defaultVal default return value if null\n   * @return {[]} array, or original string if no brackets and enforceBracket=true\n   */\n  static JSStringToArray(arrayStr, enforceBrackets = true, defaultVal = []) {\n    if (Util.StringIsEmpty(arrayStr)) { return defaultVal; }\n\n    const len = arrayStr.length;\n    const startPos = (arrayStr[0] === '[') ? 1 : 0;\n    const endPos = (arrayStr[len - 1] === ']') ? len - 1 : len;\n    if (enforceBrackets) {\n      if (startPos !== 1 && endPos !== (len - 1)) { return arrayStr; }\n    }\n    const trimmedStr = arrayStr.substring(startPos, endPos);\n    // console.log(`JSStringToArray: ${arrayStr} ==> ${trimmedStr}`);\n\n    const result = trimmedStr.split(',');\n    return result;\n  }\n\n  /**\n   * Remove given item from the array. If the\n   * item appears multiple times, all will be\n   * removed.\n   *\n   * @param {[]} list array of objects (only string is tested)\n   * @param {*} item item to check in list, recognizable by Array.indexOf()\n   * @return {[]} same list but with item removed\n   */\n  static RemoveFromArray(list, item) {\n    if (list == null || list.length === 0) { return list; }\n    let idx = list.indexOf(item);\n    while (idx >= 0) {\n      list.splice(idx, 1);\n      idx = list.indexOf(item);\n    }\n    return list;\n  }\n\n\n  /**\n   * Convert the stringified array returned by redis to array\n   *\n   * @param {string} text clear text to check against hashed. No-op if already array\n   * @return {[]} list result array\n   */\n   static Text2Array(text = '') {\n    if (Array.isArray(text)) {\n      return text;\n    }\n    const re = new RegExp(/^\\[.*\\]$/g);\n    if (!re.test(text) || text.length < 1) {\n      // console.log('Text2Array: text: ', text, ' failed regexp check');\n      return text;\n    }\n    let result = text.slice(1, -1);\n    let result_t = '';\n    result = result.replace(/\"/g, '');\n    result_t = result.replace(',', '');\n    result = result && result_t !== '' ? result.split(',') : null;\n    return result;\n  }\n\n  // ----------------------------- USERNAMES ----------------------------\n\n  /**\n   * Compare two username strings and report if they are the same. This\n   * will ignore case and trim white spaces.\n   *\n   * @param {string} username1\n   * @param {string} username2\n   * @return {boolean} true if usernames are equivalent\n   */\n  static UsernameEquals(username1, username2) {\n    return Util.StringEquals(username1, username2, true, true, true);\n  }\n\n\n  /**\n   * Render a {first_name} {last_name} where each's first\n   * letter is capitalized. If either first or last name\n   * is empty/null, then only return one of them.\n   *\n   * @param {string} fname\n   * @param {string} lname\n   * @return {string} `${first} ${last}` or one of them\n   */\n  static CraftName(fname, lname) {\n    const fn = Util.FirstAlphaNumeric(fname, false, null);\n    const ln = Util.FirstAlphaNumeric(lname, false, null);\n\n    if (Util.StringIsEmpty(fn)) {\n      if (Util.StringIsEmpty(ln)) { return ''; }\n      return ln;\n    } else if (Util.StringIsEmpty(ln)) {\n      return fn;\n    }\n    return `${fn} ${ln}`;\n  }\n\n  /**\n   * Given a string, return the first character that is\n   * an alphanumeric. This means a letter or a number.\n   *\n   * @param {string} s\n   * @param {boolean} toUpperCase convert the alpha character to upper case?\n   * @param {string} defaultVal default value in case no alphanumeric in string\n   * @return {string} first character matching or defaultVal\n   */\n  static FirstAlphaNumeric(s, toUpperCase = false, defaultVal = '') {\n    if (s == null) { return defaultVal; }\n    let c;\n    for (let i = 0; i < s.length; i++) {\n      c = s.charAt(i);\n      if ((c >= 'A' && c <= 'Z') ||\n        (c >= 'a' && c <= 'z') ||\n        (c >= '1' && c <= '9')) {\n        return toUpperCase ? c.toUpperCase() : c;\n      }\n    }\n    return defaultVal;\n  } // FirstAlphaNumeric\n\n  /**\n   * Sanitize a word including trimming, and optionally\n   * lowercasing and white space removal.\n   *\n   * @param {*} input input string, or can be a string\n   * @param {*} lowerCase convert to lower case.\n   */\n  static SanitizeWord(input, lowerCase = false) {\n    if (input == null) { return null; }\n    let cleaned = String(input).trim();\n    if (lowerCase === true) { cleaned = cleaned.toLowerCase(); }\n\n    return cleaned;\n  }\n\n  /**\n   * Validate username and return lowercase version of it.\n   *\n   * @param {string} inputName\n   * @return {string} all lowercased and white space removed.\n   * If null, then either input is null or input string is invalid.\n   * Either way it's invalid.\n   * @see ~UsernameIsValid\n   */\n  static NormalizeUsername(inputName) {\n    if (inputName == null) { return null; }\n\n    const u = String(inputName).toLowerCase().trim();\n\n    const verdict = UsernamePattern.test(u);\n    if (verdict == null) {\n      console.log('username invalid: ', inputName);\n      console.trace();\n    }\n\n    return verdict ? u : null;\n  }\n\n  /**\n   * Check username to see if it is a valid string, e.g., no spaces,\n   * or certain special characters and length\n   * @param {string} inputName\n   * @return {boolean} true if string format is valid, false if not\n   */\n  static UsernameIsValid(inputName) {\n    const candidate = Util.NormalizeUsername(inputName);\n    if (candidate == null) { return false; }\n\n    if (ReservedUsernames.includes(candidate)) { return false; }\n\n    return ((candidate.length >= UserProps.USERNAME_MIN_LENGTH) && (candidate.length <= UserProps.USERNAME_MAX_LENGTH));\n  }\n\n  /**\n   * Check nickname (screen name) to see if it is a valid string\n   *\n   * @param {string} inputName\n   * @param {boolean} nullOK is null acceptable?\n   * @return {boolean} true if string format is valid, false if not\n   */\n  static NicknameIsValid(inputName, nullOK = false) {\n    if (Util.StringIsEmpty(inputName, true, true)) { return !!nullOK; }\n\n    return ((inputName.length >= UserProps.NICKNAME_MIN_LENGTH) && (inputName.length <= UserProps.NICKNAME_MAX_LENGTH));\n  }\n\n  static NormalizeEmail(input) {\n    return input ? input.trim().toLowerCase() : null;\n  }\n\n  /**\n   * Determine if the given string has a valid email format.\n   *\n   * @param {string} input string to test\n   * @return {boolean} true if valid email structure\n   */\n  static EmailIsValid(input) {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(input);\n  }\n\n  /**\n   * Determine if the given string has a valid birthday format.\n   *\n   * @param {string} input string to test\n   * @return {boolean} true if valid email structure\n   */\n  static BirthdayIsValid(input) {\n    return /^\\d{4}[/-](0[1-9]|1[012])[/-](0[1-9]|[12][0-9]|3[01])$/.test(input);\n  }\n\n  /**\n   *\n   * @param {string} input\n   */\n  static PasswordLengthOK(input) {\n    if (!input) { return false; }\n\n    return input.length >= PASSWORD_MIN_LENGTH && input.length <= PASSWORD_MAX_LENGTH;\n  }\n\n  /**\n   * Check if the give input string to be used as password\n   * is valid.\n   *\n   * @param {string} input string to validate as password\n   * @param {string=} userId username to check for inclusion (optional)\n   * @return {*} error code or 0 (number) for being valid\n   */\n  static PasswordIsValid(input, userId = null) {\n    // const _invalid = 1;\n    if (Util.StringIsEmpty(input)) { return PASS_TOO_SHORT; }\n\n    const lc_pwd = String(input).toLowerCase().trim();\n    const lc_userId = userId ? String(userId).toLowerCase().trim() : null;\n\n    if (lc_userId && lc_pwd.includes(lc_userId)) {\n      return PASS_INCL_NAME;\n    }\n\n    const u = String(input).trim();\n\n    if (u.indexOf(' ') !== -1) { return PASS_BAD_CHARS; }\n\n    if (u.length < PASSWORD_MIN_LENGTH) { return PASS_TOO_SHORT; }\n\n    if (u.length > PASSWORD_MAX_LENGTH) { return PASS_TOO_SHORT; }\n\n    return 0;\n  }\n\n  /**\n   * Strip character at the beginning and end\n   * of the string that is collectively used to\n   * quote or wrap the string. Beginning or end\n   * must match in order for stripping to happen.\n   *\n   * Optionally, specify a character explicitly\n   * and that will be used for stripping.\n   *\n   * @param {string} str string to strip wrapper\n   * @param {string=} charLeft left character to look for explicitly.\n   * If specified, both beginning and ending must\n   * match this char.\n   * @param {string=} charRight right character to look for explicitly\n   * if specified. It's useful if it's not same as left char but\n   * matching like brackets. If null, then will use charLeft if\n   * specified.\n   */\n  static StripWrapper(str, charLeft = null, charRight = null) {\n    const len = (str == null) ? 0 : str.length;\n\n    const charRightMap = {\n      '{': '}',\n      '[': ']',\n      '(': ')',\n      '<': '>',\n      '\"': '\"',\n      '\\'': '\\'',\n      '`': '`',\n    };\n\n    if (len < 2) { return str; }\n\n    const c0 = str.charAt(0);\n    if (charLeft == null) {\n      charLeft = c0;\n      if (charRightMap[charLeft] == null) { return str; }\n    }\n    if (charRight == null) {\n      charRight = charRightMap[charLeft];\n      if (charRight == null) { charRight = charLeft; }\n    }\n\n    if ((c0 !== charLeft) || (str.charAt(len - 1) !== charRight)) { return str; }\n    str = str.substring(1, len - 1);\n    return str;\n  } // Stripwrapper\n\n  /**\n   * Strip prefix from the given string\n   *\n   * @param {string} str string to strip\n   * @param {string} prefix prefix to match and strip\n   * @param {boolean} ignoreCase true to match prefix\n   * @return {string} string with prefix stripped if matched,\n   * or else return original\n   */\n  static StripPrefix(str, prefix, ignoreCase = true) {\n    const s = ignoreCase ? str.toLowerCase() : str;\n    const p = ignoreCase ? prefix.toLowerCase() : prefix;\n    // console.log(`s=${s}, prefix=${p}, indexOf(prefix): ${s.indexOf(prefix)}`);\n    if (s.indexOf(p) !== 0) { return str; }\n\n    return str.substring(prefix.length);\n  }\n\n  /**\n   * Utility to check if an object is empty\n   *\n   * @param {{}} o\n   */\n  static ObjectIsEmpty(o) {\n    if (o == null) { return true; }\n    return Object.entries(o).length === 0 && o.constructor === Object;\n  }\n\n\n  /**\n   * Strip http:// or https:// from the given\n   * host expression or URL.\n   *\n   * @param {string} hostExpr host/url string\n   * @return {string} stripped if http:// or https:// found.\n   * host string will all be lower cased regardless!\n   */\n  static StripHttpFromURL(hostExpr) {\n    hostExpr = hostExpr.toLowerCase();\n    if (hostExpr.startsWith('http://')) { hostExpr = hostExpr.slice(7); } else if (hostExpr.startsWith('https://')) { hostExpr = hostExpr.slice(8); }\n    return hostExpr;\n  }\n\n  /**\n   * Add a parameter/value pair to existing URL string.\n   * If will check for \"?\". If exist, then will use\n   * ampersand for subsequent parameter. if not, then\n   * it assumes first parameter and will use \"?\"\n   *\n   * @param {string} url existing URL string\n   * @param {string} label parameter label\n   * @param {string} value value in String\n   * @return {string} new URL string\n   */\n  static AddParamToURL(url, label, value) {\n    if (Util.StringIsEmpty(label) || Util.StringIsEmpty(url)) { return url; }\n\n    if (value == null) { value = ''; } // avoid printing \"null\" as string\n\n    const paramPrefix = (url.indexOf('?') >= 0) ? '&' : '?';\n\n    return `${url}${paramPrefix}${label}=${value}`;\n  }\n\n  static AssertInstanceOf(object, classObj, classname, method, msg, ...args) {\n    if (object instanceof classObj) { return true; }\n    console.assert(false, `${classname}.${method}: ${msg}`, args);\n    return false;\n  }\n\n  /**\n   * Support for insertion into the RHS of something\n   * like incl=\"value1|value2|value3|...\"\n   *\n   * Currently values must be unique, so redundant values will\n   * not be appended\n   *\n   * @param {string=} valuesString current stirng, eg. \"value1|value2\", or null is fine\n   * @param {string[]} newOptions one or more values in array, eg [\"value3\"]\n   * @param {string} delimitor character to use to separate\n   * @return {string} new value string, eg., \"value1|value2|value3\" or no change\n   * if value already exists\n   *\n   * @see ~RemoveValueFromValuesString\n   * @see ~HasValueInValuesString\n   */\n  static AddValueToValuesString(valuesString, value, delimitor = '|', uppercase = true) {\n    const values = valuesString ? valuesString.split(delimitor) : [];\n    if (uppercase) { value = value.toUpperCase(); }\n    if (values.indexOf(value) >= 0) { return valuesString; }    // no change\n\n    values.push(value);\n    return values.join(delimitor);\n  }\n\n  /**\n   * Remove a value from a value string like: \"value1|value2|value3\"\n   *\n   * @param {string} valueString\n   * @param {string} value\n   * @param {string} delmitor\n   * @param {boolean} uppercase true to convert all values to upper case to compare\n   *\n   * @see ~AddValueToValuesString\n   */\n  static RemoveValueFromValuesString(valuesString, value, delimitor = '|', uppercase = true) {\n    const values = valuesString ? valuesString.split(delimitor) : [];\n    if (uppercase) { value = value.toUpperCase(); }\n    const pos = values.indexOf(value);\n    if (pos < 0) { return valuesString; }\n\n    values.splice(pos, 1);\n    return values.join(delimitor);\n  }\n\n  /**\n   * Given a string containing multiple values delimited, this Utility\n   * offers a richer sematic/converson from regular string.split()\n   *\n   * @param {string} valueString\n   * @param {string} delimitor\n   * @param {boolean} uppercase true to convert all values to upper case\n   * @return {string[]} array of all values parsed from given value string\n   *\n   * @see ~HasValueInValuesString\n   * @see ~AddValueToValuesString\n   * @see ~RemoveValueFromValuesString\n   */\n  static GetValuesInValuesString(valuesString, delimitor = '|', uppercase = true) {\n    if (valuesString == null) { return []; }\n    if (uppercase) { valuesString = valuesString.toUpperCase(); }\n    const values = valuesString.split(delimitor);\n    return values;\n  }\n\n  /**\n   * Check if a value exists in a value string like: \"value1|value2|value3\"\n   *\n   * @param {string} valueString\n   * @param {string} value1 first value to check\n   * @param {string} value2 optionally second value to check if first one not in\n   * @param {string} delimitor\n   * @return {boolean}\n   *\n   * @see ~GetValueInValuesString\n   * @see ~AddValueToValuesString\n   * @see ~RemoveValueFromValuesString\n   */\n  static HasValueInValuesString(valuesString, value1, value2, delimitor = '|', uppercase = true) {\n    let values;\n    try {\n      if (valuesString == null) { return false; }\n      if (uppercase) { valuesString = valuesString.toUpperCase(); }\n      values = valuesString.split(delimitor);\n      if (uppercase && value1) {\n        value1 = value1.toUpperCase();\n      }\n      if (value1 && values.includes(value1)) {\n        return true;\n      }\n      if (uppercase && value2) {\n        value2 = value2.toUpperCase();\n      }\n      return value2 ? values.includes(value2) : false;\n    } catch (err) {\n      console.error(`Value String: ${valuesString}, value:`, values);\n      console.log(err);\n      return false;\n    }\n  }\n\n  /**\n   * Count number of fields in the given object/json\n   *\n   * @param {{}} obj\n   * @return {number} number of fields\n   */\n  static ObjectSize(obj) {\n    if (!obj) { return 0; }\n\n    let size = 0;\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) size++;\n    }\n    return size;\n  }\n\n  /**\n   * Given a sequence of keys in a string path, traverse the nested json\n   * and retrieve the value.\n   *\n   * @param {{}} jsonObj data to traverse\n   * @param {string} path path of keys with delimitor\n   * @param {*} defaultVal return value if value not found\n   * @param {string=} delim delimitor for paths. Default is dot '.'\n   *\n   * @see ~GetEmbeddedJSONKeys\n   */\n  static GetEmbeddedJSONPaths(jsonObj, path, defaultVal = null, delim = '.') {\n    const keyArray = (path == null) ? null : String(path).split(delim);\n    // console.log(`path: ${path} => keyArray:`, keyArray);\n    return (keyArray == null) ? defaultVal : Util.GetEmbeddedJSONKeys(jsonObj, keyArray, defaultVal);\n  }\n\n  /**\n   * Given a sequence of keys as array,traverse the nested json and return the value.\n   *\n   * @param {{}} jsonObj data to traverse\n   * @param {string=} keyArray array of successive keys to navigate inside json\n   * @return {{}} either matched embedded JSON or passed in JSON if\n   * path is empty\n   *\n   * @see ~GetEmbeddedJSONPaths\n   */\n  static GetEmbeddedJSONKeys(jsonObj, keyArray, defaultVal = null) {\n    if (!Array.isArray(keyArray)) { return defaultVal; }\n\n    if (keyArray.length === 0) { return defaultVal; }\n\n    const key = keyArray[0];\n    let value = jsonObj[key];\n\n    // console.log(`key: ${key}, value:`, JSON.stringify(value));\n\n    if (keyArray.length > 1) {\n      // continue depth or return\n      const subpath = keyArray.slice(1);\n      if (typeof (value) === 'object') { value = Util.GetEmbeddedJSONKeys(value, subpath); }\n    }\n    return (value == null) ? defaultVal : value;\n  } // GetEmbeddedJSON\n\n  /**\n   * Given an object with properties, extract a subset\n   * using the inclusion and exclusion field name list.\n   *\n   * @param {{}} jsonObj object to extract properties from\n   * @param {string[]} inFields array of property names to include\n   * @param {string[]} excFields array of property names to exclude.\n   * If property name is found in both include and exclude list,\n   * the exclusion will win.\n   * @param {*} defaultVal return this if null or empty results\n   * @return {{}} new object with subset of properties\n   *\n   * @see ~ImportObjectFields\n   */\n  static ExportObjectFields(jsonObj, inFields = null, exFields = null, defaultVal = {}) {\n    let value;\n    const results = {};\n    let count = 0;\n    for (const label in jsonObj) {\n      if (inFields && !(inFields.includes(label))) { continue; }\n      if (exFields && (exFields.includes(label))) { continue; }\n      value = jsonObj[label];\n      results[label] = value;\n      count++;\n    }\n    return (count > 0) ? results : defaultVal;\n  } // GetObjectFields\n\n  /**\n   * Import data into a json object\n   *\n   * @param {{}} jsonObj main data structure to receive the import data\n   * @param {{}} importData json data to add to main data or replace\n   * @param {*} override true to override, false to ignore\n   * @return {{}} old data or null if none was replaced\n   *\n   * @see ~ExportObjectFields\n   */\n  static ImportObjectFields(jsonObj, importData, override = false) {\n    const oldData = {};\n    let replaceCount = 0;\n    let value;\n    for (const label in importData) {\n      value = jsonObj[label];\n      if (value) {\n        oldData[label] = value;\n        replaceCount++;\n      }\n      jsonObj[label] = importData[label];\n    }\n    return (replaceCount > 0) ? oldData : null;\n  } // ImportObjectFields\n\n  /**\n   *\n   * @param {string[]} list1\n   * @param {string[]} list2\n   */\n  static MergeStrings(list1, list2) {\n    if (list2 == null) { return list1; }\n    if (list1 == null) { return list2; }\n    const merged = [...list1, ...list2];\n    return Util.UniqueArray(merged);\n  }\n\n  /**\n   * Make the given array list unique\n   *\n   * @param {[]} list array to remove exact duplicate objects\n   * @return {[]} same array but minus duplicates\n   */\n  static UniqueArray(list) {\n    if (list == null || !Array.isArray(list)) { return list; }\n\n    const a = list;   // use the same array (for now)\n    for (let i = 0; i < a.length; ++i) {\n      for (let j = i + 1; j < a.length; ++j) {\n        if (a[i] === a[j]) { a.splice(j--, 1); }\n      }\n    }\n\n    return a;\n  }\n\n  /**\n   * Takes a list that is resulted from a merge of lists returned by different get user feed functions\n   * such as GetDeclaredUsertags, GetDeclaredHashtags. Then the method will remove duplicates in the list\n   * but keep a record of the count of occurrence of each item and sort the result list based on the occurence\n   * counts - this is an initial version of sort by relevance.\n   *\n   * @param {[]} list array to remove exact duplicate objects\n   * @param {boolean} inc increment order?\n   * @return {[]} sorted unique array\n   *\n   * @see TagService.GetDeclaredUsertags\n   * @see TagService.GetDeclaredHashtags\n   */\n  static UniqueArraySortByRelevance(list, inc = false) {\n    // Get tag appearance count, bigger appearance count = better relevance\n    const entrymap = {};\n    for (const e of list) {\n      entrymap[e] = entrymap.hasOwnProperty(e) ? entrymap[e] + 1 : 1;\n    }\n    if (Util.IsNull(entrymap)) {\n      return [];\n    }\n\n    // Sort htapmap, utapmap by value (appearance count)\n    const entrymap_sorted = new Map(Object.entries(entrymap).sort((a, b) => {\n      if (inc) {\n        return a[1] - b[1];\n      }\n      return b[1] - a[1];\n    }));\n\n    return Array.from(entrymap_sorted.keys());\n  }\n\n  /**\n   * Take two arrays and return union\n   * @param {[]} array1\n   * @param {[]} array2\n   * @return {[]} unique merged array\n   */\n  static Union2Arrays(array1, array2) {\n    const s = new Set([...array1, ...array2]);\n    return Array.from(s);\n  }\n\n  /**\n   * Compare two arrays that goes deep\n   *\n   * @param {Array} list1\n   * @param {Array} list2\n   *\n   * @return {boolean} true if values are same, false if not\n   */\n  static CompareArrays(list1, list2, stack = null) {\n    // if the other array is a falsy value, return\n    if (list1 === list2) { return true; }\n\n    if (!list1 || !list2) { return false; }\n\n    // compare lengths - can save a lot of time\n    if (list1.length !== list2.length) { return false; }\n\n    for (let i = 0, l = list1.length; i < l; i++) {\n      // Check if we have nested arrays\n      if (list1[i] instanceof Array && list2[i] instanceof Array) {\n        if (stack == null) {\n          stack = new Set();\n        } else if (stack.has(list1) || stack.has(list2)) {\n          // circular?\n          console.warn('CmpAr: deep nesting/circulr?');\n          // console.warn(\"  Trace List 1:\", list1);\n          // console.warn(\"  Trace List 2:\", list2);\n          return false;\n        }\n        stack.add(list1);\n        stack.add(list2);\n        // recurse into the nested arrays\n        if (Util.CompareArrays(list1[i], list2[i], stack) === false) { return false; }\n      } else if (list1[i] !== list2[i]) {\n        // Warning - two different object instances will never be equal: {x:20} !== {x:20}\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Capitalize the first character of the given string. The entire\n   * word is lowercased first.\n   *\n   * @param {string} s\n   * @return {string} capitalized word\n   */\n  static Capitalize(s) {\n    const text = (typeof s !== 'string') ? String(s).toLowerCase() : s.toLowerCase();\n    return text.charAt(0).toUpperCase() + text.slice(1);\n  }\n\n  /**\n   * @param {string} s, the string to get from\n   * @param {boolean} lowercase, convert the string to lowercase\n   * @param {string} defalutvalue, if no string can be get, the default value to return\n   */\n  static GetString(s, lowercase = true, defaultvalue = null) {\n    if (lowercase) {\n      return (typeof s === 'string') ? s.toLowerCase() : defaultvalue;\n    }\n\n    return (typeof s === 'string') ? s : defaultvalue;\n  }\n\n  /**\n   * Capitalize a string of words, like a title.\n   *\n   * @param {string} s string containing one or more words\n   * @return {string} new string that lowercased all and\n   * capitalize first letter of each word.\n   */\n  static CapitalizeTitle(s) {\n    const words = s.toLowerCase().split(' ');\n    const capWords = [];\n    for (let i = 0; i < words.length; i++) {\n      capWords.push(Util.Capitalize(words[i]));\n    }\n    return capWords.join(' ');\n  }\n\n  /**\n   * Convert a string value to boolean by taking best\n   * guess for the intention. values \"true\", \"on\", \"yes\",\n   * or any positive number all means true\n   *\n   * @param {*} value\n   * @param {boolean} defaultVal if value given is null/undefined\n   * @return {boolean} boolean true or false\n   */\n  static toBoolean(value, defaultVal = false) {\n    if (value == null) { return defaultVal; }\n    if (typeof (value) === 'boolean') { return value; }\n    if (typeof (value) === 'number') { return (value > 0); }\n    if (typeof (value) !== 'string') { value = `${value}`; }\n    switch (String(value).toLowerCase()) {\n      case 'true':\n      case 't':\n      case '1':\n      case 'on':\n      case 'yes':\n      case 'y':\n        return true;\n\n      case 'false':\n      case 'f':\n      case '0':\n      case 'no':\n      case 'n':\n        return false;\n\n      default:\n        return defaultVal;\n    }\n  } // toBoolean\n\n  /**\n   * Convert a string value to a number, catches null\n   * or other exceptions and return a desired default.\n   *\n   * @param {*} value anything that Number() can convert to number\n   * @param {number=} defaultVal if value given is null or error\n   * @return {number} numeric value or defaultVal\n   */\n  static toNumber(value, defaultVal = null) {\n    if ((value === null) || (value === undefined)) {\n      return defaultVal;\n    }\n    if (typeof (value) === 'number') { return value; }\n    try {\n      if (typeof (value) === 'string') { value = Number(value); } else { value = Number(String(value)); }  // justin case\n      return (typeof (value) === 'number') ? value : defaultVal;\n    } catch (e) {\n      console.trace(e);\n      return defaultVal;\n    }\n  } // toNumber\n\n  /**\n   * Compare two values as numbers. Both will be converted\n   * to Number first. This is especially useful if the two\n   * values are equivalent integer but represented differently,\n   * e.g., one is a string\n   *\n   * @param {*} v1\n   * @param {*} v2\n   * @returns {boolean} true if numeric representation is the same\n   */\n  static NumberEquals(v1, v2) {\n    const n1 = Util.toNumber(v1, 'b1');\n    const n2 = Util.toNumber(v2, 'b2');\n    return n1 === n2;\n  }\n\n  /**\n   * Given a number, determine which suffix to add for\n   * position: st (1s), nd (2s), rd(3s), or th(others).\n   * The exception is the modulo of 100 where 11th, 12th, and 13th\n   * break this rule.\n   *\n   * NOTE: This is ENGLISH only!!!!!\n   *\n   * @param {number} value must be an integer and positive number!\n   * @param {string} lang language/locale (not implemented)\n   * @param {*} defaultVal in case of exception (not integer)\n   * @return {string} appropriate suffix (st, nd, rd, or th)\n   */\n  static GetNth(value, lang = null, defaultVal = null) {\n    if (Util.NotNull(value)) { value = Number(value); }\n    if (!Number.isInteger(value) || (value < 0)) { return defaultVal; }\n\n    let suffix = 'th';\n    // Do the exception first (11th, 12th, and 13th)\n    const double = (value > 99) ? value % 100 : value;\n    if ((double >= 10) && (double <= 20)) { return suffix; }\n\n    const single = (value > 9) ? value % 10 : value;\n    switch (single) {\n      case 1:\n        suffix = 'st';\n        break;\n      case 2:\n        suffix = 'nd';\n        break;\n      case 3:\n        suffix = 'rd';\n        break;\n      default:\n      // use \"th\"\n    }\n    return suffix;\n  } // GetNth\n\n  static IntegerToHex(c) {\n    const hex = c.toString(16);\n    return hex.length === 1 ? `0${hex}` : hex;\n  }\n\n  /**\n   * Given RGB values in 3 separate integers, return a hex string representing\n   * RGB.\n   *\n   * @param {string} r integer (byte) value for red\n   * @param {string} g integer (byte) value for green\n   * @param {string} b integer (byte) value for blue\n   * @return {string} hex format of '#000000'\n   */\n  static RgbToHex(r, g, b) {\n    return `#${this.integerToHex(r)}${this.integerToHex(g)}${this.integerToHex(b)}`;\n  }\n\n  /**\n   * Decode 3-byte hex string into R, G, B values. If not in a hex format that it\n   * understands, original value will be returne (e.g., \"yellow\", \"black\")\n   *\n   * @param {string} hex hex value to decode\n   * @return {{r,g,b}} decoded structure, or original input value if not hex format.\n   */\n  static HexToRgb(hex) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16),\n    } : hex;\n  }\n\n  static GenRandom(seed = null, bytes = 4, base = 36) {\n    const byteMask = {\n      2: 0x0000FFFF,\n      4: 0xFFFFFFFF,\n      8: 0x0000FFFFFFFFFFFF,\n      16: 0xFFFFFFFFFFFFFFFF,\n    };\n    if (seed == null) { seed = Date.now(); } else if (typeof seed !== 'number') { seed = Util.HashString(seed); }\n    const v = seed & byteMask[bytes];\n    return ((v < 0) ? -v : v).toString(base).toUpperCase();\n  }\n\n  static GenRandomLong() {\n    const s = Math.trunc(Math.random() * 10000000000000);\n    return s;\n  }\n\n  static CloneObject(obj) {\n    return JSON.parse(JSON.stringify(obj));\n  }\n\n  /**\n   * Manual recursive clone instead of doing\n   * JSON.parse(JSON.stringify(obj)). This allows\n   * filtering or in-copy changes.\n   *\n   * @param {object} obj\n   */\n  static RecursiveClone(obj) {\n    const clone = {};\n    for (const i in obj) {\n      if (Util.NotNull(obj[i]) && typeof (obj[i]) === 'object') { clone[i] = Util.CloneObject(obj[i]); } else { clone[i] = obj[i]; }\n    }\n    return clone;\n  }\n\n  /**\n   * Clone an instance of a class. Note this\n   * retains class type but does shallow copy only.\n   *\n   * @param {object} origInstance\n   */\n  static CloneInstance(origInstance) {\n    const newInstance = Object.assign(Object.create(Object.getPrototypeOf(origInstance)), origInstance);\n    return newInstance;\n  }\n\n  /**\n   * Sort array of objects by a specified UNIQUE field's label.\n   *\n   * WARNING: this function assumes the values from specified field\n   * are UNIQUE!! If not, then only one will be in the sorted result!!!\n   *\n   * @param {{}[]} objArray array of object with a label used to sort\n   * @param {string} label property label needed in each object. MUST BE UNIQUE\n   * @return {{}[]} sorted object array\n   */\n  static SortUniqueObjectsByLabel(objArray, label, comparer = null) {\n    const arraySize = objArray ? objArray.length : 0;\n    const objMap = Util.MapUniqueObjectsByField(objArray, label, true);\n\n    const keys = Object.keys(objMap);\n\n    // need to support comparer\n    // keys.sort(comparer);\n    keys.sort();    // NEED TO IMPORT MY OWN SORT THAT CARRIES DATA!!!\n\n    let key;\n    const sorted = [];\n    for (let j = 0; j < arraySize; j++) {\n      key = keys[j];\n      sorted.push(objMap[key]);\n    }\n    return sorted;\n  } // SortUniqueObjectsByLabel\n\n  /**\n   * Sort array of objects by a specified non-unique field's label, and\n   * with secondary options to append text\n   *\n   * WARNING: this function assumes the values from specified field\n   * are UNIQUE!! If not, then only one will be in the sorted result!!!\n   *\n   * @param {{}[]} objArray array of object with a label used to sort\n   * @param {string} label property label needed in each object. The value\n   * for this field do not have to be unique.\n   * @param {string=} label2 secondary field to use as tiebreaker in sorting.\n   * This is TBD as implementation by Util.MapObjectsFieldField() is TBD.\n   * @param {function=} comparer user-supplied comparison function (TBD)\n   * @return {{}[]} sorted object array\n   */\n  static SortObjectsByLabel(objArray, label, label2 = null, comparer = null) {\n    // const _m = \"SortObjectByLabel\";\n    const objMap = Util.MapObjectsByField(objArray, label, label2, true);\n    // console.log(_m, \"array: \", objArray, \"map: \", objMap);\n\n    const keys = Object.keys(objMap);\n    const arraySize = keys ? keys.length : 0;\n\n    // need to support comparer\n    // keys.sort(comparer);\n    keys.sort();    // NEED TO IMPORT MY OWN SORT THAT CARRIES DATA!!!\n    // console.log(_m, \"sorted keys: \", keys);\n\n    let key;\n    const sorted = [];\n    let sameKeyObjs;\n    for (let i = 0; i < arraySize; i++) {\n      key = keys[i];\n      sameKeyObjs = objMap[key];\n      // console.log(_m, `key: ${key}: sameKeyObjs:`, sameKeyObjs);\n      if (Array.isArray(sameKeyObjs)) {\n        if (sameKeyObjs.length === 1) { sorted.push(sameKeyObjs[0]); } else {\n          // multiple values with the same key\n          let value;\n          for (let j = 0; j < sameKeyObjs.length; j++) {\n            value = sameKeyObjs[j];\n            // secondary field to compare / append - TBD\n            sorted.push(value);\n          }\n        }\n      } else { sorted.push(sameKeyObjs); }\n    }\n    return sorted;\n  } // SortObjectsByLabel\n\n  /**\n   * Sort a data map by matching its key with a\n   * given field in the corresponding object.\n   * An example of this use is keyword (as key)\n   * match against title field in the object.\n   *\n   * @param {{}} dataMap object with key/object pairs\n   * @param {string} fieldName\n   * @return {{}} new map\n   */\n  static SortMapByMatchPct(dataMap, fieldName, matchWord) {\n    if (dataMap == null) {\n      console.trace(`${Util}.SortMapByMatchPct: null dataMap`);\n      return null;\n    }\n    const keys = Object.keys(dataMap);\n    const size = keys ? keys.length : 0;\n\n    let key;\n    let text;\n    let object;\n    let matchPct;\n    const keyPct = [];\n    for (let i = 0; i < size; i++) {\n      key = keys[i];\n      object = dataMap[key];\n      text = object ? object[fieldName] : null;\n      matchPct = Util.StringMatchPct(matchWord, text, true, true, true);\n      if (matchPct > 99) { console.log(`SortMapByMatchPct: key: ${key}, value: ${text}: pct: ${matchPct}`); }\n      keyPct.push((`000${matchPct}`).substr(-3, 3) + key);\n    }\n    keyPct.sort().reverse();\n    const resultMap = {};\n    for (let i = 0; i < size; i++) {\n      key = keyPct[i].substr(3);\n      text = dataMap[key];\n      resultMap[key] = text;\n    }\n    return resultMap;\n  } // SortMapByMatchPct\n\n  /**\n   * Create a object map out of object array using the\n   * specified field value as key\n   *\n   * @param {{}[]} objArray\n   * @param {string} label property label as key to the object\n   * @return {{}} object map\n   *\n   * @see ~MapObjectsByField\n   */\n  static MapUniqueObjectsByField(objArray, label, keepNull = true) {\n    if (objArray == null) { return null; }\n\n    const arraySize = objArray ? objArray.length : 0;\n    let key;\n    let obj;\n    const objMap = {};\n    for (let i = 0; i < arraySize; i++) {\n      obj = objArray[i];\n      key = obj[label];\n      if (key == null && (keepNull === false)) { continue; }\n      objMap[key] = obj;\n    }\n    return objMap;\n  } // MapObjectsByField\n\n  /**\n   * Create a object map out of object array using the\n   * specified field value as key. The difference with\n   * MapUniqueObjectsByField() is the returned map will\n   * associate an array of objects with each key, allowing\n   * non-unique values with the given field label.\n   *\n   * @param {{}[]} objArray\n   * @param {string} label property label as key to the object\n   * @param {string=} label2 secondary field to use as tiebreaker (TBD)\n   * @return {{string:object[]}} object map\n   *\n   * @see ~MapUniqueObjectsByField\n   */\n  static MapObjectsByField(objArray, label, label2, keepNull = true) {\n    if (objArray == null) { return null; }\n\n    const arraySize = objArray ? objArray.length : 0;\n    let key;\n    let obj;\n    const objMap = {};\n    for (let i = 0; i < arraySize; i++) {\n      obj = objArray[i];\n      key = obj[label];\n      if (Util.NotNull(obj[label2])) { key += ` ${obj[label2]}`; }\n      if (key == null && (keepNull === false)) { continue; }\n      if (objMap[key] == null) { objMap[key] = []; }\n      objMap[key] = obj;\n    }\n    return objMap;\n  } // MapObjectsByField\n\n  /**\n   * Extract a property value from each element in array and\n   * put them in its own array\n   *\n   * @param {{}[]} objArray\n   * @param {string} label property label to get data from\n   * @return {*[]} array of values, or null if input array is null\n   */\n  static ExtractFieldFromObjects(objArray, label, keepNull = true) {\n    if (objArray == null) { return null; }\n\n    const arraySize = objArray ? objArray.length : 0;\n    let value;\n    const valueArray = [];\n    let obj;\n    for (let i = 0; i < arraySize; i++) {\n      obj = objArray[i];\n      value = obj[label];\n      if (value == null && (keepNull === false)) { continue; }\n      valueArray.push(value);\n    }\n    return valueArray;\n  } // ExtractFieldFromObjects\n} // class Util\n\nexport class MemoryUtil {\n\n  static get HEAP_USED() { return process.memoryUsage()['heapUsed']; }\n  static get HEAP_TOTAL() { return process.memoryUsage()['heapTotal']; }\n  static get RSS() { return process.memoryUsage()['rss']; }\n  static get EXTERNAL() { return process.memoryUsage()['external']; }\n\n  /**\n   * Return what process.memoryUsage() returns\n   *\n   * return {object}\n   */\n  static GetStat(field) {\n    return field ? process.memoryUsage()[field] : process.memoryUsage();\n  }\n\n  /**\n   * @return {string}\n   */\n  static GetMemStatLine() {\n    const memrec = process.memoryUsage();\n    const used = memrec['heapUsed'];\n    const total = memrec['heapTotal'];\n    const utilpct = Math.round((used / total) * 100);\n    const usedMB = Math.round(used / 1048576);\n    const totalMB = Math.round(total / 1048576);\n    const rssMB = Math.round(memrec['rss'] / 1048576);\n    const extMB = Math.round(memrec['external'] / 1048576);\n    const msg = `Mem Util: ${utilpct}% (${usedMB}MB/${totalMB}MB)  RSS: ${rssMB}MB  Extern: ${extMB}MB`;\n    return msg;\n  }\n\n}\n\nconst monthAbbrev = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\nexport const S_MIN = 60;\nexport const S_HOUR = S_MIN * 60;\nexport const S_DAY = S_HOUR * 24;\nexport const S_WEEK = S_DAY * 7;\nexport const S_YEAR = S_DAY * 365.25;\nexport class TimeUtil {\n\n  static Ts2MMYYYY(ts) {\n    const d = new Date(ts);\n    const mm = monthAbbrev[d.getMonth()];\n    const yyyy = d.getFullYear();\n    const out = `${mm}, ${yyyy}`;\n    return out;\n  }\n\n  static Ts2MMYYYYV2(ts, locale = 'en') {\n    // if (locale !== 'en') {\n\n    //   if (locale === 'zh') { locale = 'zh-cn'; } else { locale = 'zh-tw'; }\n\n    //   return moment(ts).locale(locale).format('YYYYM');\n    // }\n\n    return moment(ts).locale(locale).format('MMMM YYYY');\n  }\n\n  static Ts2MMDDYYYY(ts) {\n    const d = new Date(ts);\n    const mm = monthAbbrev[d.getMonth()];\n    const dd = d.getDate();\n    const yyyy = d.getFullYear();\n    const out = `${mm} ${dd}, ${yyyy}`;\n    return out;\n  }\n\n  static Ts2YYYY_MM_DD(ts) {\n    const d = new Date(ts);\n    const mm = monthAbbrev[d.getMonth()];\n    const dd = d.getDate();\n    const yyyy = d.getFullYear();\n    const out = `${yyyy}_${mm}_${dd}`;\n    return out;\n  }\n\n  /**\n   * Print time format (suitable for log entries)\n   *\n   * @param {number=} ts timestamp, or null for now\n   * @param {boolean} includeMillis\n   */\n  static Ts2YY_MM_DD_hh_mm_ss(ts = null, includeMillis = false) {\n    const d = new Date(ts);\n    const MM = String(d.getMonth()).padStart(2, '0');\n    const DD = String(d.getDate()).padStart(2, '0');\n    const YY = String(d.getFullYear() % 100).padStart(2, '0');\n    const hh = String(d.getHours()).padStart(2, '0');\n    const mm = String(d.getMinutes()).padStart(2, '0');\n    const ss = String(d.getSeconds()).padStart(2, '0');\n    const ms = String(d.getMilliseconds()).padStart(3, '0');\n    const out = includeMillis\n      ? `${MM}/${DD}/${YY} ${hh}:${mm}:${ss}.${ms}`\n      : `${MM}/${DD}/${YY} ${hh}:${mm}:${ss}`;\n    return out;\n  }\n\n  static Ts2hh_mm_MM_DD_YYYY(ts = null) {\n    const d = new Date(ts);\n    const MM = monthAbbrev[d.getMonth()];\n    const DD = String(d.getDate()).padStart(2, '0');\n    const YYYY = d.getFullYear();\n    let hh = String(d.getHours()).padStart(2, '0');\n    let AP = hh >= 12? \"PM\" :'AM';\n\n    if (hh > 12) {\n      hh -= 12;\n    }\n\n    const mm = String(d.getMinutes()).padStart(2, '0');\n    const out = `${hh}:${mm} ${AP} ${MM} ${DD}, ${YYYY}`;\n\n    return out;\n  }\n\n  /**\n   * Return time difference, where second\n   * time is relative to first. The different\n   * with \"SinceTime\" is this one can return\n   * negative.\n   *\n   * @param {number} ts1 original time\n   * @param {number=} ts2 reference time\n   * @param {*} ago\n   */\n  static DeltaTime(ts1, ts2, ago = false) {\n    let negative = '';\n    if (ts1 > ts2) {\n      const tmp = ts2;\n      ts2 = ts1;\n      ts1 = tmp;\n      negative = '-';\n    }\n    const label = negative + TimeUtil.SinceTime(ts1, ts2, ago);\n    return label;\n  } // ElapsedTime\n\n  /**\n   * Get time since in simple abbreviation. This is a simple\n   * method for users to see the elapsed time, so no precise\n   * details, just either 1 minute ago or 1m, 3 days go or 3d, etc.\n   *\n   * @param {number} ts1 time already past\n   * @param {number=} ts2 time greater than ts1 or null for now\n   * @return {boolean} true for verbose including \"ago\", false for abbrev\n   * like \"1m\", \"3h\", 2d\", \"3w\", \"2yr\"\n   */\n  static SinceTime(ts1, ts2 = null, verbose = false) {\n    if (ts2 == null) { ts2 = Date.now(); }\n\n    // const _m = \"TimeUtil.SinceTime\";\n    const elapsed = Math.trunc((ts2 - ts1) / 1000);\n\n    let value;\n    let unit;\n    let label = null;\n    if (elapsed >= (S_YEAR - S_WEEK)) {\n      value = Math.trunc((elapsed / S_YEAR) + 0.5);\n      unit = verbose ? ' years ago' : 'yr';\n    } else if (elapsed >= (S_WEEK - (S_HOUR * 12))) {\n      value = Math.trunc((elapsed / S_WEEK) + 0.5);\n      unit = verbose ? ' weeks ago' : 'w';\n    } else if (elapsed >= (S_DAY - S_HOUR)) {\n      value = Math.trunc((elapsed / S_DAY) + 0.5);\n      unit = verbose ? ` day${value === 1 ? '' : 's'} ago` : 'd';\n    } else if (elapsed >= (S_HOUR - S_MIN)) {\n      value = Math.trunc((elapsed / S_HOUR) + 0.5);\n      unit = verbose ? ` hour${value === 1 ? '' : 's'} ago` : 'h';\n    } else if (elapsed >= S_MIN) {\n      value = Math.trunc((elapsed / S_MIN) + 0.5);\n      unit = verbose ? ` minute${value === 1 ? '' : 's'} ago` : 'm';\n    } else {\n      value = elapsed;\n      if (value < 5) {\n        label = verbose ? 'just now' : 'now';\n      } else { unit = verbose ? ' seconds ago' : 's'; }\n    }\n\n    // console.log(`${_m}: Time from ${ts1} to ${ts2} is ${elapsed} seconds => ${label}`);\n    return label || String(value) + unit;\n  } // Sincetime\n\n  /**\n   * Get time since in simple abbreviation. This is a simple\n   * method for users to see the elapsed time, so no precise\n   * details, just either 1 minute ago or 1m, 3 days go or 3d, etc.\n   *\n   * @param {number} ts1 time already past\n   * @param {number=} ts2 time greater than ts1 or null for now\n   * @return {boolean} true for verbose including \"ago\", false for abbrev\n   * like \"1m\", \"3h\", 2d\", \"3w\", \"2yr\"\n   */\n  static SinceTimeV2(ts1, ts2 = null, verbose = false) {\n    if (ts2 == null) { ts2 = Date.now(); }\n\n    const elapsed = Math.trunc((ts2 - ts1) / 1000);\n\n    let value;\n    let unit;\n    let label = null;\n    if (elapsed >= (S_WEEK - (S_HOUR * 12))) {\n      value = this.Ts2MMDDYYYY(ts1);\n      unit = '';\n    } else if (elapsed >= (S_DAY - S_HOUR)) {\n      value = Math.trunc((elapsed / S_DAY) + 0.5);\n      unit = verbose ? ` day${value === 1 ? '' : 's'} ago` : 'd';\n    } else if (elapsed >= (S_HOUR - S_MIN)) {\n      value = Math.trunc((elapsed / S_HOUR) + 0.5);\n      unit = verbose ? ` hour${value === 1 ? '' : 's'} ago` : 'h';\n    } else if (elapsed >= S_MIN) {\n      value = Math.trunc((elapsed / S_MIN) + 0.5);\n      unit = verbose ? ` minute${value === 1 ? '' : 's'} ago` : 'm';\n    } else {\n      value = elapsed;\n      if (value < 5) {\n        label = verbose ? 'just now' : 'now';\n      } else { unit = verbose ? ' seconds ago' : 's'; }\n    }\n\n    // console.log(`${_m}: Time from ${ts1} to ${ts2} is ${elapsed} seconds => ${label}`);\n    return label || String(value) + unit;\n  } // SincetimeV2\n\n  // Deprecated go to see SinceTimeV5\n  static SinceTimeV3(ts1, ts2 = null, verbose = false) {\n    if (ts2 == null) { ts2 = Date.now(); }\n\n    const t1 = moment(ts1);\n    const t2 = moment(ts2);\n\n    const mins = t2.diff(t1, 'minutes');\n    // console.log(\"mins=\" + mins);\n    if (mins < 60) { // in the same day\n      // console.log(mins<60);\n      const _mins = t2.diff(t1, 'minutes');\n      return `${_mins}m`;\n    }\n\n    const hours = t2.diff(t1, 'hours');\n    // console.log(\"hours=\" + hours);\n    if (hours < 24) { // in the same day\n      const _hours = t2.diff(t1, 'hours');\n      return `${_hours}h`;\n    }\n    // console.log(\"days=\" + days);\n\n    ts1 = new Date(ts1);\n    ts2 = new Date(ts2);\n    const years = ts1.getFullYear() - ts2.getFullYear();\n    // console.log(\"years=\" + years);\n    if (years === 0) { // in the same year\n      return t1.locale('zh-hk').format('MMM DD');\n    }\n    // console.log(t1.format('MMM DD YYYY'));\n    return t1.locale('zh-hk').format('MMM DD YYYY');\n  }\n\n  static SinceTimeV4(ts1, ts2 = null, verbose = false) {\n    if (ts2 == null) { ts2 = Date.now(); }\n\n    ts1 = new Date(ts1);\n    ts2 = new Date(ts2);\n    const years = ts1.getFullYear() - ts2.getFullYear();\n    if (years === 0) { return false; }\n    // the full date return true.\n    return true;\n  }\n\n  static SinceTimeV5(ts1, ts2 = null, locale = 'en', verbose = false) {\n    if (ts2 == null) { ts2 = Date.now(); }\n\n    const t1 = moment(ts1);\n    const t2 = moment(ts2);\n\n    // const sec = t2.diff(t1, 'seconds');\n    // if (sec < 60) {\n    //   if(locale !== 'en') {\n    //     const _sec = t1.locale('zh-'+locale).fromNow(!verbose);\n    //     return _sec.replace(/\\s*/g,\"\");\n    //   }\n    //   return '1m';\n    // }\n\n    const min = t2.diff(t1, 'minutes');\n    const seconds = parseInt(t2.diff(t1, 'seconds'));\n    if (min < 60) {\n      if (locale !== 'en') {\n        if (locale === 'zh') { locale = 'zh-cn'; }\n        \n\n        const _mins = t1.locale(locale).fromNow(!verbose);\n        return _mins;\n      }\n      if (seconds < 5) {\n        return t(\"getter_fe.timeline.common.justNow\");\n      } else if (seconds < 60) { \n        return seconds === 0? 1 + \"s\" : seconds + \"s\"; \n      } \n      return `${min}m`;\n\n    }\n\n\n    const hours = t2.diff(t1, 'hours');\n    // console.log(\"hours=\" + hours);\n    if (hours < 24) { // in the same day\n      if (locale !== 'en') {\n        if (locale === 'zh') { locale = 'zh-cn'; }\n        \n\n        const _hours = t1.locale(locale).fromNow(!verbose);\n        return _hours;\n      }\n\n      return `${hours}h`;\n    }\n\n    const years = t1.get('y') - t2.get('y');\n    // console.log(\"years=\" + years);\n    if (years === 0) { // in the same year\n      if (locale !== 'en') {\n        if (locale === 'zh') { locale = 'zh-cn'; } else { locale = 'en'; }\n\n        return t1.locale(locale).format('MMM Do');\n      }\n      return t1.locale(locale).format('MMM D');\n    }\n\n    // console.log(t1.format('MMM DD YYYY'));\n    return t1.locale(locale).format('LL');\n  }\n\n  static MilliSeconds(ts, valueOnly = false) {\n    const secs = ts / 1000;\n    return valueOnly ? secs : `${secs}s`;\n  }\n\n  /**\n   *\n   * @param {number} startTS\n   * @param {boolean} valueOnly\n   * @return {number|string}\n   */\n  static GetElapsedMillis(startTS, valueOnly = false) {\n    const elapsed = Date.now() - startTS;\n    return TimeUtil.MilliSeconds(elapsed, valueOnly);\n  }\n\n\n} // TimeUtil\n\n\nexport default Util;\n","import JSON5 from 'json5';\nimport Util from '../Util';\n\n/**\n * Utilities on embedding properties into a symbol to form a\n * symbol expression. Parsing and comparison are also available\n * but not necessarily complete.\n *\n * The format of the string is \"symbol:{label1:value1,label2:value2}\"\n *\n * NOTE: TagUtil utilize these for tag expressions.\n */\nexport class SymbolExpr {\n  /**\n   * Return symbol name portion of the symbol expression in the\n   * format of name[:{props}]\n   *\n   * @param {string} symbol expression which may have the optional props\n   * @param {function} normalizer function to normalize the name portion\n   * @return {string} name portion of the symbol expression\n   * @see ~GetSymbolName\n   */\n  static StripProps(symbol, normalizer = null) {\n    if (!symbol) {\n      return null;\n    }\n    const idx = symbol.indexOf(':');\n    if (idx === -1) {\n      return normalizer ? normalizer(symbol) : symbol;\n    }\n\n    const name = symbol.substring(0, idx);\n    return normalizer ? normalizer(name) : name;\n  }\n\n  /**\n   * Determine if the given symbol has properties attached to\n   * it. The format of a symbol without property is just the name\n   * it self, but with properties, it has a JSON \"Stringified\"\n   * property: name:{label1:value1,label2:value2,...}\n   *\n   * @param {string} symbol express to check if has symbol:{props}\n   */\n  static HasProps(symbol) {\n    const idx = symbol.indexOf(':{');\n    return idx !== -1;\n  }\n\n  /**\n   * Return name portion of the symbol expression in the\n   * format of name[:{props}]\n   *\n   * @param {string} symbol expression which may have the optional props\n   * @param {boolean} normalizer function to normalize the name portion\n   * @return {string} name portion of the symbol expression\n   *\n   * @see #StripProps\n   * @see #ParseSymbol\n   * @see #ComposeSymbol\n   */\n  static GetSymbolName(symbol, normalizer = null) {\n    return SymbolExpr.StripProps(symbol, normalizer);\n  }\n\n  /**\n   * Parse a symbol expression and return props separately if exists\n   *\n   * @param {string} symbol format: '#field:{type:\"<modelType>\",_id:\"<objId>\"}'\n   * where pound sign is optional\n   * @param {boolean} parseProps if false, leave props as string. If true, parse into object\n   * @param {boolean} normalizer function to normalize the name portion\n   * @return {[tagname,{props}]} array element 0 is tagname, then array[1] is props object\n   *\n   * @see #GetSymbol\n   * @see #StripProps\n   * @see #ComposeSymbol\n   */\n  static ParseSymbol(symbol, parseProps = false, normalizer = null) {\n    if (symbol.startsWith('#')) {\n      symbol = symbol.substring(1);\n    }\n\n    const idx = symbol.indexOf(':{');\n    if (idx === -1) {\n      return [symbol];\n    }\n\n    const name = symbol.substring(0, idx);\n    let props = symbol.substring(idx + 1);\n    if (parseProps) {\n      try {\n        props = JSON5.parse(props);\n      } catch (e) {\n        console.error('PS: ?Error:', JSON5.stringify(props));\n        console.log(e);\n      }\n    }\n    const result = [normalizer ? normalizer(name) : name, props];\n    return result;\n  } // ParseSymbol\n\n  /**\n   * Compose a complete symbol expression with given name and property object\n   *\n   * @param {string} symbol tagname only\n   * @param {object} props props to add\n   * @param {function} normalizer function to run on the symbol before concatenate\n   * @return {string} symbol expression in string\n   *\n   * @see #GetSymbol\n   * @see #ParseSymbol\n   * @see #CompareSymbol\n   */\n  static ComposeSymbol(symbol, props, normalizer = null) {\n    if (typeof props === 'object') {\n      props = JSON5.stringify(props);\n    } else {\n      props = String(props);\n    }\n\n    return `${symbol}:${props}`;\n  }\n\n  /**\n   * Compare two symbol names without regards for the values of the props\n   *\n   * @param {string} symbol1 string in the format of name[:{props}]\n   * @param {string} symbol2 string in the format of name[:{props}]\n   * @param {*} normalizer transform any part of the name\n   * @return {boolean} true if match\n   *\n   * @see #GetSymbolName\n   * @see #ParseSymbol\n   * @see #ComposeSymbol\n   */\n  static CompareSymbols(symbol1, symbol2, normalizer = null) {\n    const name1 = SymbolExpr.StripProps(symbol1, normalizer);\n    const name2 = SymbolExpr.StripProps(symbol2, normalizer);\n\n    // console.log(`CompareSymbols: name1: ${name1}, name2: ${name2}`);\n    return name1 === name2;\n  }\n\n  /**\n   * Return the value of a property label encoded within the\n   * tag expression string\n   *\n   * @param {string} symbol expression string in format of: name[:{props}]\n   * @param {string} key lookup value\n   * @param {*} defaultVal\n   *\n   * @see ~HasProperty\n   * @see ~SetProperty\n   */\n  static GetPropertyValue(symbol, key, defaultVal = null) {\n    const parsed = SymbolExpr.ParseSymbol(symbol, true);\n    if (parsed == null || parsed.length === 1) {\n      return defaultVal;\n    } // no properties\n    const props = parsed[1];\n    return props[key] ? props[key] : defaultVal;\n  }\n\n  /**\n   * Determine if the given key value exists inthe properties\n   * of the given tag expression string.\n   *\n   * @param {string} symbolExpr expression string in format of: name[:{props}]\n   * @param {string} key property label to check\n   * @return {boolean} true if exists, false if not\n   *\n   * @see #GetProperty\n   * @see #SetProperty\n\n   */\n  static HasProperty(symbolExpr, key) {\n    const parsed = SymbolExpr.ParseSymbol(symbolExpr, true);\n    if (parsed == null || parsed.length === 1) {\n      return false;\n    }\n    const props = parsed[1];\n    return props.hasOwnProperty(key);\n  } // HasProperty\n\n  /**\n   * Set a property value of the given tag expression string.\n   * The tag can be just symbol name itself.\n   * NOTE: this is not efficient way to set multiple properties.\n   * Best to construct such object and compose directly.\n   *\n   * @param {string} symbolExpr expression string in format of name[:{props}]\n   * or just name if no properties\n   * @param {string} key property label\n   * @param {value} value value to assign to key and can be null\n   * @return {string} symbol expression including the new property key/value\n   *\n   * @see ~HasProperty\n   * @see ~GetProperty\n   */\n  static SetProperty(symbolExpr, key, value) {\n    const parsed = SymbolExpr.ParseSymbol(symbolExpr, true);\n    const props = parsed == null || parsed.length === 1 ? {} : parsed[1];\n    props[key] = value;\n    return SymbolExpr.ComposeSymbol(parsed[0], props);\n  } // SetProperty\n\n  /**\n   * Remove a property label/value of the given tag expression string.\n   * The tag can be just symbol name itself.\n   * NOTE: this is not efficient way to set multiple properties.\n   * Best to construct such object and compose directly.\n   *\n   * @param {string} symbolExpr expression string in format of name[:{props}]\n   * or just name if no properties\n   * @param {string} key property label\n   * @param {value} value value to assign to key and can be null\n   * @return {string} symbol expression with property label/value removed,\n   * or itself if nothing is removed. If no more properties, then\n   * only the tagname portion is returned, not tagname:{}\n   *\n   * @see ~HasProperty\n   * @see ~GetProperty\n   */\n  static RemoveProperty(symbolExpr, key) {\n    const parsed = SymbolExpr.ParseSymbol(symbolExpr, true);\n    let props = parsed == null || parsed.length === 1 ? {} : parsed[1];\n    if (!props[key]) {\n      return symbolExpr;\n    } // no symbol - bail\n\n    delete props[key];\n    if (Util.ObjectIsEmpty(props)) {\n      props = null;\n    }\n    return props == null\n      ? parsed[0]\n      : SymbolExpr.ComposeSymbol(parsed[0], props);\n  } // RemoveProperty\n\n  /**\n   * Take a text/template that may contain symbol expressions\n   * that are identified with a wrapping \"#[#symbolExpr]#\" style.\n   * The text is parsed into sequential fragments, where some\n   * are the symbol expressions while others are straight text.\n   *\n   * @param {string} text text to parse\n   * @return {string[]} sequential parts in an array, with\n   * symbole expressions wrapper removed but the inner prefix \"#\"\n   * is retained.\n   */\n  static ParseExprWrappers(text) {\n    // eslint-disable-next-line\n    let frags = text.split(/(\\#\\[|\\]\\#)/g);\n    frags = frags.filter((f) => {\n      return f !== '#[' && f !== ']#' && f !== '';\n    });\n    // console.log(`ParseExprWrappers: frags:`, frags);\n    return frags || [];\n  }\n} // EmbedProp\n\nexport default SymbolExpr;\n","import XMObject from '../XMObject';\nimport { ModelType, ModelFolder, SocialProps } from '../ModelConsts';\n\nexport const STATUS_FOLLOWING = 'y';        // accepted\nexport const STATUS_NOT_FOLLOWING = 'n';    // not accepted\n\nexport const STATUS_ACCEPTED = 'a';\nexport const STATUS_PENDING = 'p';\nexport const STATUS_BLOCKED = 'b';\nexport const STATUS_NOT_BLOCKED = 'nb';\nexport const STATUS_MUTED = 'm';\nexport const STATUS_NOT_MUTED = 'nm';\nexport const STATUS_UNKNOWN = 'u';\nexport const STATUS_NOT_FOUND = 'nf';\n\nexport const STATUS_FOLLOW = [\n  STATUS_NOT_FOLLOWING,\n  STATUS_FOLLOWING,\n  STATUS_PENDING,\n];\n\nexport const STATUS_TYPES = [\n  STATUS_ACCEPTED,\n  STATUS_PENDING,\n  STATUS_BLOCKED,\n  STATUS_MUTED\n];\n\nconst _CLSNAME = 'XMFolllow';\nconst _CLSNAME_FOLLOWS = 'XMFollows';\nconst _CLSNAME_FOLLOWERS = 'XMFollowers';\n\n/**\n * Model who a user follows in a separate managed object.\n * Base class for XMFollows and XMFollowers\n */\nclass XMFollowBase extends XMObject {\n  static get PROP_ACCEPTED() { return SocialProps.ACCEPTED; }\n  static get PROP_PENDING() { return SocialProps.PENDING; }\n  static get PROP_BLOCKED() { return SocialProps.BLOCKED; }\n  static get PROP_MUTED() { return SocialProps.MUTED; }\n\n  static get STATUS_FOLLOWING() { return STATUS_FOLLOWING; }\n  static get STATUS_NOT_FOLLOWING() { return STATUS_NOT_FOLLOWING; }\n  static get STATUS_ACCEPTED() { return STATUS_ACCEPTED; }\n  static get STATUS_PENDING() { return STATUS_PENDING; }\n  static get STATUS_UNKNOWN() { return STATUS_UNKNOWN; }\n\n  static get STATUS_UNBLOCKED() { return SocialProps.UNBLOCKED; }\n\n  static get LIST_TYPES() {\n    return [\n      XMFollowBase.PROP_ACCEPTED,\n      XMFollowBase.PROP_PENDING,\n      XMFollowBase.PROP_BLOCKED,\n      XMFollowBase.PROP_MUTED,\n    ];\n  }\n\n  /**\n   *\n   * @param {string} clsname supply by subclasses\n   * @param {*} props\n   * @see #CreateNew\n   */\n  constructor(clsname, props) {\n    super(clsname, props);\n    this.class = XMFollowBase;\n  }\n\n  /**\n   * Add an userId to this list tracker directly as accepted user.\n   *\n   * @param {string} userId what or whom to follow\n   * @param {string} list type (see LIST_*). Defaults to XMFollowBase.PROP_ACCEPTED\n   * @return {boolean} true if added\n   */\n  addUser(userId) {\n    return this.addAcceptedUser(userId);\n  }\n\n  /**\n   * Add an userId to this object to follow as ACCEPTED.\n   * So if there\n   *\n   * @param {string} userId what or whom to follow\n   */\n  addAcceptedUser(userId) {\n    const data = this.getData(true);\n    return XMFollowBase.AddAcceptedUser(data, userId);\n  }\n\n  /**\n   * Add an userId to this object to follow but in PENDING list.\n   * If user already on accepted or blocked list, will be\n   * removed there first.\n   *\n   * @param {string} userId what or whom to follow\n   */\n  addPendingUser(userId) {\n    const data = this.getData(true);\n    return XMFollowBase.AddPendingUser(data, userId);\n  }\n\n  /**\n   * Add an userId to the blocked list, which will\n   * remove from pending or accepted list if already there.\n   *\n   * @param {string} userId what or whom to follow\n   */\n  addBlockedUser(userId) {\n    const data = this.getData(true);\n    return XMFollowBase.AddBlockedUser(data, userId);\n  }\n\n\n  /**\n     * Add an userId to the muted list. Unlike block user, it will\n     * NOT remove from pending or accepted list if already there.\n     *\n     * @param {string} userId what or whom to mute\n     */\n  addMutedUser(userId) {\n    const data = this.getData(true);\n    return XMFollowBase.AddMutedUser(data, userId);\n  }\n\n  /**\n     * Return list of userIds\n     *\n     * @param {string} listType one of LIST_* (default to XMFollowBase.PROP_ACCEPTED)\n     * @param {*} defaultVal\n     *\n     * @see ~addUser\n     * @see ~hasUser\n     * @see ~getStatus\n     * @see ~removeUser\n     * @return {string[]} array of userIds\n     */\n  getUsers(listType = XMFollowBase.PROP_ACCEPTED, defaultVal = []) {\n    return XMFollowBase.LIST_TYPES.includes(listType) ? this.getWords(listType, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return all following users of this object\n   *\n   * @param {*} defaultVal\n   *\n   * @return {string[]} array of userIds that are accepted\n   */\n  getAcceptedUsers(defaultVal = []) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.GetAcceptedUsers(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return all following users of this object that are in the pending list\n   *\n   * @param {*} defaultVal\n   *\n   * @return {string[]} array of userIds that are accepted\n   */\n  getPendingUsers(defaultVal = []) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.GetPendingUsers(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Return all users of this object that are in the blocked list\n     *\n     * @param {*} defaultVal\n     *\n     * @return {string[]} array of userIds that are accepted\n     */\n  getBlockedUsers(defaultVal = []) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.GetBlockedUsers(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Return all users of this object that are in the muted list\n     *\n     * @param {*} defaultVal\n     *\n     * @return {string[]} array of userIds that are accepted\n     */\n  getMutedUsers(defaultVal = []) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.GetMutedUsers(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Create a user status map with userID as key and status as value\n   *\n   * @param {{}} defaultVal\n   * @return {{userId: {string}}}\n   */\n  getUserStatusMap(defaultVal = {}) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.GetUserStatusMap(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return target content as objects keyed off the target ID.\n   * This is a polymorphic method for all connection data models\n   * including follow, watches, etc.\n   *\n   * @param {*} defaultVal\n   * @return {{targetId: {}}}\n   */\n  getTargetObjectMap(defaultVal = {}) {\n    return this.getUserStatusMap(defaultVal);\n  }\n\n\n  /**\n   * Determine if the specified user ID follows (default in accepted status)\n   *\n   * @param {string} userId\n   * @param {string} list type (see LIST_*). Defaults to XMFollowBase.PROP_ACCEPTED\n   * @return {boolean} true if user exists\n   *\n   * @see ~addUser\n   * @see ~getUser\n   * @see ~hasAcceptedUser\n   */\n  hasUser(userId, list = XMFollowBase.PROP_ACCEPTED) {\n    return XMFollowBase.LIST_TYPES.includes(list) ? this.hasWord(list, userId) : false;\n  }\n\n  /**\n   * Determine if user exists in tracking and which list is the user in\n   *\n   * @param {string} userId\n   * @return {string} list that user is found, which should be one of LIST_* or\n   * null if none.\n   */\n  hasUserIn(userId) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.HasUserIn(data, userId) : null;\n  }\n\n  /**\n   * Determine if the specified user ID is the accepted list\n   *\n   * @param {string} userId target identifier to check if following\n   * @return {boolean} true if following target, false if not found\n   */\n  hasAcceptedUser(userId) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.HasAcceptedUser(data, userId) : false;\n  }\n\n  /**\n   * Return whether there are any accepted users\n   */\n  hasAcceptedUsers() {\n    return this.countAcceptedUsers() > 0;\n  }\n\n  /**\n   * Determine if the specified user ID is in the pending list\n   *\n   * @param {string} userId target identifier to check if following\n   * @return {boolean} true if following target, false if not found\n   */\n  hasPendingUser(userId) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.HasPendingUser(data, userId) : false;\n  }\n\n  /**\n   * Determine if the specified user is in the blocked list\n   *\n   * @param {string} userId target identifier to check if following\n   * @return {boolean} true if following target, false if not found\n   */\n  hasBlockedUser(userId) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.HasBlockedUser(data, userId) : false;\n  }\n\n  /**\n     * Determine if the specified user is in the muted list\n     *\n     * @param {string} userId target identifier to check if following\n     * @return {boolean} true if following target, false if not found\n     */\n  hasMutedUser(userId) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.HasMutedUser(data, userId) : false;\n  }\n\n  /**\n     * Report on whether the given userId is in the tracking list, and\n     * if so which one (of the LIST_TYPES)\n     *\n     * @param {string} userId\n     * @return {string} either STATUS_NOT_FOLLOWING, STATUS_FOLLOWING, or STATUS_PENDING\n     */\n  getStatus(userId, list = null) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.GetStatus(data, userId, list) : STATUS_NOT_FOLLOWING;\n  }\n\n  /**\n   * Remove an (accepted) user within following target list\n   *\n   * @param {string} targetId target identifier to unfollow\n   * @param {string} list one of LIST_TYPE (defaults to XMFollowBase.PROP_ACCEPTED)\n   * @return {boolean} true if removed, false if not found\n   *\n   */\n  removeUser(targetId, list = XMFollowBase.PROP_ACCEPTED) {\n    return XMFollowBase.LIST_TYPES.includes(list) ? this.removeWord(list, targetId) : false;\n  }\n\n  /**\n   * Remove an accepted target within following target list\n   *\n   * @param {string} userId user to remove from accepted list\n   * @return {boolean} true if removed, false if not found\n   *\n   * @return {boolean} true if removed\n   */\n  removeAcceptedUser(userId) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.RemoveAcceptedUser(data, userId) : false;\n  }\n\n  /**\n   * Remove a user in the pending list\n   *\n   * @param {string} userId user to remove from accepted list\n   * @return {boolean} true if removed, false if not found\n   *\n   * @return {boolean} true if removed\n   */\n  removePendingUser(userId) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.RemovePendingUser(data, userId) : false;\n  }\n\n  /**\n   * Remove userId in the blocked list\n   *\n   * @param {string} userId user to remove from accepted list\n   * @return {boolean} true if removed, false if not found\n   *\n   * @return {boolean} true if removed\n   */\n  removeBlockedUser(userId) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.RemoveBlockedUser(data, userId) : false;\n  }\n\n  /**\n     * Remove userId in the muted list\n     *\n     * @param {string} userId user to remove from accepted list\n     * @return {boolean} true if removed, false if not found\n     *\n     * @return {boolean} true if removed\n     */\n  removeMutedUser(userId) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.RemoveMutedUser(data, userId) : false;\n  }\n\n\n  /**\n   * Remove all targets within following following list\n   *\n   * @param {string=} list see LIST_TYPES for PROP_ACCEPTED, PROP_BLOCKED, PROP_PENDING\n   * @return {boolean} true if removed, false if not found\n   *\n   * @see #removeUser\n   */\n  removeAllUsers(list) {\n    const data = this.getData(false);\n    return data ? XMFollowBase.RemoveAllUsers(data, list) : false;\n  }\n\n\n  /**\n   * Count (accepted) following users\n   *\n   * @param {string} list list type defined in LIST_TYPES\n   * @return {number} 0 or greator if valid list given. -1 if list type not valid\n   *\n   * @see ~countAcceptedUsers\n   * @see ~countPendingUsers\n   * @see ~countBlockedUsers\n   */\n  countUsers(list = XMFollowBase.PROP_ACCEPTED) {\n    return XMFollowBase.LIST_TYPES.includes(list) ? this.countAcceptedUsers() : -1;\n  }\n\n  /**\n   * Return number of targets that this object is following\n   *\n   * @return {number}\n   *\n   */\n  countAcceptedUsers() {\n    return this.countWords(XMFollowBase.PROP_ACCEPTED);\n  }\n\n\n  /**\n   * Return number of targets that this object is following\n   *\n   * @return {number}\n   *\n   */\n  countPendingUsers() {\n    return this.countWords(XMFollowBase.PROP_PENDING);\n  }\n\n  /**\n   * Return number of targets that this object is following\n   *\n   * @return {number}\n   *\n   */\n  countBlockedUsers() {\n    return this.countWords(XMFollowBase.PROP_BLOCKED);\n  }\n\n  /**\n     * Return number of targets that this object is muting\n     *\n     * @return {number}\n     *\n     */\n  countMutedUsers() {\n    return this.countWords(XMFollowBase.PROP_MUTED);\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n   * Convenient method to check if the given object\n   * is an instance of this class (XMUser)\n   */\n  static IsInstance(obj) {\n    return obj instanceof XMFollowBase;\n  }\n\n  /**\n   * Add a user for this object to follow. It implements the \"follows\"\n   * relationshp. If the user is currently on blocked or pending list,\n   * it will be removed from there.\n   *\n   * @param {{}} jsonObj\n   * @param {string} userId what or whom to follow\n   */\n  static AddAcceptedUser(jsonObj, userId) {\n    XMFollowBase.RemoveBlockedUser(jsonObj, userId);\n    XMFollowBase.RemovePendingUser(jsonObj, userId);\n    return XMObject.AddWord(jsonObj, XMFollowBase.PROP_ACCEPTED, userId);\n  }\n\n  /**\n   * Add a user to the blocked list. If the user is on accepted or pending\n   * list, it will be removed from there.\n   *\n   * @param {{}} jsonObj\n   * @param {string} userId what or whom to follow\n   */\n  static AddBlockedUser(jsonObj, userId) {\n    XMFollowBase.RemoveAcceptedUser(jsonObj, userId);\n    XMFollowBase.RemovePendingUser(jsonObj, userId);\n    return XMFollowBase.AddWord(jsonObj, XMFollowBase.PROP_BLOCKED, userId);\n  }\n\n  /**\n     * Add a user to the muted list.\n     *\n     * @param {{}} jsonObj\n     * @param {string} userId what or whom to follow\n     */\n  static AddMutedUser(jsonObj, userId) {\n    return XMFollowBase.AddWord(jsonObj, XMFollowBase.PROP_MUTED, userId);\n  }\n\n  /**\n     * Add a user for this object to follow but in PENDING status.\n     * If the user is on either accepted or blocked list, it will be\n     * removed.\n     *\n     * @param {{}} jsonObj\n     * @param {string} list list type defined in LIST_TYPE\n     * @param {string} userId what or whom to follow\n     */\n  static AddPendingUser(jsonObj, userId) {\n    XMFollowBase.RemoveAcceptedUser(jsonObj, userId);\n    XMFollowBase.RemoveBlockedUser(jsonObj, userId);\n    return XMObject.AddWord(jsonObj, XMFollowBase.PROP_PENDING, userId);\n  }\n\n\n  /**\n   * Add a user to the follow list. Currently we automatically\n   * accept so just put in the accepted list.\n   *\n   * @param {{}} jsonObj\n   * @param {string} list list type defined in LIST_TYPE\n   * @param {*} userId\n   */\n  static AddUser(jsonObj, userId) {\n    return XMFollowBase.AddAcceptedUser(jsonObj, userId);\n  }\n\n\n  /**\n   * Set a given list of users that this object follows by replacing\n   * existing.\n   *\n   * @param {{}} jsonObj\n   * @param {string[]} array of words or userIds\n   * @return {number} number of user accepted.\n   */\n  static SetAcceptedUsers(jsonObj, userIds) {\n    const n = userIds ? userIds.length : 0;\n    if (n > 0) {\n      XMObject.SetWords(jsonObj, XMFollowBase.PROP_ACCEPTED, userIds);\n    }\n    return n;\n  }\n\n  /**\n   * Return all followings, or \"follows\" targets of this object\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @return {[]} identifers of users being followed by this\n   */\n  static GetAcceptedUsers(jsonObj, defaultVal = []) {\n    return XMObject.GetWords(jsonObj, XMFollowBase.PROP_ACCEPTED, defaultVal);\n  }\n\n  /**\n     * Return all requested users but on the pending list\n     *\n     * @param {{}} jsonObj\n     * @param {*} defaultVal\n     *\n     * @return {[]} identifers of users being followed by this\n     */\n  static GetPendingUsers(jsonObj, defaultVal = []) {\n    return XMObject.GetWords(jsonObj, XMFollowBase.PROP_PENDING, defaultVal);\n  }\n\n  /**\n     * Return all users explicitly blocked\n     *\n     * @param {{}} jsonObj\n     * @param {*} defaultVal\n     *\n     * @return {[]} identifers of users being followed by this\n     */\n  static GetBlockedUsers(jsonObj, defaultVal = []) {\n    const result = XMObject.GetWords(jsonObj, XMFollowBase.PROP_BLOCKED, defaultVal);\n    return result || defaultVal;\n  }\n\n  /**\n     * Return all users explicitly muted\n     *\n     * @param {{}} jsonObj\n     * @param {*} defaultVal\n     *\n     * @return {[]} identifers of users being followed by this\n     */\n  static GetMutedUsers(jsonObj, defaultVal = []) {\n    const result = XMObject.GetWords(jsonObj, XMFollowBase.PROP_MUTED, defaultVal);\n    return result || defaultVal;\n  }\n\n  /**\n     * Create a user status map with userID as key and status as value\n     *\n     * @param {{}} jsonObj data/unwrapped portion of XMFollowBase subclass instance\n     * @param {{}} defaultVal\n     * @return {{userId: {string}}}\n     */\n  static GetUserStatusMap(jsonObj, defaultVal = {}) {\n    if (jsonObj == null) { return defaultVal; }\n\n    const accepted = XMFollowBase.GetAcceptedUsers(jsonObj, []);\n    const blocked = XMFollowBase.GetBlockedUsers(jsonObj, []);\n    const muted = XMFollowBase.GetMutedUsers(jsonObj, []);\n    const pending = XMFollowBase.GetPendingUsers(jsonObj, []);\n\n    const statusMap = {};\n    accepted.forEach((userId) => { statusMap[userId] = STATUS_FOLLOWING; });\n    blocked.forEach((userId) => { statusMap[userId] = STATUS_BLOCKED; });\n    muted.forEach((userId) => { statusMap[userId] = STATUS_MUTED; });\n    pending.forEach((userId) => { statusMap[userId] = STATUS_PENDING; });\n    return statusMap;\n  } // GetAllUserStatusMap\n\n  /**\n     * Determine of this object is following the identified taget\n     *\n     * @param {{}} jsonObj this object\n     * @param {string} userId target identifier to check if following\n     * @return {boolean} true if following target, false if not found\n     */\n  static HasAcceptedUser(jsonObj, userId) {\n    return XMObject.HasWord(jsonObj, XMFollowBase.PROP_ACCEPTED, userId);\n  }\n\n  /**\n     * Determine of this object is following the identified taget\n     *\n     * @param {{}} jsonObj this object\n     * @param {string} userId target identifier to check if following\n     * @return {boolean} true if following target, false if not found\n     */\n  static HasPendingUser(jsonObj, userId) {\n    return XMObject.HasWord(jsonObj, XMFollowBase.PROP_PENDING, userId);\n  }\n\n  /**\n     * Determine of this object is following the identified taget\n     *\n     * @param {{}} jsonObj this object\n     * @param {string} userId target identifier to check if following\n     * @return {boolean} true if following target, false if not found\n     */\n  static HasBlockedUser(jsonObj, userId) {\n    return XMObject.HasWord(jsonObj, XMFollowBase.PROP_BLOCKED, userId);\n  }\n\n  /**\n     * Determine of this object is muting the identified target\n     *\n     * @param {{}} jsonObj this object\n     * @param {string} userId target identifier to check if following\n     * @return {boolean} true if following target, false if not found\n     */\n  static HasMutedUser(jsonObj, userId) {\n    return XMObject.HasWord(jsonObj, XMFollowBase.PROP_MUTED, userId);\n  }\n\n  /**\n     * Check which list is the given userId in.\n     *\n     * @param {{}} jsonObj\n     * @param {string} userId user to check\n     * @return {string} one of item in array LIST_TYPE, or null if not found\n     *\n     * @see XMFollowBase~GetStatus\n     */\n  static HasUserIn(jsonObj, userId) {\n    return XMFollowBase.HasWordIn(jsonObj, XMFollowBase.LIST_TYPES, userId);\n  }\n\n  /**\n   * Check which list is the given userId in.\n   *\n   * @param {{}} jsonObj\n   * @param {string} userId user to check\n   * @param {string} list specify list to check\n   * @return {string} one of item in array LIST_TYPE, or null if not found\n   *\n   * @see XMFollowBase~GetStatus\n   */\n  static HasUserInList(jsonObj, userId, list = null) {\n    if (list && XMFollowBase.LIST_TYPES.includes(list)) {\n      return XMFollowBase.HasWordIn(jsonObj, [list], userId);\n    }\n    return  XMFollowBase.HasWordIn(jsonObj, XMFollowBase.LIST_TYPES, userId);\n  }\n\n  /**\n     * Return status after checking if the target user ID is in the list.\n     *\n     * @param {{}} jsonObj\n     * @param {*} targetId userId to check\n     * @param {string} list specify the list to check\n     *\n     * @param {string} list list type defined in LIST_TYPE\n     * @return {string} one of STATUS_*\n     */\n  static GetStatus(jsonObj, userId, list = null) {\n    const inList = list ? XMFollowBase.HasUserInList(jsonObj, userId, list) : XMFollowBase.HasUserIn(jsonObj, userId);\n    // console.log(`GetStatus: user ${userId} is in list: ${list}`);\n    let status;\n    switch (inList) {\n      // purposely do blocked first in case internal inconsistency exists\n      case XMFollowBase.PROP_BLOCKED:\n        status = STATUS_BLOCKED;\n        break;\n      case XMFollowBase.PROP_MUTED:\n        status = STATUS_MUTED;\n        break;\n      case XMFollowBase.PROP_PENDING:\n        status = STATUS_PENDING;\n        break;\n      case XMFollowBase.PROP_ACCEPTED:\n        status = STATUS_FOLLOWING;\n        break;\n      default:\n        status = STATUS_NOT_FOLLOWING;\n    }\n    return status;\n  } // GetStatus\n\n  /**\n     * Remove a target that the object/user is following\n     *\n     * @param {{}} jsonObj\n     * @param {string} userId target identifier to unfollow\n     * @return {boolean} true if removed, false if not found\n     *\n     */\n  static RemoveAcceptedUser(jsonObj, userId) {\n    return XMFollowBase.RemoveUser(jsonObj, userId, XMFollowBase.PROP_ACCEPTED);\n  }\n\n  /**\n     * Remove a tuser from the blocked user list\n     *\n     * @param {{}} jsonObj\n     * @param {string} userId id to remove from blocked list\n     * @return {boolean} true if removed, false if not found\n     *\n     */\n  static RemoveBlockedUser(jsonObj, userId) {\n    return XMFollowBase.RemoveUser(jsonObj, userId, XMFollowBase.PROP_BLOCKED);\n  }\n\n  /**\n     * Remove a user from the muted user list\n     *\n     * @param {{}} jsonObj\n     * @param {string} userId id to remove from blocked list\n     * @return {boolean} true if removed, false if not found\n     *\n     */\n  static RemoveMutedUser(jsonObj, userId) {\n    return XMFollowBase.RemoveUser(jsonObj, userId, XMFollowBase.PROP_MUTED);\n  }\n\n  /**\n     * Remove a tuser from the blocked user list\n     *\n     * @param {{}} jsonObj\n     * @param {string} userId id to remove from blocked list\n     * @return {boolean} true if removed, false if not found\n     *\n     */\n  static RemovePendingUser(jsonObj, userId) {\n    return XMFollowBase.RemoveUser(jsonObj, userId, XMFollowBase.PROP_PENDING);\n  }\n\n  /**\n     * Remove a target that the object/user is following\n     *\n     * @param {{}} jsonObj\n     * @param {string} targetId target identifier to unfollow\n     * @param {string} list list type defined in LIST_TYPE\n     * @return {boolean} true if removed, false if not found\n     *\n     */\n  static RemoveUser(jsonObj, targetId, list = XMFollowBase.PROP_ACCEPTED) {\n    return XMFollowBase.LIST_TYPES.includes(list) ? XMFollowBase.RemoveWord(jsonObj, list, targetId) : false;\n  }\n\n  /**\n     * Remove all targets within following following list\n     *\n     * @param {{}} jsonObj\n     * @param {string} list list type defined in LIST_TYPE\n     * @return {boolean} true if removed, false if not found\n     *\n     * @see ~CountUsers\n     * @see ~RemoveUsers\n     */\n  static RemoveAllUsers(jsonObj, list = XMFollowBase.PROP_ACCEPTED) {\n    return XMFollowBase.RemoveAllWords(jsonObj, list);\n  }\n\n  /**\n     * Return number of targets that this object is following\n     *\n     * @param {{}} jsonObj\n     * @param {string} list list type defined in LIST_TYPE\n     * @return {number} 0 or greater if valid list, -1 if invalid list\n     */\n  static CountUsers(jsonObj, list = XMFollowBase.PROP_ACCEPTED) {\n    return XMFollowBase.LIST_TYPES.includes(list) ? XMObject.CountWords(jsonObj, list) : -1;\n  }\n\n  /**\n     * Return number of pending targets that this object has\n     *\n     * @param {{}} jsonObj\n     * @return {number}\n     */\n  static CountPendingUsers(jsonObj) {\n    return XMFollowBase.CountWords(jsonObj, XMFollowBase.PROP_PENDING);\n  }\n\n  /**\n     * Return number of blocked targets that this object has\n     *\n     * @param {{}} jsonObj\n     * @return {number}\n     */\n  static CountBlockedUsers(jsonObj) {\n    return XMFollowBase.CountWords(jsonObj, XMFollowBase.PROP_BLOCKED);\n  }\n\n  /**\n     * Return number of muted targets that this object has\n     *\n     * @param {{}} jsonObj\n     * @return {number}\n     */\n  static CountMutedUsers(jsonObj) {\n    return XMFollowBase.CountWords(jsonObj, XMFollowBase.PROP_MUTED);\n  }\n\n\n} // class XMFollowBase\n\n/**\n * Model who a user follows in a separate managed object.\n * The unique ID will be the same with the user ID, but\n * data stored in separate space, using different folder\n * name.\n */\nexport class XMFollows extends XMFollowBase {\n\n  /**\n     *\n     * @param {string} clsname\n     * @param {*} props\n     * @see #CreateNew\n     */\n  constructor(clsname = _CLSNAME_FOLLOWS, props) {\n    super(clsname, props);\n    this.class = XMFollows;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n     * Convenient method to check if the given object\n     * is an instance of this class (XMUser)\n     */\n  static IsInstance(obj) {\n    return obj instanceof XMFollows;\n  }\n\n  /**\n     * Return the default folder/table/collection name used\n     * for storing stats\n     */\n  static GetFolderName() {\n    return ModelFolder.FOLLOWS;\n  }\n\n  static GetName() {\n    return _CLSNAME_FOLLOWS;\n  }\n\n  static GetTypeID() {\n    return ModelType.FOLLOWS;\n  }\n\n  /**\n     * Create a new instance\n     *\n     * @param {string} userId User ID, which is also the ID of this object\n     * @param {string} title category title, optional\n     * @param {string} desc optional\n     */\n  static CreateNew(userId, tracking = false) {\n    const newObj = new XMFollows();\n    newObj.initNew();\n    newObj._setId(userId);   //\n\n    if (tracking) { newObj.enableTrackingNew(); }\n\n    return newObj;\n  }\n} // class XMFollows\n\n/**\n * Model who a user follows in a separate managed object.\n * The unique ID will be the same with the user ID, but\n * data stored in separate space, using different folder\n * name.\n */\nexport class XMFollowers extends XMFollowBase {\n\n  /**\n     *\n     * @param {string} clsname\n     * @param {*} props\n     * @see #CreateNew\n     */\n  constructor(clsname = _CLSNAME_FOLLOWERS, props) {\n    super(clsname, props);\n    this.class = XMFollowers;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n     * Convenient method to check if the given object\n     * is an instance of this class (XMUser)\n     */\n  static IsInstance(obj) {\n    return obj instanceof XMFollowers;\n  }\n\n  /**\n     * Return the default folder/table/collection name used\n     * for storing stats\n     */\n  static GetFolderName() {\n    return ModelFolder.FOLLOWERS;\n  }\n\n  static GetName() {\n    return _CLSNAME_FOLLOWERS;\n  }\n\n  static GetTypeID() {\n    return ModelType.FOLLOWERS;\n  }\n\n  /**\n     * Create a new instance\n     *\n     * @param {string} userId User ID, which is also the ID of this object\n     * @param {string} title category title, optional\n     * @param {string} desc optional\n     */\n  static CreateNew(userId, tracking = false) {\n    const newObj = new XMFollowers();\n    newObj.initNew();\n    newObj._setId(userId);   //\n\n    if (tracking) { newObj.enableTrackingNew(); }\n\n    return newObj;\n  }\n} // class XMFollowers\n\n\n/**\n * Models a single user follow (bi-directional) relationship.\n * This is alternative implementation then XMFollows/XMFollowers\n * which implements 1-to-M via array of target userIds.\n *\n * PURPOSE: Given MongoDB array performance (or document\n * expansion) is not fully understood,\n *\n * @see XMFollow.CreateNew()\n */\nclass XMFollow extends XMObject {\n  static get PROP_STATUS() { return 's'; }\n\n  static get STATUS_FOLLOWING() { return STATUS_FOLLOWING; }\n  static get STATUS_NOT_FOLLOWING() { return STATUS_NOT_FOLLOWING; }\n\n  static get STATUS_ACCEPTED() { return STATUS_ACCEPTED; }\n  static get STATUS_PENDING() { return STATUS_PENDING; }\n  static get STATUS_BLOCKED() { return STATUS_BLOCKED; }\n  static get STATUS_MUTED() { return STATUS_MUTED; }\n\n  static get PROP_BLOCKED() { return SocialProps.BLOCKED; }\n  static get PROP_MUTED() { return SocialProps.MUTED; }\n  static get PROP_FOLLOWING_USERID() { return 'fid'; }\n\n\n  /**\n   *\n   * @param {string} clsname supply by subclasses\n   * @param {*} props\n   * @see #CreateNew\n   */\n  constructor(clsname, props) {\n    super(clsname, props);\n    this.class = XMFollow;\n  }\n\n  /**\n   * Used by StorageManager. Override inherited method\n   * to ensure no updated timestamp is added. This saves\n   * extra overhead in storage. Only creation timestamp\n   * is stored.\n   *\n   * @return {boolean} true to enforce a updated timestamp.\n   *\n   * @see ~mustHaveCreatedTS()\n   */\n  mustHaveUpdatedTS() {\n    return false;\n  }\n\n  /**\n   * Use CreateNew() to create this relationship record on server side\n   *\n   * @param {string} userId\n   *\n   * @see ~CreateNew()\n   */\n  setFollower(userId) {\n    return this.setOwnerId(userId);\n  }\n\n  /**\n   * Return follower's user Id, which should be the owner's id\n   * for this relationship.\n   *\n   * @param {*} defaultVal\n   * @return {string} follower's user Id (owner Id)\n   *\n   * @see ~getFollowingUser()\n   */\n  getFollower(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMFollow.GetFollower(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Add an userId to this list tracker directly as accepted user.\n   *\n   * @param {string} userId target user to following in this instance\n   * @return {boolean} true if added\n   */\n  setFollowingUser(userId) {\n    return XMFollow.SetFollowingUser(this.getData(true), userId);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getFollowingUser(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMFollow.GetFollowingUser(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Explicitly set the follow status. When nothing is set,\n   * default is always ACCEPTED\n   *\n   * @param {string} status\n   * @return {string} status set or null if not set\n   */\n  setStatus(status) {\n    const data = this.getData(true);\n    return data ? XMFollow.SetFollowStatus(data, status) : null;\n  }\n\n  /**\n     * Report on whether the given userId is in the tracking list, and\n     * if so which one (of the LIST_TYPES)\n     *\n     * @param {string} userId\n     * @return {string} either ACCEPTED, PENDING, BLOCKED, MUTED\n     * @see ~isFollowing\n     */\n  getStatus(userId, list = null, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMFollow.GetStatus(data, defaultVal) : STATUS_NOT_FOLLOWING;\n  }\n\n  /**\n   * Return whether the folower (owner of this object) is following the target\n   * user. This will return false if status is either PENDING, BLOCKED, or MUTED,\n   * or no following user info.\n   *\n   * @return {boolean} true if following (ACCEPTED or no status)\n   */\n  isFollowing(honorBlock = true) {\n    const data = this.getData(false);\n    return data ? XMFollow.IsFollowing(data, honorBlock) : false;\n  }\n\n  /**\n   * Add a block property PROP_BLOCK with value STATUS_BLOCKED\n   *\n   * @return {string} previous value or null\n   */\n  setBlocked() {\n    return XMFollow.SetBlocked(this.getData(true));\n  }\n\n  /**\n   * Clear property/value for PROP_BLOCK if set previously\n   *\n   */\n  unsetBlocked() {\n    const data = this.getData(false);\n    return data ? XMFollow.UnsetBlocked(data) : false;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isBlocked() {\n    const data = this.getData(false);\n    return data ? XMFollow.IsBlocked(data) : null;\n  }\n\n  /**\n   * Add a block property PROP_BLOCK with value STATUS_BLOCKED\n   *\n   * @return {string} previous value or null\n   */\n  setMuted() {\n    return XMFollow.SetMuted(this.getData(true));\n  }\n\n  /**\n   * Clear property/value for PROP_BLOCK if set previously\n   *\n   */\n  unsetMuted() {\n    const data = this.getData(false);\n    return data ? XMFollow.UnsetMuted(data) : false;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isMuted() {\n    const data = this.getData(false);\n    return data ? XMFollow.IsMuted(data) : null;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n   * Direct check for instance matching this class (override parent)\n   *\n   * @return {boolean}\n   */\n  static IsInstance(obj) {\n    return obj instanceof XMFollow;\n  }\n\n  /**\n   * @return {string} folder name\n   */\n  static GetFolderName() {\n    return ModelFolder.FOLLOW;\n  }\n\n  /**\n   * @return {string} class name\n   */\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /**\n   * @return {string} follow type name\n   */\n  static GetTypeID() {\n    return ModelType.FOLLOW;\n  }\n\n\n  /**\n   * Derive object/record's _id (primary key field),\n   * which is based on the two userIds\n   *\n   * @param {string} followerId\n   * @param {string} followingId\n   * @throws Exception will occur if input userIds are null\n   */\n  static DeriveID(followerId, followingId) {\n    return `${followerId.toLowerCase()}_${followingId.toLowerCase()}`;\n  }\n\n  static CreateNew(followerId, followingId, status = null) {\n    const followObj = new XMFollow();\n    followObj.initNew(false);\n    const _id = XMFollow.DeriveID(followerId, followingId);\n    followObj._setId(_id);\n    followObj.setFollower(followerId);\n    followObj.setFollowingUser(followingId);\n\n    if (status) {\n      followObj.setFollowStatus(status);\n    }\n\n    return followObj;\n  }\n\n  /**\n   *\n   * @param {object} jsonObj\n   * @param {stsring} userId\n   */\n  static SetFollower(jsonObj, userId) {\n    return XMFollow.SetOwnerId(jsonObj, userId);\n  }\n\n  /**\n   * Return the userId of the follower. This is currently\n   * the object's _id\n   *\n   * @param {object} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetFollower(jsonObj, defaultVal = null) {\n    return XMFollow.GetOwnerId(jsonObj, defaultVal);\n  }\n\n\n  /**\n   *\n   * @param {string} userId\n   * @return {string} previous value\n   */\n  static SetFollowingUser(jsonObj, userId) {\n    return XMFollow.SetObjectField(jsonObj, XMFollow.PROP_FOLLOWING_USERID, userId);\n  }\n\n\n  /**\n   *\n   * @param {object} jsonObj\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  static GetFollowingUser(jsonObj, defaultVal = null) {\n    return XMFollow.GetObjectField(jsonObj, XMFollow.PROP_FOLLOWING_USERID);\n  }\n\n  /**\n   *\n   * @param status one of STATUS_FOLLOWING, STATUS_NOT_FOLLOWING, STATUS_\n   * @return {boolean} true to set successfully, false if error (bad status)\n   */\n  static SetFollowStatus(jsonObj, status) {\n    if (STATUS_TYPES.includes(status)) {\n      XMFollow.SetObjectField(jsonObj, XMFollow.PROP_STATUS, status);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Return follow status. Blocked and muted are treated as not following\n   *\n   * @param {object} jsonObj\n   * @param {string} defaultVal return this if no value\n   * @return {string} either ACCPTED, BLOCKED, MUTED, or PENDING\n   *\n   */\n  static GetStatus(jsonObj, defaultVal = null) {\n    return XMFollow.GetObjectField(jsonObj, XMFollow.PROP_STATUS, defaultVal);\n  }\n\n  /**\n   * Return whether the user is following the following user defined in this object.\n   * It can return false if 1) status is STATUS_PENDING, or 2) PROP_BLOCKED === STATUS_BLOCKED\n   * if honorBlock is true.\n   *\n   * @param {object} jsonObj\n   * @param {boolean} honorBlock true to honor block flag\n   * @return {boolean} true if following (accepted status). no status value is equated to ACCEPTED\n   */\n  static IsFollowing(jsonObj, honorBlock = true) {\n    let verdict = XMFollow.GetStatus(jsonObj, XMFollow.STATUS_ACCEPTED) === STATUS_ACCEPTED;\n    if ((verdict === true) && honorBlock) {\n      if (XMFollow.IsBlocked(jsonObj)) {\n        verdict = false;\n      }\n    }\n    return verdict;\n  }\n\n  /**\n   * Set block property to STATUS_BLOCKED\n   *\n   * @param {{}} jsonObj\n   */\n  static SetBlocked(jsonObj) {\n    return XMFollowBase.SetObjectField(jsonObj, XMFollowBase.PROP_BLOCKED, STATUS_BLOCKED);\n  }\n\n  /**\n   * Clear block flag\n   *\n   * @param {{}} jsonObj\n   */\n  static UnsetBlocked(jsonObj) {\n    return XMFollowBase.ClearObjectField(jsonObj, XMFollowBase.PROP_BLOCKED);\n  }\n\n  /**\n   * Check if blocked property is set\n   *\n   * @param {object} jsonObj\n   * @return {boolean} true if blocked property exists with the value STATUS_BLOCKED\n   */\n  static IsBlocked(jsonObj) {\n    return XMFollow.GetObjectField(jsonObj, XMFollow.PROP_BLOCKED) === STATUS_BLOCKED;\n  }\n\n  /**\n     * Add a user to the muted list.\n     *\n     * @param {{}} jsonObj\n     */\n  static SetMuted(jsonObj) {\n    return XMFollow.SetObjectField(jsonObj, XMFollow.PROP_MUTED, STATUS_MUTED);\n  }\n\n  /**\n   * Clear block flag\n   *\n   * @param {{}} jsonObj\n   */\n  static UnsetMuted(jsonObj) {\n    return XMFollow.ClearObjectField(jsonObj, XMFollow.PROP_MUTED);\n  }\n\n  /**\n   *\n   * @param {object} jsonObj\n   * @return {boolean} true if muted property exists and is set to STATUS_MUTED\n   */\n  static IsMuted(jsonObj) {\n    return XMFollow.GetObjectField(jsonObj, XMFollow.PROP_MUTED) === STATUS_MUTED;\n  }\n\n} // class XMFollow\n\n// To Be Deprecated\nXMFollows.RegisterType(XMFollows);\nXMFollowers.RegisterType(XMFollowers);\n\nXMFollow.RegisterType(XMFollow);\n\nexport default XMFollow;\n","/**\n * Represent a response object.\n *\n * @see XRequest\n */\nimport { UAParser } from 'ua-parser-js';\n\nimport XObject from '../XObject';\nimport XUserCred from '../user/XUserCred';\nimport { UserProps, XObjectProps } from '../ModelConsts';\nimport Util, { TimeUtil } from '../../Util';\nimport XHttpBase from './XHttpBase';\n\nconst _CLSNAME = 'XRequest';\n\nexport const PROP_USER_ID = 'uid';\nexport const PROP_USER_TOKEN = 'token';\nexport const PROP_PARAMS = 'params';\nexport const PROP_CONTENT = 'content';\nexport const PROP_ENDPOINT = 'ep';\nexport const HDR_APP_AUTH = 'x-app-auth';\nexport const HDR_APP_URL = 'x-app-url';\nexport const HDR_APP_LANG = 'x-app-lang';\n\n\n/**\n * Wrapper for results, which can contain more data when just payload.\n * Some we can add include a return code (not necessarily error),\n * request ID, session token/info, other security data/key, etc.\n */\nexport class XRequest extends XHttpBase {\n  static get HDR_APP_AUTH() { return HDR_APP_AUTH; }\n  static get HDR_APP_URL() { return HDR_APP_URL; }\n  static get HDR_APP_LANG() { return HDR_APP_LANG; }\n  static get PROP_CONTENT() { return PROP_CONTENT; }\n\n  /**\n   * Constructor - Use Create() instead\n   *\n   * @param {string} clsname\n   * @param {*} params\n   * @see ~Create\n   */\n  constructor(clsname = _CLSNAME, params = null) {\n    super(clsname, params);\n    this.class = XRequest;\n\n    this._setTypeID();\n  }\n\n  /**\n   * Store the given http request object as a transient\n   * property.\n   *\n   * @param {object} req http request object\n   */\n  setRequestObject(req) {\n    this.req = req;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {object} tracked transient (http) request object\n   */\n  getRequestObject(defaultVal = null) {\n    return this.req ? this.req : defaultVal;\n  }\n\n  /**\n   * Set the \"official\" application url, which can be\n   * used for click backs, such as user identifiy confirmation.\n   *\n   * @param {string} appUrl user associated with the token\n   * @return {boolean} true if set, false if not (empty string)\n   */\n  setAppUrlHeader(appUrl) {\n    return this.setHeader(HDR_APP_URL, appUrl);\n  }\n\n  /**\n   * Retrieve the \"offical\" application url. This may not be\n   * provided as server might have configured a default app url.\n   * It's useful if web app has different official url.\n   *\n   * @param {*} defaultVal\n   * @return {string=} app url prefix, or defaultVal if null\n   */\n  getAppUrlHeader(defaultVal = null) {\n    return this.getHeaderValue(HDR_APP_URL, defaultVal);\n  }\n\n  /**\n   * Track user that initiated this request.\n   *\n   * @param {string} userId user associated with the token\n   * @return {string} previous value\n   */\n  setUserId(userId) {\n    if (userId) {\n      return this.set(PROP_USER_ID, userId);\n    }\n  }\n\n  /**\n   * Track user that initiated this request.\n   *\n   * NOTE: For now, username is userId\n   *\n   * @deprecated\n   *\n   * @param {string} username user associated with the token\n   * @return {string} previous value\n   *\n   * @see ~setUserId\n   */\n  setUsername(username) {\n    if (username) {\n      return this.setUserId(username);\n    }\n  }\n\n  /**\n   * Retrieve the authenticating user's ID.\n   *\n   * @param {*} defaultVal return this if no such property\n   * @return {string}\n   */\n  getUserId(defaultVal = null) {\n    return this.get(PROP_USER_ID, defaultVal);\n  }\n\n  /**\n   * @deprecated\n   *\n   * @param {*} defaultVal return this if no such property\n   * @return {string}\n   *\n   * @see ~getUserId\n   */\n  getUsername(defaultVal = null) {\n    return this.getUserId(defaultVal);\n  }\n\n  /**\n   *\n   * @param {string} lang\n   * @return {string} previous value\n   */\n  setLanguagePref(lang) {\n    return this.set(HDR_APP_LANG);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal return this if no such property\n   * @return {string}\n   */\n  getLanguagePref(defaultVal = null) {\n    return this.get(HDR_APP_LANG, defaultVal);\n  }\n\n  /**\n   * Record the given user credential which will be used when\n   * sending request out.\n   *\n   * @param {XUserCred} userCred credential for this request\n   */\n  setUserCred(userCred) {\n    const token = userCred.getAccessToken();\n    const userId = userCred.getUserId();\n    if (token) { this.setToken(token); }\n    if (userId) { this.setUserId(userId); }\n  } // setCredential\n\n  /**\n   * Return the credentials stored in this request object.\n   *\n   * @param {*} defaultVal\n   * @return {XUserCred} credential (userId, token) for this request\n   */\n  getUserCred(defaultVal = null) {\n    const token = this.getToken();\n    const userId = this.getUserId();\n    return XUserCred.Create(token, userId);\n  } // getCredential\n\n  /**\n   * Set user access token.\n   *\n   * @param {string} token\n   * @return {string}\n   *\n   * @see ~getToken\n   */\n  setToken(token) {\n    if (token) {\n      return this.set(PROP_USER_TOKEN, token);\n    }\n  }\n\n  /**\n   * Get the results stored in this response object\n   *\n   * @param {*} defaultVal value to return if no result\n   * @return {string} token value previously set\n   *\n   * @see ~setToken\n   */\n  getToken(defaultVal = null) {\n    return this.get(PROP_USER_TOKEN, defaultVal);\n  }\n\n  /**\n   * Track api endpoint\n   *\n   * @param {string} path\n   * @return {string} previous value, if any\n   */\n  setEndpoint(path) {\n    return this.set(PROP_ENDPOINT, path);\n  }\n\n  /**\n   * Return endpoint URL previous set.\n   *\n   * @return {string}\n   *\n   */\n  getEndpoint(defaultVal = null) {\n    return this.get(PROP_ENDPOINT, defaultVal);\n  }\n\n  isGuest() {\n    return XUserCred.IsGuest(this.getUserId());\n  }\n\n  isRobot() {\n    return XUserCred.IsRobot(this.getUserId());\n  }\n\n  isAuthenticatedUser() {\n    return XUserCred.IsAuthenticatedUser(this.getUserId());\n  }\n\n  toConsole() {\n    this.error(`Error(${this.getCode()})`, this.getMessage());\n  }\n\n  toString() {\n    const time = TimeUtil.Ts2YY_MM_DD_hh_mm_ss();\n    const username = this.getUserId();\n    const os = this.getOSName();\n    const device = this.getDeviceName('unknown');\n    const browser = this.getBrowserName('?browser');\n    const ipaddr = this.getIPAddress('x.x.x.x');\n    return `[${time}] XREQ(${ipaddr}:${username}): ${this.getEndpoint('/unknown')} [${os}/${device}, ${browser}]`;\n  }\n\n  // ---------------- Client Information Extraction  -------------------\n\n\n  /**\n   * Return instance of User Agent parser. Only\n   * create once per request instance and it's\n   * delayed until necessary.\n   *\n   * @return {UAParser}\n   */\n  _getUAParser() {\n    if (this.uap == null) {\n      const uastring = this.getUserAgent(null);\n      if (uastring) { this.uap = new UAParser(uastring); }\n    }\n    return this.uap;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {{ua:string,browser:{},cpu:{},device:{},engine:{},os:{}}}\n   */\n  getUAResult(defaultVal = null) {\n    const ua = this._getUAParser();\n    return ua ? ua.getResult() : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {{name:string,version:string}}\n   */\n  getBrowserInfo(defaultVal = null) {\n    const ua = this._getUAParser();\n    return ua ? ua.getBrowser() : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getBrowserName(defaultVal = null) {\n    const browser = this.getBrowserInfo(null);\n    return browser ? `${browser.name} ${browser.version}` : defaultVal;\n  }\n\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {{name:string,version:string}}\n   */\n  getDeviceInfo(defaultVal = null) {\n    const ua = this._getUAParser();\n    return ua ? ua.getDevice() : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getDeviceName(defaultVal = null) {\n    const device = this.getDeviceInfo(null);\n    if (!device) { return defaultVal; }\n    if (device.name == null) { return defaultVal; }\n    return device.version ? `${device.name} ${device.version}` : device.name;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {{name:string,version:string}}\n   */\n  getEngineInfo(defaultVal = null) {\n    const ua = this._getUAParser();\n    return ua ? ua.getEngine() : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getEngineName(defaultVal = null) {\n    const engine = this.getEngineInfo(null);\n    return engine ? `${engine.name} ${engine.version}` : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {{name:string,version:string}}\n   */\n  getOSInfo(defaultVal = null) {\n    const ua = this._getUAParser();\n    return ua ? ua.getOS() : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getOSName(defaultVal = null) {\n    const os = this.getOSInfo(null);\n    return os ? `${os.name} ${os.version}` : defaultVal;\n  }\n\n  getIPAddress(defaultVal = null) {\n    const ipaddr = this.getHeaderValue('x-forwarded-for');\n    if (Util.NotNull(ipaddr)) { return ipaddr; }\n\n    const req = this.getRequestObject();\n    return req ? req.connection.remoteAddress : defaultVal;\n  }\n\n\n  // *************************************************************\n  //\n  // Class methods.\n  //\n  // *************************************************************\n\n  /**\n   * Check if the given type is an instance of XRequest\n   * @param {*} obj\n   */\n  static IsInstance(obj) {\n    return obj instanceof XRequest;\n  }\n\n  static GetTypeID() {\n    return 'xreq';\n  }\n\n  /**\n   * Create new XObject instance representing a client-side\n   * XRequest to be sent.\n   *\n   * @param {XObject=} content json or instance of XObject\n   * @param {XUserCred} userCred access token, etc.\n   * @return {XRequest}\n   */\n  static CreateNew(content = null, userCred = null) {\n    const xReq = new XRequest();\n    if (content) {\n      xReq.setContent(content);\n    }\n    if (userCred) { xReq.setUserCred(userCred); }\n    return xReq;\n  }\n\n  /**\n   * Create new XObject isntance representing\n   * multipart/form-data HTTP request object\n   *\n   * @param {FormData} formData\n   * @param {XUserCred} userCred\n   * @param {boolean} inclHeader true to include \"multipart/form-data\". Should not\n   * do this on client side.\n   * @return {XRequest}\n   */\n  static CreateNewFormData(formData, userCred = null, inclHeader = false) {\n    const xReq = new XRequest();\n    if (formData) { xReq.setFormData(formData, inclHeader); }\n    if (userCred) { xReq.setUserCred(userCred); }\n    return xReq;\n  }\n\n  /**\n   * Create wrapper for the HTTP request object on the server side\n   * upon receiving!\n   *\n   * @param {object} req req.body contains XRequest stringified,\n   * and req.params contain parameter values for the url path.\n   *\n   * @return {XRequest}\n   */\n  static CreateFromHttpRequest(req) {\n    const params = req.params ? req.params : {};\n    const headers = req.headers ? req.headers : null;\n    const props = params.props ? params.props : null;\n\n    const userCredStr = headers ? headers[HDR_APP_AUTH] : null;\n    const userCred = userCredStr ? XUserCred.CreateFromAuthHeader(userCredStr) : null;\n    let content = req.body ? req.body.content : null;\n    let xreq;\n\n    if (Util.IsString(content)) {\n      // try parsing to JSON\n      try {\n        content = JSON.parse(content);\n      } catch (e) {\n        console.log(`${_CLSNAME}: Tried parsing: `, content);\n        console.log(e);\n      }\n    }\n\n    content = XObject.DeSerialize(content);\n    if (content && content[XObjectProps.TYPE] === XRequest.GetTypeID()) { xreq = XObject.Wrap(content); } else { xreq = XRequest.CreateNew(content); }\n\n    xreq.setRequestObject(req);\n\n    if (userCred) { xreq.setUserCred(userCred); }\n\n    if (req.url) { xreq.setEndpoint(req.url); }\n\n    if (headers) { xreq.setHeaders(headers); }\n\n    if (props) { xreq.importObjectFields(props); }\n\n    // console.log(xreq.toString());\n    return xreq;\n  }\n\n  // /**\n  //  * Set the user ID that is associated with the access token\n  //  *\n  //  * @param {{}} jsonObj\n  //  * @param {*} action\n  //  */\n  // static SetUserId(jsonObj, username) {\n  //     return XRequest.SetObjectField(jsonObj, PROP_USER_ID, username);\n  // }\n\n  /**\n   * Get the initiator ID of this log. Note initiator is different than\n   * actioner.\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~GetActioner\n   */\n  static GetUserId(jsonObj, defaultVal = null) {\n    return XRequest.GetObjectField(jsonObj, PROP_USER_ID, defaultVal);\n  }\n\n  // /**\n  //  * Set the \"official\" application url, which can be\n  //  * used for click backs, such as user identifiy confirmation.\n  //  *\n  //  * @param {{}} jsonObj\n  //  * @param {string} appUrl application url\n  //  * @return {boolean} true if set, false if not (e.g., empty url)\n  //  */\n  // static SetAppUrl(jsonObj, appUrl) {\n  //     if (Util.StringIsEmpty(appUrl))\n  //         return false;\n  //     XRequest.SetObjectField(jsonObj, HDR_APP_URL, appUrl);\n  //     return true;\n  // }\n\n  // /**\n  //  * Retrieve the \"offical\" application url. This may not be\n  //  * provided as server might have configured a default app url.\n  //  * It's useful if web app has different official url.\n  //  *\n  //  * @param {{}} jsonObj\n  //  * @param {*} defaultVal\n  //  *\n  //  */\n  // static GetAppUrl(jsonObj, defaultVal=null) {\n  //     return XRequest.GetObjectField(jsonObj, HDR_APP_URL, defaultVal);\n  // }\n\n  // /**\n  //  * Set result within the data portion of the object.\n  //  *\n  //  * @param {{}} jsonData unwraped json response data\n  //  * @param {*} resultData result value to set\n  //  * @param {string} rc optonal return code\n  //  */\n  // static SetToken(jsonData, token) {\n  //     return XRequest.SetObjectField(jsonData, PROP_USER_TOKEN, token);\n  // } // SetToken\n\n  // /**\n  //  * Retrieve token value that was set\n  //  *\n  //  * @param {{}} jsonData\n  //  * @param {*} defaultVal\n  //  * @return {{}} previous value\n  //  */\n  // static GetToken(jsonData, defaultVal) {\n  //     return XRequest.GetObjectField(jsonData, PROP_USER_TOKEN, defaultVal);\n  // }\n\n  // /**\n  //  * Set the api endpoint that is associated with this request\n  //  *\n  //  * @param {{}} jsonObj\n  //  * @param {*} action\n  //  */\n  // static SetEndPoint(jsonObj, username) {\n  //     return XRequest.SetObjectField(jsonObj, PROP_ENDPOINT, username);\n  // }\n\n  // /**\n  //  * Get the api endpoint for this request\n  //  *\n  //  * @param {{}} jsonObj\n  //  * @param {*} defaultVal\n  //  *\n  //  * @see ~GetActioner\n  //  */\n  // static GetEndPoint(jsonObj, defaultVal=null) {\n  //     return XRequest.GetObjectField(jsonObj, PROP_ENDPOINT, defaultVal);\n  // }\n\n}\n\nXRequest.RegisterType(XRequest);\n\nexport default XRequest;\n","/**\n * Represent a response object.\n *\n * @see XRequest\n * @see XResponse\n */\n\nimport XObject from '../XObject';\n\nimport { UserProps } from '../ModelConsts';\nimport Util from '../../Util';\n\nconst _CLSNAME = 'XHttpBase';\n\nexport const PROP_HEADERS = 'headers';\nexport const PROP_ACCEPT = 'accept';\nexport const PROP_CONTENT = 'content';\nexport const PROP_CONTENT_TYPE = 'content-type';\nexport const PROP_ENCODE_TYPE = 'enctype';\n\nexport const CONTENT_TYPE_JSON = 'application/json';\nexport const CONTENT_TYPE_FORMDATA = 'multipart/form-data';\n\nexport const HDR_USER_AGENT = 'user-agent';\n\n/**\n * Base class for HTTP Request and Response model/wrapper\n * objects.\n */\nexport class XHttpBase extends XObject {\n  /**\n   * Constructor - Use Create() instead\n   *\n   * @param {string} clsname\n   * @param {*} params\n   * @see ~Create\n   */\n  constructor(clsname = _CLSNAME, params = null) {\n    super(clsname, params);\n    this.class = XHttpBase;\n\n    this._setTypeID();\n  }\n\n  /**\n   * Set a field/value entry into the main data json\n   * if single content, or into FormData if it exists (multipart)\n   *\n   * @param {string} field\n   * @param {*} value string or JSON for regular content, a Blob or File for formdata\n   * @return {*} old Value (if not form data)\n   */\n  // set(field, value) {\n  //     let result;\n  //     if (this.hasFormData()) {\n  //         let formData = this.getFormData();\n  //         formData.append(field, value);\n  //     }\n  //     else\n  //         result = this.setObjectField(XObject.MAIN_DATA, field, value);\n  //     return result;\n  // }\n\n  /**\n   * Retrieve value of a field either from the main content\n   * or FormData if multipart/form-data content type.\n   *\n   * @param {string} field\n   * @param {*} defaultVal\n   * @return {*}  value for the field\n   */\n  // get(field, defaultVal) {\n  //     let result;\n  //     if (this.hasFormData()) {\n  //         let formData = this.getFormData();\n  //         result = formData.get(field);\n  //     }\n  //     else\n  //         result = this.getObjectField(field, null);\n  //     return result ? result : defaultVal;\n  // }\n\n  /**\n   * Set the entire header block. This will override\n   * any existing block, so be careful. Use\n   * setHeader() for setting individual line.\n   *\n   * @param {{}} headers\n   * @return {true} if set, false if input is null or not object type\n   *\n   * @see ~setHeader()\n   */\n  setHeaders(headers) {\n    if (headers && typeof headers === 'object') {\n      super.set(PROP_HEADERS, headers);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   *\n   * @param {boolean} create\n   * @return {{}=} header structure or null if doesn't exist\n   */\n  getHeaders(create = false) {\n    let hdrs = super.get(PROP_HEADERS, null);\n    if (hdrs == null && create === true) {\n      hdrs = {};\n      super.set(PROP_HEADERS, hdrs);\n    }\n    return hdrs;\n  }\n\n  /**\n   * Set a header line with label and value pair.\n   * If header block doesn't exist, one will be\n   * created.\n   *\n   * @param {string} label\n   * @param {string=} value\n   *\n   * @see ~getHeaderValue\n   */\n  setHeader(label, value) {\n    if (Util.StringIsEmpty(label)) {\n      console.trace('Empty value');\n      return false;\n    }\n    const hdrs = this.getHeaders(true);\n    hdrs[label] = value;\n    return true;\n  }\n\n  /**\n   *\n   * @param {string} label\n   * @param {*} defaultVal\n   * @return {string=} avalue assigned to header or defaultVal\n   */\n  getHeaderValue(label, defaultVal = null) {\n    const hdrs = this.getHeaders(false);\n    const hval = hdrs ? hdrs[label] : null;\n    return hval || defaultVal;\n  }\n\n  /**\n   *\n   * @param {string} typeString \"application/json\", \"multipart/form-data\", etc\n   */\n  setContentType(typeString) {\n    return this.setHeader(PROP_CONTENT_TYPE, typeString);\n  }\n\n  /**\n   * Set the main content (including XObject) inside the request/response object.\n   *\n   * @param {*} content any json value. DON'T Unwrap XObject if Aux Data\n   * needs to be preserved!!\n   *\n   * @return {*} previously set value\n   * @see ~getContent\n   */\n  setContent(content) {\n    const scontent = XObject.Serialize(content);\n    return this.set(PROP_CONTENT, scontent);\n  }\n\n  /**\n   * Return content as is in set in the request body.\n   * This mean do not Deserialize and re-construct XObjects\n   * if it was serialized\n   *\n   * @param {*} defaultVal\n   * @return {*}\n   */\n  getRawContent(defaultVal = null) {\n    return this.get(PROP_CONTENT, defaultVal);\n  }\n\n  /**\n   * Get the content stored in this request/response object,\n   * and will try to see if was packed up via\n   * XhttpBase.Serialize(). If you don't want this done\n  //  * (should be harmeless), use getRawContent()\n   *\n   * @param {*} defaultVal value to return if no result\n   * @return {*} any value stored, but if XObject it'll be\n   * deserialized and wrapped\n   *\n   * @see ~getRawContent\n   * @see ~setContent\n   */\n  getContent(defaultVal = null) {\n    const scontent = this.get(PROP_CONTENT, null);\n    const content = scontent ? XHttpBase.DeSerialize(scontent) : null;\n    return content || defaultVal;\n  }\n\n  /**\n   * Return content as an instance of XObject subclass, if there\n   * is a type property that match registered type\n   *\n   * @param {*} defaultVal\n   * @return {XObject} subclass of XObject instance if can be wrapped,\n   * or json itself if cannot\n   */\n  getXContent(defaultVal = null) {\n    const content = this.getContent(null);\n    return content ? XObject.Wrap(content) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {string} defaultVal if null, default is \"application/json\"\n   * @return {string=}\n   */\n  getContentType(defaultVal = null) {\n    if (defaultVal == null) {\n      defaultVal = CONTENT_TYPE_JSON;\n    }\n\n    return this.getHeaderValue(PROP_CONTENT_TYPE, defaultVal);\n  }\n\n  /**\n   *\n   * @param {FormData} formData must not be null or else will not set\n   * @param {boolean} inclHeader true to add \"multipart/form-data\". On client side,\n   * this should not be done as it is set with \"Boundary\" by the underlying library\n   *\n   * @return {boolean} true if FormData set properly, false if not\n   *\n   * @see ~hasFormData()\n   */\n  setFormData(formData, inclHeader = false) {\n    if (Util.NotNull(formData)) {\n      this.setContentType(CONTENT_TYPE_FORMDATA);\n      this.fd = formData;\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {FormData=}\n   *\n   * @see ~setFormData()\n   */\n  getFormData(defaultVal = null) {\n    const fd = this.fd;\n    return fd || defaultVal;\n  }\n\n  /**\n   * CLIENT-SIDE API\n   *\n   * Return whether this request has form data content.\n   * This is checking for actual content from client side\n   * as \"content-type\" cannot be set by this code. It\n   * can only be set during fetch to add \"Boundary\"\n   *\n   * If you want to check on server side, use @isMultiPartFormData\n   *\n   * @return {boolean} true if there is FormData object\n   * stored using ~setFormData\n   *\n   * @see ~setFormData()\n   * @see ~isMultiPartFormData()\n   */\n  hasFormData() {\n    const fd = this.getFormData(null);\n    return fd || false;\n  }\n\n  /**\n   * Determine if the request is a multipart/form-data. The\n   * determination is based on header \"content-type\", which\n   * is valid on the server side. This WILL fail on client\n   * side as the content-type string for multipart/form-data\n   * must be set by library code where Boundary need to be\n   * determined.\n   *\n   * @param {defaultVal} return this if header for content-type doesn't exist\n   * @return {string} either content-type value or defaultVal\n   */\n  isMultiPartFormData() {\n    const ct = this.getHeaderValue(PROP_CONTENT_TYPE, null);\n    return ct ? ct.startsWith(CONTENT_TYPE_FORMDATA) : false;\n  }\n\n  /**\n   *\n   * @param {string} label key to associate values\n   * @param {object} value either USVString, Blob, or File.\n   * @param {string} filename filename if value is an instance of File\n   */\n  // setFormDataField(label, value, filename=null) {\n  //     let fd = this.getFormData(true);\n  //     return fd.set(label, value, filename);\n  // }\n\n  /**\n   *\n   * @param {string} label key to associate values\n   * @param {object} value either USVString, Blob, or File.\n   * @param {string} filename filename if value is an instance of File\n   */\n  // appendFormDataField(label, value, filename=null) {\n  //     let fd = this.getFormData(true);\n  //     return fd.append(label, value, filename);\n  // }\n\n  /**\n   *\n   * @param {string} label\n   * @param {*} defaultVal\n   * @return {{}[]} array of objects associated with the label\n   */\n  // getFormDataValues(label, defaultVal=null) {\n  //     let fd = this.getFormData(false);\n  //     let value = fd ? fd.get(label) : null;\n  //     return value ? value : defaultVal;\n  // }\n\n  /**\n   * Force override? not sure it works/necessary, but\n   * use for unit testing at least\n   *\n   * @param {string} agentString\n   * @return {string} previous value\n   */\n  setUserAgent(agentString) {\n    return this.setHeader(HDR_USER_AGENT, agentString);\n  }\n\n  /**\n   * Retrieve \"user-agent\" header value\n   *\n   * @param {*} defaultVal in case if none\n   * @return {string} agent value in header\n   */\n  getUserAgent(defaultVal = null) {\n    return this.getHeaderValue(HDR_USER_AGENT, defaultVal);\n  }\n\n  /**\n   *\n   * @param {string} typeString \"application/json\", \"multipart/form-data\", etc\n   */\n  setAccept(typeString) {\n    return this.setHeader(PROP_ACCEPT, typeString);\n  }\n\n  /**\n   * Retrieve value for the \"accept\" header\n   *\n   * @param {*} defaultVal in case if none\n   * @return {string} accept value in header\n   */\n  getAccept(defaultVal = null) {\n    return this.getHeaderValue(PROP_ACCEPT, defaultVal);\n  }\n\n  // *************************************************************\n  //\n  // Class methods.\n  //\n  // *************************************************************\n\n  // static GetTypeID() {\n  //     return \"xhttpb\";\n  // }\n\n  /**\n   * Check if the given type is an instance of XhttpBase\n   * @param {*} obj\n   */\n  static IsInstance(obj) {\n    return obj instanceof XHttpBase;\n  }\n\n  /**\n   * Set the user ID that is associated with the access token\n   *\n   * @param {{}} jsonObj\n   * @param {string} typeString \"application/json\", \"multipart/form-data\", etc\n   */\n  static SetContentType(jsonObj, typeString) {\n    return XHttpBase.SetObjectField(jsonObj, PROP_CONTENT_TYPE, typeString);\n  }\n\n  /**\n   * Get the initiator ID of this log. Note initiator is different than\n   * actioner.\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetContentType\n   */\n  static GetContentType(jsonObj, defaultVal = null) {\n    return XHttpBase.GetObjectField(jsonObj, PROP_CONTENT_TYPE, defaultVal);\n  }\n\n  /**\n   * Set result within the data portion of the object.\n   *\n   * @param {{}} jsonData unwraped json response data\n   * @param {*} content content to include. XObject subclass will\n   * be unwrapped.\n   * @return {*} previous\n   *  value\n   */\n  static SetContent(jsonData, content) {\n    const scontent = XObject.Serialize(content);\n    return XHttpBase.SetObjectField(jsonData, PROP_CONTENT, scontent);\n  } // SetContent\n\n  /**\n   * Retrieve content (json) object inside the request object\n   *\n   * @param {XRequest} request this object or json data if already unwraped\n   * @param {*} defaultVal\n   * @return {{}} whatever data. If it's serialized XObject (XObject~Serialize)\n   * then it will be deserialized (using XObject~DeSerialize)\n   *\n   * @see ~SetContent\n   */\n  static GetContent(httpMessage, defaultVal = null) {\n    httpMessage = XHttpBase.Unwrap(httpMessage); // in case still XResponse\n    let content = httpMessage ? httpMessage[PROP_CONTENT] : null;\n    content = XHttpBase.DeSerialize(content); // if serialized (found \"stype\")\n    return content || defaultVal;\n  }\n}\n\n// XHttpBase.RegisterType(XHttpBase);\n\nexport default XHttpBase;\n","/**\n * Represent an error record that can be passed\n * between servers and clients.\n *\n * WORK-IN-PROGRESS\n */\n\nimport XError from './model/XError';\n\n// TODO: Need to define numeric code and map to messages\n\nimport {\n  EMAIL_EXISTS,\n  HTTP_CLIENT_ERROR,\n  HTTP_CLIENT_AUTH,\n  RES_NOTFOUND,\n  RES_NOACCESS,\n  SYS_DB_CONN,\n  SYS_DB_REQ,\n  SYS_NOTIMPL,\n  SYS_BAD_ARGS,\n  SYS_BAD_DATA,\n  SYS_INIT,\n  SYS_NETERR,\n  SYS_ERR,\n  RES_ERROR,\n  TAG_NOTFOUND,\n  API_OK,\n  API_BAD_PARAMS,\n  API_NO_OP,\n  API_BAD_DATA,\n  API_ERROR,\n  INVALID_ACTION,\n  USER_BAD_REQUEST,\n  USER_BAD_AUTH,\n  USER_EXISTS,\n  USER_BAD_TOKEN,\n  USER_NOT_ALLOWED,\n  USER_INVALID,\n  USER_OVER_LIMIT,\n  USER_NOTFOUND,\n  USER_BAD_INPUT,\n  USER_BAD_USERNAME,\n  USER_BAD_DEVICEID,\n  USER_BAD_DIGEST,\n  USER_BAD_VCODE,\n  PASS_BAD_PWD,\n  SVC_ERROR\n} from './ErrorConsts';\n\n// convenient shorthand for static getters\nconst E =  (code, msg = null, ...args) => {\n  const eobj = new XError();\n  eobj.setContent(code, msg, ...args);\n  return eobj;\n};\n\nexport class ErrorCodes {\n  static get HTTP_CLIENT_ERROR() { return HTTP_CLIENT_ERROR; }\n  static get HTTP_CLIENT_AUTH() { return HTTP_CLIENT_AUTH; }\n\n  /**\n   * Check if the given error object has the interested code.\n   *\n   * @param {XError=} err should be instance of XError, but can be a string code\n   * @param {String} code  string code to check.\n   */\n  static Is(err, code) {\n    return XError.HasCode(err, code);\n  }\n\n  static IsError(err) {\n    return XError.IsError(err);\n  }\n\n  /**\n   * Attempt to determine if the given error object is an XError\n   * object, or if not an XError, then try to represent the error\n   * with an XError object\n   *\n   * @param {object} err\n   * @param {*} defaultVal\n   * @returns {XError}\n   */\n  static GetXError(err, defaultVal = null) {\n    if (err == null) { return defaultVal; }\n\n    let xerr = null;\n    if (err instanceof Error) {\n      const msg = Error.message;\n      const code = SYS_ERR;\n      xerr = XError.New(code, msg);\n    } else {\n      xerr = XError.Wrap(err);\n      if (xerr == null) { xerr = XError.FromJSON(err); }\n    }\n    return xerr;\n  } // GetXError\n\n  /**\n   * Force error into a message if possible\n   *\n   * @param {*} err XError object, json equiv, or just string\n   */\n  static GetMessage(err, defaultVal = 'Unknown') {\n    if (err == null) { return defaultVal; }\n\n    if (err instanceof Error) { return err.message; }\n\n    const xerr = XError.Wrap(err);\n    return (xerr) ? xerr.getFormattedMessage() : String(err);\n  } // GetMessage\n\n  /**\n   * Force error into a message if possible\n   *\n   * @param {*} err XError object, json equiv, or just string\n   */\n  static GetReadableMessage(err, defaultVal = 'Unknown') {\n    if (err == null) { return defaultVal; }\n\n    if (err instanceof Error) { return err.message; }\n\n    const xerr = XError.Wrap(err);\n    return (xerr) ? xerr.getReadableMessage() : String(err);\n  } // GetReadableMessage\n\n  static SYS_DB_CONN(msg, ...args) { return E(SYS_DB_CONN, msg, ...args); }\n  static SYS_DB_REQ(msg, ...args) { return E(SYS_DB_REQ, msg, ...args); }\n  static SYS_NOTIMPL(msg, ...args) { return E(SYS_NOTIMPL, msg, ...args); }\n  static SYS_BAD_ARGS(msg, ...args) { return E(SYS_BAD_ARGS, msg, ...args); }\n  static SYS_BAD_DATA(msg, ...args) { return E(SYS_BAD_DATA, msg, ...args); }\n  static SYS_INIT(msg, ...args) { return E(SYS_INIT, msg, ...args); }\n  static SYS_NETERR(msg, ...args) { return E(SYS_NETERR, msg, ...args); }\n  static SYS_ERROR(msg, ...args) { return E(SYS_ERR, msg, ...args); }\n\n  static RES_NOTFOUND(msg, ...args) { return E(RES_NOTFOUND, msg, ...args); }\n  static RES_NOACCESS(msg, ...args) { return E(RES_NOACCESS, msg, ...args); }\n  static RES_ERROR(msg, ...args) { return E(RES_ERROR, msg, ...args); }\n  static TAG_NOTFOUND(msg, ...args) { return E(TAG_NOTFOUND, msg, ...args); }\n  static API_OK(msg, ...args) { return E(API_OK, msg, ...args); }\n  static API_NO_OP(msg, ...args) { return E(API_NO_OP, msg, ...args); }\n  static API_BAD_PARAMS(msg, ...args) { return E(API_BAD_PARAMS, msg, ...args); }\n  static API_BAD_DATA(msg, ...args) { return E(API_BAD_DATA, msg, ...args); }\n  static API_ERROR(msg, ...args) { return E(API_ERROR, msg, ...args); }\n\n  static INVALID_ACTION(msg, ...args) { return E(INVALID_ACTION, msg, ...args); }\n  static EMAIL_EXISTS(msg, ...args) { return E(EMAIL_EXISTS, msg, ...args); }\n  static USER_BAD_INPUT(msg, ...args) { return E(USER_BAD_INPUT, msg, ...args); }\n  static USER_BAD_TOKEN(msg, ...args) { return E(USER_BAD_TOKEN, msg, ...args); }\n  static USER_BAD_REQUEST(msg, ...args) { return E(USER_BAD_REQUEST, msg, ...args); }\n  static USER_BAD_AUTH(msg, ...args) { return E(USER_BAD_AUTH, msg, ...args); }\n  static USER_EXISTS(msg, ...args) { return E(USER_EXISTS, msg, ...args); }\n  static USER_NOTFOUND(msg, ...args) { return E(USER_NOTFOUND, msg, ...args); }\n  static USER_NOT_ALLOWED(msg, ...args) { return E(USER_NOT_ALLOWED, msg, ...args); }\n  static USER_INVALID(msg, ...args) { return E(USER_INVALID, msg, ...args); }\n  static USER_SUSPENDED(userId) { return E(USER_INVALID, 'Account Suspended', userId); }\n  static USER_OVER_LIMIT(msg, ...args) { return E(USER_OVER_LIMIT, msg, ...args); }\n  static USER_BAD_USERNAME(msg, ...args) { return E(USER_BAD_USERNAME, msg, ...args); }\n  static USER_BAD_DEVICEID(msg, ...args) { return E(USER_BAD_DEVICEID, msg, ...args); }\n  static USER_BAD_DIGEST(msg, ...args) { return E(USER_BAD_DIGEST, msg, ...args); }\n  static USER_BAD_VCODE(msg, ...args) { return E(USER_BAD_VCODE, msg, ...args); }\n\n  static PASS_BAD_PWD(msg, ...args) { return E(PASS_BAD_PWD, msg, ...args); }\n\n  // For kafka\n  static CONSUMER_SERVICE_ERROR(msg, ...args) { return E(SVC_ERROR, msg, ...args); }\n\n}\n\nexport default ErrorCodes;\n","\nimport Util, { MemoryUtil } from './Util';\n\nconst PROP_WATCH = '_watch';\n\n/**\n * Utility functions to support models and\n * other shared logic.\n *\n *\n */\n\nconst _CLSNAME = 'ObjectBase';\n\nexport class ObjectBase {\n  constructor(clsname = _CLSNAME) {\n    this.class = ObjectBase;\n    this.classname = clsname;\n  }\n\n  /**\n   * Called by subclass Create(), CreateNew()\n   * or variant and propate to each super class.\n   */\n  initNew() {\n    // to nothing at this level\n  }\n\n  /**\n   *\n   * @return {ObjectBase}\n   */\n  getClass() {\n    return this.class;\n  }\n\n  /**\n   *\n   * @return {string}\n   */\n  getClassname() {\n    return this.classname;\n  }\n\n  _setClassname(clsname) {\n    this.classname = clsname;\n  }\n\n  // --------------------- Getter/Setter for properties ---------------\n\n\n  // ----------------------- Change Monitoring ------------------------\n\n\n  /**\n   * Watch property within this object. If you want\n   * to watch a property for an XObject, use\n   * watchXProperty().\n   *\n   *\n   * @param {string} label\n   * @param {function} handler\n   * @return {boolean=} true if successfully added\n   *\n   * @see ~unwatchProperty\n   */\n  watchProperty(label, handler) {\n    const watchers = this._getWatchers(true);\n    if (watchers[label] == null) { watchers[label] = []; }\n    if (!watchers[label].includes(handler)) {\n      watchers[label].push(handler);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Remove a registered handler from watch list.\n   *\n   * @param {string} label\n   * @param {object} handler\n   * @return {boolean} entry and associated object/function removed\n   */\n  unwatchProperty(label, handler) {\n    const watchers = this._getWatchers(false);\n    if (watchers == null) { return; }\n    const watcherArray = watchers[label];\n    if (watcherArray && watcherArray.includes(handler)) {\n      const idx = watcherArray.indexOf(handler);\n      if (idx > -1) { watcherArray.splice(idx, 1); }\n      return true;\n    }\n    return false;\n  }\n\n\n  /**\n   *\n   * @param {string} label\n   * @return {boolean} true watcher entry deleted\n   */\n  unwatchAll(label) {\n    const watchers = this._getWatchers(false);\n    if (watchers == null) { return; }\n    if (watchers[label] !== undefined) {\n      delete watchers[label];\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Return all watchers. This is internal\n   *\n   * @param {boolean} create\n   * @return {{}} property names are keys, and values are\n   * array of handlers\n   */\n  _getWatchers(create = true) {\n    if ((this[PROP_WATCH] == null) && (create === true)) { this[PROP_WATCH] = {}; }\n    return this[PROP_WATCH];\n  }\n\n  /**\n   * Call handlers of the subscribed. Right now should be called\n   * by setObjectField. Calls are done serially and in the order\n   * of registration (array).\n   *\n   * @param {string} tell handler the property name\n   * @param {string} oldValue previous value before the value change\n   * @param {string} newValue new value set\n   * @return {number} number of handlers called.\n   */\n  _dispatchHandlers(propname, oldValue, newValue) {\n    const watchers = this._getWatchers(false);\n    if (watchers == null) { return 0; }\n\n    const handlers = watchers[propname];\n    const thisObj = this;\n    // let _m = `_dispatchHandler(${propname}): oldValue: ${oldValue}, newValue: ${newValue}`;\n    // this.log(_m, \"DISPATCHING...\");\n    let dispatchedCount = 0;\n    if (Array.isArray(handlers)) {\n      handlers.forEach((f) => {\n        // this.log(_m, \"Calling handler: \", f);\n        dispatchedCount++;\n        f(thisObj, propname, oldValue, newValue);\n      });\n    }\n    // this.log(_m, `dispatched ${dispatchedCount} calls...`);\n    return dispatchedCount;\n  } // _dispatchHandler\n\n\n  // ----------------------- Logging Services -------------------------\n\n  /**\n   * Wrapper to console.group([label]). When\n   * we do our own logging, should follow this\n   * grouping style as well.\n   *\n   * @param {string} label\n   *\n   * @see ~logGroupEnd\n   */\n  logGroupBegin(label) {\n    // todo: logger\n    // console.group(label);\n  }\n\n  /**\n   * Wrapper to console.groupEnd();\n   *\n   * @see ~logGroupBegin\n   */\n  logGroupEnd() {\n    // todo: logger\n    // console.groupEnd();\n  }\n\n  logMem(method) {\n    return ObjectBase.LogMem(this.getClassname(), method);\n  }\n  log(method, msg, ...args) {\n    // todo: logger\n    // console.log(`${this.getClassname()}.${method}: ${msg}`, ...args);\n  }\n  warn(method, msg, ...args) {\n    // todo: logger\n    // console.warn(`${this.getClassname()}.${method}: ${msg}`, ...args);\n  }\n  error(method, msg, ...args) {\n    // todo: logger\n    // console.error(`${this.getClassname()}.${method}: ${msg}`, ...args);\n  }\n  trace(method, msg, ...args) {\n    // todo: logger\n    // console.trace(`${this.getClassname()}.${method}: ${msg}`, ...args);\n  }\n\n  /**\n   *\n   * @param {*} expr\n   * @param {*} method\n   * @param {*} msg\n   * @param  {...any} args\n   * @return {boolean} true if assertion successful, false if failed\n   */\n  assert(expr, method, msg, ...args) {\n    // should we toss exception?\n    if (!expr) {\n      console.trace(`${this.getClassname()}.${method}: ${msg}`, ...args);\n      return false;\n    }\n    return true;\n  }\n  assertNotNull(expr, method, msg, ...args) {\n    const verdict = Util.NotNull(expr);\n    return this.assert(verdict, method, msg, ...args);\n  }\n\n  assertInstanceOf(obj, classObj, method, msg, ...args) {\n    const verdict = obj instanceof classObj;\n    return this.assert(verdict, method, msg, ...args);\n  }\n\n  assertType(value, typeStr, method, msg, ...args) {\n    const verdict = (typeof value) === typeStr;\n    return this.assert(verdict, method, msg, ...args);\n  }\n\n  assertBoolean(value, method, msg, ...args) {\n    return this.assertType(value, 'boolean', method, msg, ...args);\n  }\n\n  assertNumber(value, method, msg, ...args) {\n    return this.assertType(value, 'number', method, msg, ...args);\n  }\n\n  assertString(value, method, msg, ...args) {\n    return this.assertType(value, 'string', method, msg, ...args);\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n   * A made-up not-so-useful function to be called by subclasses.\n   * The purpose is to shut-up babel or other ES6 preprocessors\n   * that complain about a class not used in real code, but maybe\n   * needed for other purposes such as JSDoc.\n   */\n  static CheckIn() {\n    return true;\n  }\n\n  /**\n   * Assertion of value/expression being truthy and dump stack if truth\n   * check failed.\n   *\n   * @param {boolean} expr boolean value to check for truth\n   * @param {string} classname name of class where assertion originated\n   * @param {string} method method name\n   * @param {string} msg message\n   * @param  {...any} args\n   */\n  static Assert(expr, classname, method, msg, ...args) {\n    if (expr === true) { return true; }\n    console.trace(`${classname}.${method}: ${msg}`, args);\n    return false;\n  }\n\n  /**\n   * Assertion of value/expression not being null and dump stack if assertion\n   * failed.\n   *\n   * @param {*} expr any value to check against null\n   * @param {string} classname name of class where assertion originated\n   * @param {string} method name of function\n   * @param {string} msg text message\n   * @param  {...any} args\n   */\n  static AssertNotNull(expr, classname, method, msg, ...args) {\n    if (Util.NotNull(expr)) { return true; }\n    console.trace(`${classname}.${method}: ${msg}`, args);\n    return false;\n  }\n\n  /**\n   * Assertion of value/expression not being null and dump stack if assertion\n   * failed.\n   *\n   * @param {*} values array of values to check each element to be not null\n   * @param {string} classname name of class where assertion originated\n   * @param {string} method name of function\n   * @param {string} msg text message\n   * @param  {...any} args\n   */\n  static AssertArrayNoNulls(values, classname, method, msg, ...args) {\n    if (values == null) { return false; }\n    let hasError = false;\n    for (let i = 0; i < values.length; i++) {\n      const value = values[i];\n      if (value == null) {\n        // console.error(`${classname}.${method}: null element (@${i}) found:`, values);\n        hasError = true;\n      }\n    }\n    if (hasError) {\n      // console.trace(msg || 'stack trace');\n    }\n    return !hasError;\n  } // AssertArrayNoNulls\n\n  /**\n   * Assert if given object is an \"instanceof\" given class object and dump\n   * stack if failed check.\n   *\n   * @param {*} object any value to check against class object\n   * @param {class} classObj value on the right hand side of the \"instanceof\" operator\n   * @param {string} classname name of class where assertion originated\n   * @param {string} method name of function\n   * @param {string} msg text message\n   * @param  {...any} args\n   */\n  static AssertInstanceOf(object, classObj, classname, method, msg, ...args) {\n    if (object == null) { return false; }\n    if (object instanceof classObj) { return true; }\n    return false;\n  }\n\n  /**\n   * Assert if given object is an \"instanceof\" given class object and dump\n   * stack if failed check.\n   *\n   * @param {*} value any value to check against type\n   * @param {string} typeStr type name in string\n   * @param {string} classname name of class where assertion originated\n   * @param {string} method name of function\n   * @param {string} msg text message\n   * @param  {...any} args\n   */\n  static AssertType(value, typeStr, classname, method, msg, ...args) {\n    if ((typeof value) === typeStr) { return true; }\n    console.trace(`${classname}.${method}: ${msg}`, args);\n    return false;\n  }\n\n  /**\n   * Assert if given boolean expression yields false value.\n   *\n   * @param {*} value any value to check against type\n   * @param {string} classname name of class where assertion originated\n   * @param {string} method name of function\n   * @param {string} msg text message\n   * @param  {...any} args\n   */\n  static AssertBoolean(value, classname, method, msg, ...args) {\n    if (value === true) { return true; }\n    console.trace(`${classname}.${method}: ${msg}`, args);\n    return false;\n  }\n\n  /**\n   * Assert if given expression yields a number value\n   *\n   * @param {*} value any value to check against a number type\n   * @param {string} classname name of class where assertion originated\n   * @param {string} method name of function\n   * @param {string} msg text message\n   * @param  {...any} args\n   */\n  static AssertNumber(value, classname, method, msg, ...args) {\n    if (typeof (value) === 'number') { return true; }\n    console.trace(`${classname}.${method}: ${msg}`, args);\n    return false;\n  }\n\n  /**\n   * Assert if given expression yields a value that is a string type\n   *\n   * @param {*} value any value to check against a string type\n   * @param {string} classname name of class where assertion originated\n   * @param {string} method name of function\n   * @param {string} msg text message\n   * @param  {...any} args\n   */\n  static AssertString(value, classname, method, msg, ...args) {\n    if (typeof (value) === 'string') { return true; }\n    console.trace(`${classname}.${method}: ${msg}`, args);\n    return false;\n  }\n\n  /**\n   * @return {string}\n   */\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /**\n   * Utility to get the name of the class,\n   * which should either have a static method\n   * \"GetName\", or if instance of XObject, would\n   * have an attribute \"classname\" as needed for log.\n   *\n   * @param {class} ClsObj class type\n   */\n  static GetClassNameOf(ClsObj, defaultVal = 'Unknown') {\n    let name;\n    if (ClsObj.hasOwnProperty('GetName')) { name = ClsObj.GetName(); } else {\n      const inst = new ClsObj();\n      if (inst.hasOwnProperty('classname')) { name = inst.classname; }\n    }\n    return name || defaultVal;\n  }\n\n  /**\n   * Return the short identifier for this type. This should\n   * be overriden by subclasses.\n   *\n   * @return {string}\n   */\n  static GetTypeID() {\n    return 'base';\n  }\n\n  static Log(classname, method, msg, ...args) {\n    return console.log(`${classname}.${method}: ${msg}`, ...args);\n  }\n  static Warn(classname, method, msg, ...args) {\n    return console.warn(`${classname}.${method}: ${msg}`, ...args);\n  }\n  static Error(classname, method, msg, ...args) {\n    return console.error(`${classname}.${method}: ${msg}`, ...args);\n  }\n  static Trace(classname, method, msg, ...args) {\n    return console.trace(`${classname}.${method}: ${msg}`, ...args);\n  }\n\n  static LogGroupBegin(label) {\n    return console.group(label);\n  }\n\n  static LogGroupEnd() {\n    return console.groupEnd();\n  }\n\n\n  /**\n   * @return {string}\n   */\n  // static GetMemStatLine() {\n  //     let memrec = process.memoryUsage();\n  //     let used = memrec[\"heapUsed\"];\n  //     let total = memrec[\"heapTotal\"];\n  //     let utilpct = Math.round(used/total * 100);\n  //     let usedMB = Math.round(used / 1048576);\n  //     let totalMB = Math.round(total / 1048576);\n  //     let rssMB = Math.round(memrec[\"rss\"] / 1048576);\n  //     let extMB = Math.round(memrec[\"external\"] / 1048576);\n  //     let msg = `Mem Util: ${utilpct}% (${usedMB}MB/${totalMB}MB)  RSS: ${rssMB}MB  Extern: ${extMB}MB`;\n  //     return msg;\n  // }\n\n  static LogMem(classname, method, gcBefore = false) {\n    if (gcBefore && global.gc) {\n      ObjectBase.Log(classname, method, 'GC...');\n      global.gc();\n    }\n    const msg = MemoryUtil.GetMemStatLine();\n    return ObjectBase.Log(classname, method, msg);\n  }\n\n  /**\n   * Globall register mapping of a type string to a class (constructor).\n   * This is critical to support dynamic instantiation of proper\n   * ES6 class wrapper for a given type. All register types should\n   * be subclass of XObject (component), or XMObject (first class entity)\n   *\n   * @param {function} clsObj class object (constructor?)\n   * @param {string} type name of the class. If null, then call the class object's\n   * GetTypeID() static method if exists\n   *\n   * @see #GetClassByType\n   */\n  static RegisterType(clsObj, type = null) {\n    const _m = `${_CLSNAME}.RegT:`;\n    if (clsObj == null) {\n      console.error(_m, 'Passed in null class!');\n      return;\n    }\n    if (type == null) {\n      if (clsObj.hasOwnProperty('GetTypeID')) { type = clsObj.GetTypeID(); } else {\n        console.error(_m, '?GetTypeID:', clsObj);\n        return;\n      }\n    }\n\n    // We use a model dictionary within 'global' to track the mapping lazily\n    if (global.model == null) { global.model = {}; }\n\n    if (global.model.hasOwnProperty(type)) {\n      // Shoudn't happen since we are checking for class object's own property (not inherited)\n      console.trace(`${_m}: type: ${type} already registerd to class constructor: ${global.model[type]}`);\n    } else {\n      global.model[type] = clsObj;\n      // let clsname = ObjectBase.GetClassNameOf(clsObj);\n      // console.log(_m, `Class (constructor): '${clsname}' mapped to type '${type}'`);\n    }\n  } // RegisterType\n\n  static DeregisterType(type) {\n    if (type == null) { return console.assert(type, '?DeReg: missing type'); }\n    if (global.model == null || !global.model.hasOwnProperty(type)) { return null; }\n    delete global.model[type];\n    return (global.model[type] == null);\n  }\n\n  /**\n   * Lookup type-class map to return the class object (constructor)\n   *\n   * @param {string} type previously registered type\n   * @return {function} class constructor\n   *\n   * @see #RegisterType\n   * @see #DeregisterType\n   * @see #Wrap\n   */\n  static GetClassByType(type) {\n    if (type == null) { return console.assert(type, 'GetClassByType: missing type'); }\n    if (global.model == null || !global.model.hasOwnProperty(type)) { return null; }\n    return global.model[type];\n  }\n\n  /**\n   * Wrap a JSON data structure with a ES6 class. This is implemented\n   * by subclases (XObject, XMObject) and more specialized down the\n   * type hierarchy. it is merely an abstract interface at this level.\n   */\n  static Wrap(jsonRec, clsType = null) {\n    // Implemented by subclasses and used by no-op at this level.\n    // console.error(\"ObjectBase.Wrap\", \"Not implemented at this level.\");\n  }\n\n  // --------------------- Getter/Setter for properties ---------------\n\n\n  /**\n   * Set the value of the field within the given object. The field can be anything\n   * from atomic value (string, number) to array or another object as long as its\n   * a JSON data structure.\n   * The object can be the data wrapped by an instance of XObject or subclass,\n   * but it can also be an embedded json object also.\n   *\n   * NOTE: the value is set only if two values are not identical\n   * They could be equivalent in which case we'll still update.\n   *\n   * @param {{}} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field\n   * @param {*} value value to set. It can be json or XObject wrapper\n   * @return {*} previous value, or null if value already same and not changed\n   * @see ~GetObjectField\n   * @see ~SetXObjectField\n   */\n  static SetObjectField(jsonObj, field, value) {\n    if (!ObjectBase.AssertArrayNoNulls([jsonObj, field], _CLSNAME, 'SetObjFld', 'json,fld')) { return null; }\n    const prev = jsonObj.hasOwnProperty(field) ? jsonObj[field] : null;\n    if (prev !== value) {\n      jsonObj[field] = value;\n      return prev;\n    }\n    return null;\n  } // SetObjectField\n\n\n  /**\n   * Import additional property values\n   *\n   * @param {{}} jsonObj\n   * @param {{}} props\n   * @param {boolean} override true to override existing value\n   * @return {{}} replaced label/values\n   */\n  static ImportObjectFields(jsonObj, props, override = false) {\n    return Util.ImportObjectFields(jsonObj, props, override);\n  }\n\n  /**\n   * Retrieve the value of the field within the given object. The object can\n   * be the data wrapped by an instance of XObject or subclass, but it\n   * can also be an embedded json object also.\n   *\n   * @param {{}} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field\n   * @param {*} defaultVal\n   *\n   * @see ~GetXObjectField\n   * @see #SetObjectField\n   * @see #HasObjectField\n   * @see #ClearObjectField\n   */\n  static GetObjectField(jsonObj, field, defaultVal = null) {\n    if (!ObjectBase.AssertArrayNoNulls([jsonObj, field], _CLSNAME, 'GetObjectField', 'Field name cannot be null.')) { return defaultVal; }\n    const val = jsonObj[field];\n    return (Util.NotNull(val)) ? val : defaultVal;\n  }\n\n\n  /**\n   * Given an object with properties, extract a subset\n   * using the inclusion and exclusion field name list.\n   *\n   * @param {{}} jsonObj object to extract properties from\n   * @param {*} inFields array of property names to include\n   * @param {*} excFields array of property names to exclude.\n   * If property name is found in both include and exclude list,\n   * the exclusion will win.\n   * @return {{}} new json object with subset of properties\n   */\n  static GetObjectFields(jsonObj, inFields = null, exFields = null) {\n    return Util.ExportObjectFields(jsonObj, inFields, exFields);\n  } // GetObjectFields\n\n\n  /**\n   * Check if the given field name exists in the given json object.\n   *\n   * @param {{}} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field property label to find\n   * @return {boolean} true if field (property/key) exists within the given object.\n   * This does NOT mean value exists. The value still can be null. To truly remove\n   * the entry, use ClearObjectField\n   *\n   * @see #GetObjectField\n   * @see #SetObjectField\n   * @see #ClearObjectField\n   */\n  static HasObjectField(jsonObj, field) {\n    // simple json label check for now.\n    return jsonObj.hasOwnProperty(field);\n  }\n\n  /**\n   * Clear the property entry of the given object.\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field property label to find and delete\n   *\n   * @see #GetObjectField\n   * @see #SetObjectField\n   * @see #HasObjectField\n   */\n  static ClearObjectField(jsonObj, field) {\n    if (jsonObj.hasOwnProperty(field)) {\n      delete jsonObj[field];\n      return true;\n    }\n    return false;\n  } // ClearObjectField\n\n}\n\nexport default ObjectBase;\n","import Util from '../Util';\n\n\n/** In tagname qualifying extras are delimted with \"--\" after the initial tagname, like sports--usa */\nexport const PHRASE_SPLIT = '--';\n\n/** Word split \"-\" is used within tagnames in place of space character, like los-angeles */\nexport const WORD_SPLIT = '-';\n\nexport const TAG_SPLIT = ';';\n\nexport const TAG_PROP_REL = 'rel';\n\nexport const TAGNUM_PREFIX = '~';\n\n/** In English only */\nconst uselessWords = new Set([\n  'a', 'an', 'for', 'the', 'to', 'from', 'for', 'has', 'is', 'have', 'are', 'am',\n  'or', 'and', 'but', 'what', 'how', 'who', 'where', 'here', 'there', 'you',\n  'we', 'they', 'them', 'been',\n]);\n\nconst uselessPrefix = new Set([\n  'the', 'dr', 'dr.', 'mr', 'mr.', 'mrs', 'mrs.', 'ms', 'ms.', 'la', 'el',\n]);\n\nconst uselessSuffix = new Set([\n  'jr', 'jr.', 'sr', 'sr.',\n]);\n\n/** Good for English only. \"los/las\" in Spanish should be omitted unless in name? */\nconst noBreakPrefixes = new Set([\n  'san', 'los', 'las',\n]);\n\n// const symbolText = {\n//     '&' : 'and'\n// };\n\n// const _CLSNAME = \"HashtagUtil\";\n\n/**\n * Utility functions related to tag manipulations (hashtag\n * and usertag)\n */\nexport default class HashtagUtil {\n  static get PHRASE_SPLIT() { return PHRASE_SPLIT; }\n  static get WORD_SPLIT() { return WORD_SPLIT; }\n  static get TAG_SPLIT() { return TAG_SPLIT; }\n\n  static TextScanUrlsAt(s) {\n    return Util.ExtractURLs(s);\n  }\n\n  /**\n   * Scan a text string and return list of words prefixed\n   * by has (#) and at symbol (@).\n   *\n   * @param {string} s1 text to process\n   * @param {boolean} allLowerCase true to ignore case by convert all to lower case\n   * @param {boolean} trackOther true to track all other words\n   * @param {boolean} removeUseless if trackOther is true, then this can remove useless words\n   * @return {[Array, Array, Array]} array of hashtags (no #), usertags (no @), and remainder bucket\n   */\n  static TextScanTagsAt(s, allLowerCase = true, trackOthers = false, removeUseless = true, retainCase = false) {\n    const hashBucket = [];\n    const atBucket = [];\n    const wordBucket = [];\n\n    const rawHashBucket = retainCase ? [] : null;\n    const rawAtBucket = retainCase ? [] : null;\n    const rawWordBucket = retainCase ? [] : null;\n\n    // with colon and question mark, can't keep url together\n    const seps = /[\\s.?,;:!()]/;\n\n    const tokens = s ? s.split(seps) : null;\n    // console.log(\">>>>>> tokens: \", tokens);\n    const size = tokens ? tokens.length : 0;\n    let token;\n    let ch1;\n    let word;\n    let lcWord;\n    for (let i = 0; i < size; i++) {\n      token = tokens[i].trim();\n      if (token.length < 2) { continue; }\n      ch1 = token.charAt(0);\n      if (ch1 === '#') {\n        word = token.substring(1);\n        if (allLowerCase === true) { word = word.toLowerCase(); }\n        if (!hashBucket.includes(word)) {\n          hashBucket.push(word);\n          if (retainCase) { rawHashBucket.push(token.substring(1)); }\n        }\n      } else if (ch1 === '@') {\n        word = token.substring(1);\n        if (allLowerCase === true) { word = word.toLowerCase(); }\n        if (!atBucket.includes(word)) {\n          atBucket.push(word);\n          if (retainCase) { rawAtBucket.push(token.substring(1)); }\n        }\n      } else if (trackOthers) {\n        lcWord = token.toLowerCase();\n        if (allLowerCase === true) { word = lcWord; }\n        if (removeUseless) {\n          if (this.IsUseless(lcWord)) { continue; }\n          if (this.IsUselessPrefix(lcWord)) { continue; }\n          if (this.IsUselessSuffix(lcWord)) { continue; }\n        }\n\n        if (!wordBucket.includes(word)) {\n          // return word in original case if ignore case is false!\n          wordBucket.push(allLowerCase ? lcWord : token);\n          if (retainCase) { rawWordBucket.push(token); }\n        }\n      }\n    }\n\n    return retainCase\n      ? [rawHashBucket, rawAtBucket, rawWordBucket]\n      : [hashBucket, atBucket, wordBucket];\n  }\n\n\n  /**\n   * Convert (tagname) to lower case.\n   *\n   * @param {string} text text to convert to lower case\n   * @return {string} lowercased text or null if empty\n   */\n  static LC(text) {\n    if (text == null) {\n      console.error('LC: Cannot lower case a NULL text.');\n      return text;\n    }\n    return String(text).toLowerCase();\n  }\n\n  /**\n   * Given text of format \"title {category}\", return\n   * just title.\n   *\n   * @param {string} text\n   */\n  static StripBracket(text) {\n    const newText = text.replace(/\\{(.+?)\\}/g, '');\n    return newText.trim();\n  }\n\n  static IsUseless(word) {\n    if (word == null) { return true; }\n    return uselessWords.has(word.toLowerCase());\n  }\n\n  static IsUselessPrefix(word) {\n    if (word == null) { return true; }\n    return uselessPrefix.has(word.toLowerCase());\n  }\n\n  static IsUselessSuffix(word) {\n    if (word == null) { return true; }\n    return uselessSuffix.has(word.toLowerCase());\n  }\n\n  static NoBreakPrefix(prefix) {\n    if (prefix == null) { return true; }\n    return noBreakPrefixes.has(prefix.toLowerCase());\n  }\n\n  /**\n   * Given a tag, if it has \"_\", like\n   * \"San_Jose\", then convert to \"SanJose\", or \"sanjose\"\n   * if going all lowercase\n   *\n   * @param {*} tagname\n   * @param {boolean} toLowerCase true to go lowercase\n   * @return {string} new processed string\n   */\n  static JoinSpace(tagname, toLowerCase = false) {\n    if (tagname == null) { return null; }\n\n    // NOTE: word split uses single \"-\" while double \"--\" is used\n    // to split terms. The replace logic below will replace both,\n    // so make sure to split terms first if you don't want them\n    // all concatenated.\n    let _newtag = tagname ? tagname.replace(WORD_SPLIT, '') : null;\n    if (toLowerCase) { _newtag = _newtag.toLowerCase(); }\n    return _newtag;\n  }\n\n  /**\n   * Given a Set of wordSets, consolidate all into a single\n   * set of unique tagnames.\n   *\n   * @param {Array} tagSets Set of word Sets\n   * @return {Set} Set of unique tagnames\n   */\n  static UnionTagSets(tagSets) {\n    const _m = 'unionTagSets';\n\n    if (tagSets == null) {\n      console.error(`${_m}: null input tagSets`);\n      return new Set();\n    }\n\n    if (tagSets.length === 1) {\n      const loneSet = tagSets[0];\n      if (loneSet === null) {\n        console.error(`${_m}: the only element in tagSets is NULL`);\n      }\n      return loneSet || new Set();\n    }\n\n    // TODO: find union as first priority, then by indiv. matched words\n    // For now, create one giant set and then sort as array\n    // console.log(`${_m}: total ${tagSets.length} wordSets...`);\n    const resultSet = new Set();\n\n    let wordSet;\n    for (let i = 0; i < tagSets.length; i++) {\n      wordSet = tagSets[i];\n      // console.log(`   WordSet[${i}] has ${wordSet.size} words... content:`, wordSet);\n      wordSet.forEach((word) => {\n        resultSet.add(word);\n      });\n    }\n    return resultSet;\n  } // UnionTagSets\n\n  /**\n   * Given a Set of wordSets, consolidate all into a single\n   * set of unique tagnames\n   *\n   * @param {Array} tagSets Set of word Sets\n   * @return {Set} Set of unique tagnames\n   */\n  static IntersectTagSets(tagSets) {\n    const _m = 'intersectTagSets';\n\n    if (tagSets.length === 1) {\n      const loneSet = tagSets[0];\n      if (loneSet == null) {\n        console.error(`${_m}: the only element in tagSets is NULL`);\n      }\n      return loneSet || new Set();\n    }\n\n    // console.log(`${_m}: total ${tagSets.length} wordSets...`);\n    // let resultSet = new Set();\n\n    let workingSet = tagSets[0];\n    for (let i = 1; i < tagSets.length; i++) {\n      const targetSet = tagSets[i];\n      workingSet = new Set([...workingSet].filter(word => targetSet.has(word)));\n    }\n    return workingSet;\n  } // IntersectTagSets\n}\n\n","\nimport { ModelType, ModelFolder, MessageProps, UserProps, StatsProps } from '../ModelConsts';\nimport XMObject from '../XMObject';\nimport Util from '../../Util';\nimport HashtagUtil from '../../util/HashtagUtil';\n\nconst _CLSNAME = 'XMSocialIndexable'; // match class name\n\n/**\n * Base class for any persistent object that\n * can associate hashtag and usertags (mentions),\n * reference to URLs and include multimedia.\n *\n */\nexport class XMSocialIndexable extends XMObject {\n  static get PROP_HASHTAGS() { return 'htgs'; }\n  static get PROP_USERTAGS() { return 'utgs'; }\n  static get PROP_TEXT() { return 'txt'; }\n  static get PROP_TEXT_LANG() { return 'txt_lang'; }\n  static get PROP_IMAGE_URLS() { return 'imgs'; }\n  static get PROP_ORIG_VIDEO_URL() { return 'ovid'; }\n  static get PROP_MAIN_IMAGE_URL() { return 'main'; }\n  static get PROP_COMMENT_DISABLED() { return 'cm_noadd'; }\n  static get PROP_ISNOTFOUND() { return 'nfound'; }\n  static get PROP_EMBEDDED_POST() { return 'rpstIds'; }\n  static get PROP_PARENT_OWNER_ID() { return MessageProps.PARENT_OWNER_ID; }\n  static get PROP_META() { return 'meta'; }\n  static get PROP_DSC() { return MessageProps.DESC; }\n\n  static get PROP_PREVIEW_URL() { return 'prevsrc'; }\n  static get PROP_PREVIEW_IMAGE_URL() { return 'previmg'; }\n\n  static get PROP_COMMENT_POST_ID() { return MessageProps.COMMENT_POST_ID; }\n  static get PROP_IMPORT_POST_ID() { return MessageProps.IMPORT_POST_ID; }\n  static get PROP_REPOSTID_TRACE() { return MessageProps.RPS_IDS; }\n  static get PROP_REPOSTER_TRACE() { return MessageProps.RPS_OWNER_IDS; }\n\n  // twitter\n  static get PROP_TWT_LIKEDBY_POST() { return StatsProps.TWT_LIKEDBY_POST; }\n  static get PROP_TWT_POST_SHAREDBY() { return StatsProps.TWT_POST_SHAREDBY; }\n  static get PROP_TWT_RETWT_ORIGINAL_URL() { return 'twt_rtourl'; }\n  static get PROP_TWT_RETWT_POST() { return 'twt_rtpst'; }\n\n  static get USER_EDITABLE_PROPS() {\n    return [\n      this.PROP_TEXT,\n      this.PROP_TEXT_LANG,\n      this.PROP_IMAGE_URL,\n      this.PROP_IMAGE_URLS,\n      this.PROP_MAIN_IMAGE_URL,\n      this.PROP_VIDEO_DURATION,\n      this.PROP_VIDEO_WIDTH,\n      this.PROP_VIDEO_HEIGHT,\n      this.PROP_VIDEO_URL,\n      this.PROP_ORIG_VIDEO_URL,\n      this.PROP_HASHTAGS,\n      this.PROP_USERTAGS,\n      this.PROP_COMMENT_DISABLED,\n      this.PROP_REPOSTID_TRACE,\n      this.PROP_REPOSTER_TRACE,\n      this.PROP_PREVIEW_URL,\n      this.PROP_PREVIEW_IMAGE_URL,\n      this.VISIBILITY,\n      this.PROP_ACL,\n      this.PROP_COMMENT_POST_ID,\n      this.PROP_TITLE,\n      this.PROP_META,\n      this.PROP_DSC\n    ];\n  }\n\n  static get USER_IMPORTABLE_PROPS() {\n    return this.USER_EDITABLE_PROPS.concat([\n      this.PROP_CREATED_DATE,\n      this.PROP_UPDATED_DATE,\n      this.PROP_OWNERID,\n      this.PROP_IMPORT_POST_ID,\n      this.PROP_TWT_LIKEDBY_POST,\n      this.PROP_TWT_POST_SHAREDBY,\n      this.PROP_TWT_RETWT_ORIGINAL_URL,\n      this.PROP_TWT_RETWT_POST\n    ]);\n  }\n\n  constructor(clsname = _CLSNAME, props = null) {\n    super(clsname, props);\n    this.class = XMSocialIndexable;\n  }\n\n  getCacheProps() {\n    const result = {};\n    const data = this.getData();\n    MessageProps.PROPS_CACHED.forEach((label) => {\n      const value = data[label];\n      if (value) {\n        result[label] = value;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * Return shared posts Ids. It's same with getId()\n   * but be consistent at parent class level.\n   *\n   * @return {string[]}\n   */\n  getRepostedIds() {\n    return this.get(XMSocialIndexable.PROP_REPOSTID_TRACE, null);\n  }\n\n  /**\n   * Return shared posts Ids. It's same with getId()\n   * but be consistent at parent class level.\n   *\n   * @return {string[]}\n   */\n  getRepostedOwnerIds() {\n    return this.get(XMSocialIndexable.PROP_REPOSTER_TRACE, null);\n  }\n  /*\n   * Return the main post's ID. This is subclass\n   * implementation dependent.\n   *\n   * @return {boolean}\n   */\n  getPostId() {\n    return null;\n  }\n\n  /**\n   *\n   * Return the import post id if the post is imported\n   *\n   * @return {string}\n   */\n  getImportPostId() {\n    return this.get(XMSocialIndexable.PROP_IMPORT_POST_ID, null);\n  }\n\n  /**\n   * @return {string}\n   */\n  getPosterId() {\n    return this.getOwnerId();\n  }\n\n  /**\n   * Set text part of the content. If this is a repost,\n   * then text (and image/video info) are all copied\n   * from the original, while the reposter's text\n   * is used to store his/her add-ons.\n   *\n   * NOTE: current implementation does not allow text\n   * change once published. This is a policy that other\n   * Microblogger websites have enforced.\n   *\n   * @param {string} text text to set\n   * @param {boolean} reScan true to scan text for hashtags\n   * and mentions and update respective properties\n   * @return {*} old value\n   *\n   * @see ~setRepostText\n   */\n  setText(text, reScan = true) {\n    const oldValue = this.set(XMSocialIndexable.PROP_TEXT, text);\n    // if (!Util.StringIsEmpty(oldValue) && (oldValue  !== text)) {\n    //     this.setUpdatedTS();\n    // }\n    if (reScan === true) { this._processTagsAndMentions(text); }\n    return oldValue;\n  }\n\n  /**\n   * Set the not found flag\n   *\n   * @param {boolean} flag not found flag\n   *\n   */\n  setNotFound(flag = false) {\n    return this.set(XMSocialIndexable.PROP_ISNOTFOUND, flag);\n  }\n\n  /**\n   * Set the not found flag\n   *\n   * @return {boolean} if object is not found\n   *\n   */\n  getNotFound() {\n    return this.get(XMSocialIndexable.PROP_ISNOTFOUND, false);\n  }\n\n  /**\n   * Return language associated with the main text\n   *\n   * NOTE: This is not used at the moment.\n   *\n   * @param {string} langCode should be two-letter ISO-6391 code\n   * @param {*} defaultVal\n   */\n  setTextLanguage(langCode, defaultVal = null) {\n    return this.get(XMSocialIndexable.PROP_TEXT_LANG, langCode, defaultVal);\n  }\n\n\n  /**\n   * Retrieve main text. If isShared() is true, then this holds\n   * the origina post's text. Look into getRepostText() for\n   * add-on text.\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   *\n   * @see ~getRepostText\n   */\n  getText(defaultVal = null) {\n    return this.get(XMSocialIndexable.PROP_TEXT, defaultVal);\n  }\n\n  /**\n   * Return language code associated with main text\n   *\n   * NOTE: This is not used at the moment\n   *\n   * @param {*} defaultVal\n   * @return {string} should be ISO-6391 two-letter code\n   */\n  getTextLanguage(defaultVal = null) {\n    return this.get(XMSocialIndexable.PROP_TEXT_LANG, defaultVal);\n  }\n\n  /**\n   * Given text, extract hashtags and user mentions and\n   * stored in in tags and mentions associated with this post\n   * object.\n   *\n   * @param {string} text\n   * @param {string} append true to add to existing list. False\n   * to override\n   * @return {number} number of tags + usernames found and set\n   */\n  _processTagsAndMentions(text, append = false) {\n    const [tags, usernames] = HashtagUtil.TextScanTagsAt(text);\n    let count = 0;\n    if (tags.length > 0) {\n      if (append === true) { this.addHashtags(tags); } else { this.setHashtags(tags); }\n      count += tags.length;\n    }\n    if (usernames.length > 0) {\n      if (append === true) { this.addUsertags(usernames); } else { this.setUsertags(usernames); }\n      count += usernames.length;\n    }\n    return count;\n  }\n\n  /**\n   *\n   * @param {string[]} tagnames should be one or more hashtag strings\n   * I think single hashtag will work too (string type).\n   *\n   * @return {boolean} string added\n   */\n  addHashtags(tagnames) {\n    if ((tagnames == null || tagnames.length <= 0)) {\n      return false;\n    }\n    const data = this.getData(true);\n    const updated = XMSocialIndexable._AddTags(data, XMSocialIndexable.PROP_HASHTAGS, tagnames);\n    if (updated) { this.setDirty(); }\n    return updated;\n  }\n\n  /**\n   *\n   * @param {string[]} tagnames array of tag names\n   * @return {boolean} true to replace all previous hashtags with given array\n   */\n  setHashtags(tagnames) {\n    if ((tagnames == null || tagnames.length <= 0)) {\n      return false;\n    }\n    const data = this.getData(true);\n    const updated = XMSocialIndexable._SetTags(data, XMSocialIndexable.PROP_HASHTAGS, tagnames);\n    if (updated) { this.setDirty(); }\n    return updated;\n  }\n\n  /**\n   * Return an array of hashtags\n   *\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  getHashtags(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMSocialIndexable._GetTags(data, XMSocialIndexable.PROP_HASHTAGS, defaultVal) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {string} tagname hashtag name to search\n   * @return {boolean}\n   */\n  hasHashtags(tagname) {\n    const data = this.getData(true);\n    return XMSocialIndexable._HasTag(data, XMSocialIndexable.PROP_HASHTAGS, tagname, true);\n  }\n\n  /**\n   *\n   * @param {string[]} labels should be one or more usernames in an array.\n   * I think single string will work too.\n   *\n   * @return {boolean} string added\n   */\n  addUsertags(labels) {\n    if ((labels == null || labels.length <= 0)) {\n      return false;\n    }\n    const data = this.getData(true);\n    const updated = XMSocialIndexable._AddTags(data, XMSocialIndexable.PROP_USERTAGS, labels);\n    if (updated) { this.setDirty(); }\n    return updated;\n  }\n\n  /**\n   *\n   * @param {string[]} labels array of strings, which should be usernames\n   * @return {boolean} true to replace all mention text with given text array\n   */\n  setUsertags(labels) {\n    if ((labels == null || labels.length <= 0)) {\n      return false;\n    }\n    const data = this.getData(true);\n    const updated = XMSocialIndexable._SetTags(data, XMSocialIndexable.PROP_USERTAGS, labels);\n    if (updated) { this.setDirty(); }\n    return updated;\n  }\n\n  /**\n   * Return an array of mention labels (usernames)\n   *\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  getUsertags(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMSocialIndexable._GetTags(data, XMSocialIndexable.PROP_USERTAGS, defaultVal) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {string} username\n   * @return {boolean}\n   */\n  hasUsertags(username) {\n    const data = this.getData(true);\n    return XMSocialIndexable._HasTag(data, XMSocialIndexable.PROP_USERTAGS, username, true);\n  }\n\n\n  // ------------------------ MEDIA HANDLING METHODS -----------------------------\n\n  /**\n   * Return the URL of the preview source site.\n   *\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  getPreviewURL(defaultVal = null) {\n    return this.get(XMSocialIndexable.PROP_PREVIEW_URL, defaultVal);\n  }\n\n  /**\n   * Determine if this object has a preview URL, and the URL is not empty\n   * string.\n   *\n   * @return {boolean} true if a string exists for the preview URL property\n   */\n  hasPreview() {\n    return this.has(XMSocialIndexable.PROP_PREVIEW_URL, false);\n  }\n\n  /**\n   * Set the URL of the source of preview. This is the site\n   * where the image, title, and desc are extracted from.\n   *\n   * @param {string[]} url preview image link\n   * @return {boolean} true if updated successfully\n   *\n   * @see ~hasPreview\n   * @see ~getPreviewURL\n   */\n  setPreviewURL(url) {\n    return this.set(XMSocialIndexable.PROP_PREVIEW_URL, url);\n  }\n\n\n  /**\n   * Return the URL of the preview image. Preview image differs from\n   * main or other image URLs as it can be generated or referenced\n   * from somewhere else.\n   *\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  getPreviewImageURL(defaultVal = null) {\n    return this.get(XMSocialIndexable.PROP_PREVIEW_IMAGE_URL, defaultVal);\n  }\n\n\n  /**\n   * Set the image URL desingated for preview. This is different\n   * the main image URL or for additional images\n   *\n   * @param {string[]} url preview image link\n   * @return {boolean} true if updated successfully\n   *\n   * @see ~hasPreview\n   * @see ~getPreviewURL\n   * @see ~setMainImageURL\n   * @see ~addImageURL\n   */\n  setPreviewImageURL(url) {\n    return this.set(XMSocialIndexable.PROP_PREVIEW_IMAGE_URL, url);\n  }\n\n\n  /**\n   *\n   *\n   * NOTE: Current preview title is set into object's main title. This\n   * helps MessageFactory to use it to display in the activity and\n   * notification headliner.\n   *\n   * @param {string} title\n   * @return {string} previous value\n   */\n  setPreviewTitle(title) {\n    return this.setTitle(title);\n  }\n\n  /**\n   *\n   * @param {string=} defaultVal\n   * @param {string}\n   */\n  getPreviewTitle(defaultVal = null) {\n    return this.getTitle(defaultVal);\n  }\n\n  /**\n   *\n   * @param {string} text\n   */\n  setPreviewDescription(text) {\n    return this.setDescription(text);\n  }\n\n  /**\n   *\n   * @param {string=} defaultVal\n   * @return {string}\n   */\n  getPreviewDescription(defaultVal = null) {\n    return this.getDescription(defaultVal);\n  }\n\n\n  /**\n   * Return the URL of the main image. Main image differs from\n   * uploaded URLs as it can be a choosen image, or can be a pre-\n   * determined preview image.\n   *\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  getMainImageURL(defaultVal = null) {\n    return this.get(XMSocialIndexable.PROP_MAIN_IMAGE_URL, defaultVal);\n  }\n\n  /**\n   *\n   * @param {string[]} urls array of strings, which should be URLs, but can be a single string!!\n   * @return {boolean} true if updated successfully\n   */\n  setMainImageURL(url) {\n    return this.set(XMSocialIndexable.PROP_MAIN_IMAGE_URL, url);\n  }\n\n  /**\n   * Add an URL to the image URL array\n   *\n   * @param {string} url image URL to add\n   * @return {boolean} true if added\n   */\n  addImageURL(url) {\n    return this.addWord(XMSocialIndexable.PROP_IMAGE_URLS, url);\n  }\n\n  /**\n   *\n   * @param {string[]} urls array of strings, which should be URLs, but can be a single string!!\n   * @return {boolean} true if updated successfully\n   */\n  setImageURLs(urls) {\n    return this.setWords(XMSocialIndexable.PROP_IMAGE_URLS, urls);\n  }\n\n  /**\n   * Return the URLs of all uploaded images. This is really URI\n   * without the host prefix. If you want to have prefix included\n   * use ~getFQImageURLs()\n   *\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  getImageURLs(defaultVal = null) {\n    const data = this.getWords(XMSocialIndexable.PROP_IMAGE_URLS, defaultVal);\n    if (data && Array.isArray(data)) {\n      return data\n    } else {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        return null\n      }\n    }\n  }\n\n  /**\n   * @return {number} number of images stracked in this post. 0 means none\n   */\n  getImageCount() {\n    return this.getWordCount(XMSocialIndexable.PROP_IMAGE_URLS);\n  }\n\n  /**\n   * Has one or more images?\n   *\n   * @return {boolean}\n   */\n  hasImages() {\n    return this.getWordCount(XMSocialIndexable.PROP_IMAGE_URLS) > 0;\n  }\n\n  setImageMeta(meta) {\n    return this.setWords(XMSocialIndexable.PROP_META, meta)\n  }\n\n  getImageMeta(defaultVal = null) {\n    return this.getWords(XMSocialIndexable.PROP_META, defaultVal)\n  }\n\n  /**\n   * Set the link to the originally uploaded video file.\n   *\n   * @param {string} url should be fully qualified, unless it's\n   * within default domain.\n   *\n   * @see ~setVideoUrl()\n   * @see ~getVideoUrl()\n   * @see ~getOriginalVideoUrl()\n   */\n  setOriginalVideoUrl(url) {\n    return this.set(XMSocialIndexable.PROP_ORIG_VIDEO_URL, url);\n  }\n\n  /**\n   * Return the link to the originally uploaded video file.\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   *\n   * @see ~setVideoUrl()\n   * @see ~setOriginalVideoUrl()\n   */\n  getOriginalVideoUrl(defaultVal = null) {\n    return this.get(XMSocialIndexable.PROP_ORIG_VIDEO_URL, defaultVal);\n  }\n\n\n  /**\n   * Determine if there is a link to the video (not the original)\n   *\n   * @return {boolean}\n   *\n   * @see ~setVideoUrl()\n   * @see ~setOriginalVideoUrl()\n   * @see ~getOriginalVideoUrl()\n   */\n  hasVideo() {\n    return !!this.getVideoUrl();\n  }\n\n  /**\n   * Determine of this object has either a video or images.\n   *\n   * @return {boolean}\n   */\n  hasMedia() {\n    return this.hasVideo() || this.hasImages();\n  }\n\n  /**\n   * Enable/disable adding comments. By default add comment is enabled\n   * to save extra storage bytes. So only use this if desired to disable,\n   * or re-enable after disabling.\n   *\n   * @param {boolean} flag false to disable comments\n   * @return {boolean} previous set value\n   */\n  setCanAddComment(flag) {\n    return this.set(XMSocialIndexable.PROP_COMMENT_DISABLED, flag);\n  }\n\n  /**\n   * Return whether this social object allows comment. If commenting\n   * is not allowed, that does not mean there aren't any comments!\n   *\n   * @param {boolean} defaultVal if there is no value, return this (true)\n   * @return {boolean} true to allow adding comments, false to disallow\n   */\n  canAddComment(defaultVal = true) {\n    return this.get(XMSocialIndexable.PROP_COMMENT_DISABLED, defaultVal);\n  }\n\n\n  /**\n   * Track the original post (postId, userId). For storage, it'll be stored\n   * in the post/poster list but as the first element @ index 0.\n   *\n   * @param {string} postId original post Id\n   * @param {string} userId original poster's userId\n   * @return {boolean} true if original post id/user set/replaced\n   */\n  setOriginalPostInfo(postId, userId) {\n    const updated1 = postId ? this.setWordAt(XMSocialIndexable.PROP_REPOSTID_TRACE, 0, postId) : false;\n    const updated2 = userId ? this.setWordAt(XMSocialIndexable.PROP_REPOSTER_TRACE, 0, userId) : false;\n    return (updated1 || updated2);\n  }\n\n  /**\n   * Return the ID of the original post, if this happens to be\n   * a repost of another.\n   *\n   * @param {*} defaultVal\n   * @return {string} original post ID, or null this is the original\n   *\n   * @see ~isShared\n   */\n  getOriginalPostId(defaultVal = null) {\n    return this.getWordAt(XMSocialIndexable.PROP_REPOSTID_TRACE, 0, defaultVal);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string} original poster's userId\n   */\n  getOriginalPosterId(defaultVal = null) {\n    return this.getWordAt(XMSocialIndexable.PROP_REPOSTER_TRACE, 0, defaultVal);\n  }\n\n\n  /**\n   * Determine if the post object is a shared (repost) object. This means\n   * it references an original post.\n   */\n  isShared() {\n    return Util.NotNull(this.getOriginalPostId(null));\n  }\n\n  /**\n   * Track a postId and poster's userId as a reposter. It's added to end of\n   * the array, which orders from original poster to the latest reposter\n   *\n   * @param {string} postId re-posted post Id\n   * @param {string} userId re-poster's userId\n   *\n   * @return {boolean} true if entry appended\n   */\n  addRepost(postId, userId) {\n    const updated1 = this.addWord(XMSocialIndexable.PROP_REPOSTID_TRACE, postId, false);\n    const updated2 = this.addWord(XMSocialIndexable.PROP_REPOSTER_TRACE, userId, false);\n    return (updated1 || updated2);\n  }\n\n  /**\n   * Return an array of postIds, starting with the original poster to the\n   * latest\n   *\n   * @param {*} defaultVal return this if there is no such property in JSON\n   * @return {string[]=}\n   *\n   * @see ~addRepost\n   * @see ~getPosterIdList\n   */\n  getPostIdList(defaultVal = null) {\n    return this.getWords(XMSocialIndexable.PROP_REPOSTID_TRACE, defaultVal);\n  }\n\n  /**\n   * Return an array of poster Ids, starting with the original poster to the\n   * latest\n   *\n   * @param {*} defaultVal return this if there is no such property in JSON\n   * @return {string[]=}\n   *\n   * @see ~addRepost\n   * @see ~getPostIdList\n   */\n  getPosterIdList(defaultVal = null) {\n    return this.getWords(XMSocialIndexable.PROP_REPOSTER_TRACE, defaultVal);\n  }\n\n  /**\n   * Return all reposter's userIds. The original poster Id will not be included.\n   *\n   * @param {boolean} omitReposter true to remove all reposters from the trace\n   * list\n   * @param {*} defaultVal\n   * @return {string[]=}\n   */\n  getReposterIdList(omitReposter = true, defaultVal = null) {\n    const allPosterIds = this.getPosterIdList(null);\n    const reposters = allPosterIds ? [...allPosterIds] : null;\n    const reposterCount = reposters ? reposters.length : 0;\n    if (reposterCount > 0) {\n      // remove the original poster\n      reposters.splice(0, 1);\n    }\n    if ((omitReposter === true) && reposterCount > 0) {\n      const posterId = this.getOwnerId();\n      let omitIdx = reposters.indexOf(posterId);\n      while (omitIdx >= 0) {\n        reposters.splice(omitIdx, 1);\n        omitIdx = reposters.indexOf(posterId);\n      }\n    }\n    return reposters;\n  }\n\n  /**\n   * Determine if the given postId is found in the reppost trace list.\n   *\n   * @param {string} postId\n   * @return {boolean}\n   */\n  hasPostId(postId) {\n    return this.hasWord(XMSocialIndexable.PROP_REPOSTID_TRACE, postId);\n  }\n\n  /**\n   * Look for a post by ID in the traces of reposts\n   *\n   * @param {string} userId\n   * @return {boolean}\n   */\n  hasPosterId(userId) {\n    return this.hasWord(XMSocialIndexable.PROP_REPOSTER_TRACE, userId);\n  }\n\n  // -------------------- POST EMBEDDING ----------------------\n\n\n  /**\n   * Determine if the repost object is actually embedded in this\n   * post object.\n   *\n   * @return {boolean}\n   *\n   * @see ~setRepostObject\n   * @see ~getRepostObject\n   */\n  hasEmbeddedPost() {\n    return Util.NotNull(this.get(XMSocialIndexable.PROP_EMBEDDED_POST, null));\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {XMPost}\n   */\n  getEmbeddedPost(defaultVal = null) {\n    return this.getX(XMSocialIndexable.PROP_EMBEDDED_POST, defaultVal);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {XMPost}\n   */\n  getSharedPost(defaultVal = null) {\n    const postAux = this.getAuxData();\n    const sharedPost = postAux ? postAux[ModelType.SHARED_POST] : null;\n    return XMSocialIndexable.Wrap(sharedPost);\n  }\n\n  /**\n   * Return the text that is inside the embedded repost object\n   *\n   * @param {*} defaultVal\n   * @return {string} if null, then it's possible repost object\n   * is not embedded.\n   */\n  getEmbeddedPostText(defaultVal = null) {\n    const repostObj = this.getEmbeddedPost(null);\n    return repostObj ? repostObj.getText(defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return language code associated with repost text\n   *\n   * @param {*} defaultVal\n   * @return {string} should be ISO-6391 two-letter code\n   */\n  getEmbeddedPostTextLanguage(defaultVal = null) {\n    const repostObj = this.getEmbeddedPost(null);\n    return repostObj ? repostObj.getTextLanguage(defaultVal) : defaultVal;\n  }\n\n  /**\n   * Remove embedded content\n   */\n  clearEmbeddedPost() {\n    return this.clear(XMSocialIndexable.PROP_EMBEDDED_POST);\n  }\n\n  /**\n   * @return {boolean} false - override by XMComment subclass\n   */\n  isComment() {\n    return false;\n  }\n\n  /**\n   * @return {boolean} false - override by XMPost subclass\n   */\n  isPost() {\n    return false;\n  }\n\n  /**\n   * @return {boolean} false - override by XMPost subclass\n   */\n  isNotFoundPost() {\n    return false;\n  }\n\n  /**\n   * @return {boolean} false - override by XMPost subclass\n   */\n  isNotFoundComment() {\n    return false;\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n   * No folder to store at this level since it's\n   * a base class\n   */\n  static GetFolderName() {\n    return ModelFolder.NONE;\n  }\n\n  /**\n   *\n   * @return {null} no type\n   */\n  static GetTypeID() {\n    return ModelType.SOCIAL_INDEXABLE;\n  }\n\n\n  /**\n   * Return the ID of the original post, if this happens to be\n   * a repost of another.\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string} original post ID, or null this is the original\n   *\n   * @see ~IsShared\n   */\n  static GetOriginalPostId(jsonObj, defaultVal = null) {\n    return XMSocialIndexable.GetWordAt(jsonObj, XMSocialIndexable.PROP_REPOSTID_TRACE, 0, defaultVal);\n  }\n\n  /**\n   * Determine if the post object is a shared (repost) object. This means\n   * it references an original post.\n   *\n   * @param {{}} jsonObj\n   * @return {boolean}\n   */\n  static IsShared(jsonObj) {\n    return Util.NotNull(XMSocialIndexable.GetOriginalPostId(jsonObj, null));\n  }\n\n\n} // class PostBase\n\nXMSocialIndexable.RegisterType(XMSocialIndexable);\n\n\nexport default XMSocialIndexable;\n","import Util from '../../Util';\nimport { ModelFolder, ModelType, StatsProps } from '../ModelConsts';\nimport XMObjectStats from '../social/XMObjectStats';\n\nconst _CLSNAME = 'XPostStats';\n\n/**\n * Model a data structure that holds stats for a Post.\n * Some methods are in the parent class.\n */\nclass XPostStats extends XMObjectStats {\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XPostStats;\n\n    this._setTypeID();\n  }\n\n  /**\n   *\n   * @param {number} count\n   */\n  setCommentCount(count) {\n    return XPostStats.SetCommentCount(this, count);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getCommentCount(defaultVal = null) {\n    return XPostStats.GetCommentCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} likeCount\n   */\n  setLikesPostCount(likeCount) {\n    return XPostStats.SetLikesPostCount(this, likeCount);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getLikesPostCount(defaultVal = null) {\n    return XPostStats.GetLikesPostCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getLikePostExtraStatus(defaultVal = null) {\n    return XPostStats.GetLikePostExtraStatus(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} likeCount\n   */\n  setLikePostExtraStatus(likeCount) {\n    return XPostStats.SetLikePostExtraStatus(this, likeCount);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getLikedPostCount(defaultVal = null) {\n    return XPostStats.GetLikedPostCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} likeCount\n   */\n  setLikedPostCount(likeCount) {\n    return XPostStats.SetLikedPostCount(this, likeCount);\n  }\n\n  /**\n   *\n   * @param {number} likeCount\n   */\n  setSharedPostCount(likeCount) {\n    return XPostStats.SetSharedPostCount(this, likeCount);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getSharedPostCount(defaultVal = null) {\n    return XPostStats.GetSharedPostCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} watchCount\n   */\n  setWatchedPostCount(watchCount) {\n    return XPostStats.SetWatchedPostCount(this, watchCount);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getWatchedPostCount(defaultVal = null) {\n    return XPostStats.GetWatchedPostCount(this, defaultVal);\n  }\n\n\n  /**\n   * Deprecated - use object specific versions in subclasses\n   *\n   * @param {number} viewCount\n   */\n  setViewPostCount(viewCount) {\n    return XPostStats.SetViewPostCount(this, viewCount);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getViewPostCount(defaultVal = null) {\n    return XPostStats.GetViewPostCount(this, defaultVal);\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /** @return {string} */\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /** @return {string} */\n  static GetFolderName() {\n    return ModelFolder.POST_STATS;\n  }\n\n  /** @return {string} */\n  static GetTypeID() {\n    return ModelType.POST_STATS;\n  }\n\n  /**\n   * Create an user info record aggregated from difference\n   * sources but mainly Post. It is suitable to give to\n   * client for rendering.\n   *\n   * @param {string} objectId ID assigned for this stat object\n   * @return {XPostStats}\n   */\n  static CreateNew(objectId, props) {\n    const statObj = new XPostStats();\n    if (objectId) { statObj._setId(objectId); }\n    if (props) {\n      statObj.importObjectFields(props);\n    }\n\n    return statObj;\n  } // CreateNew\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {number} value new \"likes\" numeric value\n   */\n  static SetCommentCount(jsonObj, value) {\n    return XMObjectStats.SetXObjectField(jsonObj, StatsProps.COMMENTS, value);\n  }\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal value to return if no such field\n   * @return {number} count value or defaultVal\n   */\n  static GetCommentCount(jsonObj, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(jsonObj, StatsProps.COMMENTS, defaultVal);\n    return Util.toNumber(value, defaultVal);\n  }\n\n\n  /**\n   * Set content of the user \"like status\" stat\n   *\n   * @param {number} value new \"like status\" numeric value\n   */\n  static SetLikePostExtraStatus(jsonObj, value) {\n    return XMObjectStats.SetXObjectField(jsonObj, StatsProps.LIKE_POST_EXTRA_STATUS, value);\n  }\n\n  /**\n   * Set content of the user \"like status\" stat\n   *\n   * @param {number} value new \"like status\" numeric value\n   */\n  static GetLikePostExtraStatus(jsonObj, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(jsonObj, StatsProps.LIKE_POST_EXTRA_STATUS, defaultVal);\n    return value || defaultVal;\n  }\n\n  /**\n   * Set content of the user \"likes\" stat\n   *\n   * @param {number} value new \"likes\" numeric value\n   */\n  static SetLikesPostCount(jsonObj, value) {\n    return XMObjectStats.SetXObjectField(jsonObj, StatsProps.LIKES_POST, value);\n  }\n\n  /**\n   * Retrieve user \"likes\" post count\n   *\n   * @param {*} defaultVal value to return if no such field\n   * @return {number} count value or defaultVal\n   */\n  static GetLikesPostCount(jsonObj, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(jsonObj, StatsProps.LIKES_POST, defaultVal);\n    return Util.toNumber(value, defaultVal);\n  }\n\n  /**\n   * Set content of the post \"liked\" by stat\n   *\n   * @param {number} value new liked count\n   */\n  static SetLikedPostCount(jsonObj, value) {\n    return XMObjectStats.SetXObjectField(\n      jsonObj,\n      StatsProps.LIKEDBY_POST,\n      value\n    );\n  }\n\n  /**\n   * Retrieve post \"liked\" by count\n   *\n   * @param {*} defaultVal value to return if no such field\n   * @return {number} count value or defaultVal\n   */\n  static GetLikedPostCount(jsonObj, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(\n      jsonObj,\n      StatsProps.LIKEDBY_POST,\n      null\n    );\n    return Util.toNumber(value, defaultVal);\n  }\n\n  /**\n   * Set shared stat value\n   *\n   * @param {number} value new count value\n   */\n  static SetSharedPostCount(jsonObj, value) {\n    return XMObjectStats.SetXObjectField(\n      jsonObj,\n      StatsProps.POST_SHAREDBY,\n      value\n    );\n  }\n\n  /**\n   * Retrieve shared stat value\n   *\n   * @param {*} defaultVal value to return if no such field (value not set)\n   * @return {number} count value or defaultVal\n   */\n  static GetSharedPostCount(jsonObj, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(\n      jsonObj,\n      StatsProps.POST_SHAREDBY,\n      null\n    );\n    return Util.toNumber(value, defaultVal);\n  }\n\n  /**\n   * Set content of the watched post stat\n   *\n   * @param {number} value new liked count\n   */\n  static SetWatchedPostCount(jsonObj, value) {\n    return XMObjectStats.SetXObjectField(\n      jsonObj,\n      StatsProps.WATCHED_POST,\n      value\n    );\n  }\n\n  /**\n   * Retrieve watched post stat value\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetWatchedPostCount(jsonObj, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(\n      jsonObj,\n      StatsProps.WATCHED_POST,\n      null\n    );\n    return Util.toNumber(value, defaultVal);\n  }\n\n\n  /**\n   * Set cview count into this state object\n   *\n   * @param {number} value new view count\n   */\n  static SetViewPostCount(userStats, value) {\n    return XMObjectStats.SetXObjectField(userStats, StatsProps.VIEWS_FULL_POST, value);\n  }\n\n  /**\n   * Retrieve the once-set post view object\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetViewPostCount(userStats, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(userStats, StatsProps.VIEWS_FULL_POST, defaultVal);\n    return Util.toNumber(value, defaultVal);\n  }\n\n\n} // class XPostStats\n\nXPostStats.RegisterType(XPostStats);\n\nexport default XPostStats;\n","import templateMerge from 'string-template';\nimport templateCompile from 'string-template/compile';\n\nimport { ModelType, MessageProps, ModelFolder } from '../ModelConsts';\nimport SymbolExpr from '../../util/SymbolExpr';\nimport XMActivityLog from './XMActivityLog';\nimport XMSocialIndexable from '../social/XMSocialIndexable';\nimport XMPost from '../post/XMPost';\nimport XObject from '../XObject';\nimport XPostStats from '../post/XPostStats';\nimport Util from '../../Util';\n\nconst _CLSNAME = 'XMPostItem';\n\n/**\n * In a VM, store pre-cached templates so going through\n * a lot of alerts can merge text quicker.\n */\nconst cachedTemplate = {};\n\n\n/**\n * Represent tracking of the action that can be rendered\n * as an item in a timeline / feed stream.\n *\n * It is essentially a renderable version of XMActivityLog\n * intended for human consumption as a postin a feed stream.\n * For example \"<User> liked a post\" or \"User reposted\"\n *\n * The instances of this class are elements in a XPostFeed\n * collection object, which is to construct and transmit the search\n * result back to client.\n */\nclass XMPostItem extends XMSocialIndexable {\n  static get VARDATA() { return MessageProps.VARDATA; }\n  static get ACTION() { return MessageProps.ACTION; }\n  static get VARMAP() { return MessageProps.VARMAP; }\n  static get MSGTPL() { return MessageProps.MSGTPL; }\n  static get COMPILED() { return MessageProps.COMPILED; }\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMPostItem;\n  }\n\n  /**\n   * Initialize content as a new object.\n   */\n  initNew(tracking = false) {\n    super.initNew(tracking);\n  }\n\n  /**\n   * OVERRIDE: parent class implementation to also look in\n   * the parent container for aux data (e.g., XPostFeed).\n   *\n   * @param {boolean} create true to create if not already\n   * @return {{}} aux data in JSON, or null if non exist and\n   * don't want to create\n   */\n  getAuxData(create = false) {\n    let auxData = super.getAuxData(false);\n    if (auxData) {\n      return auxData;   // first priority is immediate aux data\n    }\n    const tp = this.getTParent();\n    auxData = tp ? tp.getAuxData(false) : null;\n    if (auxData == null && !create) {\n      return null;\n    }\n    // No aux data found\n    return super.getAuxData(true);\n  }\n\n  /**\n   * OVERRIDE: parent class implementation so can check\n   * both in this object's aux_data, as well as parent\n   * container's aux_data.\n   *\n   * @param {string} field name of field in aux data section\n   * @param {*} defaultVal\n   */\n  getAuxDataField(field, defaultVal = null) {\n    let auxData = super.getAuxData(false);\n    const data = auxData ? XMPostItem.GetObjectField(auxData, field, null) : null;\n    if (Util.NotNull(data)) { return data; }    // found\n    const tp = this.getTParent();\n    if (tp == null) { return defaultVal; }\n    auxData = tp.getAuxData(false);\n    return auxData ? XMPostItem.GetObjectField(auxData, field, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return variable map associated with this object, if any\n   *\n   * @param {boolean} wrap true to wrap as XVarData object\n   * @param {*} defaultVal\n   * @return {XVarData} either XVarData, json, or defaultVal\n   */\n  getVarData(wrap = true, defaultVal = null) {\n    let jsonObj = this.get(XMPostItem.VARDATA, null);\n    if (jsonObj == null) {\n      const tp = this.getTParent();\n      if (Util.NotNull(tp)) {\n        if (typeof tp.getVarData === 'function') { jsonObj = tp.getVarData(false, null); } else { jsonObj = tp[XMPostItem.VARDATA]; }\n      }\n    }\n    if (jsonObj == null) { return defaultVal; }\n    return wrap ? XObject.Wrap(jsonObj) : jsonObj;\n  }\n\n  /**\n   * Poster's ID - from explicitly set value or infer from activitylog\n   *\n   * @return {string} userId of poster\n   */\n  getPosterId() {\n    let posterId = this.getCreatorId(null);\n    if (posterId == null) {\n      const activityLog = this.getActivityLog(null);\n      posterId = activityLog ? XMActivityLog.GetInitiator(activityLog) : null;\n    }\n    return posterId;\n  }\n\n    /**\n     * Poster's ID - from explicitly set value or infer from activitylog\n     *\n     * @return {string} userId of poster\n     */\n     getCommentPosterId() {\n      let commentPosterId = this.getCreatorId(null);\n      if (commentPosterId == null) {\n        const activityLog = this.getActivityLog(null);\n        commentPosterId = activityLog ? XMActivityLog.GetCommentInitiator(activityLog) : null;\n      }\n      return commentPosterId;\n    }\n\n  /**\n   * Extract the ID of the post, if the activity wrapped by this\n   * object indicates it is related to an XMPost object\n   *\n   * @return {string} postId if activity is about a Post\n   */\n  getPostId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMPostItem.GetPostID(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return the ID of the original post, if this happens to be\n   * a repost of another.\n   *\n   * @param {*} defaultVal\n   * @return {string} original post ID, or null this is the original\n   *\n   * @see ~isShared\n   */\n  getOriginalPostId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMPostItem.GetOriginalPostID(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string} original poster's userId\n   */\n  getOriginalPosterId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMPostItem.GetOriginalPostOwnerID(data, defaultVal) : defaultVal;\n  }\n\n\n  /**\n   * Determine the ID of the post's stats. This is NOT necessary\n   * the Post's ID, because if the post is shared of another,\n   * the stats we must use is that of the original post.\n   *\n   * @return {string} suitable poststat's ID\n   */\n  getPostStatsId() {\n    let id = this.getOriginalPostId(null);\n    if (id == null) { id = this.getPostId(null); }\n    return id;\n  }\n\n  /**\n   * Return piggybacked object/data that is tracked in this\n   * object's aux_data, or a (tracked/transient) parent container.\n   *\n   * This is the shared logic to get to the post, post stats, and user info\n   * piggybacked objects.\n   *\n   * @param {string} objectId\n   * @param {string} objectType model type (see ModelType.*)\n   * @param {boolean} wrap true to wrap with XMPost instead of raw json\n   * @param {*} defaultVal\n   * @return {XObject} or json if no wrap\n   *\n   * @see ~getPost\n   * @see ~getPostStats\n   * @see ~getUserInfo\n   */\n  getAuxObject(objectId, objectType, wrap = true, defaultVal = null) {\n    const postId = this.getPostId(null);\n    if (postId == null) { return defaultVal; }\n\n    const objectMap = this.getAuxDataField(objectType, null);\n    const obj = objectMap ? objectMap[objectId] : null;\n    if (obj == null) { return defaultVal; }\n    return wrap ? XObject.Wrap(obj, objectType) : obj;\n  }\n\n  /**\n   * Set an XObject (or json) to an aux object map.  This is\n   * different than direct map in that the AUX_DATA json is\n   * a map of object types, and under each type is object\n   * instances mapped using their ID as key.\n   *\n   * @param {XObject} xObject\n   * @param {boollean} unwrap\n   * @param {*} defaultVal\n   * @return {*} previous value stored\n   */\n  setXAuxObject(xObject, unwrap = true, defaultVal = null) {\n    const objectId = xObject.getPostId(null);\n    if (objectId == null) { return defaultVal; }\n    const objectType = xObject.getType();\n\n    const auxData = this.getAuxData(true);\n    let objectMap = auxData[objectType];\n    if (objectMap == null) {\n      objectMap = {};\n      auxData[objectType] = objectMap;\n    }\n    const prevValue = objectMap[objectId];\n    objectMap[objectId] = unwrap ? XObject.Unwrap(xObject) : xObject;\n\n    return prevValue;\n  }\n\n  /**\n   * Return XMPost object that maybe piggybacked with this or\n   * parent container object\n   *\n   * @param {boolean} wrap true to wrap with XMPost instead of raw json\n   * @param {*} defaultVal\n   * @return {XMPost} or json if no wrap\n   */\n  getPost(wrap = true, defaultVal = null) {\n    const postId = this.getPostId(null);\n    return postId ? this.getAuxObject(postId, ModelType.POST, wrap, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return XMPost object that maybe piggybacked with this or\n   * parent container object\n   *\n   * @param {boolean} wrap true to wrap with XMPost instead of raw json\n   * @param {*} defaultVal\n   * @return {XMPost} or json if no wrap\n   */\n  getOriginalPost(wrap = true, defaultVal = null) {\n    const postId = this.getOriginalPostId(null);\n    return postId ? this.getAuxObject(postId, ModelType.POST, wrap, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Piggyback corresponding XMPost object by placing it in the AUX_DATA field.\n   * @param {XMPost} xPost\n   */\n  setPost(xPost) {\n    return this.setAuxDataXField(xPost);\n  }\n\n  /**\n   * Return XMPostStats object that maybe piggybacked with this or\n   * parent container object\n   *\n   * @param {boolean} wrap true to wrap with XMPost instead of raw json\n   * @param {boolean=} create true to create new instance, false to return null\n   * @return {XPostStats} or json if no wrap, or null if no postId or data and don't create\n   */\n  getPostStats(wrap = true, create = true) {\n    const postId = this.getPostStatsId(null);\n    if (postId == null) { return null; }\n\n    const obj = this.getAuxObject(postId, ModelType.POST_STATS, wrap, null);\n    if (Util.NotNull(obj)) { return wrap ? XObject.Wrap(obj, XPostStats) : obj; }\n\n    return (create === true) ? XPostStats.CreateNew(postId) : null;\n  }\n\n  /**\n   * Return XUserInfo object that maybe piggybacked with this or\n   * parent container object\n   *\n   * @param {boolean} wrap true to wrap with XUserInfo instead of raw json\n   * @param {*} defaultVal\n   * @return {XUserInfo} or json if no wrap\n   */\n  getUserInfo(wrap = true, defaultVal = null) {\n    const userId = this.getPosterId(null);\n    return userId ? this.getAuxObject(userId, ModelType.USER_INFO, wrap, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return XUserInfo object that maybe piggybacked with this or\n   * parent container object\n   *\n   * @param {boolean} wrap true to wrap with XUserInfo instead of raw json\n   * @param {*} defaultVal\n   * @return {XUserInfo} or json if no wrap\n   */\n  getOriginalPosterInfo(wrap = true, defaultVal = null) {\n    const userId = this.getOriginalPosterId(null);\n    return userId ? this.getAuxObject(userId, ModelType.USER_INFO, wrap, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Generate the message from text template filled by\n   * the variables. If a variable map is provided, it'll\n   * be used before use the one stored as backup. This\n   * allows UI to override with values that are maked up.\n   *\n   * @param {{}} priorityVarMap overriding variable map.\n   * @param {XVarData} variable data map that can fill actual data\n   * @param {function} valueRender function(text, props) that can do\n   * further rendering of a processed text fragment.\n   * @param {*} defaultVal return this if text template is\n   * missing.\n   * @return {string} formatted text\n   */\n  generateMessage(priorityVarMap = null, varDataMap = null, valueRenderer = null, defaultVal = []) {\n    const data = this.getData(false);\n    return data\n      ? XMPostItem.GenerateMessage(data, priorityVarMap, varDataMap, valueRenderer, defaultVal)\n      : defaultVal;\n  }\n\n  /**\n   * Generate the message fragments from text template filled by\n   * the variables. If a variable map is provided, it'll\n   * be used before use the one stored as backup. This\n   * allows UI to override with values that are maked up.\n   *\n   * @param {{}} priorityVarMap overriding variable map.\n   * @param {XVarData} variable data map that can fill actual data\n   * @param {function} valueRender function(text, props) that can do\n   * further rendering of a processed text fragment.\n   * @param {*} defaultVal return this if text template is\n   * missing.\n   * @return {[]} array of text components\n   */\n  generateMessageFrags(priorityVarMap = null, varDataMap = null, valueRenderer = null, defaultVal = []) {\n    const data = this.getData(false);\n    return data\n      ? XMPostItem.GenerateMessageFrags(data, priorityVarMap, varDataMap, valueRenderer, defaultVal)\n      : defaultVal;\n  }\n\n  /**\n   * Set a string template, which can be an ES6 string\n   * template (using {variable}).\n   *\n   * @param {string} template text template\n   */\n  setMessageTemplate(template) {\n    return XMPostItem.SetMessageTemplate(this.getData(true), template);\n  }\n\n  /**\n   * Return the message text template\n   *\n   * @param {*} defaultVal\n   */\n  getMessageTemplate(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMPostItem.GetMessageTemplate(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return the compiled message text processor from the\n   * pre-cached. If none then we compile it and also cache it.\n   *\n   * @param {*} defaultVal if template is not found, return this\n   * @return {function} compiled template function\n   */\n  getCompiledTemplate(defaultVal = null) {\n    const template = this.getMessageTemplate();\n    if (template == null) { return defaultVal; }\n    return XMPostItem.GetCompiledTemplate(template, defaultVal);\n  } // getCompiledTemplate\n\n  /**\n   * Return the notification's recipient (user ID)\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string} recipient's user ID\n   *\n   * @see ~setReceiverId\n   * @see ~getSender\n   */\n  getReceiverId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMPostItem.GetReceiverId(data, defaultVal) : defaultVal;\n  } // getReceiver\n\n\n  /**\n   * Set the recipient user ID\n   *\n   * @param {string} userId ID of user receiving the notification\n   * @return {boolean} true if values set\n   *\n   * @see ~setSenderId\n   * @see ~getReceiverId\n   */\n  setReceiverId(userId) {\n    const data = this.getData(true);\n    return data ? XMPostItem.SetReceiverId(data, userId) : false;\n  } // setReceiver\n\n\n  /**\n   * Set feed item type that is action caused.\n   *\n   * @param {string} type\n   */\n  setAction(type) {\n    return XMPostItem.SetAction(this.getData(true), type);\n  }\n\n  /**\n   * Return the feed item action type\n   *\n   * @param {*} defaultVal\n   */\n  getAction(defaultVal = null) {\n    const data = this.getActivityLog();\n    return data ? XMPostItem.GetAction(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Derive/return the actioner ID. Actioner is the user ID on the left\n   * side of the action verb. If the actioner is not a user, then fall back\n   * to the initiator.\n   *\n   * @param {*} defaultVal\n   * @return {string} source user Id or initiator Id\n   * @see ~getInitiator\n   */\n  getActioner(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMPostItem.GetActioner(data, defaultVal) : defaultVal;\n  }\n\n  getTargetId(defaultVal = null) {\n    const activityLog = this.getActivityLog();\n    return activityLog ? XMActivityLog.GetTargetId(activityLog) : defaultVal;\n  }\n\n  /**\n   * Set/override entire variable map. Any previous will be\n   * gone!\n   *\n   * @param {{}} varMap property/values stored in this object\n   */\n  setVariableMap(varMap) {\n    return XMPostItem.SetVariableMap(this.getData(true), varMap);\n  }\n\n  /**\n   * Return entire variable map\n   *\n   * @param {*} defaultVal\n   */\n  getVariableMap(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMPostItem.GetVariableMap(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set a variable/value entry only. If variable map does not\n   * exist, then one will be created.\n   *\n   * @param {string} label\n   * @param {string} value\n   */\n  setVariable(label, value) {\n    return XMPostItem.SetVariable(this.getData(true), label, value);\n  }\n\n  /**\n   * Return value of the specified variable.\n   * @param {string} label\n   * @param {string=} defaultVal return this if no variable entry or\n   * the value is null/undefined\n   */\n  getVariable(label, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMPostItem.GetVariable(data, label, defaultVal) : defaultVal;\n  } // getVariable\n\n  /**\n   * Track the \"essential properties\" of the given\n   * activity log object.\n   *\n   * Note this method shouldn't be used normally.\n   * Should use the static method CreateFromActivity.\n   *\n   * @param {XMActivityLog} xActivityLog\n   *\n   * @see ~CreateFromActivity\n   */\n  _setActivityLog(xActivityLog) {\n    const props = xActivityLog.getCachedProps();\n    // let jsonAct = XMActivityLog.Unwrap(xActivityLog);\n    if (props) { this.set(MessageProps.ACTIVITY, props); }\n  }\n\n  /**\n   * Set the given props as the common/essential props\n   * for the activity data\n   *\n   * @param {{}} props object with labels in MessageProps.PROPS_COMNMON\n   *\n   * @see ~CreateFromActivity\n   * @see ~_setActivityLog\n   */\n  _setEssentialProps(props) {\n    this.set(MessageProps.ACTIVITY, props);\n  }\n\n  /**\n   * Remove the activity log object embedded in this notification.\n   *\n   * @return {{}} existing embedded activity log json\n   */\n  clearActivityLog() {\n    const data = this.getData(false);\n    return data ? this.set(MessageProps.ACTIVITY, null) : null;\n  }\n\n  /**\n   * Get the (json) activity log.\n   *\n   * @param {*} defaultVal\n   * @return {{}} activity data in json\n   *\n   * @see ~getXMActivityLog\n   */\n  getActivityLog(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMPostItem.GetActivityLog(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return the activity content as an instance of XMActivityLog\n   *\n   * @param {*} defaultVal\n   * @return {XMActivityLog}\n   */\n  getXMActivityLog(defaultVal = null) {\n    const jsonObj = this.getActivityLog(null);\n    return jsonObj ? XMActivityLog.Wrap(jsonObj) : defaultVal;\n  }\n\n  /**\n   * Return the content (essential Activity properties) as\n   * a stringified JSON.\n   *\n   * @param {defaultVal=} defaultVal if no activity data then return this value\n   * @return {string} stringified json of essential properties\n   *\n   * @see MessageProps.PROPS_COMMON\n   */\n  getCommonPropsString(defaultVal = null) {\n    const essentialProps = this.getActivityLog(null);\n    return essentialProps ? JSON.stringify(essentialProps) : defaultVal;\n  }\n\n  /**\n   * Return a signature string for the activity log within the news item.\n   * It is used to differentiate during sorting.\n   *\n   * @param {boolean} includeType include \"type\" in the signature string.\n   * This is normally off but used to make unique if same object ID is\n   * used for multiple types.\n   * @param {*} defaultVal\n   */\n  getSignature(includeType = false, defaultVal = null) {\n    const activityData = this.getActivityLog(null);\n    const sig = activityData ? XMActivityLog.GetSignature(activityData, includeType) : null;\n    return sig || defaultVal;\n  }\n\n  /**\n   * Override the updated TS, which should only used the timestamp\n   * from the embedded activity log's\n   *\n   * @param {*} defaultVal\n   * @return {number} timestamp of the embedded activity log essential props\n   */\n  getUpdatedTS(defaultVal = null) {\n    const activityData = this.getActivityLog(null);\n    let updatedTS = XMPostItem.GetUpdatedTS(activityData, null);\n    if (updatedTS == null) { updatedTS = super.getUpdatedTS(null); }\n    return updatedTS || defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {XMPost}\n   */\n  getSharedPost() {\n    const activityData = this.getActivityLog(null);\n    const sharedPostIds = activityData ? XMActivityLog.GetSharedPostIDs(activityData) : null;\n    const post = sharedPostIds && sharedPostIds[0] ? this.getAuxObject(sharedPostIds[0], ModelType.POST, true, null) : null\n\n    return post;\n  }\n\n  getLikedSharedPost() {\n    const postObj = this.getPost();\n    const sharedPostIds = postObj ? XMActivityLog.GetSharedPostIDs(postObj.data) : null;\n    return sharedPostIds && sharedPostIds[0] ? this.getAuxObject(sharedPostIds[0], ModelType.POST, true, null) : null\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetFolderName() {\n    return ModelFolder.POST_ITEM;\n  }\n\n  static GetTypeID() {\n    return ModelType.POST_ITEM;\n  }\n\n  /**\n   * Wrap JSON data that represents XMPostItem ONLY.\n   */\n  static Wrap(jsonRec, clsType = XMPostItem) {\n    return XMPostItem.WrapXObject(jsonRec, clsType);\n  }\n\n  /**\n   * Derive a notification record ID that with the format:\n   * {action}_{userId}_{ISODate}\n   *\n   * @param {{}} jsonRec notification json object filled out\n   * @param {number} ts timestamp override\n   * @return {string} ID string. Null if action or initiator fields not specified.\n   *\n   * @see XMActivityLog~setDerivedID\n   */\n  static DeriveID(jsonRec, msgType = null, receiverId = null, ts = null) {\n    const action = XMPostItem.GetAction(jsonRec, null);\n    receiverId = receiverId || XMPostItem.GetReceiver(jsonRec, null);\n    if (!action || !receiverId) {\n      return null;\n    }\n\n    const createdTS = ts || XMPostItem.GetCreatedTS(jsonRec, Date.now());\n\n    const dateStr = new Date(createdTS).toISOString();\n    const idStr = `${receiverId}_${dateStr}_${action}`;\n    return idStr;\n  } // DeriveID\n\n  /**\n   * Create an user info record aggregated from difference\n   * sources but mainly XMUser. It is suitable to give to\n   * client for rendering.\n   *\n   * @param {string} id assigned id\n   * @return {XMPostItem}\n   */\n  static Create(id, tpl, varMap) {\n    const msg = new XMPostItem();\n    msg._setId(id);\n    msg.setMessageTemplate(tpl);\n    msg.setVariableMap(varMap);\n\n    return msg;\n  } // Create\n\n  /**\n   * Create new object from XMActivityLog object\n   *\n   * @param {string} receiverId receiving user ID (username)\n   * @param {XMPostItem} xActivityLog\n   */\n  static CreateFromActivity(receiverId, xActivityLog) {\n    /** @type {XMPostItem} alert */\n    const postItem = new XMPostItem();\n    postItem.initNew();\n    postItem.setReceiverId(receiverId);\n    postItem._setId(`${receiverId}_${xActivityLog.getId()}`);   // same ID as XMNotification for marking later\n    // newsItem.setAction(xActivityLog.getAction());\n    // newsItem.setUpdatedTS(xActivityLog.getUpdatedTS());\n\n    // This will extract selective properties suitable for caching\n    postItem._setActivityLog(xActivityLog);\n\n    // hashtags/usertags are not essential props of activity log,\n    // so store them at this level which will allow database search\n    // or reference in additional cache indices.\n    postItem.addHashtags(xActivityLog.getHashtags(null));\n    postItem.addUsertags(xActivityLog.getUsertags(null));\n\n    // should just copy everything from XMActivity?\n    // this.Log(_CLSNAME, \"CreateFromActivity\", \"Dump:\", newsItem.toJSON());\n\n    return postItem;\n  } // CreateFromActivity\n\n  /**\n   * Create new object from essential props of activity log,\n   * which is stored as feed stream in cache\n   *\n   * @param {string} receiverId receiver's user ID\n   * @param {{}} essentialProps object containing essential property label/values\n   * @return {XMPostItem}\n   */\n  static CreateFromEssentialProps(receiverId, essentialProps, tpl = null) {\n    /** @type {XMPostItem} alert */\n    const newsItem = new XMPostItem();\n    newsItem.initNew(false);\n    newsItem.setReceiverId(receiverId);\n\n    // should just copy everything from XMNotification\n    if (typeof essentialProps === 'string') { essentialProps = JSON.parse(essentialProps); }\n    newsItem._setEssentialProps(essentialProps);\n\n    newsItem._setId(`${receiverId}_${XMActivityLog.GetId(essentialProps)}`);\n    newsItem.setAction(XMActivityLog.GetAction(essentialProps));\n    newsItem.setCreatedTS(XMActivityLog.GetCreatedTS(essentialProps));\n\n    return newsItem;\n  } // CreateFromEssentialProps\n\n\n  /**\n   * Return the XMActivityLog json content\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetActivityLog(jsonObj, defaultVal = null) {\n    return XMPostItem.GetObjectField(jsonObj, MessageProps.ACTIVITY, defaultVal);\n  } // GetActivityLog\n\n  /**\n   * Extract the ID of the post, if the activity wrapped by this\n   * object indicates it is related to an XMPost object\n   *\n   * @return {string} postId if activity is about a Post\n   */\n  static GetPostID(jsonObj, defaultVal = null) {\n    const activityLog = XMPostItem.GetActivityLog(jsonObj, null);\n    const postId = activityLog ? XMActivityLog.GetPostID(activityLog, null) : null;\n    return postId || defaultVal;\n  }\n\n  static GetPosterId(jsonObj) {\n    let posterId = XMPostItem.GetCreatorId(jsonObj);\n    if (posterId == null) {\n      const activityLog = XMPostItem.GetActivityLog(jsonObj, null);\n      posterId = activityLog ? XMActivityLog.GetInitiator(activityLog) : null;\n    }\n    return posterId;\n  }\n\n  static GetPostOwnerId(jsonObj) {\n    const activityLog = XMPostItem.GetActivityLog(jsonObj, null);\n    const posterId = activityLog ? XMActivityLog.GetPostOwnerID(activityLog) : null;\n    return posterId;\n  }\n\n  /**\n   * Extract the ID of the original post, if the activity wrapped by this\n   * object indicates it is a XMPost object and it is SHARED\n   *\n   * @return {string} postId if activity is about a shared Post\n   */\n  static GetOriginalPostID(jsonObj, defaultVal = null) {\n    const activityLog = XMPostItem.GetActivityLog(jsonObj, null);\n    const postId = activityLog ? XMActivityLog.GetOriginalPostID(activityLog, null) : null;\n    return postId || defaultVal;\n  }\n\n  static GetOriginalPostOwnerID(jsonObj, defaultVal = null) {\n    const activityLog = XMPostItem.GetActivityLog(jsonObj, null);\n    const ownerId = activityLog ? XMActivityLog.GetOriginalPostOwnerID(activityLog, null) : null;\n    return ownerId || defaultVal;\n  }\n\n  /**\n   * Extract the ID of the shared post, if the activity wrapped by this\n   * object indicates it is a XMPost object and it is SHARED\n   *\n   * @return {string[]} postIds\n   */\n  static GetSharedPostIDs(jsonObj, defaultVal = null) {\n    const activityLog = XMPostItem.GetActivityLog(jsonObj, null);\n    const postId = activityLog ? XMActivityLog.GetRepostedIds(activityLog, null) : null;\n    return postId || defaultVal;\n  }\n\n  static GetSharedPosterIDs(jsonObj, defaultVal = null) {\n    const activityLog = XMPostItem.GetActivityLog(jsonObj, null);\n    const ownerId = activityLog ? XMActivityLog.GetRepostedOwnerIds(activityLog, null) : null;\n    return ownerId || defaultVal;\n  }\n\n  /**\n   * Determine the ID of the post's stats. This is NOT necessary\n   * the Post's ID, because if the post is shared of another,\n   * the stats we must use is that of the original post.\n   *\n   * @param {{}} jsonObj\n   * @return {string} suitable poststat's ID\n   */\n  static GetPostStatsID(jsonObj, defaultVal = null) {\n    let id = XMPostItem.GetOriginalPostID(jsonObj, null);\n    if (id == null) { id = XMPostItem.GetPostID(jsonObj, null); }\n    return id;\n  }\n\n  /**\n   * Generate the message fragments from text template filled by\n   * the variables. If a variable map is provided, it'll\n   * be used before use the one stored as backup. This\n   * allows UI to override with values that are maked up.\n   *\n   * @param {{}} jsonObj\n   * @param {{}} priorityVarMap overriding variable map.\n   * @param {XVarData} varDataMap data map - data to fill\n   * @param {function} valueRenderer function to further render value\n   * procesed per fragment. A perfect example is the web UI would\n   * take a user nickname and wrap a component or a link around it.\n   * @param {*} defaultVal return this if text template is\n   * missing.\n   * @return {[]} array of text or other objects (e.g., React Component)\n   */\n  static GenerateMessageFrags(jsonObj, priorityVarMap = null, varDataMap = null,\n    valueRenderer = null, defaultVal = null) {\n    const presetVarMap = XMPostItem.GetVariableMap(jsonObj, null);\n    const varMap = { ...presetVarMap, ...priorityVarMap };\n    // console.log(\"GenerateMessage: combined varMaps: \", varMap);\n    let mergeableText;\n    const textTpl = XMPostItem.GetMessageTemplate(jsonObj, null);\n    if (textTpl == null) { return defaultVal; }\n    const compiledTpl = XMPostItem.GetCompiledTemplate(textTpl, null);\n    if (compiledTpl) {\n      // console.log(\"GeneralMessage: using compiled: \", compiledTpl);\n      mergeableText = compiledTpl(varMap);\n    } else {\n      console.warn('GeneralMessage: no compiled template. Merge directly.');\n      mergeableText = templateMerge(textTpl, varMap);\n    }\n    let result;\n    if (Util.NotNull(varDataMap)) {\n      const srcFrags = SymbolExpr.ParseExprWrappers(mergeableText);\n      const outFrags = [];\n      srcFrags.forEach((frag) => {\n        if (frag.startsWith('#')) {\n          const filledText =\n            varDataMap.getValueFromSymbolExpr(frag.substring(1), valueRenderer);\n          outFrags.push(filledText);\n        } else { outFrags.push(frag); }\n      });\n      result = outFrags;\n    } else { result = [mergeableText]; }\n    return result;\n  } // GenerateMessage\n\n  /**\n   * Generate the message from text template filled by\n   * the variables. If a variable map is provided, it'll\n   * be used before use the one stored as backup. This\n   * allows UI to override with values that are maked up.\n   *\n   * @param {{}} jsonObj\n   * @param {{}} priorityVarMap overriding variable map.\n   * @param {XVarData} varDataMap data map - data to fill\n   * @param {function} valueRenderer function to further render value\n   * procesed per fragment. A perfect example is the web UI would\n   * take a user nickname and wrap a component or a link around it.\n   * @param {*} defaultVal return this if text template is\n   * missing.\n   */\n  static GenerateMessage(jsonObj, priorityVarMap = null, varDataMap = null,\n    valueRenderer = null, defaultVal = null) {\n    const result = XMPostItem.GenerateMessageFrags(jsonObj, priorityVarMap, varDataMap,\n      valueRenderer, defaultVal);\n    return Array.isArray(result) ? result.join('') : result;\n  }\n\n  /**\n   * Set a string template, which can be an ES6 string\n   * template (using {variable}).\n   *\n   * @param {{}} jsonObj\n   * @param {string} template text template\n   */\n  static SetMessageTemplate(jsonObj, template) {\n    return XMPostItem.SetObjectField(jsonObj, this.MSGTPL, template);\n  }\n\n  /**\n   * Return the message text template\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetMessageTemplate(jsonObj, defaultVal = null) {\n    return XMPostItem.GetObjectField(jsonObj, this.MSGTPL, defaultVal);\n  }\n\n  /**\n   * Given a text template, lookup/generate compiled version of it.\n   *\n   * @param {string} template\n   */\n  static GetCompiledTemplate(template, defaultVal = null) {\n    if (template == null) { return defaultVal; }\n    let compiled = cachedTemplate[template];\n    if (compiled == null) {\n      compiled = cachedTemplate[template] = templateCompile(template);\n    }\n    return compiled;\n  } // GetCompiledTemplate\n\n  /**\n   * Set the recipient user ID\n   *\n   * @param {{}} jsonObj\n   * @param {string} recipient's user ID\n   * @return {boolean} true if values set\n   *\n   * @see ~SetSender\n   */\n  static SetReceiverId(jsonObj, userId) {\n    if (!XMPostItem.AssertArrayNoNulls([jsonObj, userId], 'SetReceiverId')) { return false; }\n    XMPostItem.SetObjectField(jsonObj, MessageProps.RECEIVER_ID, userId);\n    return true;\n  } // SetReceiverId\n\n  /**\n   * Return the notification's recipient (user ID)\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string} recipient's user ID\n   */\n  static GetReceiverId(jsonObj, defaultVal = null) {\n    return XMPostItem.GetObjectField(jsonObj, MessageProps.RECEIVER_ID, defaultVal);\n  } // GetReceiverId\n\n  /**\n   * Set message type\n   *\n   * @param {{}} jsonObj\n   * @param {string} type\n   */\n  static SetAction(jsonObj, type) {\n    return XMPostItem.SetObjectField(jsonObj, this.ACTION, type);\n  }\n\n  /**\n   * Return the message type\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetAction(jsonObj, defaultVal = null) {\n    return XMPostItem.GetObjectField(jsonObj, this.ACTION, defaultVal);\n  }\n\n  /**\n   * Return the actioner's user ID. Actioner is the left-side\n   * of action verb if it's a user. If not, then default to\n   * initiator.\n   *\n   * @param {{}} jsonRec\n   * @param {*} defaultVal\n   *\n   * @return {string} either source userId or initiatorId in the order of preference\n   * @see ~GetInitiator\n   */\n  static GetActioner(jsonRec, defaultVal = null) {\n    let userId = (XMPostItem.GetSourceType(jsonRec) === ModelType.USER) ? XMPostItem.GetSourceId(jsonRec, null) : null;\n    if (userId == null) { userId = XMPostItem.GetInitiator(jsonRec, null); }\n    return userId || defaultVal;\n  }\n\n  /**\n   * Get the initiator ID of this log. Note initiator is different than\n   * actioner.\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~GetActioner\n   */\n  static GetInitiator(jsonObj, defaultVal = null) {\n    return XMPostItem.GetObjectField(jsonObj, MessageProps.INITIATOR_ID, defaultVal);\n  }\n\n  /**\n   * Get the source side object's ID\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetSourceObject\n   * @see ~GetSourceType\n   * @see ~GetSourceOwnerId\n   */\n  static GetSourceId(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(jsonObj, MessageProps.SRC_ID, defaultVal);\n  }\n\n  /**\n   * Get the source side object's type\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetSourceObject\n   * @see ~GetSourceId\n   */\n  static GetSourceType(jsonObj, defaultVal = null) {\n    return XMPostItem.GetObjectField(jsonObj, MessageProps.SRC_TYPE, defaultVal);\n  }\n\n\n  /**\n   * Set/override entire variable map. Any previous will be\n   * gone!\n   *\n   * @param {{}} jsonObj\n   * @param {{}} varMap property/values stored in this object\n   */\n  static SetVariableMap(jsonObj, varMap) {\n    return XMPostItem.SetObjectField(jsonObj, this.VARMAP, varMap);\n  }\n\n  /**\n   * Return entire variable map\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetVariableMap(jsonObj, defaultVal = null) {\n    return XMPostItem.GetObjectField(jsonObj, this.VARMAP, defaultVal);\n  }\n\n  /**\n   * Set a variable/value entry only. If variable map does not\n   * exist, then one will be created.\n   *\n   * @param {{}} jsonObj\n   * @param {string} label\n   * @param {string} value\n   */\n  static SetVariable(jsonObj, label, value) {\n    XMPostItem.AssertNotNull(label, 'SetVariable', 'label cannot be null');\n    let varMap = XMPostItem.GetVariableMap(jsonObj, this.VARMAP, null);\n    if (varMap == null) {\n      varMap = {};\n      XMPostItem.SetVariableMap(jsonObj, varMap);\n    }\n    varMap[label] = value;\n    return true;\n  }\n\n  /**\n   * Return value of the specified variable.\n   * @param {{}} jsonObj\n   * @param {string} label\n   * @param {string=} defaultVal return this if no variable entry or\n   * the value is null/undefined\n   */\n  static GetVariable(jsonObj, label, defaultVal = null) {\n    XMPostItem.AssertNotNull(label, 'GetVariable', 'label cannot be null');\n    const varMap = XMPostItem.GetVariableMap(jsonObj, this.VARMAP, null);\n    const value = varMap ? varMap[label] : null;\n    return value || defaultVal;\n  } // GetVariable\n\n\n} // class XMPostItem\n\nXMPostItem.RegisterType(XMPostItem);\n\nexport default XMPostItem;\n","\nimport XMSocialIndexable from './XMSocialIndexable';\nimport { ModelType, ModelFolder, MessageProps } from '../ModelConsts';\nimport XMPostItem from '../activity/XMPostItem';\nimport SocialModelHelper from './SocialModelHelper';\n\n\nconst _CLSNAME = 'Comment';\n/**\n * Model a XMcomment\n *\n */\nclass XMComment extends XMSocialIndexable {\n\n  /**\n     * The object ID of the Object Model associated with this\n     * comment object.\n     */\n  static get POST_ID() { return MessageProps.COMMENT_POST_ID; }\n\n  /**\n     *\n     */\n  static get PARENT_COMMENT_ID() { return MessageProps.PARENT_COMMENT_ID; }\n\n  /**\n     *\n     * @param {string} clsname\n     * @param {{}} props\n     */\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMComment;\n    this._enableACL();\n  }\n\n  /**\n   * Polymorphic override parent.\n   *\n   * @return {boolean} true\n   */\n  isComment() {\n    return true;\n  }\n\n  /**\n     * Set ID of post that this comment is associated with,\n     * regardless if it's a direct reply or nested.\n     *\n     *\n     * @param {string} objectId\n     * @return {string} previously set value, or null if none\n     */\n  setPostId(objectId) {\n    return this.set(XMComment.POST_ID, objectId);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {string=} either post's ID or null if no post (sub-comment)\n     */\n  getPostId(defaultVal = null) {\n    return this.get(XMComment.POST_ID, defaultVal);\n  }\n\n  /**\n     *\n     * @param {string} commentId\n     */\n  setParentCommentId(commentId) {\n    return this.set(XMComment.PARENT_COMMENT_ID, commentId);\n  }\n\n  /**\n   *\n   * @param {string} commentId\n   */\n  getParentOwnerId(defaultVal = null) {\n    return this.get(XMComment.PARENT_COMMENT_ID, defaultVal);\n  }\n\n  setParentOwnerId(ownerId) {\n    return this.set(XMComment.PROP_PARENT_OWNER_ID, ownerId);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {string=} parent comment id, if any\n     */\n  getParentCommentId(defaultVal = null) {\n    return this.get(XMComment.PARENT_COMMENT_ID, defaultVal);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {XMPost} piggybacked/preloaded Post object\n   */\n  getPost(defaultVal = null) {\n    return this.getAuxDataXField(ModelType.POST, null);\n  }\n\n  /**\n   * If comment stats is piggybacked in the AUX_DATA field,\n   * this convenient method will extract it and wrap it\n   *\n   * @param {*} defaultVal\n   * @return {XMCommentStats}\n   */\n  getCommentStats(defaultVal = null) {\n    return this.getAuxDataXField(ModelType.COMMENT_STATS, null);\n  }\n\n  /**\n   * If userInfo is piggybacked in the AUX_DATA field,\n   * this convenient method will extract it and wrap it\n   *\n   * @param {*} defaultVal\n   * @return {XUserInfo}\n   */\n  getUserInfoMap(defaultVal = null) {\n    return this.getAuxDataXField(ModelType.USERINFO, null);\n  }\n\n  /**\n   *\n   * @param {string=} receiverId optional (for printing perspective)\n   * @return {XPostItem}\n   */\n  createXPostItem(receiverId = null, action = null) {\n    const xActivity = SocialModelHelper.CreateActivityLogFromSocialIndexable(this, action);\n\n    const xPostItem = XMPostItem.CreateFromActivity(receiverId, xActivity);\n\n    return xPostItem;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n     * Not used as it's expected to be embedded.\n     */\n  static GetFolderName() {\n    return ModelFolder.COMMENT;\n  }\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /**\n   * Return the short identifier for this type. This should\n   * be overriden by subclasses.\n   */\n  static GetTypeID() {\n    return ModelType.COMMENT;\n  }\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  static GetPostId(jsonObj, defaultVal = null) {\n    const idVal = jsonObj ? XMComment.Unwrap(jsonObj)[XMComment.POST_ID] : null;\n    return idVal || defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string=} parent comment id, if any\n   */\n  static GetParentCommentId(jsonObj, defaultVal = null) {\n    return XMComment.GetObjectField(jsonObj, XMComment.PARENT_COMMENT_ID, defaultVal);\n  }\n\n\n  /**\n     *\n     * @param {string} parentCommentId if specified, then this comment\n     * is a reply to an existing comment, not to psot\n     * @param {string} postId if specified but parentCommentId is null,\n     * then this comment replies directly to a post\n     * @return {XMPostComment}\n     */\n  static CreateNew(parentCommentId, postId) {\n    const newObj = new XMComment();\n    newObj.initNew();\n    newObj.setCreatedTS();\n\n    if (parentCommentId) {\n      newObj.setParentCommentId(parentCommentId);\n    }\n    if (postId) {\n      newObj.setPostId(postId);\n    }\n    return newObj;\n  }\n\n  static CreateCommentNotFound(commentId) {\n    const newObj = XMComment.CreateNew(commentId);\n\n    newObj.setNotFound(true);\n    newObj.setText('Content Not Found');\n\n    return newObj;\n  }\n\n} // class Comment\n\nXMComment.RegisterType(XMComment);\n\nexport default XMComment;\n","/**\n * The NetworkManager is responsible for the communications\n * to backend servers, which can be remote or can be\n * local.\n *\n */\n\nimport ObjectBase from './ObjectBase';\n// import XMObject from \"./model/XMObject\";\nimport API from './API';\nimport REST from './net/REST';\nimport EC, { ErrorCodes } from '../core/ErrorCodes';\nimport XError from '../core/model/XError';\nimport XRequest from './model/net/XRequest';\nimport Util from './Util';\n// import Axios from \"axios\";\n\nconst instances = {};\n\n\nclass NetworkManager extends ObjectBase {\n  constructor(label = 'default', clsname = 'NetworkManager') {\n    super(clsname);\n    this.class = NetworkManager;\n    this.label = label;\n    this.cred = {};\n  }\n\n  applyConfig(props) {\n    this.apiHost = props.apiHost ? props.apiHost : 'http://localhost:5001';\n\n    if (Util.NotNull(props.isClient)) { this.isClient = props.isClient; }\n    if (Util.NotNull(props.isServer)) { this.isServer = props.isServer; }\n\n    if (this.apiHost == null) { this.isClient = false; }\n\n    // this.log(\"appConfig\", \"API Server host URL: \" + this.apiHost);\n  }\n\n  setUserCredFunction(f) {\n    this.getUserCred = f;\n  }\n\n  /**\n   * Return pre-tracked user credential if any. This will\n   * be different implementation for client and server side.\n   *\n   * @return {XUserCred}\n   */\n  // getUserCred() {\n  //     return this.Global ? this.Global.GetUserCred() : null;\n  // }\n\n  getApiHost() {\n    if (this.apiHost == null) {\n      // this.error(\"getApiHost\", \"Not ApiHost configured. WRONG INSTANCE!!!\");\n      this.apiHost = 'http://localhost:5001';\n    }\n    return this.apiHost;\n  }\n\n  getLabel() {\n    return this.label;\n  }\n\n  /**\n   * Return whether this instance is running in pure\n   * client mode (request over network), or is running\n   * in the same VM as local StorageManager.\n   *\n   * NOTE: this code should go somewhere else,\n   * perhaps a \"System\" global object so its\n   * accessible by all.\n   */\n  isServerRole() {\n    if (this.isServer) { return this.isServer; }\n\n    return false;\n  }\n\n  isClientRole() {\n    return this.isClient;\n  }\n\n  async getResource(id, type, params = {}, callback) {\n    const _m = 'gres';\n    // this.log(\"getResource\", \"type:\" + type + \", ids: \", idArray);\n    this.assertNotNull(type, _m, 'null type resp');\n    if (id == null) { return callback ? callback('No res ID', null) : null; }\n\n    const prefix = this.getApiHost();\n    const api_prefix = `${prefix}/api`;\n    let url = `${api_prefix}/${type}/${id}`;\n\n    const userCred = this.getUserCred ? this.getUserCred() : null;\n    const xRequest = XRequest.CreateNew(null, userCred);\n\n    // let nm = this;\n\n    // append IDs of resources to retrieve\n    const qargs = params ? { ...params } : {};\n    const argStr = Object.keys(qargs).map(\n      label => `${label}=${JSON.stringify(qargs[label])}`).join('&');\n    url += `?${argStr}`;\n\n    // nm.log(_m, \"API Call: \", url);\n\n    const promise = REST.XRequestGET(url, xRequest);\n    promise.then((response) => {\n      // this.log(_m, \"cross-fetch resp\", response);\n      // allow one level confusion\n      let data = (response.data ? response.data : response) || null;\n      let xerr = null;\n      if (data == null) {\n        this.error(_m, 'Null resp from: ', url);\n        data = {};\n        data[API.MAIN_DATA] = null;\n      } else if (ErrorCodes.IsError(data)) {\n        xerr = ErrorCodes.GetXError(data);\n        data = null;\n      }\n      return callback ? callback(xerr, data) : data;\n    })\n      .catch((error) => {\n        this.error(_m, error);\n        let errObj;\n        if (error.response) { errObj = XError.FromHttpResponse(error.response); } else { errObj = EC.SYS_NETERR(error); }\n        return callback ? callback(errObj, null) : null;\n      });\n  } // getResources\n\n  // getResource_Axios(id, type, params={}, callback) {\n  //     let _m = \"gres_axios\";\n  //     // this.log(\"getResource\", \"type:\" + type + \", ids: \", idArray);\n  //     this.assertNotNull(type, _m, \"null res t\");\n  //     if (id == null )\n  //         return callback ? callback(\"No resource ID\", null) : null;\n\n  //     let prefix = this.getApiHost();\n  //     let api_prefix = prefix + \"/api\";\n  //     let url = api_prefix + \"/\" + type + \"/\" + id;\n\n  //     let nm = this;\n\n  //     // append IDs of resources to retrieve\n  //     let qargs = params ? {...params} : {};\n  //     let argStr = Object.keys(qargs).map(\n  //         label => label + '=' + JSON.stringify(qargs[label])).join('&');\n  //     url += \"?\" + argStr;\n\n  //     nm.log(_m, \"API Call: \", url);\n  //     Axios.get(url, null)\n  //         .then(function(response) {\n  //             // nm.log(_m, \"Axios returned with response\", response);\n  //             let data = response ? response.data: null;\n  //             if (data == null) {\n  //                 nm.error(_m, \"Null resp: \", url);\n  //                 data = {};\n  //                 data[API.MAIN_DATA] = null;\n  //             }\n  //             return callback ? callback(null, data) : data;\n  //         })\n  //         .catch(function(error) {\n  //             nm.error(_m, \"Error from call: \", error);\n  //             let errObj;\n  //             if (error.response)\n  //                 errObj = XError.FromHttpResponse(error.response);\n  //             else\n  //                 errObj = EC.SYS_NETERR(error);\n  //             return callback ? callback(errObj,null) : null;\n  //         });\n  // } // getResources\n\n  // getResource_useResources(id, type, params, callback) {\n  //     // let nm = this;\n  //     return this.getResources([id], type, params, function(err, resList) {\n  //         if (err)\n  //             callback(err, null);\n  //         else {\n  //             let result;\n  //             if (resList && Array.isArray(resList) && resList.length > 0)\n  //                 result = resList[0];\n  //             else\n  //                 result = null;\n  //             callback(null, result);\n  //         }\n  //     });\n  // }\n\n  // getResources(idArray, type, params={}, callback) {\n  //     let _m = \"gres\";\n  //     // this.log(\"getResources\", \"type:\" + type + \", ids: \", idArray);\n  //     this.assertNotNull(type, _m, \"null type\");\n  //     if (idArray == null || idArray.length == 0)\n  //         return callback ? callback(null, null) : null;\n\n  //     let prefix = this.getApiHost();\n  //     let api_prefix = prefix + \"/api\";\n  //     let url = api_prefix + \"/\" + type;\n\n  //     let nm = this;\n\n  //     // append IDs of resources to retrieve\n  //     let qargs = params ? {...params} : {};\n  //     qargs[\"ids\"] = idArray.toString();\n  //     let argStr = Object.keys(qargs).map(label => label + '=' + qargs[label]).join('&');\n  //     url += \"?\" + argStr;\n\n  //     // nm.log(_m, \"API Call: \", url);\n  //     Axios.get(url, null)\n  //         .catch(function(error) {\n  //             nm.error(_m, \"Error from call: \", error);\n  //             return callback ? callback(error,null) : null;\n  //         })\n  //         .then(function(response) {\n  //             // nm.log(_m, \"Axios returned with response\", response);\n  //             let data = response ? response.data: null;\n  //             if (data == null) {\n  //                 nm.error(_m, \"Null resp from: \", url);\n  //                 data = [];\n  //             }\n  //             return callback ? callback(null, data) : data;\n  //         });\n  // } // getResources\n\n\n  // *************************************************************\n  //\n  // Class methods. Any methods that can be used as helper\n  // for generic JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  static GetInstance(label = 'default', create = true) {\n    if (instances.hasOwnProperty('label')) { return instances[label]; }\n    if (!create) { return null; }\n\n    // console.log(\"NetworkManager.GetInstance: Creating new instance with label: \" + label);\n    const newInstance = new NetworkManager(label);\n    instances[label] = newInstance;\n    return newInstance;\n  }\n\n}\n\nexport default NetworkManager;\n","import GA4React from \"ga-4-react\";\nimport XObject from \"../core/model/XObject\";\nimport XUserInfo from \"../core/model/user/XUserInfo\";\nimport {UserProps, XObjectProps} from \"../core/model/ModelConsts\";\nimport Session from \"./Session\";\nimport ObjectBase from \"../core/ObjectBase\";\nimport Global from \"./Global\";\nimport REST from \"../core/net/REST\";\nimport XRequest from \"../core/model/net/XRequest\";\nimport XError from \"../core/model/XError\";\n\nSession.CheckIn();\nXUserInfo.CheckIn();\n\nconst PROPS = \"props\";\nexport const PROP_USERINFO = \"_ui\";\n\n// const FREQ_USER_STATUS_CHECK = 300000; // 5 minute interval to fetch new user info\n\n/**\n * Applicaton client-side service base object.\n * This object is designed to encapsulate\n * non-UI level application functionality that\n * can be performed either locally, or on\n * the server side. This way, UI components\n * have clear separation of application logic.\n * <p/>\n * There should be one instance of this running\n * in the virtual machine, on the browser. It\n * is also expected that an instance of this\n * gets launched on the server side for SSR.\n */\nexport class ClientAppService extends ObjectBase {\n  /**\n   * Represents a single instance app context/helper.\n   * @constructor\n   * @param props properties to copy into this object\n   */\n  constructor(classname, props) {\n    super(classname);\n\n    this[PROPS] = {};\n\n    if (!props && props) Object.assign(this[PROPS], props);\n\n    this.classname = classname;\n    this._iid = \"R\" + Math.random();\n    this.reactGA = null; // specially denote needing initialization\n    // this._iid = \"R\" + Date.now();\n  }\n\n  applyConfig(props) {}\n\n  /**\n   * @retrn {string}\n   */\n  getInstanceId() {\n    return this._iid;\n  }\n\n  getClassname() {\n    return this.classname;\n  }\n\n  /**\n   * @return {Portal}\n   */\n  getPortal() {\n    if (this.portal == null) {\n      this.portal = Global.GetPortal();\n    }\n    return this.portal;\n  }\n\n  /**\n   *\n   * @param {Portal} portal\n   */\n  setPortal(portal) {\n    this.portal = portal;\n  }\n\n  /**\n   *\n   * @param {ObjectManager} om\n   */\n  setObjectManager(om) {\n    this.om = om;\n  }\n\n  /**\n   * @return {ObjectManager}\n   */\n  getObjectManager() {\n    return this.om;\n  }\n\n  /**\n   *\n   * @param {} nm\n   */\n  setNetworkManager(nm) {\n    this.nm = nm;\n  }\n\n  /**\n   * @return {NetworkManager}\n   */\n  getNetworkManager() {\n    return this.nm;\n  }\n  // ---------------------- Property I/O ------------------------------\n\n  /**\n   * Return stored props\n   *\n   * @return {{}}\n   */\n  getProps() {\n    return this[PROPS];\n  }\n\n  /**\n   * Set a property value, which may dispatch any watchers\n   *\n   * @param {string} label\n   * @param {*} value\n   * @return {*} previous value\n   */\n  set(label, value) {\n    let props = this[PROPS];\n    let prev = props[label];\n    if (prev === value) return null;\n    props[label] = value;\n    this._dispatchHandlers(label, prev, value);\n    return prev;\n  }\n\n  /**\n   *\n   * @param {string} label\n   * @param {*} defaultVal\n   * @return {*} previously set value\n   */\n  get(label, defaultVal = null) {\n    let props = this.getProps();\n    let val = props[label];\n    return val ? val : defaultVal;\n  }\n\n  // --------------------------- Session I/O ----------------------------------\n\n  /**\n   * @return {Session}\n   */\n  getSession() {\n    return this.portal.getSession();\n  }\n\n  /**\n   *\n   * @param {string} name\n   * @param {*} value\n   * @return {*} previous value\n   */\n  setSessionVar(name, value) {\n    return this.getSession().set(name, value);\n  }\n\n  /**\n   *\n   * @param {string} name\n   * @param {*} defaultVal\n   * @return {*}\n   */\n  getSessionVar(name, defaultVal) {\n    return this.getSession().get(name, defaultVal);\n  }\n\n  // ------------------------- Store / Watching User Information ------------------------------\n\n  /**\n   *\n   * @param {XUserInfo} userInfo\n   * @param {*} rememberMe\n   */\n  setUserInfo(userInfo, rememberMe = true) {\n    let session = this.getSession();\n    session.setUserInfo(userInfo, rememberMe);\n    this._dispatchHandlers(PROP_USERINFO, null, userInfo);\n  }\n\n  /**\n   *\n   * @param {function(this, PROP_USERINFO, string, string)} handler\n   */\n  watchUserInfo(handler) {\n    this.watchProperty(PROP_USERINFO, handler);\n  }\n\n  /**\n   *\n   * @param {function} handler\n   */\n  unwatchUserInfo(handler) {\n    this.unwatchProperty(PROP_USERINFO, handler);\n  }\n\n  /**\n   * Update session/cookie with the data inside a XUserInfo\n   * record. It's OK to only set the field of the value to\n   * change and leave all others null or undefined.\n   *\n   * @param {XUserInfo} userInfo object containing fields to change\n   * @param {boolean=} rememberMe true to set expiration in the future (30 days?)\n   */\n  updateUserInfo(userInfo, rememberMe = true) {\n    let session = this.getSession();\n    userInfo = XUserInfo.Unwrap(userInfo);\n    session.updateUserInfo(userInfo, false, rememberMe);\n    this.initUser();\n\n    this._dispatchHandlers(PROP_USERINFO, null, userInfo);\n  }\n\n  // ------------------------ LOG / DEBUGGING SUPPORT --------------------------------\n\n  /**\n   * @return {string}\n   */\n  toString() {\n    let prefix = \"[\" + this.getInstanceId() + \"]:\";\n    return prefix + JSON.stringify(this.props);\n  }\n\n  /**\n   * @return {{}}\n   */\n  getUserInfo() {\n    return this.getSession().getUserInfo();\n  }\n\n  /**\n   * @return {XUserInfo}\n   */\n  getXUserInfo() {\n    return this.getSession().getXUserInfo();\n  }\n\n  /**\n   * Derive URL based on host and path. Simple concatenation\n   * for now but it's commonly called.\n   *\n   * @param {string} host\n   * @param {string} path\n   * @return {string}\n   */\n  getURL(host, path) {\n    if (host) return host + path;\n    else return \"http://localhost:8080\" + path;\n  }\n\n  // ---------------- USER RELATED SERVICES ------------------------\n\n  /**\n   * Return current logged in user ID, which is\n   * same as username.\n   *\n   * @return {string} userId of logged in user.\n   *\n   * @see #getUsername\n   */\n  getUserId() {\n    return this.getSession().getUserId();\n  }\n\n  /**\n   * Return current logged in username\n   *\n   * @return {string} username of logged in user\n   *\n   * @see #isLoggedInUser\n   */\n  getUsername() {\n    return this.getSession().getUsername();\n  }\n\n  getOriginalUsername(fallback = true) {\n    return this.getSession().getOriginalUsername(fallback);\n  }\n\n  /**\n   *\n   * @param {string} alt  alternate name if there isn't any\n   * @return {string}\n   */\n  getNickname(alt) {\n    return this.getSession().getNickname(alt);\n  }\n\n  /**\n   * Return current logged in user's avatar URL\n   *\n   * @return {string}\n   */\n  getAvatarUrl() {\n    return this.getSession().getAvatarUrl();\n  }\n\n  getUserToken(defaultVal = null) {\n    return this.getSession().getUserToken(defaultVal);\n  }\n\n  /**\n   * Check if given userId/username is logged in\n   *\n   * @param {boolean} userId\n   * @return {boolean} true if logged in\n   *\n   * @see ~getUsername\n   * @see ~userLoggedIn\n   */\n  isLoggedInUser(userId) {\n    return this.portal.getUserId() === userId;\n  }\n\n  /**\n   * Check if an user is currently logged in.\n   *\n   * @return {boolean} true if there is an user logged in.\n   *\n   * @see ~getUsername\n   * @see ~getUserId\n   */\n  userLoggedIn() {\n    return this.portal.userLoggedIn();\n  }\n\n  deriveXObjectID(clsObj) {\n    let type = null;\n    if (clsObj && clsObj.GetTypeID) type = clsObj.GetTypeID();\n    this.assertNotNull(\n      type,\n      \"deriveXObjectID\",\n      \"cannot determine class type\",\n      clsObj,\n    );\n\n    return XObject.DeriveID(type, this.getUserId());\n  }\n\n  deriveIDWithType(type) {\n    this.assertNotNull(type, \"deriveID\", \"Can't derive an ID without type\");\n    return XObject.DeriveID(type, this.getUserId());\n  }\n\n  // -------------------- Logging/Analytics Tracking ---------------------------\n\n  /**\n   * Force initialization / re-initialization of ReactGA. This\n   * will include reading/re-reading current user ID. If no\n   * google analytics for the current environment, this will be no-op\n   *\n   * @return {ReactGA} return (re)initialized ReactGA\n   */\n  _initializeReactGA(url) {\n    let gaId = process.env.REACT_APP_GA_ID;\n    if (gaId) {\n      let userId = this.getUserId();\n      if (userId == null) userId = UserProps.USERID_GUEST;\n      const ga4react = new GA4React(\"G-8N3VN7H7M9\", {userId: userId});\n      ga4react.initialize().then(\n        (ga4) => {\n          ga4.pageview(url);\n          this.ReactGA = ga4;\n        },\n        (err) => {\n          console.error(err);\n        },\n      );\n    }\n  }\n\n  _trackingUser(userId) {\n    // let reactGA = this.getReactGA();\n    // if (reactGA) {\n    //   if (userId == null) userId = this.getUserId();\n    //   if (userId == null) userId = UserProps.USERID_GUEST;\n    //   reactGA.setUserId(userId);\n    // }\n  }\n\n  /**\n   * Return appropriate Google Analytics module. This is purposely\n   * delayed in initialization sinc environment may not have been\n   * setup yet during initial instantiation.\n   *\n   * @return {ReactGA=} instance to use. Null means not available based on env.\n   */\n  getReactGA(url) {\n    if (this.reactGA === null) {\n      this.reactGA = this._initializeReactGA(url);\n      return null;\n    }\n    return this.reactGA;\n  }\n\n  async trackPageView(url, source) {\n    let reactGA = this.getReactGA(url);\n    if (reactGA != null) {\n      reactGA.pageview(url);\n    }\n  }\n\n  /**\n   *\n   * @param {string} label\n   * @param {string=} url  not used\n   */\n  async trackOutboundLink(label, url) {\n    // let reactGA = this.getReactGA();\n    // if (reactGA != null) {\n    //   reactGA.outboundLink({label: label});\n    // }\n    return true;\n  }\n\n  /**\n   *\n   * @param {string} label action label\n   * @param {string=} category  optional category (default='user')\n   */\n  async trackEvent(label, category) {\n    // let reactGA = this.getReactGA();\n    // if (reactGA != null) {\n    //   if (category == null) category = \"user\";\n    //   reactGA.event({category: category, action: label});\n    // }\n    return true;\n  }\n\n  /**\n   * Make a call to REST API that returns an instance of XBinaryData\n   *\n   * @param {string} url API url WITHOUT prefix to backend!\n   * @param {*} callback\n   */\n  async fetchBinaryData(url, callback) {\n    let eobj = null;\n    let binaryObj = null;\n    let fqUrl = this.getURL(this.urlHost, url);\n    try {\n      binaryObj = await this.requestGET(fqUrl);\n    } catch (err) {\n      console.log(err);\n      eobj = err;\n    }\n    return callback ? callback(eobj, binaryObj) : binaryObj;\n  }\n\n  // --------------------- OBJECT CACHING -------------------------\n\n  /**\n   * Return a cached object if it exists\n   *\n   * @param {string} objectId key to lookup\n   */\n  getCachedObject(objectId, defaultVal = null) {\n    let om = this.getObjectManager();\n    let obj = om.getFromCacheNoWait(objectId, null, null);\n\n    return obj ? obj : defaultVal;\n  }\n\n  /**\n   * Return a cached object if it exists\n   *\n   * @param {string} objectId key to lookup and untrack\n   * @return {boolean} true if untracked\n   */\n  clearCachedObject(objectId, defaultVal = null) {\n    let om = this.getObjectManager();\n    let result = om.untrackFromCache(objectId);\n\n    return result;\n  }\n\n  // ------------------------- GET RESOURCES -----------------------\n\n  _args2str(params) {\n    let argstr;\n    if (params) {\n      argstr = Object.keys(params)\n        .map((label) => label + \"=\" + JSON.stringify(params[label]))\n        .join(\"&\");\n    }\n    return argstr ? argstr : \"\";\n  }\n\n  /**\n   * Retrieve a resource object from server, but using the\n   * system API (prefix /s). This tells server that the\n   * request is initated by frontend logic and NOT by user.\n   *\n   * @param {string} id\n   * @param {String} type\n   * @param {{}} params\n   * @param {boolean} cache\n   * @param {function} callback\n   */\n  async getResource(id, type, params, cache = false, callback) {\n    return this._getResource(\"s\", id, type, params, cache, callback);\n  }\n\n  /**\n   * @deprecated use either user_ or system_ versions\n   *\n   * @see ~getResource\n   * @see ~user_getResource\n   */\n  async api_getResource(id, type, params, cache = false, callback) {\n    return this._getResource(\"api\", id, type, params, cache, callback);\n  }\n\n  /**\n   * Retrieve a resource object from server, but using the\n   * user API prefix (/u). This tells server to track that\n   * it is initiated by a user.\n   *\n   * @param {string} id\n   * @param {string} type\n   * @param {{}} params\n   * @param {boolean} cache\n   * @param {function} callback\n   */\n  async user_getResource(id, type, params, cache = false, callback) {\n    return this._getResource(\"u\", id, type, params, cache, callback);\n  }\n\n  /**\n   * Retrieve a model resource from the server. This version may\n   * eventually replace the version in ObjectManager that goes\n   * through cache, and NetworkManager. The API constructed looks\n   * something like this:\n   * <pre>\n   *  /s/post/:postId\n   * </pre>\n   *\n   * @param {string} entryType \"api\", \"s\", or \"u\"\n   * @param {string} id object ID\n   * @param {string} type object type (see ModelType)\n   * @param {{}} params parameters to tag on to API url\n   * @param {boolean} cache true to check cache first\n   * @callback optional callback function\n   * @return {XObject} should be an instance of XObject reconstructed\n   * over the network\n   */\n  async _getResource(entryType, id, type, params, cache = false, callback) {\n    const _m = `_getResource(${entryType},${id},${type}`;\n\n    if (entryType == null) entryType = \"s\";\n    let om = this.getObjectManager();\n    let xmobject = null;\n    if (cache) {\n      xmobject = om.getFromCache(id);\n      if (xmobject) return callback ? callback(null, xmobject) : xmobject;\n    }\n\n    let nm = this.getNetworkManager();\n    let apiUrl = `${nm.getApiHost()}/${entryType}/${type}/${id}`;\n    if (params) {\n      apiUrl += \"?\" + this._args2str(params);\n    }\n    this.log(_m, \"api: \" + apiUrl);\n\n    let err;\n    try {\n      xmobject = await this.requestGET(apiUrl, null, null);\n      if (cache) {\n        om.trackExisting(xmobject);\n      }\n    } catch (e) {\n      err = e;\n      // debugger;\n      if (!callback) throw e;\n    }\n    return callback ? callback(err, xmobject) : xmobject;\n  } // getResource\n\n  // --------------- NETWORK COMMUNICATIONS (INTERNAL) --------------------\n\n  /**\n   * Make a GET request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * @param {string} url\n   * @param {*} jsonData did you know GET can carry payload too in body?\n   * @param {function} callback optional to async/await.\n   * @return {object} http response.data()\n   *\n   * @see ~requestPOST\n   * @see ~requestDELETE\n   */\n  async requestGET(url, jsonData = null, callback = null) {\n    // const _m = \"requestGET\";\n    let xRequest = XRequest.CreateNew(jsonData);\n    xRequest.setUserId(this.getUsername());\n    xRequest.setToken(this.portal.getUserToken());\n\n    let appUrl = this.getAppUrl(null);\n    if (appUrl) xRequest.setAppUrlHeader(appUrl); // optional\n    // this.log(_m, \"appUrl: \", appUrl);\n\n    let result = null,\n      err = null;\n    try {\n      let xresp = await this.requestMethod(\"get\", url, xRequest, false, null);\n      if (xresp == null) {\n        // debugger;\n      } else {\n        // if (url.indexOf(\"/feed/posts\") !== -1) {\n        //   debugger;\n        // }\n        let jsonResult = xresp.getResult ? xresp.getResult() : null;\n        result = jsonResult != null ? XObject.Wrap(jsonResult) : null;\n        if (\n          result &&\n          !XObject.IsWrapped(result) &&\n          typeof result === \"object\"\n        ) {\n          if (result.hasOwnProperty(XObjectProps.TYPE)) {\n            let type = result[XObjectProps.TYPE];\n            let id = result[XObjectProps.ID];\n            // Object has type property but not wrapped. This means class not loaded\n            console.error(\n              `XObject Not Wrapped; class not loaded? (type=${type}, id=${id})`,\n            );\n          }\n        }\n      }\n    } catch (e) {\n      err = e;\n      if (!callback) throw e;\n    }\n    return callback ? callback(err, result) : result;\n  } // requestGET\n\n  /**\n   * Make a POST request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * @param {string} url\n   * @param {{}} mainContent main data that goes into body's \"content\" key\n   *\n   * @see ~requestGET\n   * @see ~requestDELETE\n   */\n  async requestPOST(url, mainContent = null, callback = null) {\n    // mainContent = XObject.Unwrap(mainContent);  // just in case\n\n    let xRequest = XRequest.CreateNew(mainContent);\n\n    xRequest.setUserId(this.getUsername());\n    xRequest.setToken(this.portal.getUserToken());\n\n    let appUrl = this.getAppUrl(null);\n    if (appUrl) xRequest.setAppUrlHeader(appUrl); // optional\n    // this.log(\"requestPOST\", \"appUrl: \", appUrl);\n\n    let result = null,\n      err = null;\n    try {\n      let xresp = await this.requestMethod(\"post\", url, xRequest, false, null);\n      if (xresp == null) {\n        // debugger;\n      } else {\n        let jsonResult = xresp.getResult ? xresp.getResult() : null;\n        result = jsonResult ? XObject.Wrap(jsonResult) : null;\n      }\n      // if (result == null) {\n      //   debugger;\n      // }\n    } catch (e) {\n      err = e;\n      if (!callback) throw e;\n    }\n    return callback ? callback(err, result) : result;\n  } // requestPOST\n\n  /**\n   * Make a POST request using multipart/form-data instead of default\n   * application/json\n   *\n   * @param {string} url\n   * @param {{}} mainContent main data that goes into body's \"content\" key.\n   * This can be an XObject that includes AUX_DATA as it will be serialized\n   * @param {FormData} formData multipart/form-data representation\n   *\n   * @see ~requestPOST\n   */\n  async requestPOST_FormData(\n    url,\n    mainContent,\n    formData = null,\n    callback = null,\n  ) {\n    const _m = `reqPOST_fd`;\n\n    let xRequest = XRequest.CreateNewFormData(formData);\n\n    xRequest.setContent(mainContent); // Don't unwrap\n    xRequest.setUserId(this.getUsername());\n    xRequest.setToken(this.portal.getUserToken());\n\n    let appUrl = this.getAppUrl(null);\n    if (appUrl) {\n      xRequest.setAppUrlHeader(appUrl); // optional\n      // this.log(_m, \"appUrl: \", appUrl);\n    }\n\n    let result = null,\n      err = null;\n    try {\n      let xresp = await this.requestMethod(\"post\", url, xRequest, false, null);\n      if (xresp == null) {\n        // debugger;\n      } else {\n        let jsonResult = xresp.getResult ? xresp.getResult() : null;\n        result = jsonResult ? XObject.Wrap(jsonResult) : null;\n      }\n      // if (result == null) {\n      //   debugger;\n      // }\n    } catch (e) {\n      err = e;\n      if (!callback) throw e;\n    }\n    return callback ? callback(err, result) : result;\n  } // requestPOST_FormData\n\n  /**\n   * Make a POST request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * @param {string} url\n   * @param {{}} jsonData data to send (not likely)\n   *\n   * @see ~requestGET\n   * @see ~reqiest{PST}\n   */\n  async requestDELETE(url, jsonData = null, callback = null) {\n    let xRequest = XRequest.CreateNew(jsonData);\n    xRequest.setUserId(this.getUsername());\n    xRequest.setToken(this.portal.getUserToken());\n    xRequest.setAppUrlHeader(this.getAppUrl(null)); // optional\n\n    let result = null,\n      err = null;\n    try {\n      let xresp = await this.requestMethod(\n        \"delete\",\n        url,\n        xRequest,\n        false,\n        null,\n      );\n      let jsonResult = xresp.getResult();\n      result = XObject.Wrap(jsonResult);\n    } catch (e) {\n      err = e;\n      if (!callback) throw e;\n    }\n    return callback ? callback(err, result) : result;\n  } // requestDELETE\n\n  /**\n   * Incomplete - try to be a proxy / wrapper of REST.XRequestMethod()\n   * @param {string} method\n   * @param {string} url\n   * @param {XRequest} xRequest\n   * @param {boolean} thirdParty true indicate outside of proprietary servers\n   * @callback\n   */\n  async requestMethod(\n    method,\n    url,\n    xRequest = null,\n    thirdParty = false,\n    callback = null,\n  ) {\n    const _m = `reqMethod(${method}, ${url})`;\n\n    let p = new Promise(async (resolve, reject) => {\n      let result, error;\n      try {\n        // if (thirdParty) debugger;\n        result = await REST.XRequestMethod(\n          method,\n          url,\n          xRequest,\n          thirdParty,\n          callback,\n        );\n        // if (thirdParty) debugger;\n        resolve(result);\n      } catch (e) {\n        // Error will be tossed even if callback is made\n        error = e;\n        // if (thirdParty) debugger;\n        if (!thirdParty) {\n          error = XError.FromRequestError(e);\n\n          if (error.invalidUser()) {\n            // invalid can be user is suspended or deleted but record exists\n            // this.log(_m, \"User is invalid; clear session info\");\n            this.getSession().clearUserInfo();\n            // expect caller's error trap to route to login() or acquire another token\n          }\n        }\n        reject(error);\n      }\n    });\n    return p;\n  }\n\n  // --------------- NETWORK COMMUNICATIONS (INTERNAL) --------------------\n\n  /**\n   * Make an external GET request.\n   *\n   * @param {string} url\n   * @param {*} jsonData did you know GET can carry payload too in body?\n   * @param {function} callback optional to async/await.\n   * @return {object} http response.data()\n   *\n   * @see ~requestExternalPOST\n   */\n  async requestExternalGET(url, jsonData = null, callback = null) {\n    // const _m = \"requestGET\";\n    let xRequest = XRequest.CreateNew(jsonData);\n    xRequest.setUserId(this.getUsername());\n\n    // this.log(_m, \"appUrl: \", appUrl);\n\n    let p = new Promise(async (resolve, reject) => {\n      let result = null,\n        err = null;\n      try {\n        let xresp = await this.requestMethod(\"get\", url, xRequest, true, null);\n        if (xresp == null) {\n          // debugger;\n        } else {\n          result = xresp.getResult ? xresp.getResult() : null;\n        }\n      } catch (e) {\n        err = e;\n      }\n      this._processResult(err, result, callback, reject, resolve);\n    });\n    return p;\n  } // requestExternalGET\n\n  /**\n   * Make an external POST request.\n   *\n   * @param {string} url\n   * @param {{}} jsonData data to send. Will unwrap if it's an XObject\n   * @param {function} callback\n   * @callback\n   * @return {object} http response.data()\n   *\n   * @see ~requestExternalGET\n   */\n  async requestExternalPOST(url, jsonData = null, callback = null) {\n    jsonData = XObject.Unwrap(jsonData); // just in case\n    let xRequest = XRequest.CreateNew(jsonData);\n    xRequest.setUserId(this.getUsername());\n\n    let result = null,\n      err = null;\n    let p = new Promise(async (resolve, reject) => {\n      try {\n        let xresp = await this.requestMethod(\"post\", url, xRequest, true, null);\n        if (xresp == null) {\n          // debugger;\n        } else {\n          result = xresp.getResult ? xresp.getResult() : null;\n        }\n        // if (result == null) {\n        //   debugger;\n        // }\n      } catch (syserr) {\n        // if (!syserr) debugger;\n        err = syserr;\n      }\n      this._processResult(err, result, callback, reject, resolve);\n    });\n    return p;\n  } // requestExternalPOST\n\n  // ------------------------- MISCELLANEOUS --------------------------\n\n  /**\n   *\n   * @param {*} err\n   * @param {*} result\n   * @param {Promise} p\n   * @param {function} callback\n   */\n  _processResult(err, result, callback, reject, resolve) {\n    if (callback) {\n      callback(err, result);\n    }\n    if (err && reject) reject(err);\n    else if (resolve) resolve(result);\n  }\n} // class\n\nexport default ClientAppService;\n","import { ModelType, ModelFolder, XObjectProps } from './ModelConsts';\nimport XMObject from './XMObject';\nimport XObject from './XObject';\nimport Util from '../Util';\n\nconst _CLSNAME = 'XMList'; // match class name\nconst PROP_LIST = 'list';\n\n\n/**\n * Model an XMObject that stores a collection\n * of XMObject subclass instances as JSON objects.\n */\nclass XMList extends XMObject {\n  static get PROP_LIST() { return PROP_LIST; }\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMList;\n  }\n  /**\n   * Initialize content as a new object.\n   */\n  initNew(tracking = false) {\n    super.initNew(tracking);\n    this.setList([]);\n    this.setCreatedTS();\n  }\n\n  forEach(...args) {\n    const list = this.getWrappedList();\n    return list ? list.forEach(...args) : null;\n  }\n\n  setList(itemArray) {\n    this.getData(true)[PROP_LIST] = itemArray;\n    this.setDirty();\n  }\n\n  /**\n   * Return the JSON objects in an array as stored.\n   * The array is not copied, so any changes to it\n   * will be reflected in this object. Each object\n   * in the list is NOT wrapped.\n   *\n   * @param {boolean} create true to create internal list if doesn't exist\n   * @return {[]=} array or null if no data\n   *\n   * @see #getWrappedList\n   */\n  getList(create = false) {\n    const dataObj = this.getData(create);\n    return dataObj ? this.getClass().GetList(dataObj, create) : null;\n  }\n\n  /**\n   * Sort content and return the sorted list. The internals of this\n   * result list is not changed.\n   *\n   * @param {string} field1\n   * @param {string} field2\n   * @param {*} direction\n   * @return {Array} sorted Array that replaced content\n   */\n  getSortedList(field1, field2, direction = null) {\n    const itemArray = this.getList(false);\n    if (!itemArray || itemArray.length === 0) { return null; }\n\n    return Util.SortObjectsByLabel(itemArray, field1, field2, direction);\n  }\n\n  /**\n   * Sort content of this resultlist in-place.\n   *\n   * @param {string} field1\n   * @param {string} field2\n   * @param {string} direction\n   */\n  sortContent(field1, field2, direction = null) {\n    const sortedList = this.getSortedList(field1, field2, direction);\n    if (sortedList) { this.setList(sortedList); }\n    return sortedList;\n  }\n\n  /**\n   * Return the array list with keys in an object.\n   * Key needs to be a field inside each item object.\n   * Default is \"_id\" but most likely to be \"tag_id\"\n   * for something with tags.\n   *\n   * @return {string[]} keyed map\n   */\n  getKeyedList(create = false, field = '_id') {\n    let list = this.getList(create);\n    if (Util.NotNull(list)) {\n      list = Util.MapUniqueObjectsByField(list, field, false);\n    }\n    return list;\n  }\n\n  /**\n   * Return the item in the list that has the matching\n   * value of the given field.\n   */\n  getItemByID(idValue) {\n    return this.getClass().GetItemByID(this.getList(), idValue);\n  }\n\n  /**\n   * Return the item in the list that has the matching\n   * userId with the owner ID field.\n   *\n   * @param {string} userId user's ID to check\n   * @return {XObject} matching object\n   *\n   * @see ~getItemByID\n   * @see ~getItemAt\n   */\n  getItemByOwnerID(userId) {\n    return this.getClass().GetItemByOwnerID(this.getList(), userId);\n  }\n\n  /**\n   * Return list item at index position\n   *\n   * @param {number} idx index position of item, from 0 to size() -1\n   * @param {*} defaultVal\n   */\n  getItemAt(idx, defaultVal = null) {\n    const list = this.getList();\n    if (!list || idx < 0 || idx > list.length) { return defaultVal; }\n    return list[idx];\n  } // getItemAt(idx)\n\n  /**\n   *\n   * @param {number} idx\n   * @param {*} defaultVal\n   * @return {XObject}\n   */\n  getXItemAt(idx, defaultVal = null, type = null) {\n    const data = this.getItemAt(idx, null);\n    return (Util.NotNull(data)) ? XObject.Wrap(data, type) : defaultVal;\n  }\n\n  /**\n   * Return the index of item in the list that has the matching\n   * value of the given field.\n   *\n   * @param {string} idValue value of the object ID\n   */\n  getItemIndexByID(idValue) {\n    return this.getClass().GetItemIndexByID(this.getList(), idValue);\n  }\n\n  /**\n   * Return the items in the list that has the matching\n   * value of the given field.\n   *\n   * @param {string} field name of the field to lookup to retreive value to match\n   * @param {string} value value to match the field.\n   * @param {number} max maximum match before quiting (-1 for unlimited)\n   *\n   * @return {[]=} item index numbers of matched items\n   *\n   * @see ~getItemByField\n   * @see ~getItemsByField\n   */\n  getItemsIndicesByField(field, value, max = -1) {\n    const list = this.getList(null);\n    return list ? XMList.GetItemIndicesByField(list, field, value, max) : null;\n  }\n\n  /**\n   * Return the item in the list that has the matching\n   * value of the given field.\n   *\n   * @param {string} field property name\n   * @param {string} value of the field to match\n   * @return {*} matched item\n   *\n   * @see ~GetItemIndicesByField\n   */\n  getItemByField(field, value) {\n    return this.getClass().GetItemByField(this.getList(), field, value);\n  }\n\n  /**\n   * Return the items in the list that has the matching\n   * value of the given field.\n   *\n   * @param {string} field name of the field to lookup to retreive value to match\n   * @param {string} value value to match the field.\n   * @param {number} max maximum match before quiting (-1 for unlimited)\n   *\n   * @return {[]=} items that matched the field/value, or null if no match or no data\n   *\n   * @see ~getXItemsByField\n   * @see ~getItemIndicesByField\n   * @see ~getItemByField\n   */\n  getItemsByField(field, value, max = -1) {\n    return field ? XMList.GetItemsByField(this.getList(), field, value, max) : null;\n  }\n\n\n  /**\n   * Return the matched items as wrapped XObjects in the list that has the matching\n   * value of the given field.\n   *\n   * @param {string} field name of the field to lookup to retreive value to match\n   * @param {string} value value to match the field.\n   * @param {number} max maximum match before quiting (-1 for unlimited)\n   *\n   * @return {[]=} items that matched the field/value, or null if no match or no data\n   *\n   * @see ~getItemsByField\n   * @see ~getItemIndicesByField\n   * @see ~getItemByField\n   */\n  getXItemsByField(field, value, max = -1) {\n    const list = this.getItemsByField(field, value, max);\n    return list ? XMList.ArrayToWrappedArray(list) : null;\n  }\n\n  /**\n   * Return the items in the list using the custom external matching function.\n   *\n   * @param {function} matching function taking arguments (field, lhsValue, rhsValue).\n   * @param {string} value value to match the field.\n   * @param {number} max maximum match before quiting (-1 for unlimited)\n   *\n   * @return {[]=} items that matched the field/value, or null if no match or no data\n   *\n   * @see ~getXItemsByField\n   */\n  getItemsByMatcher(matcher, max = -1) {\n    const list = this.getList();\n    return list ? XMList.GetItemsByMatcher(list, matcher, max) : null;\n  }\n\n  /**\n   * Return the matched items as wrapped XObjects in the list that has the matching\n   * value of the given field.\n   *\n   * @param {string} field name of the field to lookup to retreive value to match\n   * @param {string} value value to match the field.\n   * @param {number} max maximum match before quiting (-1 for unlimited)\n   *\n   * @return {[]=} items that matched the field/value, or null if no match or no data\n   *\n   * @see ~getItemsByMatcher\n   */\n  getXItemsByMatcher(matcher, max = -1) {\n    const list = this.getItemsByMatcher(matcher, max);\n    return list ? XMList.ArrayToWrappedArray(list) : null;\n  }\n\n  /**\n   * Return the index position of the item in the array that has\n   * the matching value of the given field.\n   *\n   * @param {string} field property name\n   * @param {string} value of the field to match\n   * @return {*} matched item\n   */\n  getItemIndexByField(field, value) {\n    return this.getClass().GetItemIndexByField(this.getList(), field, value);\n  }\n\n  /**\n   * Return number of items in the list\n   *\n   * @return {number} actual count or zero\n   *\n   * @see ~size\n   */\n  getItemCount() {\n    const list = this.getList();\n    return list ? list.length : 0;\n  }\n\n  /**\n   * Return number of items in the list\n   *\n   * @return {number} actual count or zero\n   * @see ~getItemCuont\n   */\n  size() {\n    return this.getItemCount();\n  }\n\n  /**\n   * Remove / trim list\n   *\n   * @param {number} startIdx start position in the array to remove\n   * @param {number} count number of items to remove (default 0)\n   * @return {object[]} removed items (not wrapped)\n   */\n  removeItems(startIdx, count = 0) {\n    const list = this.getList();\n    return list ? list.splice(startIdx, count) : [];\n  }\n\n  /**\n   * Remove and return the item in the list that has the matching\n   * value of the given field.\n   *\n   * @param {string} idValue\n   * @return {*} removed object if matched ID in _id field. Null otherwise.\n   */\n  removeItemByID(idValue) {\n    const retval = this.getClass().RemoveItemByID(this.getList(), idValue);\n    if (retval) { this.setDirty(); }\n    return retval;\n  }\n\n  /**\n   * Remove and return the item in the list that has the matching\n   * value of the given field.\n   *\n   * @param {string} field\n   * @param {*} value\n   * @return {*} removed object if matched. Null otherwise.\n   */\n  removeItemByField(field, value) {\n    const retval = this.getClass().RemoveItemByField(this.getList(), field, value);\n    if (retval) { this.setDirty(); }\n    return retval;\n  }\n\n  /**\n   * Return a list of internal objects (data.list)\n   * that is wrapped with the given function.\n   *\n   * @param {boolean} create true to create internal list if doesn't exist\n   * @param {function} wrapperFunc function that takes each JSON object\n   * in list and wrap/convert it\n   * @return {[]} array of XMObject instances\n   *\n   * @see ~setXObjects\n   */\n  getWrappedList(create = false, wrapperFunc = XMObject.Wrap) {\n    const jsonItemList = this.getList(create);\n    if (jsonItemList == null) { return jsonItemList; }\n    return this.getClass().ArrayToWrappedArray(jsonItemList, wrapperFunc);\n  }\n\n  isEmpty() {\n    const jsonObj = this.getData();\n    const list = jsonObj || [null];\n    return list.length;\n  }\n\n  includesItem(jsonItem) {\n    const list = this.getList(false);\n    return list ? list.includes(jsonItem) : false;\n  }\n\n  includesXMObject(xmObject) {\n    return this.includesItem(xmObject.getData());\n  }\n\n  includesItemByField(field, value) {\n    return Util.NotNull(this.getItemByField(field, value));\n  }\n\n  includesItemByID(idValue) {\n    return this.getItemByField('_id', idValue);\n  }\n\n  /**\n   * Add a json object as an object to the list.\n   *\n   * @param {{}} jsonItem or a wrapped object\n   * @param {number} index position to add. -1 to append at end.\n   * @return {boolean} true if added\n   *\n   * @see ~addXMObject\n   */\n  addItem(data, index = -1) {\n    const jsonItem = XMObject.Unwrap(data);\n    const list = this.getList(true);\n    if ((index < 0) || (index >= list.length)) { list.push(jsonItem); } else { list.splice(index, 0, jsonItem); }\n    this.setDirty();\n    return true;\n  }\n\n  /**\n   * Add a XMObject instance as an item to this list\n   *\n   * @param {XMObject} xmObject\n   *\n   * @see ~addItem\n   * @see ~addXObjects\n   */\n  addXObject(xmObject) {\n    if (!this.assertNotNull(xmObject, 'addXMObject')) { return false; }\n    return this.addItem(xmObject);\n  }\n\n  /**\n   * Add an array of objects, for which we'll strip the wrapper\n   * of each and just add json portion.\n   *\n   * @param {XObject[]} xmObjects wrapped object but json OK\n   * @return {number} number of objects added\n   */\n  addXItems(xmObjects) {\n    // xmObjects.forEach(xObject => this.addXObject(xObject));\n    const size = xmObjects ? xmObjects.length : 0;\n    let added = 0;\n    for (let i = 0; i < size; i++) {\n      const xobj = xmObjects[i];\n      if (xobj) {\n        this.addItem(xobj);\n        added++;\n      }\n    }\n    return added;\n  } // addXObjects\n\n  /**\n   *\n   * @param {XMObject[]} xmObjects\n   *\n   * @see ~addXItems\n   * @deprecated\n   */\n  addXObjects(xmObjects) {\n    return this.addXItems(xmObjects);\n  }\n\n  /**\n   * Return all items in list but wrapped as XObject instances\n   * instead of JSON.\n   *\n   * @return {XObject[]}\n   *\n   * @see ~getXItemsByField\n   * @see ~getXItemsByMatcher\n   */\n  getXItems() {\n    return this.getWrappedList();\n  }\n\n  /**\n   *\n   * @return {XObject[]}\n   *\n   * @see ~getXItems\n   */\n  getXObjects() {\n    return this.getWrappedList();\n  }\n\n  getSortedXItems(field = null) {\n    const list = this.getList();\n    Util.SortUniqueObjectsByLabel(list, field);\n    list.reverse();\n    return list;\n  }\n\n  getSortedByCreateTime() {\n    return this.getSortedXObject(XObjectProps.CREATED_DATE);\n  }\n\n  /**\n   * Return the IDs of all objects in the list.\n   *\n   * @param {[]} list object list\n   * @param {boolean} unique true if don't return duplicates\n   * @param {boolean} includeNull true to include null values\n   * @return {[]} list of IDs, or null if empty\n   */\n  getItemIds(unique = true, includeNull = false) {\n    const jsonList = this.getData(false);\n    return jsonList ? XMList.GetItemIDs(jsonList, unique, includeNull) : null;\n  }\n\n  /**\n   *\n   * Return values to fields of each item in array\n   *\n   * @param {string=} field property name to match. Null will default to _id\n   * @param {boolean} unique true if unique\n   * @param {boolean} includeNull true to include null for objects without the field\n   * @return {[]=} list of results, or null if null list is passed in\n   */\n  toFieldValueList(field = null, unique = true, includeNull = false) {\n    const jsonList = this.getList(false);\n    return jsonList ? XMList.ToFieldValueList(jsonList, field, unique, includeNull) : [];\n  }\n\n  /**\n   * Check if given object is in the list. This is a\n   * pass-thru for array data, so wrapped object\n   * won't be detect.\n   * @param {{}} obj check if object was added.\n   *\n   */\n  includes(obj) {\n    return this.getList().includes(obj);\n  }\n  indexOf(obj) {\n    return this.getList().indexOf(obj);\n  }\n  splice(idx, n) {\n    return this.getList().splice(idx, n);\n  }\n  length() {\n    return this.getList().length;\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n   * Return the default folder/table/collection name used\n   * for storing ranked lists.\n   */\n  static GetFolderName() {\n    return ModelFolder.NONE;\n  }\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return ModelType.XMLIST;\n  }\n\n  /**\n   * Wrap JSON data that represents XMList\n   */\n  // static Wrap(jsonRec, clsType=XMList) {\n  //     return XMList.WrapXMObject(jsonRec, clsType);\n  // }\n\n  /**\n   * Take an array of JSON objects and wrap with\n   * the given wrapper function\n   *\n   * @return new array list with each item wrapped by\n   * the given wrapping function\n   */\n  static ArrayToWrappedArray(itemList, wrapperFunc = XMObject.Wrap) {\n    const result = [];\n    itemList.forEach((jsonItem) => {\n      result.push(wrapperFunc(jsonItem));\n    });\n    return result;\n  }\n\n  // static ToKeyedList(list, field=\"_id\", keyLabel=\"key\") {\n  //     let resultList = list.map((item) => {\n  //         if (item.hasOwnProperty(keyLabel))\n  //             return item;\n\n  //         let keyValue = item[field];\n  //         let newItem;\n  //         if (Util.NotNull(keyValue)) {\n  //             let newFields = {};\n  //             newFields[keyLabel] = keyValue;\n  //             newItem = Object.assign(item, newFields);\n  //         }\n  //         else\n  //             newItem = Object.assign(item);\n  //         return newItem;\n  //     });\n  //     return resultList;\n  // }\n\n\n  /**\n   * Return the JSON objects in an array as stored.\n   * The array is not copied, so any changes to it\n   * will be reflected in this object. Each object\n   * in the list is NOT wrapped.\n   *\n   * @param {{}} jsonData json content that XMList wraps\n   * @param {boolean} create true to create internal list if doesn't exist\n   *\n   */\n  static GetList(jsonData, create = false) {\n    jsonData = XMList.Unwrap(jsonData);\n    let list = jsonData[PROP_LIST];\n    if ((list == null) && (create === true)) {\n      list = [];\n      jsonData[PROP_LIST] = list;\n    }\n    return list;\n  }\n\n  /**\n   * Return values to fields of each item in array\n   *\n   * @param {[]} list array of objects\n   * @param {string=} field property name to match. Null for default _id\n   * @param {boolean} unique true if unique\n   * @param {boolean} includeNull true to include null for objects without the field\n   * @return {[]=} list of results, or null if null list is passed in\n   */\n  static ToFieldValueList(list, field = null, unique = true, includeNull = false) {\n    if (field == null) { field = XObjectProps.ID; }\n\n    const resultList = [];\n    const valueMap = {};\n    const len = (list) ? list.length : 0;\n    let item;\n    let itemValue;\n    for (let i = 0; i < len; i++) {\n      item = list[i];\n      itemValue = null;\n      if (item.hasOwnProperty(field)) { itemValue = item[field]; }\n      if (itemValue == null && !includeNull) { continue; }\n\n      if (unique && (Util.NotNull(itemValue))) {\n        if (valueMap.hasOwnProperty(itemValue)) { continue; }   // skip\n        valueMap[itemValue] = true; // add to tracking\n      }\n\n      resultList.push(itemValue);\n    }\n    return resultList;\n  } // ToFieldValueList\n\n  /**\n   * Return the IDs of all objects in the list.\n   *\n   * @param {[]} listObj json XMList\n   * @param {boolean} unique true if don't return duplicates\n   * @param {boolean} includeNull true to include null values\n   */\n  static GetItemIDs(listObj, unique = true, includeNull = false) {\n    listObj = XMList.Unwrap(listObj);\n    const list = listObj ? listObj[PROP_LIST] : null;\n    if (list == null) { return null; }\n    return XMList.ToFieldValueList(list, XMObject.PROP_ID, unique, includeNull);\n  }\n\n  /**\n   * Return values to fields of each (XObject) item in array\n   *\n   * @param {[]} list standard array but containing instances of XObject\n   * @param {string} field property name to match\n   * @param {boolean} unique true if unique\n   * @param {boolean} includeNull true to include null for objects without the field\n   */\n  static ToFieldValueXList(list, field = null, unique = true, includeNull = false) {\n    list = XMList.Unwrap(list);\n    const jsonList = list ? list.map(xitem => XMObject.Unwrap(xitem)) : null;\n    return jsonList ? XMList.ToFieldValueList(jsonList, field, unique, includeNull) : null;\n  }\n\n  /**\n   * Return the index position of the item in the\n   * given list. The item is matched by specified\n   * field and its value.\n   *\n   * @param standard Javascript list array\n   * @param field field name to retreive value to match\n   * @param value value to match the field.\n   *\n   * @return first item that matches, or null if none\n   */\n  static GetItemIndexByField(list, field, value) {\n    const indices = XMList.GetItemIndicesByField(list, field, value, 1);\n    return indices ? indices[0] : -1;\n    // if (list == null || list.length == 0)\n    //     return null;\n\n    // let item;\n    // for (let i=0; i < list.length; i++) {\n    //     item = list[i];\n    //     if (item && item[field] == value)\n    //         return i;\n    // }\n    // return -1;\n  }\n\n  /**\n   * Return the index position of the item in the\n   * given list. The item is matched by specified\n   * field and its value.\n   *\n   * @param {[]} list standard Javascript list array\n   * @param {string} field field name to retreive value to match\n   * @param {string} value value to match the field.\n   * @param {number} max maximum match before quiting (-1 for unlimited)\n   *\n   * @return {[]=} items that matched, or null if none\n   */\n  static GetItemIndicesByField(list, field, value, max = -1) {\n    if (list === null || list.length === 0) { return null; }\n\n    const indices = [];\n    let item;\n    for (let i = 0; i < list.length; i++) {\n      item = list[i];\n      if (item && item[field] === value) {\n        indices.push(i);\n        if (max !== -1) {\n          --max;\n          if (max === 0) { break; }\n        }\n      }\n    }\n    return indices.length > 0 ? indices : null;\n  } // GetItemIndicesByField\n\n  /**\n   * Return the item in the list that has the matching\n   * value of the given field.\n   *\n   * @param {[]} liststandard Javascript list array\n   * @param {string} field name of the field to lookup to retreive value to match\n   * @param {*} value value to match the field.\n   *\n   * @return {*} item in the list that matched the field/value\n   */\n  static GetItemByField(list, field, value) {\n    if (list === null || list.length === 0) { return null; }\n\n    let item;\n    for (let i = 0; i < list.length; i++) {\n      item = list[i];\n      if (item && item[field] === value) { return item; }\n    }\n    return null;\n  }\n\n  /**\n   * Return the items in the list that has the matching\n   * value of the given field.\n   *\n   * @param {[]} list standard Javascript list array\n   * @param {string} field name of the field to lookup to retreive value to match\n   * @param {string} value value to match the field.\n   * @param {number} max maximum match before quiting (-1 for unlimited)\n   *\n   * @return {[]=} items that matched the field/value\n   */\n  static GetItemsByField(list, field, value, max = -1) {\n    if (list === null || list.length === 0) { return null; }\n\n    // const matcher = function(item) {\n    //     return item && item[field] == value;\n    // }\n\n    const result = [];\n    let item;\n    for (let i = 0; i < list.length; i++) {\n      item = list[item];\n      if (item && item[field] === value) {\n        result.push(item);\n        if (max !== -1) {\n          --max;\n          if (max === 0) { break; }\n        }\n      } // matched\n    } // for all\n    return result.length > 0 ? result : null;\n  } // GetItemsByField\n\n  /**\n   * Return the items in the list that satify\n   * the given matcher function: match(fieldname, lhsValue, rhsValue)\n   *\n   * @param {[]} list standard Javascript list array\n   * @param {function} matcher function that takes the item as input\n   * @param {number} max maximum match before quiting (-1 for unlimited)\n   *\n   * @return {[]=} items that matched the field/value\n   */\n  static GetItemsByMatcher(list, matcher, max = -1) {\n    if (list === null || list.length === 0) { return null; }\n\n    const result = [];\n    let item;\n    let verdict;\n    for (let i = 0; i < list.length; i++) {\n      item = list[i];\n      verdict = matcher(item);\n      if (verdict) {\n        result.push(item);\n        if (max !== -1) {\n          --max;\n          if (max === 0) { break; }\n        }\n      } // matched\n    } // for all\n    return result.length > 0 ? result : null;\n  } // GetItemsByMatcher\n\n  static GetItemIndexByID(list, value) {\n    return XMList.GetItemIndicesByField(list, XMList.PROP_ID, value, 1);\n  }\n\n  /**\n   * Find and return an item in the list by the value in the\n   * property \"_id\"\n   *\n   * @param {XMList} list json/XMList\n   * @param {*} value\n   */\n  static GetItemByID(list, value) {\n    return XMList.GetItemByField(list, XMList.PROP_ID, value);\n  }\n\n  /**\n   * Return the item that matches the owner's ID\n   *\n   * @param {XMList} list\n   * @param {string} userId\n   *\n   * @return {XObject} found item\n   */\n  static GetItemByOwnerID(list, userId) {\n    return XMList.GetItemByField(list, XMList.PROP_OWNERID, userId);\n  }\n\n\n  /**\n   * Remove Return the item in the list that has the matching\n   * value of the given field. Note this method only removed\n   * the first item with the matching field/value.\n   *\n   * @param standard Javascript list array\n   * @param field field name to retreive value to match\n   * @param value value to match the field.\n   *\n   * @return item removed, or null if can't match field/value\n   */\n  static RemoveItemByField(list, field, value) {\n    const idx = XMList.GetItemIndexByField(list, field, value);\n    if (idx === -1) { return null; }\n\n    const objectAtIdx = list[idx];\n    list.splice(idx, 1);\n    return objectAtIdx;\n  }\n\n  static RemoveItemByID(list, value) {\n    return XMList.RemoveItemByField(list, '_id', value);\n  }\n} // class XMList\n\nXMList.RegisterType(XMList);\n\nexport default XMList;\n","import XObject from '../XObject';\n// import XMList from \"./XMList\";\nimport { ModelType } from '../ModelConsts';\nimport XResultList from './XResultList';\nimport Util from '../../Util';\n\nconst _CLSNAME = 'XResultMap';\n\nconst PROP_QUERY = 'qy';\nconst PROP_SVCNAME = 'sn';\nconst PROP_ENTRYMAP = 'cats';\nconst PROP_SIZE = 'size';\n\n/**\n * Container for result set generated from a query\n * of some kind. It is not necessarily a list.\n * Currently implementation is a map to track\n * all entries.\n *\n *\n */\nexport class XResultMap extends XObject {\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XResultMap;\n    this._setTypeID();\n  }\n\n  /**\n   *\n   * @param {string} s original query string/phrase\n   */\n  setQuery(s) {\n    return s ? this.set(PROP_QUERY, s) : null;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getQuery(defaultVal = null) {\n    return this.get(PROP_QUERY, defaultVal);\n  }\n\n  /**\n   *\n   * @param {string} n\n   * @return {string}\n   */\n  setServiceName(n) {\n    return n ? this.get(PROP_SVCNAME, n) : null;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getServiceName(defaultVal = null) {\n    return this.get(PROP_SVCNAME, defaultVal);\n  }\n\n  /**\n   *\n   * @param {{}} objMap\n   * @return {{}} previous map\n   */\n  setEntryMap(objMap) {\n    const size = objMap ? Object.keys(objMap).length : 0;\n    this.set(PROP_SIZE, size);  // cache size to avoid expensive op on getSize()\n    return (size > 0) ? this.set(PROP_ENTRYMAP, objMap) : null;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {{}}\n   */\n  getEntryMap(defaultVal = null) {\n    return this.get(PROP_ENTRYMAP, defaultVal);\n  }\n\n  /**\n   * Return result entries in an array format.\n   * NOTE: give the result is stored as a map,\n   * this has an O(n) performance to extract the\n   * array.\n   *\n   * @param {*} defaultVal\n   * @return {*[]} array of items\n   */\n  getList(defaultVal = null) {\n    const entryMap = this.getEntryMap(null);\n    return entryMap ? Object.values(entryMap) : null;\n  }\n\n  /**\n   * Return the XResultList equivalent of this Map.\n   *\n   * @param {string} keyField if not null, then the key\n   * value will be inserted into the item (json) as a\n   * field and use this as the property label.\n   * @param {string} sort enable sorting of KEY. Null means none,\n   * 'a' for ascending, 'd' for descending.\n   */\n  asXResultList(keyField = null, sort = null) {\n    const id = this.getId();\n    const serviceName = this.getServiceName();\n    const query = this.getQuery();\n    const resultList = XResultList.Create(id, serviceName, query);\n\n    let itemList;\n    if (keyField == null) { itemList = this.getList(); } else {\n      itemList = [];\n      const entryMap = this.getEntryMap(null);\n      const keys = entryMap ? Object.keys(entryMap) : null;\n      if (sort) {\n        keys.sort();\n        if (sort === 'd') { keys.reverse(); }\n      }\n      const count = keys ? keys.length : 0;\n      let key;\n      let value;\n      for (let i = 0; i < count; i++) {\n        key = keys[i];\n        // if (!key) { }   // may have some nulls\n        value = entryMap[key];\n        if (value == null) { continue; }\n        value[keyField] = key;\n        itemList.push(value);\n      }\n    }\n    resultList.setList(itemList);\n    return resultList;\n  } // asXResultList\n\n  getEntryKeys(defaultVal = null) {\n    const entryMap = this.getEntryMap(null);\n    return entryMap ? Object.keys(entryMap) : defaultVal;\n  }\n\n  getEntryValues(defaultVal = null) {\n    const entryMap = this.getEntryMap(null);\n    return entryMap ? Object.values(entryMap) : defaultVal;\n  }\n\n  /**\n   * Return a value associated with the given key/id\n   *\n   * @param {string} key\n   * @param {*} defaultVal\n   * @return {*} value associated with the given key\n   */\n  getEntryValue(key, defaultVal = null) {\n    const entryMap = this.getEntryMap(null);\n    const value = entryMap ? entryMap[key] : null;\n    return value || defaultVal;\n  }\n\n  hasEntry(key) {\n    const entryMap = this.getEntryMap(null);\n    return entryMap ? Util.NotNull(entryMap[key]) : false;\n  }\n\n  /**\n   *\n   * @param {string} key\n   * @return {boolean} true if removed, false if not found\n   */\n  removeEntry(key) {\n    const entryMap = this.getEntryMap(null);\n    if (entryMap && entryMap.hasOwnProperty(key)) {\n      delete entryMap[key];\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Return the size of entries in the previously\n   * set EntryMap. The setEntryMap should've set the\n   * size already, but if not this method will lazy-derive\n   * if necessary.\n   *\n   * @param {*} defaultVal\n   * @return {number} number of entries, or defaultVal\n   */\n  getEntryCount(defaultVal = 0) {\n    let size = this.getNumber(PROP_SIZE, null);\n    if (size == null) {\n      const entryMap = this.getEntryMap(null);\n      size = entryMap ? Object.keys(entryMap).length : 0;\n      this.set(PROP_SIZE, size);\n    }\n    return size;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} number of entries, or defaultVal\n   */\n  size() {\n    return this.getEntryCount(0);\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return ModelType.XRESULT_MAP;\n  }\n\n  /**\n   * Create new alert list container for serialization.\n   *\n   * @param {string} id optional for identification purpose\n   * @param {string} query original query string for reference\n   * @return {XResultMap}\n   */\n  static Create(id = null, service = null, query = null) {\n    const list = new XResultMap();\n    list.initNew();\n    if (id) { list._setId(id); }\n\n    if (service) { list.setServiceName(service); }\n\n    if (query) { list.setQuery(query); }\n\n    return list;\n  } // Create\n}\n\nXResultMap.RegisterType(XResultMap);\n\nexport default XResultMap;\n","import { ModelType, XObjectProps } from '../ModelConsts';\n\nimport XMList from '../XMList';\nimport XResultMap from './XResultMap';\nimport Util from '../../Util';\n\nconst _CLSNAME = 'XResultList';\n\nconst PROP_QUERY = 'qy';\nconst PROP_SVCNAME = 'sn';\n// const PROP_ENTRYMAP = \"cats\";\n// const PROP_SIZE = \"size\";\n\n/**\n * Container for result set generated from a query\n * of some kind. It is not necessarily a list.\n * Currently implementation is a map to track\n * all entries.\n *\n *\n */\nexport class XResultList extends XMList {\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XResultList;\n    this._setTypeID();\n  }\n\n  /**\n     *\n     * @param {string} s original query string/phrase\n     */\n  setQuery(s) {\n    return s ? this.set(PROP_QUERY, s) : null;\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getQuery(defaultVal = null) {\n    return this.get(PROP_QUERY, defaultVal);\n  }\n\n  /**\n     *\n     * @param {string} n\n     * @return {string}\n     */\n  setServiceName(n) {\n    return n ? this.get(PROP_SVCNAME, n) : null;\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getServiceName(defaultVal = null) {\n    return this.get(PROP_SVCNAME, defaultVal);\n  }\n\n  /**\n     * Output content of this object as an regular\n     * object with field value as key.\n     *\n     * @param {string} fieldKey field to use as the key\n     * of the map entries.\n     * @return {{}}  null if field key is null, or not\n     * found\n     */\n  asResultMap(fieldKey) {\n    if (fieldKey == null) { fieldKey = XObjectProps.ID; }\n    const list = this.getList(false);\n    const objMap = Util.MapObjectsByField(list, fieldKey);\n    return objMap;\n  }\n\n  /**\n     * Output a map of content in this list as a map\n     * with object ID as the key.\n     *\n     * @return {{string,{}}\n     */\n  asResultIDMap() {\n    return this.asResultMap(XObjectProps.ID);\n  }\n\n  /**\n     * Output content of this object as an instance\n     * of XResultMap.\n     *\n     * @param {string} fieldKey field to use as the key\n     * of the map entries.\n     * @return {XResultMap}  null if field key is null, or not\n     * found\n     */\n  asXResultMap(fieldKey) {\n    const objMap = this.asResultMap(fieldKey);\n    if (objMap == null) { return null; }\n\n    const xResultMap = XResultMap.Create(this.getId(), this.getServiceName(), this.getQuery());\n    xResultMap.setEntryMap(objMap);\n    return xResultMap;\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return ModelType.XRESULT_LIST;\n  }\n\n  /**\n     * Create new alert list container for serialization.\n     *\n     * @param {string} id optional for identification purpose\n     * @param {string} query original query string for reference\n     * @return {XResultList}\n     */\n  static Create(id = null, service = null, query = null) {\n    const list = new XResultList();\n    list.initNew();\n    if (id) { list._setId(id); }\n\n    if (service) { list.setServiceName(service); }\n\n    if (query) { list.setQuery(query); }\n\n    return list;\n  } // Create\n}\n\nXResultList.RegisterType(XResultList);\n\nexport default XResultList;\n","\nimport XMObject from './XMObject';\nimport ModelType, { ModelFolder } from './ModelConsts';\n\nconst _CLSNAME = 'XBinaryData'; // match class name\n\nconst PROP_CONTENT = 'en64';\n\n/**\n * Model related statistics for an  XMObject\n */\nclass XBinaryData extends XMObject {\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XBinaryData;\n    this._setTypeID(XBinaryData.GetTypeID());\n  }\n\n  /**\n     * Set base64 encoded content directly.\n     *\n     * @param {string} data64 base64 encoded string. Note\n     * we don't check for validity.\n     */\n  setContent(data64) {\n    return this.setBase64(PROP_CONTENT, data64);\n  }\n\n  /**\n     * Return content as is, which is encoded base64.\n     *\n     * @param {*} defaultVal\n     */\n  getContent(defaultVal = null) {\n    return this.getBase64(PROP_CONTENT, defaultVal);\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n     * Return the default folder/table/collection name used\n     * for storing binary data. This should be overridden by\n     * subclass that store the type in a collection.\n     */\n  static GetFolderName() {\n    return ModelFolder.BINARY_DATA;\n  }\n\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return ModelType.BINARY;\n  }\n\n  /**\n     * Create new wrapper object around\n     * @param {*} data\n     */\n  static Create(data) {\n    const obj = new XBinaryData();\n    obj.setContent(data);\n    return obj;\n  }\n\n  /**\n     * Wrap JSON data that represents XMList\n     */\n  static Wrap(jsonRec, clsType = XBinaryData) {\n    return XBinaryData.WrapXMObject(jsonRec, clsType);\n  }\n\n} // class XBinaryData\n\nXBinaryData.RegisterType(XBinaryData);\n\nexport default XBinaryData;\n","\nimport XMObject from '../XMObject';\n\nimport { ModelType, ModelFolder, SocialProps } from '../ModelConsts';\n\nconst _CLSNAME_WATCHES = 'XMWatches';\nconst _CLSNAME_WATCHED = 'XMWatched';\n\n\n/**\n * Base class for watching and watchers. Each object\n * that user is watching / being watched need to have their\n * own class extending from here, and separate folder / collection\n * to store those relationships.\n *\n * @see ~XMWatchTag\n * @see ~XMWatchedRL\n * @see ~XMWatchRLTPL\n  *\n */\nclass XMWatchBase extends XMObject {\n  static get STATUS_WATCHED() { return SocialProps.STATUS_WATCHED; }\n  static get STATUS_NOT_WATCHED() { return SocialProps.STATUS_NOT_WATCHED; }\n  static get STATUS_UNKNOWN() { return SocialProps.STATUS_UNKNOWN; }\n  static get PROP_WATCH() { return SocialProps.WATCH; }\n\n  /**\n     *\n     * @param {string} clsname pass from subclass (mandatory)\n     * @param {*} props\n     * @see #CreateNew\n     */\n  constructor(clsname, props) {\n    super(clsname, props);\n    this.class = XMWatchBase;\n  }\n\n  /**\n     * Add an target object Id to this object to watch\n     *\n     * @param {string} targetId object to watch (watch type specified)\n     * @return {boolean} true if added\n     */\n  addWatch(targetId) {\n    return this.addWord(XMWatchBase.PROP_WATCH, targetId);\n  }\n\n  /**\n     * Return all userIds of \"watches\"\n     *\n     * @param {*} defaultVal\n     *\n     * @return {[]} identifers of target objects being followed by this\n     */\n  getWatches(defaultVal = []) {\n    const data = this.getData(false);\n    return data ? XMWatchBase.GetWatches(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Return target content as objects keyed off the target ID.\n     * This is a polymorphic method for all connection data models\n     * including follow, watches, etc.\n     *\n     * @param {*} defaultVal\n     * @return {{targetId: {}}}\n     */\n  getTargetObjectMap(defaultVal = {}) {\n    const data = this.getData(false);\n    return data ? XMWatchBase.GetWatchStatusMap(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Determine of this object has a watch for the given target Id\n     *\n     * @param {string} userId target identifier to check if following\n     * @return {boolean} true if following target, false if not found\n     */\n  hasWatch(targetId) {\n    return this.hasWord(SocialProps.WATCH, targetId);\n  }\n\n  /**\n     * Report on whether there are any watches stored in this instance.\n     *\n     * @return {boolean} true if there are watches\n     * @see ~countWatches\n     */\n  hasWatches() {\n    return this.countWatches() > 0;\n  }\n\n  /**\n     * Report on whether the given userId is in the tracking list.\n     *\n     * @param {string} userId\n     * @return {string} either STATUS_NOT_WATCHED, STATUS_WATCHED\n     */\n  getWatchStatus(targetId) {\n    const data = this.getData(false);\n    return data ? XMWatchBase.GetWatchStatus(data, targetId) : SocialProps.STATUS_NOT_WATCHED;\n  }\n\n  /**\n     * Remove a watch entry\n     *\n     * @param {string} targetId target identifier to unfollow\n     * @return {boolean} true if removed, false if not found\n     *\n     * @return {boolean} true if removed\n     */\n  removeWatch(targetId) {\n    return this.removeWord(SocialProps.WATCH, targetId);\n  }\n\n  /**\n     * Remove all targets within following following list\n     *\n     * @return {boolean} true if removed, false if not found\n     *\n     * @see #removeUser\n     */\n  removeAllWatches() {\n    return this.removeAllWords(SocialProps.WATCH);\n  }\n\n  /**\n     * Return number of targets that this object is following\n     *\n     * @return {number}\n     * @see ~hasWatches\n     */\n  countWatches() {\n    return this.countWords(SocialProps.WATCH);\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n     * Convenient method to check if the given object\n     * is an instance of this class (XMUser)\n     */\n  static IsInstance(obj) {\n    return obj instanceof XMWatchBase;\n  }\n\n  /**\n     * Add a watch\n     *\n     * @param {{}} jsonObj\n     * @param {string} targetId to watch\n     */\n  static AddWatch(jsonObj, targetId) {\n    return XMObject.AddWord(jsonObj, SocialProps.WATCH, targetId);\n  }\n\n  /**\n     * Set a given list of targetIds as \"watch\"\n     *\n     * @param {{}} jsonObj\n     * @param {string[]} array of words or userIds\n     * @return {string[]} previous set of follows that this is replacing\n     */\n  static SetWatches(jsonObj, targetIds) {\n    return XMObject.SetWords(jsonObj, SocialProps.WATCH, targetIds);\n  }\n\n  /**\n     * Return all watches of this object\n     *\n     * @param {{}} jsonObj\n     * @param {*} defaultVal\n     *\n     * @return {[]} identifers of users being followed by this\n     */\n  static GetWatches(jsonObj, defaultVal = []) {\n    return XMObject.GetWords(jsonObj, SocialProps.WATCH, defaultVal);\n  }\n\n  /**\n     * Create a watch status map with objectId as key and status as value\n     *\n     * @param {{}} jsonObj data/unwrapped portion of XMFollowBase subclass instance\n     * @param {{}} defaultVal\n     * @return {{objectId: {string}}}\n     */\n  static GetWatchStatusMap(jsonObj, defaultVal = {}) {\n    if (jsonObj == null) { return defaultVal; }\n\n    const statusMap = {};\n\n    const accepted = XMWatchBase.GetWatches(jsonObj, []);\n    accepted.forEach((objectId) => { statusMap[objectId] = SocialProps.STATUS_WATCHED; });\n\n    return statusMap;\n  }\n\n  /**\n     * Determine of this object has a watch from the given userId\n     *\n     * @param {{}} jsonObj this object\n     * @param {string} userId target identifier to check if following\n     * @return {boolean} true if following target, false if not found\n     */\n  static HasWatch(jsonObj, userId) {\n    return XMObject.HasWord(jsonObj, SocialProps.WATCH, userId);\n  }\n\n  /**\n     * Return status after checking if the target user ID is in the list.\n     *\n     * @param {{}} jsonObj\n     * @param {*} targetId targetId to check\n     * @return {string} one of STATUS_*\n     */\n  static GetWatchStatus(jsonObj, targetId) {\n    const verdict = XMWatchBase.HasWatch(jsonObj, targetId);\n    if (verdict === true) { return SocialProps.STATUS_WATCHED; }\n\n    return SocialProps.STATUS_NOT_WATCHED;\n  }\n\n  /**\n     * Remove a watch\n     *\n     * @param {{}} jsonObj\n     * @param {string} targetId target identifier to unfollow\n     * @return {boolean} true if removed, false if not found\n     *\n     */\n  static RemoveWatch(jsonObj, targetId) {\n    return XMObject.RemoveWord(jsonObj, SocialProps.WATCH, targetId);\n  }\n\n  /**\n     * Remove all targets within following following list\n     *\n     * @param {{}} jsonObj\n     * @return {boolean} true if removed, false if not found\n     *\n     * @see #RemoveFollowing\n     */\n  static RemoveAllWatches(jsonObj) {\n    return XMObject.RemoveAllWords(jsonObj, SocialProps.WATCH);\n  }\n\n  /**\n     * Return number of targets that this object is following\n     * @param {{}} jsonObj\n     * @return {number}\n     */\n  static CountWatches(jsonObj) {\n    return XMObject.CountWords(jsonObj, SocialProps.WATCH);\n  }\n} // class XMWatch\n\n/**\n * Model who a user watchs in a separate managed object.\n * The unique ID will be the same with the user ID, but\n * data stored in separate space, using different folder\n * name.\n */\nexport class XMWatches extends XMWatchBase {\n  /**\n     *\n     * @param {string} clsname\n     * @param {*} props\n     * @see #CreateNew\n     */\n  constructor(clsname = _CLSNAME_WATCHES, props) {\n    super(clsname, props);\n    this.class = XMWatches;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n     * Convenient method to check if the given object\n     * is an instance of this class (XMUser)\n     */\n  static IsInstance(obj) {\n    return obj instanceof XMWatches;\n  }\n\n  /**\n     * Return the default folder/table/collection name used\n     * for storing stats\n     */\n  static GetFolderName() {\n    return ModelFolder.WATCHES_OBJECT;\n  }\n\n  static GetName() {\n    return _CLSNAME_WATCHES;\n  }\n\n  static GetTypeID() {\n    return ModelType.WATCHES_OBJECT;\n  }\n\n  /**\n     * Create a new instance\n     *\n     * @param {string} userId User ID, which is also the ID of this object\n     * @param {string} title category title, optional\n     * @param {string} desc optional\n     */\n  static CreateNew(userId, tracking = false) {\n    const newObj = new XMWatches();\n    newObj.initNew();\n    newObj._setId(userId);   //\n\n    if (tracking) { newObj.enableTrackingNew(); }\n\n    return newObj;\n  }\n\n} // class XMWatches\n\n/**\n * Model who a user watched in a separate managed object.\n * The unique ID will be the same with the user ID, but\n * data stored in separate space, using different folder\n * name.\n */\nexport class XMWatched extends XMWatchBase {\n\n  /**\n     *\n     * @param {string} clsname\n     * @param {*} props\n     * @see #CreateNew\n     */\n  constructor(clsname = _CLSNAME_WATCHED, props) {\n    super(clsname, props);\n    this.class = XMWatched;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n     * Convenient method to check if the given object\n     * is an instance of this class (XMWatchedRL)\n     */\n  static IsInstance(obj) {\n    return obj instanceof XMWatched;\n  }\n\n  /**\n     * Return the default folder/table/collection name used\n     * for storing stats\n     */\n  static GetFolderName() {\n    return ModelFolder.NONE;\n  }\n\n  static GetName() {\n    return _CLSNAME_WATCHED;\n  }\n\n  static GetTypeID() {\n    return ModelType.WATCHED_OBJECT;\n  }\n\n  /**\n     * Create a new instance\n     *\n     * @param {string} userId User ID, which is also the ID of this object\n     * @param {string} desc optional\n     */\n  static CreateNew(userId, tracking = false) {\n    const newObj = new XMWatched();\n    newObj.initNew();\n    newObj._setId(userId);   //\n\n    if (tracking) { newObj.enableTrackingNew(); }\n\n    return newObj;\n  }\n} // class XMWatched\n\n// Subclasses will register\n// XMWatches.RegisterType(XMWatches);\n// XMWatched.RegisterType(XMWatched);\n\nexport default XMWatchBase;\n","\nimport { ModelType, ModelFolder } from '../ModelConsts';\nimport { XMWatches } from '../social/XMWatch';\n\nconst _CLSNAME = 'XMWatchesPost';\n\n/**\n * Model who a user watchs in a separate managed object.\n * The unique ID will be the same with the user ID, but\n * data stored in separate space, using different folder\n * name.\n */\nclass XMWatchesPost extends XMWatches {\n  /**\n   *\n   * @param {string} clsname\n   * @param {*} props\n   * @see #CreateNew\n   */\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMWatchesPost;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n   * Convenient method to check if the given object\n   * is an instance of this class (XMUser)\n   */\n  static IsInstance(obj) {\n    return obj instanceof XMWatchesPost;\n  }\n\n  /**\n   * Return the default folder/table/collection name used\n   * for storing stats\n   */\n  static GetFolderName() {\n    return ModelFolder.WATCHES_POST;\n  }\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return ModelType.WATCHES_POST;\n  }\n\n  /**\n   * Create a new instance\n   *\n   * @param {string} userId User ID, which is also the ID of this object\n   * @param {string} title category title, optional\n   * @param {string} desc optional\n   */\n  static CreateNew(userId, tracking = false) {\n    const newObj = new XMWatchesPost();\n    newObj.initNew();\n    newObj._setId(userId);   //\n\n    if (tracking) { newObj.enableTrackingNew(); }\n\n    return newObj;\n  }\n\n} // class XMWatchesPost\n\n\nXMWatchesPost.RegisterType(XMWatchesPost);\n\nexport default XMWatchesPost;\n","\nimport { ModelType, ModelFolder } from '../ModelConsts';\nimport { XMWatched } from '../social/XMWatch';\n\nconst _CLSNAME = 'XMWatchedPost';\n\n/**\n * Model who a user follows in a separate managed object.\n * The unique ID will be the same with the user ID, but\n * data stored in separate space, using different folder\n * name.\n */\nclass XMWatchedPost extends XMWatched {\n\n  /**\n   *\n   * @param {string} clsname\n   * @param {*} props\n   * @see #CreateNew\n   */\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMWatchedPost;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n   * Convenient method to check if the given object\n   * is an instance of this class (XMWatchedRL)\n   */\n  static IsInstance(obj) {\n    return obj instanceof XMWatchedPost;\n  }\n\n  /**\n   * Return the default folder/table/collection name used\n   * for storing stats\n   */\n  static GetFolderName() {\n    return ModelFolder.WATCHED_POST;\n  }\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return ModelType.WATCHED_POST;\n  }\n\n  /**\n   * Create a new instance\n   *\n   * @param {string} userId User ID, which is also the ID of this object\n   * @param {string} desc optional\n   */\n  static CreateNew(userId, tracking = false) {\n    const newObj = new XMWatchedPost();\n    newObj.initNew();\n    newObj._setId(userId);   //\n\n    if (tracking) { newObj.enableTrackingNew(); }\n\n    return newObj;\n  }\n} // class XMWatchedPost\n\n\nXMWatchedPost.RegisterType(XMWatchedPost);\n\nexport default XMWatchedPost;\n","// import templateMerge from \"string-template\";\n// import templateCompile from \"string-template/compile\";\n\nimport XObject from '../XObject';\n// import XMNotification from \"./XMNotification\";\n\nimport { ModelType, MessageProps } from '../ModelConsts';\nimport Util from '../../Util';\nimport SymbolExpr from '../../util/SymbolExpr';\n\nconst _CLSNAME = 'vardata';\n\nexport const PROP_TYPE_MAP = 'types';\nexport const PROP_ID_MAP = 'instances';\n\n/**\n * In a VM, store pre-cached templates so going through\n * a lot of alerts can merge text quicker.\n */\n// const cachedTemplate = {};\n\n/**\n * A tracking and lookup variable map that is initially\n * used for holding values to various fields in\n * user notification/messaging templates.\n *\n */\nclass XVarData extends XObject {\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XVarData;\n  }\n\n  /**\n   * Initialize content as a new object.\n   */\n  initNew() {\n    super.initNew();\n  }\n\n  /**\n   * Set/override entire variable map. Any previous will be\n   * gone!\n   *\n   * @param {{}} varMap property/values stored in this object\n   * @return {{}} previous map or null if new\n   */\n  setTypeMap(varMap) {\n    return XVarData.SetTypeMap(this.getData(true), varMap);\n  }\n\n  /**\n   * Return entire type map, which is the top level map\n   *\n   * @param {boolean} true to create if doesn't exist\n   * @param {*} defaultVal\n   * @return {{}} typeMap, created or existing\n   */\n  getTypeMap(create = false, defaultVal = null) {\n    const data = this.getData(create);\n    return data ? XVarData.GetTypeMap(data, create, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set/declare the type into this data map, if it doesn't\n   * exist already. A type is a container/map that will contain\n   * object fields by IDs.\n   *\n   * @param {string} type\n   * @return {boolean} true if created, false if it exists already or null type\n   */\n  declareType(type) {\n    return XVarData.DeclareType(this.getData(true), type);\n  }\n\n  /**\n   * Return array of declared types\n   *\n   * @param {{}} jsonObj\n   * @return {number} number of types, or -1 if bad params\n   */\n  getTypes(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XVarData.GetTypes(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return number of types declared in this map\n   *\n   * @return {number} number of types, or -1 if bad params\n   */\n  getTypeCount() {\n    const data = this.getData(false);\n    return data ? XVarData.GetTypeCount(data) : 0;\n  }\n\n  /**\n   * Check if the type is already declared with it's ID\n   *\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @return {boolean} true if id exists under type, false if not\n   */\n  hasType(type) {\n    const data = this.getData(false);\n    return data ? XVarData.HasType(data, type) : false;\n  }\n\n  /**\n   * Return all instances tracked for a given object type.\n   *\n   * @param {string} type e.g., \"user\", \"rl\"\n   * @param {boolean} create true to create bucket if doesn't exist\n   * @param {*} defaultVal\n   * @return {boolean} true if defined, false if already exists or null type\n   *\n   * @see ~getInstanceIds\n   * @see ~getInstanceData\n   * @see ~getInstanceCount\n\n   */\n  getInstances(type, create = false, defaultVal = null) {\n    const data = this.getData(create);\n    return data\n      ? XVarData.GetInstances(data, type, create, defaultVal)\n      : defaultVal;\n  }\n\n  /**\n   * Return identifiers of all instances of a given type\n   *\n   * @param {string} type object type to retrieve\n   * @param {*} defaultVal\n   *\n   * @see ~getInstances\n   * @see ~getInstanceData\n   * @see ~getInstanceCount\n   */\n  getInstanceIds(type, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XVarData.GetInstanceIds(data, type, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return number of instances of a given type\n   *\n   * @param {string} type object type to do the count of its instances\n   *\n   * @see ~getInstances\n   * @see ~getInstanceIds\n   * @see ~getInstanceData\n   */\n  getInstanceCount(type) {\n    const data = this.getData(false);\n    return data ? XVarData.GetInstanceCount(data, type) : -1;\n  }\n\n  /**\n   * Set/declare the objecti's ID into the map and create\n   * a container if one does not exist already.\n   *\n   * @param {string} type object type. This is necessary since\n   * an ID can be re-used across different types for correspondence.\n   * @param {string} objectId object identifier to look up and\n   * create a new bucket if doesn't exist\n   * @return {boolean} true if created, false if it exists already\n   */\n  declareInstance(type, objectId) {\n    return XVarData.DeclareInstance(this.getData(true), type, objectId);\n  }\n\n  /**\n   * Check if the instance is already declared with it's ID\n   *\n   * @param {{}} jsonObj\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @param {string} objectId specific instance\n   * @return {boolean} true if id exists under type, false if not\n   */\n  hasInstance(type, objectId) {\n    const data = this.getData(false);\n    return data ? XVarData.HasInstance(data, type, objectId) : false;\n  }\n\n  /**\n   * Set/override object's map of the fields being tracked.\n   * Any previous properties for the object will be gone!\n   *\n   * @param {string} type object type. This is necessary since\n   * an ID can be re-used across different types for correspondence.\n   * @param {string} objectId object identifier\n   * @param {{}} fieldMap property/values to assign to the\n   * object in the given data map\n   * @return {{}} return previous property/value map, if exists\n   */\n  setInstanceData(type, objectId, fieldMap) {\n    return XVarData.SetInstanceData(\n      this.getData(true),\n      type,\n      objectId,\n      fieldMap\n    );\n  }\n\n  /**\n   * Return the data of a specific object/type with option to create bucket.\n   *\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @param {string} objectId specific instance\n   * @param {boolean} create true to create if not found\n   * @param {*} defaultVal return value if null (no create)\n   * @return {{}} all tracked field data for instance if exists\n   */\n  getInstanceData(type, objectId, create = false, defaultVal = null) {\n    const data = this.getData(create);\n    return data\n      ? XVarData.GetInstanceData(data, type, objectId, create, defaultVal)\n      : defaultVal;\n  }\n\n  /**\n   * Set/override entire variable map. Any previous will be\n   * gone!\n   *\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @param {string} objectId specific instance\n   * @param {string} field property label\n   * @param {string} value should be string if need to be serialized\n   * @return {string} previously stored value if existed\n   */\n  setInstanceVariable(type, objectId, field, value) {\n    return XVarData.SetInstanceVariable(\n      this.getData(true),\n      type,\n      objectId,\n      field,\n      value\n    );\n  }\n\n  /**\n   * Retrieve an instance's variable (field value).\n   *\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @param {string} objectId specific instance\n   * @param {string} field property label\n   * @param {*} defaultVal return this value if value is null\n   * @return {string=} field value or defaultVal\n   */\n  hasInstanceVariable(type, objectId, field) {\n    const data = this.getData(false);\n    return data\n      ? XVarData.HasInstanceVariable(data, type, objectId, field)\n      : false;\n  }\n\n  /**\n   * Retrieve an instance's variable (field value).\n   *\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @param {string} objectId specific instance\n   * @param {string} field property label\n   * @param {*} defaultVal return this value if value is null\n   * @return {string=} field value or defaultVal\n   */\n  getInstanceVariable(type, objectId, field, defaultVal = null) {\n    const data = this.getData(false);\n    return data\n      ? XVarData.GetInstanceVariable(data, type, objectId, field, defaultVal)\n      : defaultVal;\n  }\n\n  /**\n   * Return number of instances of a given type\n   *\n   * @param {string} type instance type, e.g., \"user\", \"rl\"\n   * @param {string} objectId instance ID\n   * @return {number} number of fields declared, or -1 if bad param\n   */\n  getInstanceVariableCount(type, objectId) {\n    const data = this.getData(false);\n    return data ? XVarData.GetInstanceVariableCount(data, type, objectId) : 0;\n  } // GetInstanceVariableCount\n\n  /**\n   * Retrieve stored value based on format of Symbol Expression.\n   *\n   * @param {string} symbolExpr format of '#field:{type:\"<modelType>\",_id:\"<objId>\"}'\n   * @param {function} valueRenderer post processing add-on\n   * @return {string} either replaced value or untouched expressions\n   */\n  getValueFromSymbolExpr(symbolExpr, valueRenderer = null) {\n    const data = this.getData(false);\n    return data\n      ? XVarData.GetValueFromSymbolExpr(\n        data,\n        symbolExpr,\n        valueRenderer,\n        symbolExpr\n      )\n      : symbolExpr;\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return ModelType.VARDATA;\n  }\n\n  /**\n   * Create an user info record aggregated from difference\n   * sources but mainly XMUser. It is suitable to give to\n   * client for rendering.\n   *\n   * @param {string} id assigned id, which can match another data model's id\n   * @return {XVarData}\n   */\n  static Create(id) {\n    const vd = new XVarData();\n    vd.initNew();\n    if (id) {\n      vd._setId(id);\n    }\n\n    return vd;\n  } // Create\n\n  /**\n   * Set/override entire variable map. Any previous will be\n   * gone!\n   *\n   * @param {{}} jsonObj\n   * @param {{}} varMap property/values stored in this object\n   * @return {{}} previous map or null if new\n   */\n  static SetTypeMap(jsonObj, varMap) {\n    return XVarData.SetObjectField(jsonObj, PROP_TYPE_MAP, varMap);\n  }\n\n  /**\n   * Return entire type map, which is the top level map\n   *\n   * @param {{}} jsonObj\n   * @param {boolean} true to create if doesn't exist\n   * @param {*} defaultVal\n   * @return {{}} typeMap, created or existing\n   */\n  static GetTypeMap(jsonObj, create = false, defaultVal = null) {\n    let typeMap = XVarData.GetObjectField(jsonObj, PROP_TYPE_MAP, null);\n    if (typeMap == null && create) {\n      typeMap = {};\n      XVarData.SetObjectField(jsonObj, PROP_TYPE_MAP, typeMap);\n    }\n    return typeMap;\n  }\n\n  /**\n   * Set/declare the type into this data map, if it doesn't\n   * exist already. A type is a container/map that will contain\n   * object fields by IDs.\n   *\n   * @param {{}} jsonObj\n   * @param {string} type\n   * @return {boolean} true if created, false if it exists already or null\n   */\n  static DeclareType(jsonObj, type) {\n    if (!XVarData.AssertArrayNoNulls([jsonObj, type], 'DefineType')) {\n      return false;\n    }\n    const typeMap = XVarData.GetTypeMap(jsonObj, true);\n    if (Util.NotNull(typeMap[type])) {\n      return false;\n    }\n\n    typeMap[type] = {};\n    return true;\n  } // DeclareType\n\n  /**\n   * Return number of types declared in this map\n   *\n   * @param {{}} jsonObj\n   * @return {string[]} array of typenames, or defaultVal if bad\n   */\n  static GetTypes(jsonObj, defaultVal = null) {\n    if (!XVarData.AssertNotNull(jsonObj, 'GetTypes')) {\n      return -1;\n    }\n    const typeMap = XVarData.GetTypeMap(jsonObj, false);\n    return typeMap ? Object.keys(typeMap) : defaultVal;\n  } // GetTypes\n\n  /**\n   * Return number of types declared in this map\n   *\n   * @param {{}} jsonObj\n   * @return {number} number of types, or -1 if bad params\n   */\n  static GetTypeCount(jsonObj) {\n    if (!XVarData.AssertNotNull(jsonObj, 'GetTypeCount')) {\n      return -1;\n    }\n    const typeMap = XVarData.GetTypeMap(jsonObj, false);\n    return typeMap == null ? 0 : Util.ObjectSize(typeMap);\n  }\n\n  /**\n   * Check if the type is already declared with it's ID\n   *\n   * @param {{}} jsonObj\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @return {boolean} true if id exists under type, false if not\n   */\n  static HasType(jsonObj, type) {\n    if (!XVarData.AssertArrayNoNulls([jsonObj, type], 'HasType')) {\n      return false;\n    }\n\n    return Util.NotNull(XVarData.GetInstances(jsonObj, type, false));\n  }\n\n  /**\n   * Return all instances tracked for a given object type.\n   *\n   * @param {{}} jsonObj\n   * @param {string} type e.g., \"user\", \"rl\"\n   * @param {boolean} create true to create if no data\n   * @param {*} defaultVal\n   * @return {{}} instances in an object where the ids are keys\n   */\n  static GetInstances(jsonObj, type, create = false, defaultVal = null) {\n    if (!XVarData.AssertArrayNoNulls([jsonObj, type], 'GetTypeInstances')) {\n      return defaultVal;\n    }\n    const typeMap = XVarData.GetTypeMap(jsonObj, create);\n    if (typeMap == null) {\n      return defaultVal;\n    }\n    let typeBucket = typeMap[type];\n    if (typeBucket == null && create) {\n      typeBucket = {};\n      typeMap[type] = typeBucket;\n    }\n    return typeBucket;\n  } // GetTypeInstances\n\n  /**\n   * Return identifiers of all instances of a given type\n   *\n   * @param {string} type object type to retrieve\n   * @param {*} defaultVal\n   * @return {string[]} array of identifiers\n   */\n  static GetInstanceIds(jsonObj, type, defaultVal = null) {\n    if (!XVarData.AssertArrayNoNulls([jsonObj, type], 'GetInstanceIds')) {\n      return defaultVal;\n    }\n    const typeMap = XVarData.GetTypeMap(jsonObj, false);\n    if (typeMap == null) {\n      return 0;\n    }\n    const typeBucket = typeMap[type];\n    return typeBucket ? Object.keys(typeBucket) : defaultVal;\n  } // GetInstanceIds\n\n  /**\n   * Return number of instances of a given type\n   *\n   * @param {{}} jsonObj\n   * @param {string} type\n   */\n  static GetInstanceCount(jsonObj, type) {\n    if (!XVarData.AssertArrayNoNulls([jsonObj, type], 'GetInstanceCount')) {\n      return -1;\n    }\n    const typeMap = XVarData.GetTypeMap(jsonObj, false);\n    if (typeMap == null) {\n      return 0;\n    }\n    const typeBucket = typeMap[type];\n    return typeBucket ? Util.ObjectSize(typeBucket) : 0;\n  } // GetInstanceCount\n\n  /**\n   * Set/declare the objecti's ID into the map and create\n   * a container if one does not exist already.\n   *\n   * @param {{}} jsonObj\n   * @param {string} type object type. This is necessary since\n   * an ID can be re-used across different types for correspondence.\n   * @param {string} objectId object identifier to look up and\n   * create a new bucket if doesn't exist\n   * @return {boolean} true if created, false if it exists already\n   */\n  static DeclareInstance(jsonObj, type, objectId) {\n    if (\n      !XVarData.AssertArrayNoNulls(\n        [jsonObj, type, objectId],\n        'RegisterInstanceID'\n      )\n    ) {\n      return false;\n    }\n    const typeMap = XVarData.GetInstances(jsonObj, type, true);\n    if (typeMap[objectId]) {\n      return false;\n    }\n    typeMap[objectId] = {};\n    return true;\n  } // DeclareObject\n\n  /**\n   * Check if the instance is already declared with it's ID\n   *\n   * @param {{}} jsonObj\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @param {string} objectId specific instance\n   * @return {boolean} true if id exists under type, false if not\n   */\n  static HasInstance(jsonObj, type, objectId) {\n    if (\n      !XVarData.AssertArrayNoNulls([jsonObj, type, objectId], 'HasInstance')\n    ) {\n      return false;\n    }\n\n    const instances = XVarData.GetInstances(jsonObj, type, false);\n    return instances ? Util.NotNull(instances[objectId]) : false;\n  } // HasInstance\n\n  /**\n   * Set/override object's map of the fields being tracked.\n   * Any previous properties for the object will be gone!\n   *\n   * @param {{}} jsonObj\n   * @param {string} type object type. This is necessary since\n   * an ID can be re-used across different types for correspondence.\n   * @param {string} objectId object identifier\n   * @param {{}} fieldMap property/values to assign to the\n   * object in the given data map\n   * @return {{}} return previous property/value map, if exists\n   */\n  static SetInstanceData(jsonObj, type, objectId, fieldMap) {\n    if (\n      !XVarData.AssertArrayNoNulls([jsonObj, type, objectId], 'SetInstanceData')\n    ) {\n      return null;\n    }\n    const objectMap = XVarData.GetInstances(jsonObj, type, true);\n    const previousData = objectMap[objectId];\n    objectMap[objectId] = fieldMap;\n    return previousData;\n  } // SetInstanceData\n\n  /**\n   * Return the data of a specific object/type with option to create bucket.\n   *\n   * @param {{}} jsonObj\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @param {string} objectId specific instance\n   * @param {boolean} create true to create if not found\n   * @param {*} defaultVal return value if null (no create)\n   * @return {{}} all tracked field data for instance if exists\n   */\n  static GetInstanceData(\n    jsonObj,\n    type,\n    objectId,\n    create = false,\n    defaultVal = null\n  ) {\n    if (\n      !XVarData.AssertArrayNoNulls([jsonObj, type, objectId], 'GetInstanceData')\n    ) {\n      return null;\n    }\n\n    const instancesMap = XVarData.GetInstances(jsonObj, type, create);\n    if (instancesMap == null) {\n      return defaultVal;\n    }\n    const instanceData = instancesMap[objectId];\n    if (instanceData == null && create) {\n      instanceData[objectId] = {};\n    }\n    return instanceData;\n  } // GetInstanceData\n\n  /**\n   * Set/override entire variable map. Any previous will be\n   * gone!\n   *\n   * @param {{}} jsonObj\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @param {string} objectId specific instance\n   * @param {string} field property label\n   * @param {string} value should be string if need to be serialized\n   * @return {string} previously stored value if existed or null\n   */\n  static SetInstanceVariable(jsonObj, type, objectId, field, value) {\n    if (\n      !XVarData.AssertArrayNoNulls(\n        [jsonObj, type, objectId, field],\n        'SetInstanceVariable'\n      )\n    ) {\n      return null;\n    }\n\n    const instance = XVarData.GetInstanceData(jsonObj, type, objectId, true);\n    const previousValue = instance[field];\n    instance[field] = value;\n    return previousValue;\n  } // SetInstanceVariable\n\n  /**\n   * Retrieve an instance's variable (field value).\n   *\n   * @param {{}} jsonObj\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @param {string} objectId specific instance\n   * @param {string} field property label\n   * @param {*} defaultVal return this value if value is null\n   * @return {string=} field value or defaultVal\n   */\n  static HasInstanceVariable(jsonObj, type, objectId, field) {\n    if (\n      !XVarData.AssertArrayNoNulls(\n        [jsonObj, type, objectId, field],\n        'HasInstanceVariable'\n      )\n    ) {\n      return false;\n    }\n\n    const instance = XVarData.GetInstanceData(jsonObj, type, objectId, false);\n    return instance ? instance.hasOwnProperty(field) : false;\n  } // HasInstanceVariable\n\n  /**\n   * Retrieve an instance's variable (field value).\n   *\n   * @param {{}} jsonObj\n   * @param {string} type object type (e.g, \"user\", \"rl\")\n   * @param {string} objectId specific instance\n   * @param {string} field property label\n   * @param {*} defaultVal return this value if value is null\n   * @return {string=} field value or defaultVal\n   */\n  static GetInstanceVariable(\n    jsonObj,\n    type,\n    objectId,\n    field,\n    defaultVal = null\n  ) {\n    if (\n      !XVarData.AssertArrayNoNulls(\n        [jsonObj, type, objectId, field],\n        'GetInstanceVariable'\n      )\n    ) {\n      return null;\n    }\n\n    const instance = XVarData.GetInstanceData(jsonObj, type, objectId, false);\n    if (instance == null) {\n      return defaultVal;\n    }\n\n    // if field is defined, the value can still be null,\n    // which we need to make that distinction with defaultVal\n    return instance.hasOwnProperty(field) ? instance[field] : defaultVal;\n  } // GetInstanceVariable\n\n  /**\n   * Return number of instances of a given type\n   *\n   * @param {{}} jsonObj\n   * @param {string} type instance type, e.g., \"user\", \"rl\"\n   * @param {string} objectId instance ID\n   * @return {number} number of fields declared, or -1 if bad param\n   */\n  static GetInstanceVariableCount(jsonObj, type, objectId) {\n    if (\n      !XVarData.AssertArrayNoNulls(\n        [jsonObj, type, objectId],\n        'GetInstanceVariableCount'\n      )\n    ) {\n      return -1;\n    }\n    const instanceMap = XVarData.GetInstanceData(\n      jsonObj,\n      type,\n      objectId,\n      false\n    );\n    return instanceMap ? Util.ObjectSize(instanceMap) : 0;\n  } // GetInstanceVariableCount\n\n  /**\n   * Retrieve stored value based on format of Symbol Expression,\n   *\n   * @param {{}} jsonObj\n   * @param {string} symbolExpr format of '#field:{type:\"<modelType>\",_id:\"<objId>\"}'\n   * @param {function} valueRenderer function to further render the processed value\n   * @param {defaultVal} use this if variable does not exist. The instance\n   * method version will set the defaultVal to symbolExpr, so effective\n   * no substitution. But this class level method defaults to null\n   * @return {string} either replaced value or untouched expressions\n   */\n  static GetValueFromSymbolExpr(\n    jsonObj,\n    symbolExpr,\n    valueRenderer = null,\n    defaultVal = null\n  ) {\n    const [field, props] = SymbolExpr.ParseSymbol(symbolExpr, true);\n    const type = props[MessageProps.TYPE]; // \"type\"\n    const id = props[MessageProps.ID]; // \"_id\"\n    let value;\n    if (type && id) {\n      value = XVarData.GetInstanceVariable(jsonObj, type, id, field, null);\n      if (\n        value == null &&\n        XVarData.HasInstanceVariable(jsonObj, type, id, field)\n      ) {\n        value = '';\n      } // field exists, so assume empty string for now\n      if (valueRenderer) {\n        value = valueRenderer(value, props);\n      }\n    } else {\n      value = null;\n    }\n    return value;\n  } // GetValueFromSymbolExpr\n} // class XVarData\n\nXVarData.RegisterType(XVarData);\n\nexport default XVarData;\n","import XMList from '../XMList';\nimport { ModelType, MessageProps, XObjectProps } from '../ModelConsts';\nimport XVarData from './XVarData';\nimport Util from '../../Util';\nimport XMPostItem from './XMPostItem';\nimport XObject from '../XObject';\n\nconst _CLSNAME = 'XPostFeed';\n\n/**\n * Container holding a list of XMPostItem and\n * carry additional states.\n */\n\nexport class XPostFeed extends XMList {\n  static get VARDATA() { return MessageProps.VARDATA; }\n  static get SORTBY() { return MessageProps.SORTBY; }\n\n  static get SORT_NEWEST() { return MessageProps.SORT_NEWEST; }\n  static get SORT_OLDEST() { return MessageProps.SORT_OLDEST; }\n  static get SORT_HOTEST() { return MessageProps.SORT_HOTEST; }\n  static get SORT_LIKED() { return MessageProps.SORT_LIKED; }\n  static get SORT_FOLLOWED() { return MessageProps.SORT_FOLLOWED; }\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XPostFeed;\n  }\n\n  /**\n   * Track the variable data map that helps\n   * fill the template in the alert messages.\n   *\n   * @param {XVarData} varData\n   */\n  setVarData(varData) {\n    const json = XVarData.Unwrap(varData);\n    this.set(XPostFeed.VARDATA, json);\n  }\n\n  /**\n   * Get the variable data map with wrapper.\n   *\n   * @deprecated - see getVarData\n   *\n   * @param {*} defaultVal\n   * @return {{}}\n   */\n  getXVarData(defaultVal = null) {\n    const jsonObj = this.get(XPostFeed.VARDATA, null);\n    return (jsonObj == null) ? defaultVal : XVarData.Wrap(jsonObj);\n  }\n\n  /**\n   * Get the variable data map with optional wrapper.\n   *\n   * @param {boolean} wrap true to wrap with XVarData\n   * @param {*} defaultVal\n   * @return {XVarData}\n   */\n  getVarData(wrap, defaultVal = null) {\n    const jsonObj = this.get(XPostFeed.VARDATA, null);\n    if (jsonObj == null) { return defaultVal; }\n    return wrap ? XVarData.Wrap(jsonObj) : jsonObj;\n  }\n\n  /**\n   * Append content from another XPostFeed object to this.\n   *\n   * @param {XPostFeed} xPostFeed\n   * @param {boolean} clone true to add a cloned version. This is important\n   * if you need to have a pointer back to this as the parent via setParent()\n   * and not lose integrity of the iput object\n   * @return {boolean} true if there are content to add, false if nothing added\n   */\n  addFromPostFeed(xPostFeed, clone = false) {\n    const items = xPostFeed.getList(false);\n    if (!items || items.length === 0) { return false; }\n    this.addXPostItems(items);\n\n    const varData = xPostFeed.get(XPostFeed.VARDATA, null);\n    if (varData) {\n      const thisVarData = this.get(XPostFeed.VARDATA, {});\n      this.set(XPostFeed.VARDATA, { ...thisVarData, ...varData });\n    }\n    return true;\n  }\n\n  /**\n   *\n   * @param {XPostItem} postItem\n   * @return {boolean} true if added\n   */\n  addXPostItem(postItem) {\n    return this.addXObject(postItem);\n  }\n\n  /**\n   * Add a post item (wrapped in XPostItem).\n   *\n   * @param {XPostItem} postItems\n   */\n  addXPostItems(postItems) {\n    return this.addXItems(postItems);\n  }\n\n\n  /**\n   * Return array of post item instances, with\n   * option to track this container object as parent\n   * and therefore can access the aux_data.\n   *\n   * @param {boolean} trackAuxData true to track\n   * parent (this container)\n   * @param {*} defaultVal if no content\n   * @return {XMPostItem[]} item objects with\n   * transient tracking to AuxData\n   */\n  getXPostItems(trackAuxData = false, defaultVal = null) {\n    /** @type {XMPostItem[]} itemList */\n    const itemList = this.getWrappedList(false);\n    if (itemList == null) { return defaultVal; }\n    if (trackAuxData === false) { return itemList; }\n\n    const count = itemList.length;\n    for (let i = 0; i < count; i++) {\n      const xitem = itemList[i];\n      xitem.setTParent(this);\n    }\n    return itemList;\n  }\n\n  /**\n   *\n   * @param {number} idx\n   * @return {XPostItem}\n   */\n  getXPostItemAt(idx, defaultVal = null) {\n    return super.getXItemAt(idx, defaultVal, ModelType.POST_ITEM);\n  }\n\n  /**\n   * Return the IDs of all the posts that are referenced\n   * by all XPostItem elements.\n   *\n   * @param {boolean} unique true to remove duplicates\n   *\n   * @return {string[]} list of post IDs\n   */\n  getPostIds(unique = false) {\n    const jsonList = this.getList(false);\n    const count = jsonList ? jsonList.length : 0;\n    const postIds = [];\n    for (let i = 0; i < count; i++) {\n      const jsonPostItem = jsonList[i];\n      const postId = XMPostItem.GetPostID(jsonPostItem);\n      if (postId) { postIds.push(postId); }\n    }\n    return (unique === true) ? Util.UniqueArray(postIds) : postIds;\n  }\n\n  getOriginalPostIds(unique = false) {\n    const jsonList = this.getList(false);\n    const count = jsonList ? jsonList.length : 0;\n    const origPostIds = [];\n    for (let i = 0; i < count; i++) {\n      const jsonPostItem = jsonList[i];\n      const postId = XMPostItem.GetOriginalPostID(jsonPostItem);\n      if (postId) { origPostIds.push(postId); }\n    }\n    return (unique === true) ? Util.UniqueArray(origPostIds) : origPostIds;\n  }\n\n  getSharedPostIds(unique = false) {\n    const jsonList = this.getList(false);\n    const count = jsonList ? jsonList.length : 0;\n    let origPostIds = [];\n    for (let i = 0; i < count; i++) {\n      const jsonPostItem = jsonList[i];\n      const postId = XMPostItem.GetSharedPostIDs(jsonPostItem);\n      if (postId) { origPostIds = origPostIds.concat(postId); }\n    }\n    return (unique === true) ? Util.UniqueArray(origPostIds) : origPostIds;\n  }\n\n  getFullPostIds() {\n    let postIds = this.getPostIds(true);\n    const origPostIds = this.getOriginalPostIds(true);\n    const sharedPostIds = this.getSharedPostIds(true);\n    postIds = postIds.concat(origPostIds, sharedPostIds);\n    return Util.UniqueArray(postIds);\n  }\n\n  /**\n   * Return the IDs of all the posts that are referenced\n   * by all XPostItem elements.\n   *\n   * @param {boolean} unique true to remove duplicates\n   *\n   * @return {string[]} list of post IDs\n   */\n  getPosterIds(unique = false) {\n    const jsonList = this.getList(false);\n    const count = jsonList ? jsonList.length : 0;\n    const userIds = [];\n    for (let i = 0; i < count; i++) {\n      const jsonPostItem = jsonList[i];\n      const userId1 = XMPostItem.GetPosterId(jsonPostItem);\n      const userId2 = XMPostItem.GetPostOwnerId(jsonPostItem);\n      if (userId1) { userIds.push(userId1); }\n      if (userId2 && userId2 !== userId1) { userIds.push(userId2); }\n    }\n    return (unique === true) ? Util.UniqueArray(userIds) : userIds;\n  }\n\n  getOriginalPosterIds(unique = false) {\n    const jsonList = this.getList(false);\n    const count = jsonList ? jsonList.length : 0;\n    const origPosterIds = [];\n    for (let i = 0; i < count; i++) {\n      const jsonPostItem = jsonList[i];\n      const userId = XMPostItem.GetOriginalPostOwnerID(jsonPostItem);\n      if (userId) { origPosterIds.push(userId); }\n    }\n    return (unique === true) ? Util.UniqueArray(origPosterIds) : origPosterIds;\n  }\n\n  getSharedPosterIds(unique = false) {\n    const jsonList = this.getList(false);\n    const count = jsonList ? jsonList.length : 0;\n    let origPosterIds = [];\n    for (let i = 0; i < count; i++) {\n      const jsonPostItem = jsonList[i];\n      const userId = XMPostItem.GetSharedPosterIDs(jsonPostItem);\n      if (userId) { origPosterIds = origPosterIds.concat(userId); }\n    }\n    return (unique === true) ? Util.UniqueArray(origPosterIds) : origPosterIds;\n  }\n\n  getFullPosterIds() {\n    let userIds = this.getPosterIds(true);\n    const origPostOwnerIds = this.getOriginalPosterIds(true); // load upfront - assuming we are including something\n    const sharedPostOwnerIds = this.getSharedPosterIds(true); // load upfront - assuming we are including something\n    userIds = userIds.concat(origPostOwnerIds, sharedPostOwnerIds);\n    return Util.UniqueArray(userIds);\n  }\n\n  /**\n   * Return the IDs of all the post stats (XPostStats) that are referenced\n   * by all XPostItem elements. This is NOT that straight forward\n   * as just use the post Ids, because many posts are SHARED of a\n   * shared for original post. But only the original post's stats is\n   * used for all SHARED posts.\n   *\n   * @param {boolean} unique true to remove duplicates\n   *\n   * @return {string[]} list of post IDs\n   */\n  getPostStatsIds(unique = false) {\n    const jsonList = this.getList(false);\n    const count = jsonList ? jsonList.length : 0;\n    const statIds = [];\n    for (let i = 0; i < count; i++) {\n      const jsonPostItem = jsonList[i];\n      const statId = XMPostItem.GetPostStatsID(jsonPostItem);\n      if (statId) { statIds.push(statId); }\n    }\n    return (unique === true) ? Util.UniqueArray(statIds) : statIds;\n  }\n\n  /**\n   * Sort content by updated timestamp\n   *\n   * @param {boolean=} store true to update wrapped list; false\n   * to only return the sorted list\n   * @param {boolean=} ascending default is true\n   * @param {string=} fieldName default is UPDATED_DATE\n   * @return {Array} sorted list\n   *\n   */\n  sortContentByTime(store = false, mostRecent = true, fieldName = null) {\n    if (fieldName == null) { fieldName = XObjectProps.CREATED_DATE; }\n    let list = this.getList();\n    list = Util.SortObjectsByLabel(list, fieldName);\n    if (mostRecent === true) { list.reverse(); }\n    if (store) {\n      this.setList(list);\n    }\n    return list;\n  }\n\n  /**\n   * Trim the content to the desired size and offset.\n   * If offset is set high into\n   *\n   * @param {number} max maximum size\n   * @param {number=} offset default to 0\n   * @return {number} new size\n   */\n  trim(max, offset = 0) {\n\n    let list = this.getList();\n    const curSize = list ? list.length : 0;\n    if (offset > curSize || offset < 0) {\n      this.setList([]);\n      return curSize;\n    }\n\n    const end = offset + max;\n    if (end > curSize) {\n      list = list.slice(offset);\n    } else {\n      list = list.slice(offset, max);\n    }\n    // console.log(`${_CLSNAME}.trim: original size: ${curSize}, new size: ${list.length}`);\n    this.setList(list);\n    return list.length;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return ModelType.POST_FEED;\n  }\n\n  /**\n   * Create new alert list container for serialization.\n   *\n   * @param {string} id optional for identification purpose\n   * @param {XPostItems[]} xPostItems content, if available, to set\n   * @return {XPostFeed}\n   */\n  static Create(id, xPostItems) {\n    const list = new XPostFeed();\n    list.initNew(false);\n    if (id) {\n      list._setId(id);\n    }\n    if (xPostItems) {\n      list.addXPostItems(xPostItems);\n    }\n\n    return list;\n  } // Create\n} // class XPostFeed\n\nXPostFeed.RegisterType(XPostFeed);\n\nexport default XPostFeed;\n","\nimport XMSocialIndexable from './XMSocialIndexable';\nimport { ModelType, ModelFolder } from '../ModelConsts';\nimport XCommentFeed from '../post/XCommentFeed';\nimport XMComment from './XMComment';\n\n\nconst _CLSNAME = 'XCommentInfo';\n\n/**\n * CommentInfo - holds essential data/properties from XMComment,\n * XMCommentStats, and whatever that is best optimized as\n * an aggregate set.\n *\n * NOTE: This is designed as a transient instance\n *\n */\nclass XCommentInfo extends XMComment {\n  static get COMMENT_STATS_ID() { return 'cmstatsId'; }\n\n  /**\n   *\n   * @param {string} clsname\n   * @param {{}} props\n   */\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XCommentInfo;\n  }\n\n  setCommentStatsId(id) {\n    return this.setCommentStatsId(XCommentInfo.COMMENT_STATS_ID, id);\n  }\n\n  /**\n   * ID of the comments stats object\n   *\n   * @return {string} suitable poststat's ID\n   */\n  getCommentStatsId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XCommentInfo.GetCommentStatsId(data, defaultVal) : defaultVal;\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n   * Not used as it's expected to be embedded.\n   */\n  static GetFolderName() {\n    return ModelFolder.NONE;\n  }\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /**\n   * Return the short identifier for this type. This should\n   * be overriden by subclasses.\n   */\n  static GetTypeID() {\n    return ModelType.COMMENT_INFO;\n  }\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  static GetCommentId(jsonObj, defaultVal = null) {\n    jsonObj = jsonObj ? XCommentInfo.Unwrap(jsonObj) : null;\n    const idVal = jsonObj ? jsonObj[XCommentInfo.PROP_ID] : null;\n    return idVal || defaultVal;\n  }\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  static GetCommentStatsId(jsonObj, defaultVal = null) {\n    jsonObj = jsonObj ? XCommentInfo.Unwrap(jsonObj) : null;\n    let idVal = XCommentInfo.GetObjectField(jsonObj, XCommentInfo.COMMENT_STATS_ID, null);\n    if (idVal == null) {\n      idVal = XCommentInfo.GetId(jsonObj, null);\n    }\n    return idVal || defaultVal;\n  }\n\n  /**\n   *\n   * @param {string} postId\n   * @return {XMPostComment}\n   */\n  static CreateFromComment(xComment, xCommentStats) {\n    const newObj = new XCommentInfo();\n    const existingData = xComment.getData(false);\n    if (existingData) { newObj.data = { ...existingData }; } else { newObj.newInit(); }\n\n    return newObj;\n  }\n\n} // class Comment\n\nXCommentInfo.RegisterType(XCommentInfo);\n\nexport default XCommentInfo;\n","\nimport Util from '../../Util';\nimport { ModelFolder, ModelType, StatsProps } from '../ModelConsts';\nimport XMObjectStats from './XMObjectStats';\n\nconst _CLSNAME = 'CommentStats'; // match class name\n\n\n/**\n * Base class for stats on a comment. Subclasses can\n * refer to stats on various types of comments\n */\nclass XMCommentStats extends XMObjectStats {\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMCommentStats;\n\n    this._setTypeID();\n  }\n\n\n  /**\n   *\n   * @param {number} count\n   */\n  setCommentCount(count) {\n    return XMCommentStats.SetCommentCount(this, count);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getCommentCount(defaultVal = null) {\n    return XMCommentStats.GetCommentCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} likeCount\n   */\n  // setLikesCommentCount(likeCount) {\n  //   return XMCommentStats.SetLikesCommentCount(this, likeCount);\n  // }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  // getLikesCommentCount(defaultVal = null) {\n  //   return XMCommentStats.GetLikesCommentCount(this, defaultVal);\n  // }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getLikedCommentCount(defaultVal = null) {\n    return XMCommentStats.GetLikedCommentCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} likeCount\n   */\n  setLikedCommentCount(likeCount) {\n    return XMCommentStats.SetLikedCommentCount(this, likeCount);\n  }\n\n\n  /**\n   *\n   * @param {number} likeCount\n   */\n  setSharedCommentCount(likeCount) {\n    return XMCommentStats.SetSharedCommentCount(this, likeCount);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getSharedCommentCount(defaultVal = null) {\n    return XMCommentStats.GetSharedCommentCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} watchCount\n   */\n  setWatchedCommentCount(watchCount) {\n    return XMCommentStats.SetWatchedCommentCount(this, watchCount);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count\n   */\n  getWatchedCommentCount(defaultVal = null) {\n    return XMCommentStats.GetWatchedCommentCount(this, defaultVal);\n  }\n\n\n  /**\n     *\n     *\n     * @param {number} viewCount\n     */\n  setViewCommentCount(viewCount) {\n    return XMCommentStats.SetViewCommentCount(this, viewCount);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {number} count\n     */\n  getViewCommentCount(defaultVal = null) {\n    return XMCommentStats.GetViewCommentCount(this, defaultVal);\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /** @return {string} */\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /** @return {string} */\n  static GetFolderName() {\n    return ModelFolder.COMMENT_STATS;\n  }\n\n  /** @return {string} */\n  static GetTypeID() {\n    return ModelType.COMMENT_STATS;\n  }\n\n  /**\n   * Create an user info record aggregated from difference\n   * sources but mainly Post. It is suitable to give to\n   * client for rendering.\n   *\n   * @param {string} objectId assigned ID for this stat object\n   * @return {XMCommentStats}\n   */\n  static CreateNew(objectId, props) {\n    const statObj = new XMCommentStats();\n    if (objectId) { statObj._setId(objectId); }\n    if (props) { statObj.importObjectFields(props); }\n\n    return statObj;\n  } // CreateNew\n\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {number} value new \"likes\" numeric value\n   */\n  static SetCommentCount(jsonObj, value) {\n    return XMObjectStats.SetXObjectField(jsonObj, StatsProps.COMMENTS, value);\n  }\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal value to return if no such field\n   * @return {number} count value or defaultVal\n   */\n  static GetCommentCount(jsonObj, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(jsonObj, StatsProps.COMMENTS, defaultVal);\n    return Util.toNumber(value, defaultVal);\n  }\n\n  /**\n   * Set content of the user \"likes\" comment stat\n   *\n   * @param {number} value new \"likes\" numeric value\n   */\n  static SetLikedCommentCount(jsonObj, value) {\n    return XMObjectStats.SetXObjectField(jsonObj, StatsProps.LIKEDBY_COMMENT, value);\n  }\n\n  /**\n   * Retrieve user \"likes\" comment count\n   *\n   * @param {*} defaultVal value to return if no such field\n   * @return {number} count value or defaultVal\n   */\n  static GetLikedCommentCount(jsonObj, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(jsonObj, StatsProps.LIKEDBY_COMMENT, defaultVal);\n    return Util.toNumber(value, defaultVal);\n  }\n\n  /**\n   * Set shared stat value\n   *\n   * @param {number} value new count value\n   */\n  static SetSharedCommentCount(jsonObj, value) {\n    return XMObjectStats.SetXObjectField(jsonObj, StatsProps.COMMENT_SHAREDBY, value);\n  }\n\n  /**\n   * Retrieve shared stat value\n   *\n   * @param {*} defaultVal value to return if no such field (value not set)\n   * @return {number} count value or defaultVal\n   */\n  static GetSharedCommentCount(jsonObj, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(jsonObj, StatsProps.COMMENT_SHAREDBY, null);\n    return Util.toNumber(value, defaultVal);\n  }\n\n  /**\n   * Set content of the watched comment stat\n   *\n   * @param {number} value new liked count\n   */\n  static SetWatchedCommentCount(jsonObj, value) {\n    return XMObjectStats.SetXObjectField(jsonObj, StatsProps.WATCHED_COMMENT, value);\n  }\n\n  /**\n   * Retrieve watched comment stat value\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetWatchedCommentCount(jsonObj, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(jsonObj, StatsProps.WATCHED_COMMENT, null);\n    return Util.toNumber(value, defaultVal);\n  }\n\n  /**\n   * Set view count into this state object\n   *\n   * @param {number} value new view count\n   */\n  static SetViewCommentCount(userStats, value) {\n    return XMObjectStats.SetXObjectField(userStats, StatsProps.VIEWS_FULL_COMMENT, value);\n  }\n\n  /**\n   * Retrieve the once-set post view object\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetViewCommentCount(userStats, defaultVal = null) {\n    const value = XMObjectStats.GetXObjectField(userStats, StatsProps.VIEWS_FULL_COMMENT, defaultVal);\n    return Util.toNumber(value, defaultVal);\n  }\n\n} // class CommentStats\n\nXMCommentStats.RegisterType(XMCommentStats);\n\nexport default XMCommentStats;\n","import XMList from '../XMList';\nimport { ModelType, MessageProps, XObjectProps } from '../ModelConsts';\nimport Util from '../../Util';\nimport XObject from '../XObject';\nimport XMComment from '../social/XMComment';\nimport XVarData from '../activity/XVarData';\nimport XCommentInfo from '../social/XCommentInfo';\nimport XMCommentStats from '../social/XMCommentStats';\n\nconst _CLSNAME = 'XCommentFeed';\n\n/**\n * Container holding a list of XMComment objects and\n * carry additional states.\n */\n\nexport class XCommentFeed extends XMList {\n  static get VARDATA() { return MessageProps.VARDATA; }\n  static get SORTBY() { return MessageProps.SORTBY; }\n\n  static get SORT_NEWEST() { return MessageProps.SORT_NEWEST; }\n  static get SORT_OLDEST() { return MessageProps.SORT_OLDEST; }\n  static get SORT_HOTEST() { return MessageProps.SORT_HOTEST; }\n  static get SORT_LIKED() { return MessageProps.SORT_LIKED; }\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XCommentFeed;\n  }\n\n  /**\n     * Track the variable data map that helps\n     * fill the template in the alert messages.\n     *\n     * @param {XVarData} varData\n     */\n  setVarData(varData) {\n    const json = XVarData.Unwrap(varData);\n    this.set(XCommentFeed.VARDATA, json);\n  }\n\n  /**\n     * Get the variable data map with wrapper.\n     *\n     * @deprecated - see getVarData\n     *\n     * @param {*} defaultVal\n     * @return {{}}\n     */\n  getXVarData(defaultVal = null) {\n    const jsonObj = this.get(XCommentFeed.VARDATA, null);\n    return (jsonObj == null) ? defaultVal : XVarData.Wrap(jsonObj);\n  }\n\n  /**\n     * Get the variable data map with optional wrapper.\n     *\n     * @param {boolean} wrap true to wrap with XVarData\n     * @param {*} defaultVal\n     * @return {XVarData}\n     */\n  getVarData(wrap, defaultVal = null) {\n    const jsonObj = this.get(XCommentFeed.VARDATA, null);\n    if (jsonObj == null) { return defaultVal; }\n    return wrap ? XVarData.Wrap(jsonObj) : jsonObj;\n  }\n\n  /**\n     * Append content from another XPostFeed object to this.\n     *\n     * @param {XCommentFeed} xCommentFeed\n     * @param {boolean} clone true to add a cloned version. This is important\n     * if you need to have a pointer back to this as the parent via setParent()\n     * and not lose integrity of the iput object\n     * @return {boolean} true if there are content to add, false if nothing added\n     */\n  addFromCommentFeed(xCommentFeed, clone = false) {\n    const items = xCommentFeed.getList(false);\n    if (!items || items.length === 0) { return false; }\n    this.addComments(items);\n\n    const varData = xCommentFeed.get(XCommentFeed.VARDATA, null);\n    if (varData) {\n      const thisVarData = this.get(XCommentFeed.VARDATA, {});\n      this.set(XCommentFeed.VARDATA, { ...thisVarData, ...varData });\n    }\n    return true;\n  }\n\n  /**\n     * Add one or more comment objects items\n     *\n     * @param {XMComment[]} commentObjs\n     */\n  addComments(commentObjs) {\n    return this.addXItems(commentObjs);\n  }\n\n  /**\n     * Return array of post item instances, with\n     * option to track this container object as parent\n     * and therefore can access the aux_data.\n     *\n     * @param {boolean} trackAuxData true to track\n     * parent (this container)\n     * @param {*} defaultVal if no content\n     * @return {XMComments[]} item objects with\n     * transient tracking to AuxData\n     */\n  getXComments(trackAuxData = false, defaultVal = null) {\n    /** @type {XMComment[]} itemList */\n    const itemList = this.getWrappedList(false);\n    if (itemList == null) { return defaultVal; }\n    if (trackAuxData === false) { return itemList; }\n\n    const count = itemList.length;\n    for (let i = 0; i < count; i++) {\n      const xitem = itemList[i];\n      xitem.setTParent(this);\n    }\n    return itemList;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {{string, XMComment}}\n   */\n  getXCommentsMap(defaultVal = null) {\n    const resultMap = this.getKeyedList(false, XMComment.PROP_ID);\n    return resultMap || defaultVal;\n  }\n\n  /**\n     * Return the IDs of all the posts that are referenced\n     * by all XMComment elements.\n     *\n     * @param {boolean} unique true to remove duplicates\n     *\n     * @return {string[]} list of post IDs\n     */\n  getCommentIds(unique = false) {\n    const jsonList = this.getList(false);\n    const count = jsonList ? jsonList.length : 0;\n    const postIds = [];\n    for (let i = 0; i < count; i++) {\n      const jsonCommentObj = jsonList[i];\n      const postId = XMComment.GetId(jsonCommentObj);\n      if (postId) { postIds.push(postId); }\n    }\n    return (unique === true) ? Util.UniqueArray(postIds) : postIds;\n  }\n\n  /**\n     * Return the IDs of all the comments\n     *\n     * @param {boolean} unique true to remove duplicates\n     *\n     * @return {string[]} list of post IDs\n     */\n  getPosterIds(unique = false) {\n    const jsonList = this.getList(false);\n    const count = jsonList ? jsonList.length : 0;\n    const userIds = [];\n\n    for (let i = 0; i < count; i++) {\n      const jsonPostItem = jsonList[i];\n      const userId = XMComment.GetOwnerId(jsonPostItem);\n      if (userId) { userIds.push(userId); }\n    }\n    return (unique === true) ? Util.UniqueArray(userIds) : userIds;\n  }\n\n  /**\n     * Return the IDs of all the comment stats (XMCommentStats) that\n     * are referenced by all comment elements.\n     *\n     * @param {boolean} unique true to remove duplicates\n     *\n     * @return {string[]} list of post IDs\n     */\n  getCommentStatsIds(unique = false) {\n    const jsonList = this.getList(false);\n    const count = jsonList ? jsonList.length : 0;\n    const statIds = [];\n    for (let i = 0; i < count; i++) {\n      const jsonInfo = jsonList[i];\n\n      const statId = XCommentInfo.GetCommentStatsId(jsonInfo);\n      if (statId) { statIds.push(statId); }\n    }\n    return (unique === true) ? Util.UniqueArray(statIds) : statIds;\n  }\n\n  /**\n     * Sort content by updated timestamp\n     *\n     * @param {boolean=} store true to update wrapped list; false\n     * to only return the sorted list\n     * @param {boolean=} ascending default is true\n     * @param {string=} fieldName default is UPDATED_DATE\n     * @return {Array} sorted list\n     *\n     */\n  sortContentByTime(store = false, mostRecent = true, fieldName = null) {\n    if (fieldName == null) { fieldName = XObjectProps.UPDATED_DATE; }\n    const list = this.getList();\n    Util.SortUniqueObjectsByLabel(list, fieldName);\n    if (mostRecent === false) { list.reverse(); }\n    return list;\n  }\n\n  /**\n   * Return piggybacked XCommentStats objects if they were included\n   * in the original server fetch.\n   *\n   * @param {*} defaultVal\n   * @return {{string,XMCommentStats}}\n   */\n  getXCommentStatsMap(defaultVal = null) {\n    return this.getAuxDataField(ModelType.COMMENT_STATS, defaultVal);\n  }\n\n  /**\n   *\n   * @param {string} commentId\n   * @param {*} defaultVal\n   * @return {XMCommentStat}\n   */\n  getXCommentStats(commentId, defaultVal = null) {\n    const allStats = this.getXCommentStatsMap(null);\n    const statsObj = allStats ? allStats[commentId] : null;\n    return Util.NotNull(statsObj) ? XMCommentStats.WrapXObject(statsObj, XMCommentStats) : defaultVal;\n  }\n\n  /**\n   * Return piggybacked XUserInfo objects if they were included\n   * in the original server fetch\n   *\n   * @param {*} defaultVal\n   * @return {{string:XUserInfo}}\n   */\n  getXUserInfoMap(defaultVal = null) {\n    return this.getAuxDataField(ModelType.USER_INFO, defaultVal);\n  }\n\n  /**\n   *\n   * @param {string} userId\n   * @param {*} defaultVal\n   * @return {XUserInfo}\n   */\n  getXUserInfo(userId, defaultVal = null) {\n    const userMap = this.getXUserInfoMap(null);\n    const infoObj = userMap ? userMap[userId] : null;\n    return Util.NotNull(infoObj) ? infoObj : defaultVal;\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return ModelType.COMMENT_FEED;\n  }\n\n  /**\n     * Create new alert list container for serialization.\n     *\n     * @param {string} id optiona for identification purpose\n     * @return {XUserAlerts}\n     */\n  static Create(id) {\n    const list = new XCommentFeed();\n    list.initNew();\n    if (id) { list._setId(id); }\n\n    return list;\n  } // Create\n} // class XCommentFeed\n\nXCommentFeed.RegisterType(XCommentFeed);\n\nexport default XCommentFeed;\n","import CryptoJS from \"crypto-js\";\n\nexport const fileToMd5 = (file) => {\n  if (!file) {\n    return;\n  }\n\n  return new Promise((resolve, reject) => {\n    let reader = new FileReader();\n\n    reader.addEventListener(\"load\", function () {\n      let hash = CryptoJS.MD5(CryptoJS.enc.Latin1.parse(reader.result));\n      let md5 = hash.toString(CryptoJS.enc.Hex);\n      resolve(md5);\n    });\n\n    reader.addEventListener(\"onerror\", function () {\n      reject(\"\");\n    });\n\n    reader.readAsBinaryString(file);\n  });\n};\n","import ClientAppService from \"./system/ClientAppService\";\n\n// Data Models\nimport XError from \"./core/model/XError\";\nimport XRequest from \"./core/model/net/XRequest\";\nimport XResponse from \"./core/model/net/XResponse\";\nimport XObject from \"./core/model/XObject\";\nimport XMObject from \"./core/model/XMObject\";\nimport XResultList from \"./core/model/util/XResultList\";\nimport XResultMap from \"./core/model/util/XResultMap\";\nimport XBinaryData from \"./core/model/XBinaryData\";\nimport {\n  ModelType,\n  MessageProps,\n  UserProps,\n  LanguageCodes,\n  SocialProps,\n  PREFIX_COMMENT_ID,\n  TOPIC_CATEGORIES,\n  FEATURE_LIKE,\n  FEATURE_FOLLOW_USER,\n  FEATURE_REPLY_POST,\n  FEATURE_REPLY_COMMENT,\n  FEATURE_REPOST,\n  FEATURE_SUBMIT_POST,\n} from \"./core/model/ModelConsts\";\nimport {XMFollows, XMFollowers} from \"./core/model/social/XMFollow\";\nimport Util from \"./core/Util\";\nimport axios from \"axios\";\n\nimport XMWatchesPost from \"./core/model/post/XMWatchesPost\";\nimport XMWatchedPost from \"./core/model/post/XMWatchedPost\";\nimport XPostFeed from \"./core/model/activity/XPostFeed\";\nimport XMPost from \"./core/model/post/XMPost\";\nimport {AppMessages, SupportedLanguageList} from \"./app/AppMessages\";\nimport XUserInfo from \"./core/model/user/XUserInfo\";\nimport XCommentFeed from \"./core/model/post/XCommentFeed\";\nimport XMComment from \"./core/model/social/XMComment\";\nimport API from \"./core/API\";\nimport ErrorCodes from \"./core/ErrorCodes\";\nimport {fileToMd5} from \"src/util/file\";\n\n// These are classes that we have instances but not direct type\n// reference. They are good for IDE/JSDoc and these are used to eliminate\n// the complaints\nXError.CheckIn();\nXResponse.CheckIn();\nXRequest.CheckIn();\nXBinaryData.CheckIn();\nXResultList.CheckIn();\nXResultMap.CheckIn();\n\nXPostFeed.CheckIn();\nXMPost.CheckIn();\n\n// import numeral from 'numeral';\n\nconst _CLSNAME = \"GetterService\";\n\n/**\n * Application context / helper (controller, api requestor)\n * for the web app.\n *\n * There should be one instance per app type per user. With\n * SSR configuration, there will be one instance in the browser code,\n * and one on the server side.\n */\nexport class GetterService extends ClientAppService {\n  /**\n   *\n   * @constructor\n   * @param {object} props outside (configuration) properties to use\n   */\n  constructor(props) {\n    super(_CLSNAME, props);\n\n    this.applyConfig(this.props);\n  }\n\n  applyConfig(props) {\n    // const _m = \"applyConfig\";\n    super.applyConfig(props);\n\n    // let isBrowser = Global.IsBrowser();\n    // this.log(\"applyConfig\", \"parameters: \", props);\n\n    this.urlPrefix = props.urlPrefix ? props.urlPrefix : \"/\";\n    this.appUrl = props.appUrl ? props.appUrl : null;\n    this.appPrefix = this.appUrl ? this.appUrl + \"/\" : null;\n\n    // this.trace(_m, `**** APP URL: ${this.appUrl} Is Browser: ${isBrowser} ****`);\n\n    this.urlHost = props.apiHost ? props.apiHost : \"http://255.255.255.255:999\";\n\n    this.title = props.title ? props.title : \"Untitled App\";\n\n    this.urlTagInfo = this.getURL(this.urlHost, \"/s/taginfo\");\n    this.urlActivityLog = this.getURL(this.urlHost, \"/log/activity/\");\n    this.urlLogMessage = this.getURL(this.urlHost, \"/log/msg\");\n  }\n\n  /**\n   * Initializer user info. This is called by Portal upon login.\n   */\n  initUser(userInfo) {\n    // re-intialize analytics tracking\n    this._trackingUser();\n  }\n\n  assertXMObject(value) {\n    return this.assertType(value, XMObject);\n  }\n\n  /**\n   * Reset user information. This is called by Portal upon logout.\n   */\n  resetUser() {\n    // clear session?\n  }\n\n  /**\n   * Return the application's official URL, as set in the environment\n   * variable *_APP_URL. This is optional and only used for user click\n   * backs.\n   *\n   * @param {*} defaultVal\n   * @return {string=} application's url with protocol and port\n   */\n  getAppUrl(defaultVal = null) {\n    return this.appUrl ? this.appUrl : defaultVal;\n  }\n\n  /**\n   * Return the SPA's url prefix.\n   */\n  getUrlPrefix() {\n    return this.urlPrefix;\n  }\n\n  /**\n   * Prefix of this web application's URL, or a\n   * complete URL if given path\n   *\n   * @param {string} path path to add to prefix\n   * @return {string} either prefix, or complete URL if given path\n   */\n  getAppPrefix(path) {\n    return path ? this.urlPrefix + path : this.urlPrefix;\n  }\n\n  /**\n   * Prefix of this app's service URL to make API calls.\n   *\n   * @param {string} path path to add to prefix\n   * @return {string} either prefix, or complete URL if given path\n   */\n  getServicePrefix(path) {\n    return path ? new URL(path, this.urlHost).toString() : this.urlHost;\n  }\n\n  /**\n   *\n   * @param {string} phrase search phrase\n   */\n  getUrlSearchResults(phrase) {\n    let url = this.getAppPrefix(\"search\");\n    if (!Util.StringIsEmpty(url)) url += `?q=` + encodeURIComponent(phrase);\n    return url;\n  }\n\n  getUrlHashtagPage(hashtag) {\n    if (hashtag[0] !== \"#\") {\n      hashtag = \"/hashtag/\" + encodeURIComponent(\"#\" + hashtag);\n    } else {\n      hashtag = \"/hashtag/\" + encodeURIComponent(hashtag);\n    }\n    return hashtag;\n  }\n\n  getUrlUsertagPage(userId) {\n    if (userId[0] === \"@\") userId = userId.substring(1);\n    return `/user/${userId}`;\n  }\n\n  getUrlPostPage(postId) {\n    return this.getAppPrefix(`post/${postId}`);\n  }\n\n  getUrlCommentPage(commentId) {\n    return this.getAppPrefix(`comment/${commentId}`);\n  }\n\n  getUrlUserProfilePage(username) {\n    return this.getAppPrefix(`user/${username}`);\n  }\n\n  getUrlNotificationsAll() {\n    return this.getAppPrefix(`notifications`);\n  }\n\n  getUrlNotificationsMentions() {\n    return this.getAppPrefix(`notifications/mentions`);\n  }\n\n  /**\n   * Explore URL: /explore or /explore/topic/:topic\n   *\n   * @param {string} topic topic to get results from server\n   */\n  getUrlExplore(topic) {\n    let url = Util.StringIsEmpty(topic) ? \"explore\" : \"explore/topic/\" + topic;\n    return this.getAppPrefix(url);\n  }\n\n  getUrlHome() {\n    return this.getAppPrefix(\"\");\n  }\n\n  getUrlLogin() {\n    return this.getAppPrefix(\"login\");\n  }\n\n  getUrlLogout() {\n    return this.getAppPrefix(\"logout\");\n  }\n\n  getUrlSignup() {\n    return this.getAppPrefix(\"signup\");\n  }\n\n  getUrlDashboard() {\n    return this.getAppPrefix(\"\");\n  }\n\n  getUrlWelcome() {\n    return this.getAppPrefix(\"welcome\");\n  }\n\n  getUrlNotFound() {\n    return this.getAppPrefix(\"notfound\");\n  }\n\n  // ----------------------- API URL Constructions ------------------------------\n\n  /**\n   * Construct API endpoint url for retrieving stats on an object\n   *\n   * @param {string} type object type. This may not match ModelType constants,\n   * so best to look up the endpoint. For example, ModelType.COMMENT is \"cm\"\n   * while the endpoint uses \"comment\" as in /u/comment/:commentId/...\n   * @param {string[]} objectId\n   * @param {boolean} inclObj true to also fetch and return the XObject instance\n   * @return {string} derived URL\n   */\n  apiGetObjectStats(type, objectId, inclObj = false) {\n    if (!objectId) {\n      this.error(\"apiGetObjectStats\", \"no tagnames given\");\n      return;\n    }\n\n    let query = this.getURL(this.urlHost, `/s/${type}/${objectId}/stats/`);\n    if (inclObj === true) query += `?${API.INCL_OBJ}=true`;\n\n    return query;\n  }\n\n  /**\n   * Construct API URL for GetUserSettings\n   *\n   * @param {string[]} userId in array or delimited by comma\n   * @param {string[]} props field names in array or delimited by comma\n   */\n  apiGetUserSettings(userId, section, props = null) {\n    if (!userId || !section) {\n      console.error(\"apiGUS: ?null\");\n      return;\n    }\n\n    if (props != null) props = Array.isArray(props) ? props.join(\",\") : props;\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/settings/${section}`,\n    );\n    if (props) query += \"?props=\" + JSON.stringify(props);\n\n    return query;\n  }\n\n  // ------------------------- LANGUAGE SUPPORT --------------------------\n\n  getSupportedLanguageCodes() {\n    return [LanguageCodes.ENGLISH, LanguageCodes.CHINESE_SIMPLIFIED];\n  }\n\n  /**\n   * Return entire language list of supported languages, or just the\n   * record of the desired language code\n   *\n   * @param {string} langCode\n   * @param {string=} defaultVal optional backup language. Default will be English\n   * @return {object[]} either full language map keyed off code, or the record\n   * for the given code\n   */\n  getSupportedLanguageList(langCode = null, defaultVal = null) {\n    let langList = SupportedLanguageList;\n    let result;\n    if (langCode) {\n      result = Util.GetObjectFromArrayByValue(langList, \"code\", langCode);\n      if (result == null) {\n        if (defaultVal == null) defaultVal = LanguageCodes.ENGLISH;\n        result = Util.GetObjectFromArrayByValue(langList, \"code\", defaultVal);\n      }\n    } else result = langList;\n    return result;\n  }\n\n  /**\n   * Return current locale (language + country)\n   *\n   * @param {*} defaultVal\n   * @return {string} \"en\" for now\n   */\n  getLanguagePref(defaultVal = \"en\") {\n    let lang = this.getSessionVar(UserProps.LANGUAGE, null);\n    if (lang == null) {\n      let xUserInfo = this.getXUserInfo();\n      lang = xUserInfo ? xUserInfo.getLanguagePref(defaultVal) : defaultVal;\n    }\n    return lang;\n  }\n\n  /**\n   *\n   * @param {string} langCode language code\n   * @return {boolean} true if set, false if something happened\n   */\n  setLanguagePref(langCode, sessionOnly = true) {\n    if (langCode == null) return false;\n    let prevCode = this.setSessionVar(UserProps.LANGUAGE, langCode);\n    if (prevCode !== langCode) {\n      let xUserInfo = new XUserInfo();\n      xUserInfo.setLanguagePref(langCode);\n      this.updateUserInfo(xUserInfo);\n    }\n    return true;\n  }\n\n  // ------------------------- NOTIFICATION -----------------------------\n\n  /**\n   * Construct API URL for user alert count (/u/user/:userId/count/alerts/:targetId)\n   *\n   * @param {string} userId user of the alerts (logged in currently)\n   * @param {string} field field to retrieve (default is unread)\n   * @return {string} fully qualified URL\n   */\n  apiUserAlertCount(userId, field = \"unread\", props = null) {\n    if (!userId) {\n      this.error(\"apiUserAlertCount\", \"no userId or targetId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/count/alerts/${field}`,\n    );\n    if (props) query += \"&props=\" + JSON.stringify(props);\n\n    return query;\n  } // apiUserAlertCount\n\n  /**\n   * Construct API URL for user alerts (/uuser/:userId/alerts\n   *\n   * @param {string} userId user for alerts (logged in currently)\n   * @param {string} field field to retrieve (default is unread)\n   * @param {number} max maximum number of alerts to retrieve\n   * @return {string} fully qualified URL\n   */\n  apiUserAlerts(userId, field = \"\", max = 20, props = null) {\n    if (!userId) {\n      this.error(\"apiUserAlert\", \"no userId or targetId given\");\n      return false;\n    }\n\n    if (props == null) props = {};\n    props[API.BATCH_SIZE] = max;\n\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(this.urlHost, `/u/user/${userId}/alerts/${field}`);\n    if (props) query += \"?props=\" + JSON.stringify(props);\n\n    return query;\n  } // apiUserAlerts\n\n  /**\n   * Construct API URL for user alerts status (/u/user/:userId/alerts/status/)\n   *\n   * @param {string} userId alerts for user (logged in currently)\n   * @param {string[]} alertIds array if Ids to check/get. Note this\n   * is mostly likely in the body using POST\n   * @return {string} fully qualified URL\n   */\n  apiUserAlertsStatus(userId, alertIds = null) {\n    if (!userId) {\n      return false;\n    }\n    let idString = alertIds ? alertIds.join(\",\") : null;\n\n    let query = this.getURL(this.urlHost, `/u/user/${userId}/alerts/status/`);\n    if (idString) query += \"?ids=\" + idString;\n\n    return query;\n  } // apiUserAlertsStats\n\n  /**\n   * Construct API URL for confirmation by Id\n   *\n   * @param {string} confirmId alerts for user (logged in currently)\n   * @param {string} sourceId array if Ids to check/get. Note this\n   * is mostly likely in the body using POST\n   * @return {string} fully qualified URL\n   */\n  apiConfirmById(confirmId, sourceId) {\n    if (!confirmId) {\n      this.error(\"apiCBI\");\n      return false;\n    }\n    let query = this.getURL(this.urlHost, `/s/confirm/${confirmId}`);\n    if (sourceId) query = `${query}/src/${sourceId}`;\n\n    return query;\n  } // apiConfirmById\n\n  // ---------------------------- FEED -----------------------------------\n\n  /**\n   * Add parameters to given URL related to batch fetching.\n   *\n   * @param {string} url\n   * @param {number} offset if null then set to zero\n   * @param {number} max maximum to return in this batch size\n   * @param {number} startTime point in time as starting point for fetch in either direction\n   * @param {string} direction fetch direction. Either API.DIRECTION_FORWARD or API.DIRECTION_BACKWARD\n   * @param {string=} starter default to '?' and assume no other params already (dumb, I know)\n   */\n  appendFetchParams(\n    url,\n    offset,\n    max,\n    startTime,\n    direction,\n    starter,\n    isComment = false,\n  ) {\n    if (offset == null) offset = 0;\n\n    if (starter == null) starter = \"?\";\n    url += `?${API.OFFSET}=${offset}`;\n    if (max) url += `&${API.BATCH_SIZE}=${max}`;\n    if (startTime) url += `&${API.START_TS}=${startTime}`;\n    if (direction) url += `&${API.DIRECTION}=${direction}`;\n    url += `&incl=posts|${\n      isComment ? \"stats\" : \"poststats\"\n    }|userinfo|shared|liked`;\n    return url;\n  }\n\n  // ------------------------ FOLLOW API URL -----------------------------\n\n  /**\n   * Construct API URL for user follows (/u/:userId/follows/:targetId)\n   *\n   * @param {string} userId ID of following user (logged in currently)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiAddFollows(userId, targetId, props = null) {\n    if (!targetId) {\n      this.error(\"apiAddFollows\", \"no userId or targetId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/follows/${targetId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // addFollows\n\n  /**\n   * Construct API URL for user follows (/u/:userId/follows/:targetId)\n   *\n   * @param {string} userId ID of following user (logged in currently)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiUserFollowStatus(userId, targetId, props = null) {\n    if (!targetId || !userId) {\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/follows/${targetId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiGetUserFollowStatus\n\n  /**\n   * Construct API URL for user followers (/u/:userId/follows/:targetId)\n   *\n   * @param {string} userId ID of following user (logged in currently)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiUserFollowerStatus(userId, followerId, props = null) {\n    if (!userId && !followerId) {\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${followerId}/follows/${userId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiGetUserFollowStatus\n\n  /**\n   * Construct API URL for retrieving follows (/u/:userId/follows/)\n   *\n   * @param {string} userId ID of users follows currently logged in\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiGetFollows(userId, props = null) {\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(this.urlHost, `/u/user/${userId}/followings/`);\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // getFollows\n\n  /**\n   * Construct API URL for retrieving follows (/u/:userId/followers/)\n   *\n   * @param {string} userId ID to retrieve followers for\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiGetFollowers(userId, props = null) {\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(this.urlHost, `/u/user/${userId}/followers/`);\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // getFollows\n\n  /**\n   * Construct API URL for user follows (/u/:userId/follows/:targetId)\n   *\n   * @param {string} userId ID of following user (logged in currently)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   *\n   * @see #apiAddFollows\n   * @see #apiGetFollows\n   * @see #apiRemoveFollows\n   */\n  apiRemoveFollows(userId, targetId, props = null) {\n    if (!targetId) {\n      this.error(\"apiRemoveFollows\", \"no userId or targetId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/unfollows/${targetId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiRemoveFollows\n\n  /**\n   * Construct API URL for user follows (/u/:userId/blocks/:targetId)\n   *\n   * @param {string} userId ID to block follower user (logged in currently)\n   * @param {string} followerId follower to block\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiBlockFollower(userId, followerId, props = null) {\n    if (!followerId) {\n      this.error(\"apiBlockFollower\", \"no userId or followerId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/blocks/${followerId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiBlockFollower\n\n  /**\n   * Construct API URL for user follows (/u/:userId/unblocks/:targetId)\n   *\n   * @param {string} userId ID to block follower user (logged in currently)\n   * @param {string} followerId follower to block\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiUnblockFollower(userId, followerId, props = null) {\n    if (!followerId) {\n      this.error(\"apiUnblockFollower\", \"no userId or followerId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/unblocks/${followerId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiUnblockFollower\n\n  /**\n   * Construct API URL to mute (/u/:userId/mutes/:targetId)\n   *\n   * @param {string} userId ID to mute user (logged in currently)\n   * @param {string} followerId user to mute\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiMuteFollower(userId, followerId, props = null) {\n    if (!followerId) {\n      this.error(\"apiMuteFollower\", \"no userId or followerId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/mutes/${followerId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiMuteFollower\n\n  /**\n   * Construct API URL to unmute (/u/:userId/unmutes/:targetId)\n   *\n   * @param {string} userId ID to unmute user (logged in currently)\n   * @param {string} followerId user to unmute\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiUnmuteFollower(userId, followerId, props = null) {\n    if (!followerId) {\n      this.error(\"apiUnmuteFollower\", \"no userId or followerId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/unmutes/${followerId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiUnmuteFollower\n\n  // ------------------------ LIKE OBJECT API URL -----------------------------\n\n  /**\n   * Construct API URL for user like (/u/user/:userId/likes/{type}/:objectId)\n   *\n   *\n   * @param {string} userId\n   * @param {string} type object type (see ModelType)\n   * @param {string} objectId\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiAddLikeObject(userId, type, objectId, props = null) {\n    if (!objectId) {\n      this.error(\"apiAddLikeObj\", \"no userId or objectId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/likes/${type}/${objectId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiAddLikeObject\n\n  /**\n   * Construct API URL for user likes (/u/user/:userId/likes/{type}/:objectId)\n   *e\n   * @param {string} userId ID of liking user (logged in currently)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiUserLikeObjectStatus(userId, type, objectId, props = null) {\n    if (!objectId || !userId) {\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/likes/${type}/${objectId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiGetUserLikeObjectStatus\n\n  /**\n   * Construct API URL for retrieving follows (/u/:userId/likes/rl)\n   *\n   * @param {string} userId ID of users follows currently logged in\n   * @param {string} type object type (see ModelType)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiGetLikesObject(userId, type, props = null) {\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(this.urlHost, `/u/user/${userId}/likes/${type}/`);\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiGetLikesObject\n\n  /**\n   * Construct API URL for retrieving follows (/u/:type/:objectId/liked/)\n   *\n   * @param {string} type object type (see ModelType)\n   * @param {string} objectId ID to retrieve likes for\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiGetLikedObject(type, objectId, props = null) {\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(this.urlHost, `/u/${type}/${objectId}/liked/`);\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiGetLikedPost\n\n  /**\n   * Construct API URL for user follows (/u/:userId/unlike/:type/:objectId)\n   *\n   * @param {string} userId ID of following user (logged in currently)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   *\n   * @see #apiAddLikesRL\n   * @see #apiGetLikesRL\n   */\n  apiRemoveLikeObject(userId, type, objectId, props = null) {\n    if (!objectId) {\n      this.error(\"apiRmLikeObject\", \"no userId or objectId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/unlike/${type}/${objectId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiRemoveLikeObject\n\n  // ------------------------ LIKE POST API URL -----------------------------\n\n  /**\n   * Construct API URL for user follows (/u/user/:userId/likes/rl/:postId)\n   *\n   * @param {string} userId ID of following user (logged in currently)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiAddLikePost(userId, postId, props = null) {\n    return this.apiAddLikeObject(userId, ModelType.POST, postId, props);\n    // if (!postId) {\n    //   this.error(\"apiAddLikePost\", \"no userId or postId given\");\n    //   return false;\n    // }\n    // props = Array.isArray(props) ? props.join(\",\") : props;\n\n    // let query = this.getURL( this.urlHost, `/u/user/${userId}/likes/post/${postId}`);\n    // if (props) query += \"&props=\" + props;\n\n    // return query;\n  } // apiAddLikePost\n\n  /**\n   * Construct API URL for user likes (/u/user/:userId/likes/post/:postId)\n   *\n   * @param {string} userId ID of liking user (logged in currently)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiUserLikePostStatus(userId, postId, props = null) {\n    if (!postId || !userId) {\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/likes/post/${postId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiGetUserLikePostStatus\n\n  /**\n   * Construct API URL for retrieving follows (/u/:userId/likes/post)\n   *\n   * @param {string} userId ID of users follows currently logged in\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiGetLikesPost(userId, props = null) {\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(this.urlHost, `/u/user/${userId}/likes/post/`);\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiGetLikesPost\n\n  /**\n   * Construct API URL for retrieving follows (/u/:userId/followers/)\n   *\n   * @param {string} postId ID to retrieve post\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiGetLikedPost(postId, props = null) {\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(this.urlHost, `/u/post/${postId}/liked/`);\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiGetLikedRL\n\n  /**\n   * Construct API URL for user follows (/u/:userId/unlike/rl/:postId)\n   *\n   * @param {string} userId ID doing the like removal\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   *\n   * @see #apiAddLikesPost\n   * @see #apiGetLikesPost\n   */\n  apiRemoveLikePost(userId, postId, props = null) {\n    if (!postId) {\n      this.error(\"apiRemoveLikePost\", \"no userId or post given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/unlike/post/${postId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiRemoveLikePost\n\n  // ------------------------- SHARE API -------------------------------\n\n  /**\n   * Construct API URL for user shares (/u/user/:userId/likes/:type/:objectId)\n   *\n   * @param {string} userId ID of sharing user (logged in currently)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiUserShareObjectStatus(userId, type, objectId, props = null) {\n    if (!objectId || !userId) {\n      return false;\n    }\n    if (type == null) {\n      this.error(\"apiGetUserShareStatus\", \"null type\");\n      this.trace();\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/shares/${type}/${objectId}`, // deprecated - remove in 2021\n      // `/u/user/${userId}/shares/${type}/${objectId}`,  // use this in 2021\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  } // apiGetUserShareObjectStatus\n\n  /**\n   *\n   * @param {XMObject} xmObject\n   *\n   * @return {boolean}\n   */\n  userCanShare(xmObject) {\n    // let userId = this.getUserId();\n\n    if (xmObject.hasACL() === false) return true;\n\n    return true;\n  }\n\n  // ------------------------- USER SHARE SERVICES ------------------------------\n\n  /**\n   * Submit sharing of a post. \"Sharing\" in this csae is basically\n   * a \"repost\" without any added content. This mean it is\n   * literally a share. Standard POST is used.\n   *\n   * For reposting with user's own content, use userRepost()\n   *\n   * @param {string} postId post to share by logged in user\n   * @param {string} text additional text from reposter\n   *\n   * @return {string} updated share status \"y\" or \"n\"\n   *\n   * @see ~SubmitRepost\n   */\n  async userSharesPost(postId, text, callback) {\n    const _m = \"userSharesPost\";\n\n    let loggedInUserId = this.getUserId();\n    let shareStatus;\n    let error = null;\n    try {\n      let getUrl = this.getURL(\n        this.urlHost,\n        `/u/user/${loggedInUserId}/shares/post/${postId}`,\n      );\n      let content = {\n        text: text,\n      };\n      shareStatus = await this.requestPOST(getUrl, content);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      shareStatus = null;\n    }\n\n    return callback ? callback(error, shareStatus) : shareStatus;\n  } // userSharesPost\n\n  /**\n   * remove shares.\n   *\n   *\n   * @param {string} postId  postItem id\n   *\n   * @return {string} updated share status \"y\" or \"n\"\n   *\n   * @see ~SubmitRepost\n   */\n  async userUnshares(postId, action, callback) {\n    const _m = \"userUnsharesPost\";\n\n    let loggedInUserId = this.getUserId();\n    let unshareStatus;\n    let error = null;\n    try {\n      let getUrl = this.getURL(\n        this.urlHost,\n        `/u/user/${loggedInUserId}/shares/${\n          action === \"p\" ? \"post\" : \"comment\"\n        }/${postId}`,\n      );\n      unshareStatus = await this.requestDELETE(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      unshareStatus = null;\n    }\n\n    return callback ? callback(error, unshareStatus) : unshareStatus;\n  } // userUnshares\n\n  /**\n   * Submit sharing of a comment. \"Sharing\" in this csae is basically\n   * a \"repost\" without any added content. This mean it is\n   * literally a share. Standard POST is used.\n   *\n   * For reposting with user's own content, use submitRepost()\n   *\n   * @param {string} commentId post to share by logged in user\n   * @param {string} text additional text from reposter\n   *\n   * @return {string} updated share status \"y\" or \"n\"\n   *\n   * @see ~SubmitRepost\n   */\n  async userSharesComment(commentId, callback) {\n    const _m = \"userSharesComment\";\n\n    let loggedInUserId = this.getUserId();\n    let shareStatus;\n    let error = null;\n    try {\n      let getUrl = this.getURL(\n        this.urlHost,\n        `/u/user/${loggedInUserId}/shares/comment/${commentId}`,\n      );\n      let content = null;\n      shareStatus = await this.requestPOST(getUrl, content);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      shareStatus = null;\n    }\n\n    return callback ? callback(error, shareStatus) : shareStatus;\n  } // userSharesComment\n\n  /**\n   * Retrieve answer to whether the logged in user is sharing post\n   *\n   * @param {string[]} postId\n   * @param {string[]} props properties to include (array or comma delimited string)\n   * Null to include defaults which is title only.\n   *\n   * @return {string} \"y\" or \"no\"\n   */\n  async userSharePostStatus(postId, props = null, callback) {\n    const _m = \"userSharePostStatus\";\n\n    let statusValue = null;\n    let error = null;\n    let userId = this.getUserId();\n    if (!postId || !userId) {\n      return \"no\";\n    }\n    try {\n      let url = this.apiUserShareObjectStatus(userId, \"post\", postId, props);\n      statusValue = await this.requestGET(url, null);\n    } catch (e) {\n      this.error(_m, \"server returned error:\", e);\n      error = e;\n      statusValue = null;\n    }\n    return callback ? callback(error, statusValue) : statusValue;\n  } // userSharePostStatus\n\n  /**\n   * Retrieve answer to whether the logged in user is sharing post\n   *\n   * @param {string[]} commentId\n   * @param {string[]} props properties to include (array or comma delimited string)\n   * Null to include defaults which is title only.\n   *\n   * @return {string} \"y\" or \"no\"\n   */\n  async userShareCommentStatus(commentId, props = null, callback) {\n    const _m = \"userShareCommentStatus\";\n\n    let statusValue = null;\n    let error = null;\n    let userId = this.getUserId();\n    if (!commentId || !userId) {\n      return \"no\";\n    }\n    try {\n      let url = this.apiUserShareObjectStatus(\n        userId,\n        \"comment\",\n        commentId,\n        props,\n      );\n      statusValue = await this.requestGET(url, null);\n    } catch (e) {\n      this.error(_m, \"server returned error:\", e);\n      error = e;\n      statusValue = null;\n    }\n    return callback ? callback(error, statusValue) : statusValue;\n  } // userShareCommentStatus\n\n  // ------------------------ WATCH OBJECT API URLs -----------------------------\n\n  /**\n   * Construct API URL for user watching an object. The URL for this\n   * API should be (POST): /u/user/:userId/watch/{type}/:objId\n   *\n   * @param {string} type object's type name (tag, rl, etc)\n   * @param {string} userId ID of following user (logged in currently)\n   * @param {string} objectId ID of object to watch\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiAddWatchObject(type, userId, objectId, props = null) {\n    if (!objectId && !objectId) {\n      this.error(\"apiAddWatchObj\", \"no userId or objId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/watch/${type}/${objectId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  }\n\n  /**\n   * Construct API URL for status of the object the user may be watching. The\n   * URL for this API should be (GET): /u/user/:userId/watch/{type}/:objId\n   *\n   * @param {string} type object's type name (tag, rl, etc)\n   * @param {string} userId ID of the user\n   * @param {string} objectId ID of the object watched\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiUserWatchObjectStatus(type, userId, objectId, props = null) {\n    if (!objectId || !type || !userId) {\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/watch/${type}/${objectId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  }\n\n  /**\n   * Construct API URL for retrieving follows (/u/:userId/watch/rl)\n   *\n   * @param {string} userId ID of users follows currently logged in\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiGetWatchesObject(type, userId, props = null) {\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(this.urlHost, `/u/user/${userId}/watch/${type}/`);\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  }\n\n  /**\n   * Construct API URL for retrieving watchers (/u/:type/:objectId/watched/)\n   *\n   * @param {string} type object's type name (tag, rl, etc)\n   * @param {string} objectId ID to retrieve followers for\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   */\n  apiGetObjectWatchers(type, objectId, props = null) {\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(this.urlHost, `/u/${type}/${objectId}/watched/`);\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  }\n\n  /**\n   * Construct API URL for user follows (/u/:userId/unlike/:type/:objectId)\n   *\n   * @param {string} type object's type name (tag, rl, etc)\n   * @param {string} userId ID of following user (logged in currently)\n   * @param {string[]} props field names in array or delimited by comma\n   * @return {string} fully qualified URL\n   *\n   */\n  apiRemoveWatchObject(type, userId, objectId, props = null) {\n    if (!objectId) {\n      this.error(\"apiRmWatchObject\", \"no userId or objectId given\");\n      return false;\n    }\n    props = Array.isArray(props) ? props.join(\",\") : props;\n\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/unwatch/${type}/${objectId}`,\n    );\n    if (props) query += \"&props=\" + props;\n\n    return query;\n  }\n\n  // -------------------------- Privilege Check ---------------------------\n\n  userIsGod() {\n    return this.portal.userIsGod();\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userHasAdminRole() {\n    return this.portal.userHasAdminRole();\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userHasSysAdminRole() {\n    return this.portal.userHasSysAdminRole();\n  }\n\n  userHasModeratorRole() {\n    return this.portal.userHasModeratorRole();\n  }\n\n  /**\n   * Not Used\n   *\n   * @return {boolean}\n   */\n  userHasPreviewFeatures() {\n    return this.portal.userHasPreviewFeatures();\n  }\n\n  /**\n   * @deprecated\n   *\n   * @return {boolean}\n   */\n  userHasSocialFeatures() {\n    return true;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userHasFeature(featureId) {\n    return this.getSession().userHasFeature(featureId);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userHasFeatureDisabled(featureId) {\n    return this.getSession().userHasFeatureDisabled(featureId);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userCanFollow() {\n    return this.userHasFeature(FEATURE_FOLLOW_USER);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userCanPost() {\n    return this.userHasFeature(FEATURE_SUBMIT_POST);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userCanRepost() {\n    return this.userHasFeature(FEATURE_REPOST);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userCanReplyPost() {\n    return this.userHasFeature(FEATURE_REPLY_POST);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userCanReplyComment() {\n    return this.userHasFeature(FEATURE_REPLY_COMMENT);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userCanLike() {\n    return this.userHasFeature(FEATURE_LIKE);\n  }\n\n  /**\n   * Determine if the given resource can be edited\n   * by current logged in user.\n   *\n   * @param {XMObject} instance of XMObject subclass\n   *\n   * @return {boolean}\n   */\n  canEditResource(xmObject) {\n    let isOwner = this.userIsOwner(xmObject);\n    if (isOwner) return true;\n\n    if (this.userHasModeratorRole()) return true;\n\n    // ACL check - Future/TBD\n\n    return false;\n  } // canEditResource\n\n  canShareResource(xmObject) {\n    return true;\n  }\n\n  canDeleteResource(xmObject) {\n    return this.canEditResource(xmObject);\n  }\n\n  canSubmitPost() {\n    return this.userHasFeature(FEATURE_SUBMIT_POST);\n  }\n\n  // --------------------------------------------------------------------------\n\n  /**\n   * Determine if the given object's owner is the\n   * logged in user.\n   *\n   * @param {XMObject} xmObject\n   *\n   * @return {booleaan}\n   */\n  userIsOwner(xmObject) {\n    let loggedInUserId = this.getUserId();\n    if (loggedInUserId == null) return false;\n\n    let objectOwnerId = xmObject.getOwnerId();\n\n    // simple check for now\n    return loggedInUserId === objectOwnerId;\n  } // userIsOwner\n\n  trackContainer(container) {\n    this.appContainer = container;\n  }\n\n  async refreshContainer() {\n    if (this.appContainer) this.appContainer.refreshView(true);\n  }\n\n  /**\n   * Retrieve stats on an object\n   *\n   * @param {string} type object type\n   * @param {string[]} objectId\n   * @param {boolean} inclObj also return the XObject for which the stats are for\n   *\n   * @return {XObjectStat, [XObject, XObjectStat]}\n   */\n  async fetchObjectStats(type, objectId, inclObj = false, callback) {\n    const _m = \"fetchObjectStatus\";\n\n    let result;\n    let error = null;\n    try {\n      let apiUrl = this.apiGetObjectStats(type, objectId, inclObj);\n      result = await this.requestGET(apiUrl, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n    return callback ? callback(error, result) : result;\n  } // fetchObjectStats\n\n  // ----------------------- USER NEWS FEED --------------------------------\n\n  /**\n   * Fetch user timline using /u/user/:userId/timeline. Timeline includes\n   * all user followings posts.\n   *\n   * @param {string} userId which user to retrieve posts for?\n   * @param {number} offset offset into start position of the expected query\n   * @param {number} size batch size\n   * @param {number} startTS timestamp where the posts streaming should start\n   * @callback (err, PostList)\n   * @return {PostList}\n   */\n  async fetchUserTimeline(\n    userId,\n    offset = null,\n    size = null,\n    startTS,\n    direction,\n    callback,\n  ) {\n    let _m = `getUserTimeline(${userId})`;\n    this.log(_m, `Fetching: offset=${offset}, max=${size}`);\n    let err = null;\n    let feedList;\n    try {\n      let url = this.getURL(this.urlHost, `/u/user/${userId}/timeline`);\n      url = this.appendFetchParams(url, offset, size, startTS, direction);\n      let result = await this.requestGET(url, null);\n      feedList = XPostFeed.Wrap(result);\n    } catch (e) {\n      this.log(_m, e);\n      if (callback == null) throw e;\n    }\n\n    return callback ? callback(err, feedList) : feedList;\n  } // fetchUserTimeline\n\n  async fetchUserPostsFeed(userId, offset, size, startTS, direction, callback) {\n    return this.fetchUserTimeline(\n      userId,\n      offset,\n      size,\n      startTS,\n      direction,\n      callback,\n    );\n  }\n\n  /**\n   * Fetch user posts /u/user/:userId/posts. This\n   * must be called on behalf of the user request (therefore /u).\n   *\n   * @param {string} userId which user to retrieve posts for?\n   * @param {number} offset offset into start position of the expected query\n   * @param {number} size batch size\n   * @param {number} startTS timestamp where the posts streaming should start\n   * @callback (err, PostList)\n   * @return {PostList}\n   */\n  async fetchUserPosts(\n    userId,\n    offset = null,\n    size = null,\n    startTS,\n    direction,\n    callback,\n    options = null,\n    medias = null,\n  ) {\n    let _m = `getUserPosts(${userId})`;\n    this.log(_m, `Fetching: offset=${offset}, max=${size}`);\n    let err = null;\n    let feedList;\n    try {\n      let url = this.getURL(this.urlHost, `/u/user/${userId}/posts`);\n      url = this.appendFetchParams(\n        url,\n        offset,\n        size,\n        startTS,\n        direction,\n        null,\n        options === \"c\" || options === \"l\" ? true : false,\n      );\n      let result = await this.requestGET(\n        url +\n          (medias ? \"&fp=f_um\" : \"&fp=f_u\") +\n          (options ? options : medias ? \"\" : \"o\"),\n        null,\n      );\n      feedList = XPostFeed.Wrap(result);\n    } catch (e) {\n      this.log(_m, e);\n      if (callback == null) throw e;\n    }\n\n    return callback ? callback(err, feedList) : feedList;\n  } // fetchUserPostFeed\n\n  async getSearchByPhrase(phrase, offset, max, callback) {\n    let _m = `getSearchByPhrase(${phrase})`;\n    let err = null;\n    let feedList;\n\n    try {\n      let encodedPhrase = \"#\" + phrase.slice(3);\n      let url = this.getURL(this.urlHost, `/u/posts/srch/phrase`);\n      let result = await this.requestPOST(url, {\n        q: encodedPhrase,\n        offset,\n        max,\n      });\n      feedList = XPostFeed.Wrap(result);\n    } catch (e) {\n      this.log(_m, e);\n      if (callback === null) throw e;\n    }\n    return callback ? callback(err, feedList) : feedList;\n  }\n\n  async getTopSearchResult(phrase, offset, max, callback) {\n    let _m = `getSearchByPhrase(${phrase})`;\n\n    let feedList;\n    let err;\n\n    try {\n      let url = this.getURL(this.urlHost, `/u/posts/srch/phrase`);\n      let result = await this.requestPOST(url, {\n        q: phrase,\n        offset,\n        max,\n      });\n\n      feedList = XPostFeed.Wrap(result);\n    } catch (e) {\n      err = e;\n      this.log(_m, e);\n      if (callback === null) throw e;\n    }\n    return callback ? callback(feedList || err) : feedList || err;\n  }\n\n  /**\n   * Execute search of posts by phrase and return a batch of posts using the\n   * feed format.\n   *\n   * @param {string} phrase a string that user typed\n   * @param {number} offset offset into start position of the expected query\n   * @param {number} size batch size\n   * @param {number} startTS timestamp where the posts streaming should start\n   * @param {function} callback\n   * @return {XPostFeed} collection of XPostItems, which wrap\n   */\n  async getSearchPostsFeed(\n    phrase,\n    offset = null,\n    size = null,\n    startTS,\n    direction,\n    callback,\n  ) {\n    let _m = \"\";\n    // this.log(_m, `Fetching for userId: ${userId}`);\n    let err = null;\n    let url = this.getURL(this.urlHost, `/u/posts/srch/phrase`); // @depcrecated\n    // let url = this.getURL(this.urlHost, `/u/posts/srch/phrase`); // to use with 12/3/2020 checkin but need to be pushed to cloud\n\n    url = this.appendFetchParams(url, offset, size, startTS, direction);\n    let params = {\n      q: phrase,\n    };\n    let feedList;\n    try {\n      let result = await this.requestPOST(url, params);\n      feedList = XPostFeed.Wrap(result);\n    } catch (e) {\n      this.log(_m, e);\n      throw e;\n    }\n\n    return callback ? callback(err, feedList) : feedList;\n  } // getSearchPostsFeed\n\n  /**\n   * Return a feed of posts that system identify as trendy / news. This\n   * is more suitable as a home page.\n   *\n   * @param {string} topics\n   * @param {number} offset\n   * @param {number} size\n   * @callback\n   * @return {XPostFeed}\n   */\n  async getTrendsPostsFeed(\n    topics,\n    offset = null,\n    size = null,\n    startTs,\n    lang,\n    callback = null,\n  ) {\n    if (!lang) lang = \"en\";\n    const _m = \"gTPF\";\n    let err;\n    let url = this.getURL(this.urlHost, `/u/posts/trends`);\n    url = this.appendFetchParams(url, offset, size, startTs);\n    if (lang) url += `&${API.FILTER_LANGUAGE_PREF}=${lang}`;\n    let params = topics\n      ? {\n          [API.FILTER_LANGUAGE_PREF]: topics,\n          [API.FILTER_TOPICS]: lang,\n        }\n      : null;\n    let feedList;\n    try {\n      let result = await this.requestGET(url, params);\n      feedList = XPostFeed.Wrap(result);\n    } catch (e) {\n      this.log(_m, e);\n      err = e;\n      if (!callback) throw e;\n    }\n    return callback ? callback(err, feedList) : feedList;\n  }\n\n  /**\n   * Fetch post with post stats and userinfo as piggybacked data\n   * in aux fields.\n   *\n   * @param {string} commentId\n   * @callback\n   * @return {XMPost} comment object with aux data\n   * keyed by ModelType.COMMENT_STATS and ModelType.USERINFO\n   */\n  fetchPostWithStats_UserInfo(commentId, callback) {\n    let inclOptions = API.INCL_POSTSTATS + \"|\" + API.INCL_USERINFO;\n    return this.fetchPost(commentId, inclOptions, false, callback);\n  }\n\n  /**\n   * Fetch a post object\n   *\n   * @param {string} postId ID for post\n   * @param {string} inclOptions API.INCL_POSTSTATS|API.INCL_USERINFO\n   * @param {boolean} cache true to ask ObjectManager to track it\n   * @return {XMPost}\n   * @callback {XError, XMPost}\n   *\n   * @see ~fetchPostWithStatsAndUser\n   */\n  fetchPost(postId, inclOptions = null, cache = false, callback) {\n    let _m = `fetchPost(${postId})`;\n    let p = new Promise((resolve, reject) => {\n      let processResults = (err, postObj) => {\n        if (err) {\n          this.error(_m, `Error post ${postId}`);\n          console.error(err);\n          return callback ? callback(err, null) : reject(err);\n        }\n        if (callback) callback(null, postObj);\n        resolve(postObj);\n      };\n      let params = inclOptions ? {[API.PARAM_INCL]: inclOptions} : null;\n      this.user_getResource(\n        postId,\n        ModelType.POST,\n        params,\n        cache,\n        processResults,\n      );\n    });\n\n    return p;\n  }\n\n  /**\n   * Retrieve stats for a post\n   *\n   * @param {string[]} postId\n   * @param {boolean} inclObj include XMPost object in the return result\n   *\n   * @return {XPostStat | [XMPost,XPostStat]} either single object, or two objects\n   */\n  async fetchPostStats(postId, inclObj = false, callback) {\n    const _m = \"fetchPostStats\";\n\n    let result;\n    let error = null;\n\n    try {\n      let apiUrl = this.apiGetObjectStats(ModelType.POST, postId, inclObj);\n      result = await this.requestGET(apiUrl, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n    return callback ? callback(error, result) : result;\n  }\n\n  // ----------------------------- COMMENTS ------------------------------\n\n  /**\n   * Fetch comments of a post, or as replies of a comment.  Currently\n   * we determine which by the prefix of the Id\n   *\n   * @param {string} parentId either postId or a commentId.\n   * @param {number} offset offset into start position of the expected query\n   * @param {number} size batch size\n   * @param {number} startTS timestamp where the posts streaming should start\n   * @callback (err, XCommentFeed)\n   * @return {XCommentFeed}\n   */\n  async fetchComments(\n    parentId,\n    offset = null,\n    size = null,\n    startTS,\n    direction,\n    callback,\n  ) {\n    let isComment = parentId.startsWith(PREFIX_COMMENT_ID) ? true : false;\n    let _m = `fetchComments(${isComment ? \"comment\" : \"post\"}:${parentId})`;\n    this.log(_m, `Fetching: offset=${offset}, max=${size}`);\n    let err = null;\n\n    let endpoint = isComment\n      ? `/u/comment/${parentId}/comments`\n      : `/u/post/${parentId}/comments`;\n\n    let feedList;\n    try {\n      let url = this.getURL(this.urlHost, endpoint);\n      url = this.appendFetchParams(\n        url,\n        offset,\n        size,\n        startTS,\n        direction,\n        null,\n        true,\n      );\n      let result = await this.requestGET(url, null);\n      feedList = XCommentFeed.Wrap(result); // should already been wrapped...\n    } catch (e) {\n      this.log(_m, e);\n      if (callback == null) throw e;\n    }\n\n    return callback ? callback(err, feedList) : feedList;\n  } // fetchComments\n\n  /**\n   * Fetch a comment object with piggybacked comment stats,\n   * user info, associated post object, and its post stats\n   *\n   * @param {string} commentId\n   * @callback\n   *\n   * @return {XMComment} comment object with aux object\n   * keyed by ModelType.COMMENT_STATS and ModelType.USERINFO,\n   * ModelType.POST, and ModelType.POST_STATS\n   */\n  fetchCommentWithStats_UserInfo_Post(commentId, callback) {\n    // API.STATS will be honored by all objects, but in this case we don't\n    // want UserInfo to come back with UserStats\n    let inclOptions = `${API.INCL_COMMENTSTATS}|${API.INCL_USERINFO}|${API.INCL_POSTS}|${API.INCL_POSTSTATS}`;\n    return this.fetchComment(commentId, inclOptions, false, callback);\n  }\n\n  /**\n   * Fetch a comment object with piggybacked comment stats and userinfo\n   *\n   * @param {string} commentId\n   * @callback\n   *\n   * @return {XMComment} comment object with aux object\n   * keyed by ModelType.COMMENT_STATS and ModelType.USERINFO\n   */\n  fetchCommentWithStats_UserInfo(commentId, callback) {\n    let inclOptions = API.INCL_COMMENTSTATS + \"|\" + API.INCL_USERINFO;\n    return this.fetchComment(commentId, inclOptions, false, callback);\n  }\n\n  /**\n   * Fetch a comment object from server\n   *\n   * @param {string} commentId ID for post\n   * @param {string} inclOptions INCL_COMMENTSTATS|INCL_USERINFO\n   * @param {boolean} cache true to ask ObjectManager to track it\n   * @return {XMComment}\n   * @callback {XError, XMComment}\n   *\n   * @see ~fetchComment\n   */\n  fetchComment(commentId, inclOptions, cache = false, callback) {\n    let _m = `fetchComment(${commentId})`;\n    let p = new Promise((resolve, reject) => {\n      let processResults = (err, commentObj) => {\n        if (err) {\n          this.error(_m, `Error comment ${commentId}`);\n          console.error(err);\n          return callback ? callback(err, null) : reject(err);\n        }\n        if (callback) callback(null, commentObj);\n        resolve(commentObj);\n      };\n      let params = inclOptions ? {[API.PARAM_INCL]: inclOptions} : null;\n      this.user_getResource(\n        commentId,\n        \"comment\",\n        params,\n        cache,\n        processResults,\n      );\n    });\n\n    return p;\n  }\n\n  /**\n   * Retrieve comment stats object from server\n   *\n   * @param {string[]} commentId\n   * @param {boolean} inclObj include XMPost object in the return result\n   *\n   * @return {XMCommentStat | [XMComment,XMCommentStats]} either single object, or two objects\n   */\n  async fetchCommentStats(commentId, inclObj = false, callback) {\n    const _m = \"fetchCommentStats\";\n\n    let result;\n    let error = null;\n\n    try {\n      let apiUrl = this.apiGetObjectStats(\"comment\", commentId, inclObj);\n      result = await this.requestGET(apiUrl, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n    return callback ? callback(error, result) : result;\n  }\n\n  // --------------------------- USER SERVICES -----------------------------\n\n  /**\n   * Check whether a user exists.\n   *\n   * NOTE: currently, it does not return user status, which includes suspended/inactive.\n   * So it's mainly used for use during sign-up\n   *\n   * @param {string[]} userId\n   * @param {string[]} props properties to include (array or comma delimited string)\n   * Null to include defaults which is title only.\n   *\n   * @return {object} map with tagname is key, and requested props: {title: <text>} as default\n   */\n  async checkUserExists(userId, callback) {\n    const _m = \"chkUID\";\n    let verdict = null;\n    let error = null;\n    try {\n      let checkUserUrl = this.getURL(this.urlHost, `/u/user/${userId}/exists`);\n      verdict = await this.requestGET(checkUserUrl, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n    }\n    return callback ? callback(error, verdict) : verdict;\n  } // checkUserExists\n\n  /**\n   * Check whether an email exists.\n   *\n\n   * @param {string[]} email\n   *\n   * @return {object} map with tagname is key, and requested props: {title: <text>} as default\n   */\n  async checkEmailExists(email, callback) {\n    const _m = \"chkEm\";\n    let verdict = false;\n    let error = null;\n    if (Util.EmailIsValid(email)) {\n      try {\n        const encoded = encodeURIComponent(email);\n        let checkUserUrl = this.getURL(\n          this.urlHost,\n          `/s/email/exists?email=${email}`,\n        );\n        verdict = await this.requestGET(checkUserUrl, null);\n      } catch (e) {\n        this.error(_m, e);\n        error = e;\n      }\n    } else {\n      error = new XError.New(ErrorCodes.USER_BAD_INPUT, \"Invalid Email\");\n    }\n\n    return callback ? callback(error, verdict) : verdict;\n  } // checkEmailExists\n\n  /**\n   * Get user's status with the system\n   *\n   * @param {string[]} userId\n   *\n   * @return {string} user status (see UserProps.STATUS)\n   */\n  async getUserStatus(userId, callback) {\n    const _m = \"getUserStatus\";\n    let verdict = null;\n    let error = null;\n    try {\n      let checkUserUrl = this.getURL(this.urlHost, `/s/user/${userId}/status`);\n      // debugger;\n      verdict = await this.requestGET(checkUserUrl, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n    }\n    return callback ? callback(error, verdict) : verdict;\n  } // checkUserStatus\n\n  /**\n   * Retrieve nickname from userID. This convenient\n   * method assumes user object is already in cache.\n   *\n   * @param {string} userId user ID to lookup\n   */\n  getUserNickname(userId, defaultVal = null) {\n    let om = this.getObjectManager();\n    let usrObj = om.getFromCache(userId, null, null);\n\n    return usrObj ? usrObj.getNickname() : defaultVal;\n  }\n\n  async updateUserProfile(objId, data, userId) {\n    let _m = \"updateUserProfile\";\n    let token = this.portal.getUserToken();\n    let error = null;\n    let result = null;\n    try {\n      let formData = new FormData();\n\n      for (let key in data) {\n        if (key === \"username\") {\n          formData.append(\"nickname\", data.username);\n        } else if (key === \"bio\") {\n          formData.append(\"dsc\", data.bio);\n        } else if (data[key] === \"ico\") {\n          formData.append(key, data[key]);\n        } else if (data[key] === \"bgimg\") {\n          formData.append(key, data[key]);\n        } else {\n          formData.append(key, data[key]);\n        }\n      }\n      let postUrl = this.getURL(this.urlHost, `/u/user/${userId}/profile`);\n\n      let xAuth =\n        userId === null\n          ? `{\"user\": null, \"token\": null}`\n          : `{\"user\": \"${userId}\", \"token\": \"${token}\"}`;\n      let config = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          \"x-app-auth\": xAuth,\n        },\n      };\n      result = await axios({\n        url: postUrl,\n        method: \"post\",\n        data: formData,\n        ...config,\n      });\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n    }\n    return result;\n  }\n\n  /**\n   * Fetch a user info record from server\n   *\n   * @param {string} userId use user ID\n   * @param params any arguments or filters\n   * @callback\n   * @return {XUserInfo}\n   */\n  async fetchUserInfo(userId, params, callback) {\n    let _m = \"fetchUserInfo\";\n    let p = new Promise((resolve, reject) => {\n      let processResults = (err, userInfo) => {\n        // this.log(_m, \"user info retrieved:\", userInfo);\n        if (err) {\n          this.error(_m, err);\n          if (callback) callback(err, null);\n          reject(err);\n        } else {\n          if (callback) callback(null, userInfo);\n          resolve(userInfo);\n        }\n      }; // processResults\n      this.getResource(\n        userId,\n        ModelType.USER_INFO,\n        null,\n        false,\n        processResults,\n      );\n    });\n\n    return p;\n  } // fetchuserInfo\n\n  /**\n   * Force refresh of user info by reading from server and\n   * then update session/cookie\n   *\n   * @param {function} callback in case not using promise\n   */\n  async refreshUserInfo(callback) {\n    let userInfo;\n    let errObj;\n    try {\n      let userId = this.getUserId();\n      userInfo = await this.fetchUserInfo(userId);\n      if (userInfo) {\n        // this.log(\"refreshUserInfo\", \"info\", userInfo);\n        this.updateUserInfo(userInfo);\n      }\n    } catch (err) {\n      if (callback == null) throw err;\n    }\n    return callback ? callback(errObj, userInfo) : userInfo;\n  } // refreshUserInfo\n\n  /**\n   * Invalidate a settings group and force re-retrieve.\n   *\n   * @param {string} section one of UserProps.SETTINGS_*\n   * @param {{}} params pass to server\n   * @param {function} callback in case not using promise\n   */\n  async invalidateSettings(section, params, callback) {\n    // for now, we only allow refreshing the profile section\n    if (UserProps.SETTINGS_PROFILE !== section) return;\n\n    return this.refreshUserInfo(callback);\n  } // invalidateSettings\n\n  /**\n   * Fetch a user settings record from server\n   *\n   * @param {string} userId use user ID\n   * @param {string} section one of UserProps.SETTINGS_*\n   * @param {{}} params any arguments or filters\n   * @return {XUserInfo} subclass of it which is basically specific\n   * settings like XAccountSettings, XProfileSettings, etc.\n   */\n  async fetchUserSettings(userId, section, params, callback) {\n    const _m = \"fetchUserSettings\";\n    let settingsObj;\n    let error = null;\n    try {\n      let getSettingsUrl = this.apiGetUserSettings(userId, section, params);\n      settingsObj = await this.requestGET(getSettingsUrl, null);\n      settingsObj = XMObject.Wrap(settingsObj);\n    } catch (e) {\n      this.error(_m, \"server returned error:\", e);\n      error = e;\n      settingsObj = null;\n    }\n    return callback ? callback(error, settingsObj) : settingsObj;\n  } // fetchUserSettings\n\n  /**Update a user settings (delta) record to server\n   *\n   * @param {string} userId use user ID\n   * @param {string} section settings type defined in UserProps.SETTINGS_*\n   * @param {XDeepDiff} settingsChanges changes to update\n   * @param {{}} params any arguments or filters\n   * @return {XUserInfo} updated settings object of types like\n   * XAccountSettings, XProfileSettings, etc.\n   */\n  async updateUserSettings(userId, section, settingsChanges, params, callback) {\n    const _m = \"uUrSt\";\n    let settingsObj;\n    let settingsData = XMObject.Unwrap(settingsChanges);\n    let encryptedData = Util.EncryptJSON(settingsData);\n    let error = null;\n    try {\n      let updateSettingsUrl = this.apiGetUserSettings(userId, section, params);\n      settingsObj = await this.requestPOST(updateSettingsUrl, encryptedData);\n      settingsObj = XMObject.Wrap(settingsObj);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      settingsObj = null;\n    }\n\n    // If settings is profile, then we need to update user info\n    if (this.isLoggedInUser(userId)) this.invalidateSettings(section);\n\n    return callback ? callback(error, settingsObj) : settingsObj;\n  } // updateUserSettings\n\n  /**\n   * Initiate an user stat update from server, which will\n   * update in session variables.\n   *\n   * @param {{}} props control what stats to update\n   *\n   * @callback\n   */\n  async updateUserStats(props, callback) {\n    let userId = this.getUserId();\n    let statsObj = await this.fetchUserStats(userId, props);\n    // Update session\n    if (statsObj) {\n      this.getSession().updateUserStats(statsObj);\n    }\n  }\n\n  /**\n   * Retrieve latest in stats of (current) user and update\n   * the profile\n   *\n   * @param {string[]} userId\n   * @param {string[]} props properties to include (array or comma delimited string)\n   * Null to include defaults which is title only.\n   *\n   * @return {object} map with tagname is key, and requested props: {title: <text>} as default\n   */\n  async fetchUserStats(userId, props = null, callback) {\n    const _m = \"fetchUserStats\";\n    let statsObj;\n    let error = null;\n    try {\n      let url = this.getURL(this.urlHost, `/s/user/${userId}/stats/`);\n      if (props) {\n        // props = Array.isArray(props) ? props.join(\",\") : props;\n        url += \"?props=\" + JSON.stringify(props);\n      }\n      statsObj = await this.requestGET(url, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      statsObj = null;\n    }\n    return callback ? callback(error, statsObj) : statsObj;\n  } // fetchUserStats\n\n  /**\n   * Retrieve tag stats\n   *\n   * @param {string[]} tagId\n   * @param {string[]} props properties to include (array or comma delimited string)\n   * Null to include defaults which is title only.\n   *\n   * @return {object} map with tagname is key, and requested props: {title: <text>} as default\n   */\n  async fetchTagStats(tagId, props = null, callback) {\n    const _m = \"fetchTagStats\";\n\n    let statsObj;\n    let error = null;\n    try {\n      let apiUrl = this.apiGetCategoryStats(tagId, props);\n      statsObj = await this.requestGET(apiUrl, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      statsObj = null;\n    }\n    return callback ? callback(error, statsObj) : statsObj;\n  } // fetchTagStats\n\n  // ----------------------- TOPIC CATEGORIES -----------------------------\n\n  /**\n   * Submit update of interested topic categories for a user\n   *\n   * @param {string[]} topicIds array of topic category identifiers as\n   * specified in ModelConst.CATEGORY_*. If one, still submit as a string\n   *\n   *\n   * @return {string[]} all user interested topics\n   */\n  async submitTopics(topicIds, callback) {\n    const _m = \"setTopics\";\n    let error = null;\n    let userTopics = null;\n    try {\n      const userId = this.getUserId();\n      let submitTopicsUrl = this.getURL(\n        this.urlHost,\n        `/s/user/${userId}/topics`,\n      );\n      let data = {\n        [API.PARAM_CATEGORIES]: API.CreateOptions(topicIds),\n      };\n      userTopics = await this.requestPOST(submitTopicsUrl, data);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n    }\n    return callback ? callback(error, userTopics) : userTopics;\n  } // submitTopics\n\n  /**\n   * Return all available topic (IDs). The Ids should be mappable\n   * to translations.\n   *\n   * @return {string[]} topicIds array of topic category identifiers as\n   * specified in ModelConst.CATEGORY_*. If one, still submit as a string\n   *\n   * @return {string[]} all user interested topics\n   */\n  async fetchAvailableTopics(callback) {\n    const _m = \"gTopics\";\n    let error = null;\n\n    // We have these topic Ids in constants, so no need to\n    // make a call to server for now.\n    let topicIds = TOPIC_CATEGORIES;\n    // try {\n    //   const userId = this.getUserId();\n    //   let getTopicsUrl = this.getURL(this.urlHost, `/s/topics`);\n    //   topicIds = await this.requestGET(getTopicsUrl);\n    // } catch (e) {\n    //   this.error(_m, e);\n    //   error = e;\n    // }\n    return callback ? callback(error, topicIds) : topicIds;\n  } // fetchAvailableTopics\n\n  // --------------------- ALERT SERVICE ----------------------\n\n  /**\n   * Get alert count\n   *\n   * @param {string} userId user to get count, or null for logged in user\n   * @param {{}} props future\n   * @param {*} defaultVal if no value is retrieved.\n   *\n   * @return {number} count\n   */\n  async fetchAlertCount(\n    userId = null,\n    props = null,\n    defaultVal = -1,\n    callback,\n  ) {\n    const _m = \"fetchAlertCount\";\n\n    let loggedInUserId = userId ? userId : this.getUserId();\n    let alertCount;\n    let field = \"unread\";\n    let error = null;\n    try {\n      let getUrl = this.apiUserAlertCount(loggedInUserId, field, props);\n      let result = await this.requestGET(getUrl);\n      if (result) alertCount = result[field];\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      alertCount = defaultVal;\n    }\n\n    return callback ? callback(error, alertCount) : alertCount;\n  } // fetchAlertCount\n\n  /**\n   * Fetch User alerts\n   * @param {string} userId\n   * @param {*} props\n   * @param {*} defaultVal\n   * @callback\n   * @return {XMUserAlerts} wrapper to XUserAlert instances and XVarData\n   */\n  async fetchAlerts(userId = null, props = null, defaultVal = null, callback) {\n    const _m = \"fetchAlerts\";\n\n    let loggedInUserId = userId ? userId : this.getUserId();\n\n    /** @type {XMUserAlert} */\n    let retval;\n    let field = \"\";\n    let max = 20;\n    let error = null;\n    try {\n      let getUrl = this.apiUserAlerts(loggedInUserId, field, max, props);\n      retval = await this.requestGET(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      retval = defaultVal;\n    }\n\n    return callback ? callback(error, retval) : retval;\n  } // fetchAlerts\n\n  /**\n   * Get alert count\n   *\n   * @param {string} userId user to get count, or null for logged in user\n   * @param {{}} props future\n   * @param {*} defaultVal if no value is retrieved.\n   *\n   * @return {number} count\n   */\n  async markAlertsRead(alertIds, props = null, callback) {\n    const _m = \"markAlertsRead\";\n\n    let loggedInUserId = this.getUserId();\n    let returnVal;\n    if (props == null) props = {};\n\n    // for now...\n    props[API.ALERT_IDS] = alertIds;\n    props[API.READ_TS] = Date.now();\n    props[API.READ_MEDIUM] = MessageProps.MEDIUM_APP;\n    let error = null;\n    try {\n      let getUrl = this.apiUserAlertsStatus(loggedInUserId, null, null);\n      returnVal = await this.requestPOST(getUrl, props);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      returnVal = null;\n    }\n\n    return callback ? callback(error, returnVal) : returnVal;\n  } // fetchAlertCount\n\n  // --------------------- FOLLOWS SERVICE ----------------------\n\n  /**\n   * Add a \"userId follows :anotherUserId\"\n   *\n   * @param {string} targetUserId user to follow\n   *\n   * @return {XUserInfo} upated user info with new follow\n   */\n  async userFollows(targetUserId, props = null, callback) {\n    const _m = \"userFollows\";\n\n    let loggedInUserId = this.getUserId();\n    let followStatus;\n    let error = null;\n    try {\n      let getUrl = this.apiAddFollows(loggedInUserId, targetUserId, props);\n      followStatus = await this.requestPOST(getUrl);\n    } catch (e) {\n      // response object in here is not an xResObj\n      this.error(_m, e);\n      error = e;\n      followStatus = null;\n    }\n    return callback ? callback(error, followStatus) : followStatus;\n  } // userFollows\n\n  /**\n   * Retrieve answer to whether the logged in user is following\n   * a given user.\n   *\n   * @param {string[]} userId\n   * @param {string[]} props properties to include (array or comma delimited string)\n   * Null to include defaults which is title only.\n   *\n   * @return {object} map with tagname is key, and requested props: {title: <text>} as default\n   */\n  async userFollowStatus(targetUserId, props = null, callback) {\n    const _m = \"userFollowStatus\";\n\n    let statusValue = null;\n    let error = null;\n    let userId = this.getUserId();\n    if (!targetUserId || !userId) {\n      return false;\n    }\n    try {\n      let getUserStatsUrl = this.apiUserFollowStatus(\n        userId,\n        targetUserId,\n        props,\n      );\n      statusValue = await this.requestGET(getUserStatsUrl, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      statusValue = SocialProps.STATUS_UNKNOWN;\n    }\n    return callback ? callback(error, statusValue) : statusValue;\n  } // userFollowStatus\n\n  /**\n   * Retrieve answer to whether the logged in user is following\n   * a given user (or pending or blocked).\n   *\n   * @param {string[]} followerId userId for the follower of logged in user\n   * @param {string[]} props properties to include (array or comma delimited string)\n   * Null to include defaults which is title only.\n   *\n   * @return {string} status PROP_ACCEPTED, PROP_PENDING, PROP_BLOCKED or null\n   */\n  async userFollowerStatus(followerId, props = null, callback) {\n    const _m = \"userFollowerStatus\";\n\n    let statusValue = null;\n    let error = null;\n    let userId = this.getUserId();\n    if (!followerId || !userId) {\n      return null;\n    }\n    try {\n      let getUserStatsUrl = this.apiUserFollowerStatus(\n        userId,\n        followerId,\n        props,\n      );\n      statusValue = await this.requestGET(getUserStatsUrl, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      statusValue = null;\n    }\n    return callback ? callback(error, statusValue) : statusValue;\n  } // userFollowStatus\n\n  /**\n   * Add a \"userId unfollows :anotherUserId\"\n   *\n   * @param {string} targetUserId user to unfollow\n   *\n   * @return {XUserInfo} updated user info with follow removed\n   */\n  async userUnfollows(targetUserId, props = null, callback) {\n    const _m = \"userUnfollows\";\n\n    let loggedInUserId = this.getUserId();\n    let followStatus;\n    let error = null;\n    try {\n      let getUrl = this.apiRemoveFollows(loggedInUserId, targetUserId, props);\n      followStatus = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      followStatus = null;\n    }\n\n    return callback ? callback(error, followStatus) : followStatus;\n  } // userUnfollows\n\n  /**\n   * Request blocking of a user from logged in user\n   *\n   * @param {string} targetUserId user to block\n   *\n   * @return {XUserInfo} updted user info with follow removed\n   */\n  async userBlocksFollower(targetUserId, props = null, callback) {\n    const _m = \"userBlocksFollower\";\n\n    let loggedInUserId = this.getUserId();\n    let followStatus;\n    let error = null;\n    try {\n      let getUrl = this.apiBlockFollower(loggedInUserId, targetUserId, props);\n      followStatus = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      followStatus = null;\n    }\n\n    return callback ? callback(error, followStatus) : followStatus;\n  } // userBlocksUser\n\n  /**\n   * Request unblocking of a user from logged in user\n   *\n   * @param {string} targetUserId user to block\n   *\n   * @return {XUserInfo} updted user info with follow removed\n   */\n  async userUnblocksFollower(targetUserId, props = null, callback) {\n    const _m = \"userUnblocksFollower\";\n\n    let loggedInUserId = this.getUserId();\n    let followStatus;\n    let error = null;\n    try {\n      let getUrl = this.apiUnblockFollower(loggedInUserId, targetUserId, props);\n      followStatus = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      followStatus = null;\n    }\n\n    return callback ? callback(error, followStatus) : followStatus;\n  } // userBlocksUser\n\n  /**\n   * Request mute a user for logged in user\n   *\n   * @param {string} targetUserId user to mute\n   *\n   * @return {XUserInfo} updted user info with follow removed\n   */\n  async userMutesFollower(targetUserId, props = null, callback) {\n    const _m = \"userMutesFollower\";\n\n    let loggedInUserId = this.getUserId();\n    let followStatus;\n    let error = null;\n    try {\n      let getUrl = this.apiMuteFollower(loggedInUserId, targetUserId, props);\n      followStatus = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      followStatus = null;\n    }\n\n    return callback ? callback(error, followStatus) : followStatus;\n  } // userMutesUser\n\n  /**\n   * Request unmute a user for logged in user\n   *\n   * @param {string} targetUserId user to mute\n   *\n   * @return {XUserInfo} updted user info with follow removed\n   */\n  async userUnmutesFollower(targetUserId, props = null, callback) {\n    const _m = \"userUnmutesFollower\";\n\n    let loggedInUserId = this.getUserId();\n    let followStatus;\n    let error = null;\n    try {\n      let getUrl = this.apiUnmuteFollower(loggedInUserId, targetUserId, props);\n      followStatus = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      followStatus = null;\n    }\n\n    return callback ? callback(error, followStatus) : followStatus;\n  } // userUnmutesUser\n\n  /**\n   * Fetch a user follows instance, which contains user IDs\n   * that this user is following.\n   *\n   * @param {string} userId poll configuration ID\n   * @param {{}} params API.INCL_REFOBJS, API.INCL_STATS\n   * @callback\n   *\n   * @see ~fetchUserFollowsInclRefs\n   */\n  async fetchUserFollows(userId, params, callback) {\n    let _m = `fetchUserFollows(${userId})`;\n    let loggedInUserId = userId ? userId : this.getUserId();\n    let followObj;\n    let error = null;\n    try {\n      let getUrl = this.apiGetFollows(loggedInUserId, params);\n      followObj = await this.requestGET(getUrl);\n      followObj = XMFollows.Wrap(followObj);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      followObj = null;\n    }\n\n    return callback ? callback(error, followObj) : followObj;\n  } // fetchUserFollows\n\n  /**\n   *\n   * @param {string} userId\n   * @param {{}} params\n   * @param {boolean} cache true to ask ObjectManager to track it\n   * @callback\n   */\n  fetchUserFollowsInclRefs(userId, params, cache = false, callback) {\n    if (params == null) params = {};\n\n    // The content is not evaluated at the server; only that\n    // this parameter is passed (as of 3/2019)\n    params[API.INCL_REFOBJS] = {\n      [XObject.PROP_TAGS]: {\n        [XObject.PROP_TITLE]: \"en_us\",\n      },\n    };\n\n    return this.fetchUserFollows(userId, params, cache, callback);\n  }\n\n  /**\n   * Fetch a user follows instance, which contains user IDs\n   * that this user is following.\n   *\n   * @param {string} userId poll configuration ID\n   * @param {{}} params API.INCL_REFOBJS, API.INCL_STATS\n   * @callback\n   */\n  async fetchUserFollowers(userId, params, callback) {\n    let _m = `fUF(${userId})`;\n    let loggedInUserId = userId ? userId : this.getUserId();\n    let followerObj;\n    let error = null;\n    try {\n      let getUrl = this.apiGetFollowers(loggedInUserId, params);\n      followerObj = await this.requestGET(getUrl);\n      followerObj = XMFollowers.Wrap(followerObj);\n    } catch (e) {\n      this.error(_m, \"server returned error:\", e);\n      error = e;\n      followerObj = null;\n    }\n\n    return callback ? callback(error, followerObj) : followerObj;\n  } // fetchUserFollowers\n\n  /**\n   *\n   * @param {string} userId\n   * @param {{}} params\n   * @param {boolean} cache true to ask ObjectManager to track it\n   * @callback\n   */\n  fetchUserFollowersInclRefs(userId, params, cache = false, callback) {\n    if (params == null) params = {};\n\n    // The content is not evaluated at the server; only that\n    // this parameter is passed (as of 3/2019)\n    params[API.INCL_REFOBJS] = {\n      [XObject.PROP_TAGS]: {\n        [XObject.PROP_TITLE]: \"en_us\",\n      },\n    };\n\n    return this.fetchUserFollowers(userId, params, cache, callback);\n  }\n\n  // ------------------- WATCHES/WATCHED POSTS -----------------\n\n  /**\n   * Fetch all tags that a user is watching\n   *\n   * @param {string} userId\n   * @param {{}} params API.INCL_REFOBJS, API.INCL_STATS\n   * @callback\n   * @return {XMWatchesPost}\n   */\n  async fetchWatchesPost(userId, params, callback) {\n    let _m = `fetchWatchesPost(${userId})`;\n    let loggedInUserId = userId ? userId : this.getUserId();\n    let xWatches;\n    let error = null;\n    try {\n      let getUrl = this.apiGetWatchesObject(\n        ModelType.POST,\n        loggedInUserId,\n        params,\n      );\n      xWatches = await this.requestGET(getUrl);\n      xWatches = XMWatchesPost.Wrap(xWatches);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      xWatches = null;\n    }\n    return callback ? callback(error, xWatches) : xWatches;\n  }\n\n  /**\n   * Fetch a user follows instance, which contains user IDs\n   * that this user is following.\n   *\n   * @param {string} postId poll configuration ID\n   * @param {{}} params API.INCL_REFOBJS, API.INCL_STATS\n   * @callback\n   */\n  async fetchPostWatchers(postId, params, callback) {\n    let _m = `fetchPostWatchers(${postId})`;\n    let loggedInUserId = postId ? postId : this.getUserId();\n    let xWatchers;\n    let error = null;\n    try {\n      let getUrl = this.apiGetObjectWatchers(\n        ModelType.POST,\n        loggedInUserId,\n        params,\n      );\n      xWatchers = await this.requestGET(getUrl);\n\n      xWatchers = XMWatchedPost.Wrap(xWatchers);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      xWatchers = null;\n    }\n    return callback ? callback(error, xWatchers) : xWatchers;\n  }\n\n  // --------------------- LIKES POST SERVICE ----------------------\n\n  /**\n   * Add a \"userId likes :postId\"\n   *\n   * @param {string} postId user to follow\n   *\n   * @return {string} updated like status \"y\" or \"n\"\n   */\n  async userLikesPost(postId, props = null, callback) {\n    const _m = \"userLikesPost\";\n\n    let loggedInUserId = this.getUserId();\n    let likeStatus;\n    let error = null;\n    try {\n      let getUrl = this.apiAddLikeObject(\n        loggedInUserId,\n        ModelType.POST,\n        postId,\n        props,\n      );\n      likeStatus = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      likeStatus = null;\n    }\n\n    return callback ? callback(error, likeStatus) : likeStatus;\n  } // userLikesPost\n\n  /**\n   * Request to unlike a post\n   *\n   * @param {string} postId user to unfollow\n   *\n   * @return {XUserInfo} upated user info with follow removed\n   */\n  async userUnlikesPost(postId, props = null, callback) {\n    const _m = \"userUnlikesPost\";\n\n    let loggedInUserId = this.getUserId();\n    let likeStatus;\n    let error = null;\n    try {\n      let getUrl = this.apiRemoveLikeObject(\n        loggedInUserId,\n        ModelType.POST,\n        postId,\n        props,\n      );\n      likeStatus = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      likeStatus = null;\n    }\n\n    return callback ? callback(error, likeStatus) : likeStatus;\n  } // userUnlikesPost\n\n  /**\n   * Retrieve answer to whether the logged in user has liked\n   * the given post.\n   *\n   * @param {string[]} postId\n   * @param {string[]} props properties to include (array or comma delimited string)\n   * Null to include defaults which is title only.\n   *\n   * @return \"y\" or \"no\"\n   */\n  async userLikePostStatus(postId, props = null, callback) {\n    const _m = \"fULPS\";\n\n    let statusValue = null;\n    let error = null;\n    let userId = this.getUserId();\n    if (!postId || !userId) {\n      return \"no\";\n    }\n    try {\n      let url = this.apiUserLikeObjectStatus(\n        userId,\n        ModelType.POST,\n        postId,\n        props,\n      );\n      statusValue = await this.requestGET(url, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      statusValue = null;\n    }\n    return callback ? callback(error, statusValue) : statusValue;\n  } // userLikePostStatus\n\n  // --------------------- LIKES COMMENT SERVICE ----------------------\n\n  /**\n   * Add a \"userId likes :commentId\"\n   *\n   * @param {string} commentId user to follow\n   *\n   * @return {string} updated like status \"y\" or \"n\"\n   */\n  async userLikesComment(commentId, props = null, callback) {\n    const _m = \"userLikesPost\";\n\n    let loggedInUserId = this.getUserId();\n    let likeStatus;\n    let error = null;\n    try {\n      let getUrl = this.apiAddLikeObject(\n        loggedInUserId,\n        \"comment\",\n        commentId,\n        props,\n      );\n      likeStatus = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      likeStatus = null;\n    }\n\n    return callback ? callback(error, likeStatus) : likeStatus;\n  } // userLikesPost\n\n  /**\n   * Request to unlike a post\n   *\n   * @param {string} commentId user to unfollow\n   *\n   * @return {XUserInfo} upated user info with follow removed\n   */\n  async userUnlikesComment(commentId, props = null, callback) {\n    const _m = \"fUUCS\";\n\n    let loggedInUserId = this.getUserId();\n    let likeStatus;\n    let error = null;\n    try {\n      let getUrl = this.apiRemoveLikeObject(\n        loggedInUserId,\n        \"comment\",\n        commentId,\n        props,\n      );\n      likeStatus = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      likeStatus = null;\n    }\n\n    return callback ? callback(error, likeStatus) : likeStatus;\n  } // userUnlikesComment\n\n  /**\n   * Retrieve answer to whether the logged in user has liked\n   * the given post.\n   *\n   * @param {string[]} commentId\n   * @param {string[]} props properties to include (array or comma delimited string)\n   * Null to include defaults which is title only.\n   *\n   * @return \"y\" or \"no\"\n   */\n  async userLikeCommentStatus(commentId, props = null, callback) {\n    const _m = \"fULCS\";\n\n    let statusValue = null;\n    let error = null;\n    let userId = this.getUserId();\n    if (!commentId || !userId) {\n      return \"no\";\n    }\n    try {\n      let url = this.apiUserLikeObjectStatus(\n        userId,\n        \"comment\",\n        commentId,\n        props,\n      );\n      statusValue = await this.requestGET(url, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      statusValue = null;\n    }\n    return callback ? callback(error, statusValue) : statusValue;\n  } // userLikeCommentStatus\n\n  // --------------------- WATCH OBJECT SERVICE ----------------------\n\n  /**\n   * Add a \"userId watches :objectId\"\n   *\n   * @param {string} objectId object to watch\n   *\n   * @return {string} updated like status \"y\" or \"n\"\n   */\n  async userWatchesObject(type, objectId, props = null, callback) {\n    const _m = \"userWatchesObject\";\n\n    let loggedInUserId = this.getUserId();\n    let watchStatus;\n    let error = null;\n    try {\n      let url = this.apiAddWatchObject(type, loggedInUserId, objectId, props);\n      watchStatus = await this.requestPOST(url);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      watchStatus = null;\n    }\n\n    return callback ? callback(error, watchStatus) : watchStatus;\n  }\n\n  /**\n   * Request to unwatch an object\n   *\n   * @param {string} objectId object to unwatch\n   *\n   * @return {XUserInfo} upated user info with follow removed\n   */\n  async userUnwatchesObject(type, objectId, props = null, callback) {\n    const _m = \"userUnwatchesObject\";\n\n    let loggedInUserId = this.getUserId();\n    let watchStatus;\n    let error = null;\n    try {\n      let url = this.apiRemoveWatchObject(\n        type,\n        loggedInUserId,\n        objectId,\n        props,\n      );\n      watchStatus = await this.requestPOST(url);\n    } catch (e) {\n      this.error(_m, \"server returned error:\", e);\n      error = e;\n      watchStatus = null;\n    }\n\n    return callback ? callback(error, watchStatus) : watchStatus;\n  }\n\n  /**\n   * Get watch status on the specified object type/id\n   *\n   * @param {string[]} objectId\n   * @param {string[]} props properties to include (array or comma delimited string)\n   * Null to include defaults which is title only.\n   *\n   * @return \"y\" or \"no\"\n   */\n  async userWatchObjectStatus(type, objectId, props = null, callback) {\n    const _m = \"userWatchObjectStatus\";\n\n    let statusValue = null;\n    let error = null;\n    let userId = this.getUserId();\n    if (!objectId || !userId) {\n      return \"no\";\n    }\n    try {\n      let url = this.apiUserWatchObjectStatus(type, userId, objectId, props);\n      statusValue = await this.requestGET(url, null);\n    } catch (e) {\n      this.error(_m, \"server returned error:\", e);\n      error = e;\n      statusValue = null;\n    }\n    return callback ? callback(error, statusValue) : statusValue;\n  }\n\n  // --------------------- (PASSWORD) CHANGE REQUEST -------------------------\n\n  /**\n   * Fetch existing XMUserRequest instance.\n   *\n   * @param {string} requestId\n   * @callback\n   */\n  fetchUserRequest(requestId, cache = false, callback) {\n    // let _m = `fetchUserRequest(${templateId})`;\n\n    let processResults = (err, rlObj) => {\n      if (err) {\n        console.log(err);\n        return callback ? callback(err, null) : null;\n      }\n\n      if (callback) callback(null, rlObj);\n      else return rlObj;\n    };\n\n    this.getResource(\n      requestId,\n      ModelType.USER_REQUEST,\n      null,\n      cache,\n      processResults,\n    );\n  } // fetchUserRequest\n\n  /**\n   * Send password change request to verified contact path (e.g., email)\n   *\n   * @param {XUserInfo} userInfo\n   * @param {XAuthInfo} authInfo\n   * @param {string} requestType either REQUEST_EMAIL or REQUEST_SMS as wish\n   *\n   * @return {XMUserConfirm} confirmation object\n   */\n  async initiatePasswordChange(userInfo, authInfo, requestType, callback) {\n    const _m = \"initPwdChange\";\n\n    let content = {};\n    if (userInfo) content[\"userinfo\"] = XObject.Unwrap(userInfo);\n    if (authInfo) content[\"authinfo\"] = XObject.Unwrap(authInfo);\n\n    let encrypted = Util.EncryptJSON(content);\n\n    let confirmObj;\n    let error = null;\n\n    // type may become an option to allow user to choose how to send request (by email or sms)\n    // let type = (confirmType === UserProps.CONFIRM_SMS) ? UserProps.SMS : UserProps.EMAIL;\n    try {\n      let apiUrl = this.getURL(this.urlHost, `/s/request/pwdchg`);\n      confirmObj = await this.requestPOST(apiUrl, encrypted);\n    } catch (e) {\n      this.error(_m, \"server error:\", e);\n      error = e;\n      confirmObj = null;\n    }\n    return callback ? callback(error, confirmObj) : confirmObj;\n  }\n\n  /**\n   * Resend new confirmation based on the given (expired) confirmation.\n   *\n   * @param {string} requestId\n   * @param {string} confirmType either CONFIRM_EMAIL or CONFIRM_SMS\n   *\n   * @return {XMUserConfirm} new confirmation object with different ID\n   */\n  async resendPasswordChangeRequest(requestId, callback) {\n    const _m = \"resentPwdChangeReq\";\n\n    let xRequest;\n    let error = null;\n    try {\n      let apiUrl = this.getURL(this.urlHost, `/s/request/${requestId}/resend`);\n      xRequest = await this.requestGET(apiUrl, null);\n    } catch (e) {\n      this.error(_m, \"server error:\", e);\n      error = e;\n      xRequest = null;\n    }\n    return callback ? callback(error, xRequest) : xRequest;\n  }\n\n  /**\n   * Submit a password change request to server.\n   * This is a pass-thru from\n   * the web app URL: /chgpwd/:requestId when responding to\n   * an email request to change password\n   *\n   * @param {string} curPassword current pasword (clear)\n   * @param {string} newPassword new password (clear)\n   *\n   * @return {string} status PROP_ACCEPTED, PROP_PENDING, PROP_BLOCKED or null\n   *\n   * @see PasswordChangeRoute.submitRequest (route-changepwd.js)\n   */\n  async submitPasswordChange(curPassword, newPassword, callback) {\n    const _m = \"submitPwdChange\";\n\n    let result;\n    let error = null;\n    try {\n      let userId = this.getUserId();\n      let data = {\n        [API.CURRENT_PASSWORD]: curPassword,\n        [API.NEW_PASSWORD]: newPassword,\n      };\n\n      let query = this.getURL(\n        this.urlHost,\n        `/u/user/${userId}/pwdchg?clear=true`,\n      );\n      // if (sourceId) query = `${query}/src/${sourceId}`;\n\n      result = await this.requestPOST(query, data);\n    } catch (e) {\n      this.error(_m, \"server:\", e);\n      error = e;\n      result = null;\n    }\n    return callback ? callback(error, result) : result;\n  } // submitPasswordChange\n\n  /**\n   * Change password\n   *\n   * @param {string} curPassword current pasword (clear)\n   * @param {string} newPassword new password (clear)\n   *\n   * @return {boolean} true to indicate success, or E_AUTH error\n   *\n   */\n  async changePassword(curPassword, newPassword, callback) {\n    const _m = \"chgPwd\";\n\n    let result;\n    let error = null;\n    let username = this.getUsername();\n    try {\n      let query = this.getURL(this.urlHost, `/u/${username}/pwdchg`);\n\n      let curpwd = Util.EncryptPwd(curPassword);\n      let newpwd = Util.EncryptPwd(newPassword);\n\n      let data = {\n        [API.CURRENT_PASSWORD]: curpwd,\n        [API.NEW_PASSWORD]: newpwd,\n      };\n\n      result = await this.requestPOST(query, data);\n    } catch (e) {\n      this.error(_m, \"server:\", e);\n      error = e;\n      result = null;\n    }\n    return callback ? callback(error, result) : result;\n  } // changePassword\n\n  // --------------------- CONFIRMATION / VERIFICATION STATUS -------------------------\n\n  /**\n   * Send verification email/text to user to confirm account (contact method)\n   *\n   * @param {string} userId\n   * @param {string} confirmType either CONFIRM_EMAIL or CONFIRM_SMS\n   *\n   * @return {XMUserConfirm} confirmation object\n   */\n  async verifyContact(userId, confirmType, callback) {\n    const _m = \"verifyContact\";\n\n    let confirmObj;\n    let error = null;\n    let type =\n      confirmType === UserProps.CONFIRM_SMS ? UserProps.SMS : UserProps.EMAIL;\n    try {\n      let apiUrl = this.getURL(\n        this.urlHost,\n        `/s/user/${userId}/verify/${type}`,\n      );\n      confirmObj = await this.requestGET(apiUrl, null);\n    } catch (e) {\n      this.error(_m, \"server error:\", e);\n      error = e;\n      confirmObj = null;\n    }\n    return callback ? callback(error, confirmObj) : confirmObj;\n  }\n\n  /**\n   * Resend new confirmation based on the given (expired) confirmation.\n   *\n   * @param {string} userId\n   * @param {string} confirmType either CONFIRM_EMAIL or CONFIRM_SMS\n   *\n   * @return {XMUserConfirm} new confirmation object with different ID\n   */\n  async resendConfirmation(confirmId, callback) {\n    const _m = \"resendConfirm\";\n\n    let xConfirm;\n    let error = null;\n    try {\n      let apiUrl = this.getURL(this.urlHost, `/s/confirm/${confirmId}/resend`);\n      xConfirm = await this.requestGET(apiUrl, null);\n    } catch (e) {\n      this.error(_m, \"server error:\", e);\n      error = e;\n      xConfirm = null;\n    }\n    return callback ? callback(error, xConfirm) : xConfirm;\n  }\n\n  /**\n   * Send confirmation by an Id to server and get results back.\n   *\n   * @param {string} confirmId confirmation identifier\n   * @param {string} sourceId identifier of source. If null, we'll look up IP\n   *\n   * @return {string} status PROP_ACCEPTED, PROP_PENDING, PROP_BLOCKED or null\n   */\n  async confirmById(confirmId, sourceId, callback) {\n    const _m = \"confirmById\";\n\n    let confirmObj;\n    let error = null;\n    try {\n      let apiUrl = this.apiConfirmById(confirmId, sourceId);\n      confirmObj = await this.requestGET(apiUrl, null);\n      if (confirmObj && confirmObj.isConfirmed(false))\n        this.refreshUserInfo(null);\n    } catch (e) {\n      this.error(_m, \"server:\", e);\n      error = e;\n      confirmObj = null;\n    }\n    return callback ? callback(error, confirmObj) : confirmObj;\n  } // confirmById\n\n  /**\n   * Submit a User Feedback\n   *\n   * @param {string} requestId confirmation identifier\n   * @param {string} sourceId identifier of source. If null, we'll look up IP\n   *\n   * @return {string} status PROP_ACCEPTED, PROP_PENDING, PROP_BLOCKED or null\n   */\n  async submitFeedback(xUserFeedback, callback) {\n    const _m = \"submitFeedback\";\n\n    let result;\n    let error = null;\n    try {\n      let query = this.getURL(this.urlHost, `/s/submit/feedback`);\n\n      result = await this.requestPOST(query, xUserFeedback);\n    } catch (e) {\n      this.error(_m, \"server:\", e);\n      error = e;\n      result = null;\n    }\n    return callback ? callback(error, result) : result;\n  } // submitPasswordChange\n\n  // -------------------------------\n\n  /**\n   * Check if given instance of XMObject can\n   * be updated by the currently logged in user.\n   *\n   * @param {XMObject} xmobject\n   */\n  validateWrite(xmobject) {\n    let loggedInUserId = this.getUserId();\n    let ownerId = xmobject ? xmobject.getOwnerId() : null;\n    if (ownerId == null || loggedInUserId == null) return false;\n\n    if (ownerId !== loggedInUserId) return false;\n\n    return true;\n  } // validateWrite\n\n  // ------------------- HASHTAG / USERTAG RELATED SERVICES ---------------------\n\n  /**\n   *\n   * @param {number} max\n   * @return {XResultList}\n   * @callback\n   */\n  async fetchSuggestedHashtags(offset = null, max = null, callback) {\n    if (!max) max = 20;\n\n    let url = this.getURL(this.urlHost, \"/s/hashtag/suggest\");\n    url += \"?max=\" + max;\n    if (offset) url += \"&offset=\" + offset;\n    return this.requestGET(url, null, callback);\n  }\n\n  /**\n   *\n   * @param {number} max maximum number of userIds to retrieve\n   * @param {number} offset starting position, if different from zero\n   * @return {XResultList}\n   * @callback\n   */\n  async fetchSuggestedUsertags(offset = null, max = null, callback) {\n    if (!max) max = 20;\n    let url = this.getURL(this.urlHost, \"/s/usertag/suggest\");\n    url += \"?max=\" + max;\n    if (offset) url += \"&offset=\" + offset;\n    url += \"&incl=userinfo|followings\";\n\n    let resultList = await this.requestGET(url, null);\n\n    if (callback) return callback(resultList);\n    else return resultList;\n  }\n\n  // --------------- POST-RELATED SEARCHES / FETCHES ----------------------------\n\n  /**\n   * Fetch matching keywords delmited by spaces. hashtags and mentions will give\n   * priority in results, follow by generaal results (eventually).\n   *\n   * @param {string} keywords delimited by space\n   * @param {boolean} inclSelf include own posts?\n   * @param {array} field names to include in the result (catObj for whole object)\n   * @param {number} max\n   * @param {number} min\n   * @return {XResultMap}\n   */\n  async fetchSearchChoices(keywords, max = null, min = null, callback) {\n    // const postProcess = function (err, resultMap) {\n    //   if (err) return callback(err, null);\n    //   // no filter processing\n    //   callback(null, resultMap);\n    // }; // postProcess\n\n    let urlKwdTags = this.getURL(this.urlHost, \"/u/posts/srch/choices\");\n    let result = await this.searchPostPhrase(\n      urlKwdTags,\n      keywords,\n      false,\n      false,\n      max,\n      min,\n      //postProcess,\n    );\n\n    return result;\n  } // fetchKwd2Tags\n\n  async fetchSearchResultChoices(\n    type,\n    phrase,\n    offset = 10,\n    max = null,\n    callback,\n  ) {\n    let url = this.getURL(this.urlHost, \"/u/posts/srch/choices\");\n\n    let apiUrl = url + `?phrase=${encodeURIComponent(type)}${phrase}`;\n    if (offset) apiUrl += `&offset=${offset}`;\n    if (max) apiUrl += `&max=${max}`;\n    if (type !== \"#\") apiUrl += \"&incl=userinfo|followings\";\n\n    let resultList = await this.requestGET(apiUrl, null);\n\n    if (callback) return callback(resultList);\n    else return resultList;\n  }\n\n  /**\n   * Fetch matching hashtags and suggestions.\n   *\n   * @param {string} keywords delimited by space\n   * @param {boolean} inclSelf include own posts?\n   * @param {array} field names to include in the result (catObj for whole object)\n   * @param {number} max\n   * @param {number} min\n   * @return {XResultMap}\n   */\n  async fetchHashtagChoices(keywords, max = null, min = null, callback) {\n    const postProcess = function (err, resultMap) {\n      if (err) return callback(err, null);\n      // no filter processing\n      callback(null, resultMap);\n    }; // postProcess\n\n    let urlKwdTags = this.getURL(this.urlHost, \"/u/posts/srch/choices\");\n    let result = this.searchPostPhrase(\n      urlKwdTags,\n      \"#\" + keywords,\n      false,\n      false,\n      max,\n      min,\n      postProcess,\n    );\n\n    return result;\n  } // fetchHashtags\n\n  /**\n   * Fetch matching mentions and suggestions.\n   *\n   * @param {string} keywords delimited by space\n   * @param {boolean} inclSelf include own posts?\n   * @param {array} field names to include in the result (catObj for whole object)\n   * @param {number} max\n   * @param {number} min\n   * @return {XResultMap}\n   */\n  async fetchMentionChoices(keywords, max = null, min = null, callback) {\n    const postProcess = function (err, resultMap) {\n      if (err) return callback(err, null);\n      // no filter processing\n      callback(null, resultMap);\n    }; // postProcess\n\n    let urlKwdTags = this.getURL(this.urlHost, \"/u/posts/srch/choices\");\n    let result = this.searchPostPhrase(\n      urlKwdTags,\n      \"@\" + keywords,\n      false,\n      false,\n      max,\n      min,\n      postProcess,\n    );\n\n    return result;\n  } // fetchMentions\n\n  /**\n   * Fetch a list of categories by their IDs and cache them\n   *\n   * @param {string} url searc h API's URL to use\n   * @param {string} phrase delimited by\n   * @param {string} inclFields INCL_TAGINFO for now\n   * @param {string} expanded true to include expanded tags\n   * @param {string} max max entries\n   * @param {string} min entries, which means proceed with partial search if initial\n   * result is below this number\n   * @param params any arguments or filters\n   * @return {XResultList}\n   */\n  async searchPostPhrase(\n    url,\n    phrase,\n    inclFields = null,\n    expanded = null,\n    max = null,\n    min = null,\n    callback,\n  ) {\n    const _m = \"shP\";\n\n    let apiUrl = url + \"?phrase=\" + encodeURIComponent(phrase);\n    if (inclFields) apiUrl += `&fields=${inclFields}`;\n    if (expanded) apiUrl += `&expanded=${String(expanded)}`;\n    if (max) apiUrl += `&max=${max}`;\n    if (min) apiUrl += `&min=${min}`;\n    apiUrl += \"&incl=userinfo\";\n    //let response = null;\n    let error = null;\n    let resultList;\n    // debugger;\n    try {\n      resultList = await this.requestGET(apiUrl, null);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n    }\n    if (callback) return callback(error, resultList);\n    else return resultList;\n  } // searchPostPhrase\n\n  // ------------------------------- POST SERVICES -----------------------------------\n\n  /**\n   * Submit new post (create) to server, with specs\n   * for pictures\n   *\n   * THIS IS WORK IN PROGRESS\n   *\n   * @param {XMPost} newPost\n   * @param {File[]} files array of local files needed\n   * to trigger upload\n   * @param {{}} params TBD\n   * @callback callback\n   */\n  async submitPost(newPost, files, params, callback) {\n    const _m = \"subPost\";\n\n    // let listId = newPost.getId();\n    // this.log(_m, \"list to create/save \", newList);\n    if (newPost.getOwnerId() == null) newPost.setOwnerId(this.getUserId());\n    if (!this.validateWrite(newPost)) {\n      if (callback != null) callback(\"Unable to Submit Post, null\");\n      // to-do: dee proper error object\n      else return false;\n    }\n\n    let formData = new FormData();\n    if (!newPost.hasOwner()) newPost.setOwnerId(this.getUserId());\n    // formData.append(\"post\", newPost.toJSONString()); // moved to content\n    if (files && files[0]?.m3u8) {\n      newPost.setVideoUrl(files[0].m3u8);\n      files[0].ori && newPost.setOriginalVideoUrl(files[0].ori);\n      files[0].screen && newPost.setMainImageURL(files[0].screen);\n      files[0].duration &&\n        newPost.setVideoDuration(parseInt(files[0].duration));\n      files[0].width && newPost.setVideoWidth(parseInt(files[0].width));\n      files[0].height && newPost.setVideoHeight(parseInt(files[0].height));\n    } else if (files) {\n      const imageFiles = [];\n      const imageMeta = [];\n      for (const file of files) {\n        imageFiles.push(file.ori);\n        const {heads, width: wid, height: hgt} = file;\n        if (heads && wid && hgt) {\n          imageMeta.push({wid, hgt, meta: {heads}});\n        }\n      }\n      if (imageMeta.length) {\n        newPost.setImageMeta(imageMeta);\n      }\n      newPost.setImageURLs(imageFiles);\n    }\n\n    let savedPost;\n    let apiError;\n    try {\n      let url = this.getURL(this.urlHost, \"/u/post\");\n      savedPost = await this.requestPOST_FormData(url, newPost, formData);\n    } catch (e) {\n      this.error(_m, e);\n      apiError = e;\n    }\n    if (callback) callback(apiError, savedPost);\n    else return savedPost;\n  } // submitPost\n\n  /**\n   * Submit a repost (create) to server, with specs\n   * for pictures. Repost differs from sharing a post,\n   * in that it is a real post that references another\n   * post.\n   *\n   * THIS IS WORK IN PROGRESS\n   *\n   * @param {XMPost} newPost\n   * @param {string} refPostId referenced post\n   * @param {File[]} imageFiles array of local files needed\n   * to trigger upload\n   * @param {{}} params TBD\n   * @callback callback\n   *\n   * @see ~SharesXXX\n   */\n  async submitRepost(newPost, files, params, callback) {\n    const _m = \"subRepost\";\n\n    if (newPost.getOwnerId() == null) newPost.setOwnerId(this.getUserId());\n    if (!this.validateWrite(newPost)) {\n      if (callback != null) callback(\"Unable to Submit Repost, null\");\n      // to-do: dee proper error object\n      else return false;\n    }\n\n    let formData = new FormData();\n    if (!newPost.hasOwner()) newPost.setOwnerId(this.getUserId());\n    // formData.append(\"post\", newPost.toJSONString()); // moved to content\n    if (files && files[0]?.m3u8) {\n      newPost.setOriginalVideoUrl(files[0]);\n    } else if (files) {\n      const imageFiles = [];\n      for (let i in files) {\n        imageFiles.push(files[i].ori);\n      }\n      newPost.setImageURLs(imageFiles);\n    }\n\n    let savedPost;\n    let apiError;\n    try {\n      let url = this.getURL(this.urlHost, \"/u/repost\");\n      savedPost = await this.requestPOST_FormData(url, newPost, formData);\n    } catch (e) {\n      this.error(_m, e);\n      apiError = e;\n    }\n    if (callback) callback(apiError, savedPost);\n    else return savedPost;\n  } // submitRepost\n\n  /**\n   * Delete a post by the owner\n   *\n   * @param {string} userId use user ID\n   * @param {string} section one of UserProps.SETTINGS_*\n   * @param {{}} params any arguments or filters\n   * @return {XUserInfo} subclass of it which is basically specific\n   * settings like XAccountSettings, XProfileSettings, etc.\n   */\n  async deletePost(postId, callback) {\n    const _m = \"delPost\";\n    let error = null;\n    let result = null;\n    try {\n      let url = this.getURL(this.urlHost, `/u/post/${postId}`);\n      result = await this.requestDELETE(url, null);\n      return callback ? callback(null, result) : result;\n    } catch (e) {\n      this.error(_m, e);\n      if (callback) callback(error, null);\n      else throw e;\n    }\n  } // deletePost\n\n  // ------------------------------- POST COMMMENTS -----------------------------------\n\n  /**\n   * Submit new comment to the server. If the comment object has\n   * a parent comment Id, then this comment is a reply to that\n   * parent comment. if parent comment Id is null, then this\n   * comment is a reply to the post.\n   *\n   *\n   * @param {string} postId post the comment is associated with, but\n   * does not have to be immediate reply! can be nested.\n   * @param {XMComment} newComment\n   * @param {File[]} files array of local files needed\n   * to trigger upload\n   * @param {{}} params TBD\n   * @callback callback\n   */\n  async submitComment(postId, newComment, files, params, callback) {\n    const _m = \"subPost\";\n\n    // let listId = newPost.getId();\n    // this.log(_m, \"list to create/save \", newList);\n    if (postId == null) postId = newComment.getPostId();\n    let parentCommentId = newComment.getParentCommentId();\n    let forPost = parentCommentId == null;\n    if (newComment.getOwnerId() == null)\n      newComment.setOwnerId(this.getUserId());\n    if (!this.validateWrite(newComment)) {\n      if (callback != null) callback(\"Unable to Submit Comment\");\n      // to-do: dee proper error object\n      else return false;\n    }\n\n    let formData = new FormData();\n    if (!newComment.hasOwner()) newComment.setOwnerId(this.getUserId());\n    // formData.append(\"post\", newPost.toJSONString()); // moved to content\n    if (files && files[0]?.m3u8) {\n      newComment.setVideoUrl(files[0].m3u8);\n      files[0].ori && newComment.setOriginalVideoUrl(files[0].ori);\n      files[0].screen && newComment.setMainImageURL(files[0].screen);\n      files[0].duration &&\n        newComment.setVideoDuration(parseInt(files[0].duration));\n      files[0].width && newComment.setVideoWidth(parseInt(files[0].width));\n      files[0].height && newComment.setVideoHeight(parseInt(files[0].height));\n    } else if (files) {\n      const imageFiles = [];\n      for (let i in files) {\n        imageFiles.push(files[i].ori);\n      }\n      newComment.setImageURLs(imageFiles);\n    }\n    // formData.append(\"images\", files);\n    let savedComment;\n    let apiError;\n    try {\n      let endpoint = forPost\n        ? `/u/post/${postId}/comment`\n        : `/u/comment/${parentCommentId}/comment`;\n      let url = this.getURL(this.urlHost, endpoint);\n      savedComment = await this.requestPOST_FormData(url, newComment, formData);\n    } catch (e) {\n      this.error(_m, e);\n      apiError = e;\n    }\n    if (callback) callback(apiError, savedComment);\n    else return savedComment;\n  } // submitPost\n\n  /**\n   * Delete a post comment by the comment owner\n   *\n   * @param {string} postId\n   * @param {string} commentId\n   * @param {{}} params any arguments or filters\n   * @return {XUserInfo} subclass of it which is basically specific\n   * settings like XAccountSettings, XProfileSettings, etc.\n   */\n  async deletePostComment(commentId, callback) {\n    const _m = \"delPost\";\n    let error = null;\n    let result = null;\n    try {\n      let url = this.getURL(this.urlHost, `/u/comment/${commentId}`);\n      result = await this.requestDELETE(url, null);\n      return callback ? callback(null, result) : result;\n    } catch (e) {\n      this.error(_m, e);\n      if (callback) callback(e, null);\n      else throw e;\n    }\n  } // deletePostComment\n\n  // -------------------------- LOG SERVICES ----------------------------\n\n  /**\n   * Send a log record to server\n   *\n   * @param {XMActivityLog} activityLog constructed log\n   *\n   * @return {boolean} should be true if no issue. Sending is async\n   */\n  async transmitLog(activityLog, props = null) {\n    const _m = \"tlog\";\n    try {\n      let logId = activityLog.getDerivedID();\n      let url = this.urlActivityLog + logId;\n      await this.requestPOST(url, activityLog);\n    } catch (e) {\n      // probably should keep silent in the web browser\n      this.warn(_m, e);\n    }\n    return true;\n  } // transmitLog\n\n  /**\n   * Log a message on the server side. This is useful for mobile\n   * debugging..for now\n   *\n   * @param {string=} m method name (optional)\n   * @param {string} msg\n   */\n  async logMessageServer(m, msg) {\n    const _m = \"logms\";\n    try {\n      msg = m ? m + \": \" + msg : msg;\n      console.log(`${_m}: ${msg}`);\n      await this.requestPOST(this.urlLogMessage, {msg: msg});\n    } catch (e) {\n      // probably should keep silent in the web browser\n      this.warn(_m, e);\n    }\n    return true;\n  }\n\n  // ----------------------- USER SIGN-UP / AUTH ------------------------\n\n  /**\n   * User signup\n   *\n   * @param {string} userInfo user to follow\n   *\n   * @return {XUserInfo} upated user info with new follow\n   */\n  async signupUser(userInfo, authInfo, callback) {\n    const _m = \"userFollows\";\n    let newUser;\n    let error = null;\n    try {\n      let content = {\n        userinfo: userInfo.getData(),\n        authinfo: authInfo.getData(),\n      };\n\n      let encrypted = Util.EncryptJSON(content);\n\n      let url = this.getURL(this.urlHost, `/s/signup`);\n      newUser = await this.requestPOST(url, encrypted);\n    } catch (e) {\n      error = XError.FromRequestError(e);\n      this.error(_m, e);\n\n      newUser = null;\n    }\n\n    return callback ? callback(error, newUser) : newUser;\n  } // signupUser\n\n  // ----------------------- LOAD SPECIAL RESOURCES ---------------------\n\n  /**\n   * Fetch help file in MD format.\n   *\n   * @param {string=} helpId null to retreive latest template. Give a\n   * user ID will retrieve user's confirmed version.\n   * @param {string} locale language requirement. default is \"en\"\n   * @param {*} callback\n   */\n  async fetchHelpFile(helpId, locale, callback) {\n    if (Util.StringIsEmpty(helpId)) return \"No Help??\";\n\n    if (locale == null) locale = this.getLanguagePref();\n    let url = `/doc/md/help/${locale}/${helpId}`;\n    return this.fetchBinaryData(url, callback);\n  }\n\n  /**\n   * Fetch the About Us markdown text that is suitable to display publicly.\n   * @param {string} locale language. default is \"en\"\n   * @callback\n   * @return {XBinaryData} wrapper containing marked down TOS text.\n   */\n  async fetchAboutUs(locale, callback) {\n    if (locale == null) locale = \"en\";\n    return this.fetchBinaryData(`/doc/md/legal/${locale}/aboutus`, callback);\n  }\n\n  /**\n   * Fetch TOS for user to confirm, or what user has already confirmed.\n   *\n   * @param {string=} userId null to retreive latest template. Give a\n   * user ID will retrieve user's confirmed version.\n   * @param {*} locale\n   * @param {*} callback\n   */\n  async fetchUserTOS(userId, locale, callback) {\n    if (locale == null) locale = \"en\";\n    let url = userId\n      ? `/doc/md/legal/${locale}/tos/user/${userId}`\n      : `/doc/md/legal/${locale}/tos/user`;\n    return this.fetchBinaryData(url, callback);\n  }\n\n  /**\n   * Fetch the TOS markdown text that is suitable to display publicly.\n   * @param {string} locale language. default is \"en\"\n   * @callback\n   * @return {XBinaryData} wrapper containing marked down TOS text.\n   */\n  async fetchPublicTOS(locale, callback) {\n    if (locale == null) locale = \"en\";\n    return this.fetchBinaryData(`/doc/md/legal/${locale}/tos/public`, callback);\n  }\n\n  /**\n   * Fetch the DMCA notice markdown text that is suitable to display publicly.\n   *\n   * @param {string} locale language. default is \"en\"\n   * @callback\n   * @return {XBinaryData} wrapper containing marked down TOS text.\n   */\n  async fetchDMCA(locale, callback) {\n    if (locale == null) locale = \"en\";\n    return this.fetchBinaryData(`/doc/md/legal/${locale}/dmca`, callback);\n  }\n\n  /**\n   * Fetch the user guidelines markdown text that is suitable to display publicly.\n   *\n   * @param {string} locale language. default is \"en\"\n   * @callback\n   * @return {XBinaryData} wrapper containing marked down TOS text.\n   */\n  async fetchUserGuidelines(locale, callback) {\n    if (locale == null) locale = \"en\";\n    return this.fetchBinaryData(\n      `/doc/md/legal/${locale}/user_guidelines`,\n      callback,\n    );\n  }\n\n  /**\n   * Fetch the legal guidelines markdown text that is suitable to display publicly.\n   *\n   * @param {string} locale language. default is \"en\"\n   * @callback\n   * @return {XBinaryData} wrapper containing marked down TOS text.\n   */\n  async fetchLegalGuidelines(locale, callback) {\n    if (locale == null) locale = \"en\";\n    return this.fetchBinaryData(\n      `/doc/md/legal/${locale}/legal_guidelines`,\n      callback,\n    );\n  }\n\n  disableTranslation(flag) {\n    if (flag === true) {\n      this[\"xlate\"] = false;\n      console.warn(\"Translation Disabled\");\n    }\n  }\n\n  translationDisabled() {\n    return this[\"xlate\"] === false;\n  }\n\n  async translateText(fromLang, toLang, text, callback) {\n    if (this.translationDisbled()) return callback(null);\n\n    const API_KEY = this.getPortal().getGoogleAPIKey();\n\n    let url = `https://translation.googleapis.com/language/translate/v2?key=${API_KEY}`;\n    url += \"&q=\" + encodeURI(text);\n    url += `&source=${fromLang}`;\n    url += `&target=${toLang}`;\n\n    fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then(callback)\n      .catch((error) => {\n        console.log(\"There was an error with the translation request: \", error);\n      });\n  }\n\n  /**\n   *\n   * @param {string} fromLang\n   * @param {string} toLang\n   * @param {string} text\n   * @param {function(XError, *)} callback error and result\n   */\n  async translateText_notworking(fromLang, toLang, text, callback) {\n    if (this.translationDisbled()) return callback(null);\n\n    const API_KEY = this.getPortal().getGoogleAPIKey();\n\n    let url = `https://translation.googleapis.com/language/translate/v2?key=${API_KEY}`;\n    url += \"&q=\" + encodeURI(text);\n    url += `&source=${fromLang}`;\n    url += `&target=${toLang}`;\n    return this.requestExternalGET(url, null, callback);\n  }\n\n  async detectLanguage(text, callback) {\n    const API_KEY = this.getPortal().getGoogleAPIKey();\n\n    let url = `https://translation.googleapis.com/language/translate/v2/detect?key=${API_KEY}`;\n    url += \"&q=\" + encodeURI(text);\n\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify({q: text}),\n    })\n      .then((res) => res.json())\n      .then(callback)\n      .catch((error) => {\n        console.log(\"There was an error with the translation request: \", error);\n      });\n  }\n\n  /**\n   *\n   * @param {string} text\n   * @param {function(XError, *)} callback  error and result\n   */\n  async detectLanguage_notworking(text, callback) {\n    // let _m = \"detectLang\";\n    let apiKey = this.getPortal().getGoogleAPIKey();\n    let url = `https://translation.googleapis.com/language/translate/v2/detect?key=${apiKey}`;\n    url += \"&q=\" + encodeURI(text);\n\n    let p = this.requestExternalPOST(url, null, (err, result) => {\n      this._processResult(err, result, callback);\n    });\n    return p;\n  }\n\n  // ------------------- VERIFICATION CODE DELIVERY ---------------------\n\n  /**\n   * Request server to delivery a verification code to an email address\n   *\n   * @param {string} code clear text to show in an email\n   * @param {string} email\n   * @return {boolean} true if no errors, false if not delivered for any reason\n   */\n  async sendVerificationCode(code, email, callback) {\n    const _m = \"pre\";\n\n    let url = this.getURL(this.urlHost, \"/s/pre\");\n    let error = null;\n    let result = false;\n    try {\n      let content = {\n        code: code,\n        email: email,\n      };\n      result = await this.requestPOST(url, content);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n    }\n\n    return callback ? callback(error, result) : result;\n  }\n\n  /**\n   * remove exif from image\n   * @param {File} file\n   */\n  _removeExif(file) {\n    return new Promise((resolve, reject) => {\n      if (file.type !== \"image/jpeg\" && file.type !== \"image/png\") {\n        return reject(\"Wrong file type\");\n      }\n      const fileURL = URL.createObjectURL(file);\n      const canvas = document.createElement(\"canvas\");\n      const canvasContext = canvas.getContext(\"2d\");\n      const image = new Image();\n      image.src = fileURL;\n      image.onload = (e) => {\n        canvas.width = image.naturalWidth;\n        canvas.height = image.naturalHeight;\n        canvasContext.drawImage(\n          e.target,\n          0,\n          0,\n          image.naturalWidth,\n          image.naturalHeight,\n        );\n        canvas.toBlob((blob) => {\n          URL.revokeObjectURL(fileURL);\n          blob.lastModifiedDate = new Date();\n          blob.name = file.name;\n          return resolve(blob);\n        }, file.type);\n      };\n      image.onerror = () => {\n        return reject(\"Failed to remove exif\");\n      };\n    });\n  }\n\n  /**\n   * upload file\n   * @param {File} file\n   * @param {Function} callback\n   */\n  async uploadFile(file, hasExif, callback, path = \"/media/upload\") {\n    const fileSize = file.size;\n    let md5 = null;\n\n    if (fileSize <= 300000000) {\n      // 300 MB\n      try {\n        md5 = await fileToMd5(file);\n      } catch (error) {}\n    }\n\n    const _m = \"uploadFile\";\n    const url = this.getURL(process.env.REACT_APP_MEDIA_UPLOAD, path);\n    const formData = new FormData();\n    const userInfo = this.getXUserInfo();\n    const lv = userInfo.getInfluencerLevel();\n    // const lv = 5;\n    let result;\n    let error;\n    if (hasExif) {\n      try {\n        const blob = await this._removeExif(file);\n        if (blob) {\n          file = blob;\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    formData.append(\"file\", file, file.name);\n    formData.append(\"user_id\", userInfo.data._id);\n    // formData.append(\"auth_token\", this.portal.getUserToken());\n    // try {\n    //   this.requestPOST_FormData(url, null, formData, callback);\n    // } catch (e) {\n    //   this.error(_m, e);\n    //   error = e;\n    // }\n    // return callback ? callback(error, result) : result;\n    // const auth =\n    //   \"Basic \" + Buffer.from(\"getterupload:getterupload\").toString(\"base64\");\n    let config = {\n      // withCredentials: true,\n      headers: {\n        // \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"multipart/form-data\",\n        authorization: this.portal.getUserToken(),\n        userid: this.portal.getUserId(),\n        filename: file.name,\n        // lossless: hasExif ? 0 : 1,\n        lossless: 1,\n        lv,\n        env: process.env.REACT_APP_GETTER_ENV,\n      },\n    };\n\n    if (md5) {\n      config.headers.md5 = md5;\n    }\n\n    axios({\n      url,\n      method: \"post\",\n      data: formData,\n      ...config,\n      onUploadProgress: (p) => {\n        callback(null, null, 100 * (p.loaded / p.total));\n      },\n    })\n      .then((response) => {\n        result = response.data;\n        if (result.ori) {\n          callback(null, result);\n        } else {\n          error = result.error;\n          callback(error);\n        }\n      })\n      .catch((e) => {\n        error = e;\n        callback(error);\n      });\n  }\n\n  /**\n   * Construct API URL to report content(post) (/u/user/:userId/report/post/:postId/:reasonId)\n   *\n   * @param {string} userId\n   * @param {string} postId\n   * @param {string} reasonId\n   * @return {string} fully qualified URL\n   */\n  apiReportPost(userId, postId, reasonId) {\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/report/post/${postId}/${reasonId}`,\n    );\n\n    return query;\n  } // apiReportPost\n\n  /**\n   * Construct API URL to report user (/u/user/:userId/report/user/:targetId/:reasonId)\n   *\n   * @param {string} userId\n   * @param {string} targetId\n   * @param {string} reasonId\n   * @return {string} fully qualified URL\n   */\n  apiReportUser(userId, targetId, reasonId) {\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/report/user/${targetId}/${reasonId}`,\n    );\n\n    return query;\n  } // apiReportUser\n\n  /**\n   * Report content(post) by postId and reasonId\n   *\n   * @param {string} postId\n   * @param {number} reasonId\n   */\n  async reportPost(postId, reasonId, callback) {\n    const _m = \"reportPost\";\n    const loggedInUserId = this.getUserId();\n    const reasonIdPrefix = \"rsn\";\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiReportPost(\n        loggedInUserId,\n        postId,\n        reasonIdPrefix + reasonId,\n      );\n      result = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // reportPost\n\n  /**\n   * Report user by target userId and reasonId\n   *\n   * @param {string} targetId target userId\n   * @param {number} reasonId\n   */\n  async reportUser(targetId, reasonId, callback) {\n    const _m = \"reportUser\";\n    const loggedInUserId = this.getUserId();\n    const reasonIdPrefix = \"rsn\";\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiReportUser(\n        loggedInUserId,\n        targetId,\n        reasonIdPrefix + reasonId,\n      );\n      result = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // reportUser\n\n  /**\n   * Construct API URL to get muted users (/u/user/:userId/mutes/?offset=0&max=5&incl=userstats|userinfo)\n   *\n   * @param {string} userId\n   * @param {number} max\n   * @return {string} fully qualified URL\n   */\n  apiGetMutedUsers(userId, max) {\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/mutes/?offset=0&max=${max}&incl=userstats|userinfo`,\n    );\n\n    return query;\n  } // apiGetMutedUsers\n\n  /**\n   * Get muted users\n   *\n   * @param {number} max\n   * @param {(error, result) => void} callback\n   */\n  async getMutedUsers(max = 5, callback) {\n    const _m = \"getMutedUsers\";\n    const loggedInUserId = this.getUserId();\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiGetMutedUsers(loggedInUserId, max);\n      result = await this.requestGET(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // getMutedUsers\n\n  /**\n   * Construct API URL to get users who I follow (/u/user/:userId/followings/?offset=0&max=5&incl=userstats|userinfo)\n   *\n   * @param {string} userId\n   * @param {number} max\n   * @return {string} fully qualified URL\n   */\n  apiGetFollowingUsers(userId, max) {\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/followings/?offset=0&max=${max}&incl=userstats|userinfo`,\n    );\n\n    return query;\n  } // apiGetFollowingUsers\n\n  /**\n   * Get following users\n   *\n   * @param {string} userId\n   * @param {number} max\n   * @param {(error, result) => void} callback\n   */\n  async getFollowingUsers(userId, max = 5, callback) {\n    const _m = \"getFollowingUsers\";\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiGetFollowingUsers(userId, max);\n      result = await this.requestGET(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // getFollowingUsers\n\n  /**\n   * Construct API URL to get blocked users (/u/user/:userId/blockers/?offset=0&max=5&incl=userstats|userinfo)\n   *\n   * @param {string} userId\n   * @param {number} max\n   * @return {string} fully qualified URL\n   */\n  apiGetBlockedUsers(userId, max) {\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/blockers/?offset=0&max=${max}&incl=userstats|userinfo`,\n    );\n\n    return query;\n  } // apiGetBlockedUsers\n\n  /**\n   * Get blocked users\n   *\n   * @param {string} userId\n   * @param {number} max\n   * @param {(error, result) => void} callback\n   */\n  async getBlockedUsers(userId, max = 5, callback) {\n    const _m = \"getBlockedUsers\";\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiGetBlockedUsers(userId, max);\n      result = await this.requestGET(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // getFollowing\n\n  /**\n   * Construct API URL to mute user (/u/user/:userId/mutes/:targetId)\n   *\n   * @param {string} userId\n   * @param {string} targetUserId\n   * @return {string} fully qualified URL\n   */\n  apiMuteUser(userId, targetUserId) {\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/mutes/${targetUserId}`,\n    );\n\n    return query;\n  } // apiMuteUser\n\n  /**\n   * Mute user\n   *\n   * @param {string} targetUserId\n   * @param {(error, result) => void} callback\n   */\n  async muteUser(targetUserId, callback) {\n    const _m = \"muteUser\";\n    const loggedInUserId = this.getUserId();\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiMuteUser(loggedInUserId, targetUserId);\n      result = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // muteUser\n\n  /**\n   * Unmute user\n   *\n   * @param {string} targetUserId\n   * @param {(error, result) => void} callback\n   */\n  async unmuteUser(targetUserId, callback) {\n    const _m = \"unmuteUser\";\n    const loggedInUserId = this.getUserId();\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiMuteUser(loggedInUserId, targetUserId);\n      result = await this.requestDELETE(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // unmuteUser\n\n  /**\n   * Construct API URL to follow user (/u/user/:userId/follows/:targetId)\n   *\n   * @param {string} userId\n   * @param {string} targetUserId\n   * @return {string} fully qualified URL\n   */\n  apiFollowUser(userId, targetUserId) {\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/follows/${targetUserId}`,\n    );\n\n    return query;\n  } // apiFollowUser\n\n  /**\n   * Follow user\n   *\n   * @param {string} targetUserId\n   * @param {(error, result) => void} callback\n   */\n  async followUser(targetUserId, callback) {\n    const _m = \"followUser\";\n    const loggedInUserId = this.getUserId();\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiFollowUser(loggedInUserId, targetUserId);\n      result = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // followUser\n\n  /**\n   * Unfollow user\n   *\n   * @param {string} targetUserId\n   * @param {(error, result) => void} callback\n   */\n  async unfollowUser(targetUserId, callback) {\n    const _m = \"unfollowUser\";\n    const loggedInUserId = this.getUserId();\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiFollowUser(loggedInUserId, targetUserId);\n      result = await this.requestDELETE(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // unfollowUser\n\n  /**\n   * Construct API URL to block user (/u/user/:userId/blocks/:targetId)\n   *\n   * @param {string} userId\n   * @param {string} targetUserId\n   * @return {string} fully qualified URL\n   */\n  apiBlockUser(userId, targetUserId) {\n    let query = this.getURL(\n      this.urlHost,\n      `/u/user/${userId}/blocks/${targetUserId}`,\n    );\n\n    return query;\n  } // apiBlockUser\n\n  /**\n   * Block user\n   *\n   * @param {string} targetUserId\n   * @param {(error, result) => void} callback\n   */\n  async blockUser(targetUserId, callback) {\n    const _m = \"blockUser\";\n    const loggedInUserId = this.getUserId();\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiBlockUser(loggedInUserId, targetUserId);\n      result = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // blockUser\n\n  /**\n   * Unblock user\n   *\n   * @param {string} targetUserId\n   * @param {(error, result) => void} callback\n   */\n  async unblockUser(targetUserId, callback) {\n    const _m = \"unblockUser\";\n    const loggedInUserId = this.getUserId();\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiBlockUser(loggedInUserId, targetUserId);\n      result = await this.requestDELETE(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // unblockUser\n\n  /**\n   * Construct API URL to block user (/u/user/:userId/blocks/:targetId)\n   *\n   * @param {string} userId\n   * @param {string} targetUserId\n   * @return {string} fully qualified URL\n   */\n  apiSuspendUser(targetUserId) {\n    let query = this.getURL(\n      this.urlHost,\n      `/admin/user/${targetUserId}/suspend`,\n    );\n\n    return query;\n  } // apiSuspendUser\n\n  /**\n   * Block user\n   *\n   * @param {string} targetUserId\n   * @param {(error, result) => void} callback\n   */\n  async suspendUser(targetUserId, callback) {\n    const _m = \"suspendUser\";\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiSuspendUser(targetUserId);\n      result = await this.requestPOST(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // suspendUser\n\n  /**\n   * Unblock user\n   *\n   * @param {string} targetUserId\n   * @param {(error, result) => void} callback\n   */\n  async unSuspendUser(targetUserId, callback) {\n    const _m = \"unSuspendUser\";\n    let result;\n    let error = null;\n    try {\n      let getUrl = this.apiUnSuspendUser(targetUserId);\n      result = await this.requestDELETE(getUrl);\n    } catch (e) {\n      this.error(_m, e);\n      error = e;\n      result = null;\n    }\n\n    return callback ? callback(error, result) : result;\n  } // unSuspendUser\n} // class\n\nexport default GetterService;\n","import XObject from './model/XObject';\nimport XMCOD from './XMCOD';\n\nconst _CLSNAME = 'XMCache';\n\n/**\n * Cache type default, which is most of the\n * tracked objects.\n */\nconst TYPE_ALL = 'all';\n\n/**\n * Cache storing XMObject instances and can be looked\n * up by their type/id. Each object has a descriptor\n * that track its state in the memory.\n *\n * NOTE: This is not current used in the backend Getter\n * project. Frontend was using this for caching in early\n * development, but since backed off (because data gets stale fast\n * and not worth checking for staleness)\n *\n * Also, it's possible that frontend team may ultimately use\n * other methods to track objects / data.\n */\nclass XMCache extends XObject {\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMCache;\n    this.codList = {};\n  }\n\n  /**\n   *\n   * @param {XMObject} xmObject\n   * @param {string} status\n   */\n  track(xmObject, status = XMCOD.STATUS_NONE, ttl = -1, reFetchFunc = null) {\n    const _m = 'trk';\n    this.assertNotNull(xmObject, _m);\n    if (xmObject.isCached()) {\n      // this.log(\"track\", \"object already tracked. \", xmObject);\n      return false;\n    }\n\n    const id = xmObject.getId();\n    // this.assertNotNull(_m, \"ID cannot be null for: \", xmObject);\n    const type = TYPE_ALL;\n    const typeCache = this.getTypeCache(type, true);\n\n    /** @type {XMCOD} cod **/\n    let cod = typeCache[id];\n    if (cod) {\n      // we will overwrite\n      // this.log(_m, \"COD(\" + type + \")[\" + id + \"] exist!\");\n      const existingObj = cod.getObject();\n      if (existingObj) {\n        cod.untrackObject();\n        // this.log(_m, \" Discarding cached instance id=\" + id);\n      }\n      cod.trackObject(xmObject, status, ttl, reFetchFunc);\n    } else {\n      cod = new XMCOD(this, xmObject, status, ttl, reFetchFunc);\n      typeCache[id] = cod;\n    }\n    xmObject._setCOD(cod);\n    return true;\n  }\n  /**\n   * Track a new XMObject instance. The requirement is it must\n   * have an unique ID already stored and retrievable via getId().\n   * StorageManager.trackNew() has this logic.\n   *\n   * @param {XMObject} xmObject instance with \"_id\" already derived\n   * @see ObjectManager#trackNew()\n   */\n  trackNew(xmObject, ttl = -1, reFetchFunc = null) {\n    // this.assertNotNull(xmObject.getId(), \"trackNew\", \"object has no assigned Id: \", xmObject);\n    return this.track(xmObject, XMCOD.STATUS_NEW, ttl, reFetchFunc);\n  }\n\n  /**\n   * Track an instance of XMObject that is to be given the STATUS_NONE,\n   * or \"clean\". This means object exists somewhere and is just being\n   * cached.\n   *\n   * @param {XMObject} xmObject\n   */\n  trackExisting(xmObject, ttl = -1, reFetchFunc = null) {\n    // this.assertNotNull(xmObject.getId(), \"trackExisting\", \"object has no assigned Id: \", xmObject);\n    return this.track(xmObject, XMCOD.STATUS_NONE, ttl, reFetchFunc);\n  }\n\n  /**\n   * Untrack an object\n   * @param {string} id\n   * @param {*} type\n   * @return {boolean} true if untracked, false if not\n   */\n  untrack(id, type = TYPE_ALL) {\n    const tc = this.getTypeCache(type, false);\n    if (tc == null) {\n      // this.error(\"untrack\", \"type: \" + type + \" id: \" + id);\n      return false;\n    }\n    if (!tc.hasOwnProperty(id)) {\n      return false;\n    }\n\n    const cod = tc[id];\n    const xmobj = cod.getObjectNoWait(false);\n    xmobj._discardCOD();\n    delete tc[id];\n    return true;\n  }\n\n  /**\n   *\n   * @param {string} id\n   * @param {*} type\n   * @return {boolean}\n   */\n  exists(id, type = TYPE_ALL) {\n    const tc = this.getTypeCache(type, false);\n    if (tc == null) {\n      return false;\n    }\n    return tc.hasOwnProperty(id);\n  }\n\n  getCOD(id, type = TYPE_ALL) {\n    const tc = this.getTypeCache(type, false);\n    if (tc == null) {\n      return null;\n    }\n    return tc[id];\n  }\n\n  /**\n   *\n   * @param {string} id\n   * @param {*} type\n   * @return {XMObject}\n   */\n  async getObject(id, type = null, reFetch = true) {\n    if (type == null) {\n      type = TYPE_ALL;\n    }\n    if (type !== TYPE_ALL) {\n      // this.error(\"getObject\", \"passed in type not TYPE_ALL: \" + type);\n      type = TYPE_ALL;\n    }\n    const cod = this.getCOD(id, type);\n    let obj = null;\n    if (cod) {\n      obj = await cod.getObject(reFetch);\n    }\n    return obj;\n  }\n\n  /**\n   *\n   * @param {string} id\n   * @param {*} type\n   * @return {XMObject}\n   */\n  getObjectNoWait(id, type = null, reFetch = true) {\n    if (type == null) {\n      type = TYPE_ALL;\n    }\n    if (type !== TYPE_ALL) {\n      // this.error(\"getObject\", \"passed in type not TYPE_ALL: \" + type);\n      type = TYPE_ALL;\n    }\n    const cod = this.getCOD(id, type);\n    let obj = null;\n    if (cod) {\n      obj = cod.getObjectNoWiat(reFetch);\n    }\n    return obj;\n  }\n\n  /**\n   * Return the map associated with the\n   * specified object type.\n   *\n   * @param create true to create the map if\n   * doesn't exist\n   */\n  getTypeCache(type = TYPE_ALL, create = false) {\n    if (type == null) {\n      type = TYPE_ALL;\n    }\n    if (!this.codList.hasOwnProperty(type) && !create) {\n      // this.log(\"getTypeCache\", \"no COD for type: \" + type);\n      return null;\n    }\n    let tc = this.codList[type];\n    if (tc == null && create === true) {\n      tc = {};\n      this.codList[type] = tc;\n    }\n    return tc;\n  }\n\n  getCacheCount() {\n    return this.getTypeCacheCount(TYPE_ALL);\n  }\n\n  getTypeCacheCount(type) {\n    const tc = this.getTypeCache(type, false);\n    if (tc == null) {\n      return 0;\n    }\n    return Object.keys(tc).length;\n  }\n\n  /**\n   * Remove all trackings of a given type.\n   *\n   * @param type type to lookup and clear\n   * @param untrack if true, track each individual objects from old cache\n   * @return true if disassociated. false if not found\n   */\n  clearTypeCache(type, untrack = false) {\n    if (type == null) {\n      type = TYPE_ALL;\n    }\n    if (!this.hasOwnProperty(type)) {\n      return false;\n    }\n    delete this.codList[type];\n\n    return true;\n  }\n\n  /**\n   * Clear all tracking, which means remove all tracking.\n   *\n   * @param {boolean} untrack if true, will go through each COD and untrack.\n   * @return {{}} map of all descripters removed\n   */\n  clearAll(untrack = false) {\n    // if (untrack === true) {\n    //     this.warn(\"clearAll\", \"untrack entire COD type is not implemented\");\n    // }\n    const oldCodList = this.codList;\n    this.codList = {};\n    return oldCodList;\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n   * Cache type: ALL\n   */\n  static get TYPE_ALL() {\n    return TYPE_ALL;\n  }\n\n  /**\n   * Return the default folder/table/collection name used\n   * for storing ranked lists.\n   */\n  static GetFolderName() {\n    return 'xmcache';\n  }\n\n  static GetTypeID() {\n    return 'xmc';\n  }\n}\n\nexport default XMCache;\n","/**\n * The ObjectManager manages caching and retrieval\n * of data model.\n *\n */\n\nimport ObjectBase from './ObjectBase';\nimport XMObject from './model/XMObject';\nimport XMCache from './XMCache';\n\nimport XUserInfo from './model/user/XUserInfo';\nimport Util from './Util';\n\nconst instances = {};\n\nclass ObjectManager extends ObjectBase {\n  constructor(label = 'default', clsname = 'ObjectManager') {\n    super(clsname);\n    this.class = ObjectManager;\n    this.label = label;\n    this.cache = new XMCache();\n  }\n\n  applyConfig(props) {\n    if (Util.NotNull(props.isClient)) { this.isClient = props.isClient; }\n    if (Util.NotNull(props.isServer)) { this.isServer = props.isServer; }\n  }\n\n  getLabel() {\n    return this.label;\n  }\n\n  /**\n   *\n   * @param {NetworkManager} nm\n   */\n  setNetworkManager(nm) {\n    this.nm = nm;\n  }\n\n  /**\n   * @return {NetworkManager}\n   */\n  getNetworkManager() {\n    return this.nm;\n  }\n\n  /**\n   * Return whether this instance is running in pure\n   * client mode (request over network), or is running\n   * in the same VM as local StorageManager.\n   *\n   * NOTE: this code should go somewhere else,\n   * perhaps a \"System\" global object so its\n   * accessible by all.\n   *\n   * @return {boolean}\n   */\n  isServerRole() {\n    if (this.isServer) { return this.isServer; }\n\n    return true;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isClientRole() {\n    return (this.isClient) ? this.isClient : true;  // \"true\" default for now\n  }\n\n  /**\n   * @return {boolean}\n   */\n  canStoreLocal() {\n    // For now, only server can store\n    return this.isServerRole();\n  }\n\n  /**\n   * @return {XMCache}\n   */\n  _getCache() {\n    return this.cache;\n  }\n\n  /**\n   * Track a new XMObject instance.\n   *\n   * @param {XMObject} xmObject instance to be considered new when writing out\n   * @param {string} ownerId owner of the object, if it's not already set inside the xmObject instance\n   * @param {number} ttl\n   * @param {function} refetchFunc does this make sense for new object?\n   *\n   * @return true if tracked. False if not (exists or no ownerId)\n   */\n  trackNew(xmObject, ownerId = null, ttl = -1, reFetchFunc = null) {\n    let _id = xmObject.getId();\n    if (_id == null) {\n      // all objects need an id\n      let userId = xmObject.getOwnerId();\n      if (userId == null) { userId = ownerId; }\n      const type = xmObject.getType();\n      this.assertNotNull(userId, 'trackNew');\n      this.assertNotNull(type, 'trackNew');\n\n      _id = XMObject.DeriveID(type, userId);\n      xmObject._setId(_id);\n    }\n    return this._getCache().trackNew(xmObject, ttl, reFetchFunc);\n  } // trackNew\n\n  /**\n   * Track an XMObject instance that exists already somewhere\n   *\n   * @param {xmObject}\n   * @param {number} ttl\n   * @param {function} refetchFunc\n   */\n  trackExisting(xmObject, ttl = -1, reFetchFunc = null) {\n    return this._getCache().trackExisting(xmObject, ttl, reFetchFunc);\n  }\n\n  /**\n   * Track a list of XMObjectinstances as existing (STATUS_NONE)\n   *\n   * @param {XMObject[]} xmobjects\n   * @param {number} ttl\n   * @param {function} reFetchFunc\n   */\n  trackExistingObjects(xmObjects, ttl = -1, reFetchFunc = null) {\n    const _m = 'trackExistingObjects';\n    this.assertNotNull(xmObjects, _m);\n    this.assert(Array.isArray(xmObjects), _m);\n    const cache = this._getCache();\n    xmObjects.forEach((xmObject) => {\n      cache.trackExisting(xmObject, ttl, reFetchFunc);\n    });\n  }\n\n  commit(flush = true) {\n\n  }\n\n  rollback() {\n\n  }\n\n  /**\n   * Retrieve a user info instance.\n   *\n   * @param id unique user ID\n   * @param params arguments to API and also filters\n   */\n  // getUserInfo(userId, params = null, remote = true, callback) {\n  //   return this.get(userId, params, remote, XUserInfo, callback);\n  // }\n\n  /**\n   * Retrieve an object with (type, id). It will\n   * lookup built-in cache, and then optionally\n   * retrieve from remote.\n   *\n   * @param id object identifier, unique at least within the type\n   * @param params parameters which is arguments and/or filters\n   * @param remote if true, will go fetch from remote server if not in cache\n   * @param clsObj ES6 class object, which is really the contructor function. It\n   * is used to create a new wrapper with the matching type for the json data.\n   */\n  get(id, params = null, remote = true, clsObj = null, callback) {\n    const _m = 'get';\n    this.assertNotNull(id, _m);\n    this.assertNotNull(clsObj, _m, 'Class object must not be null');\n    this.assertNotNull(clsObj.GetTypeID, _m);\n\n    const om = this;\n    const processResult = (err, data) => {\n      let xmobj = null;\n      if (err) {\n        om.error(_m, `Get Request (id=${id} has error:`, err);\n      } else if (Util.NotNull(data)) {\n        // om.log(_m, \"Returned data for id=\" + id + \":\", data);\n        xmobj = XMObject.Wrap(data, clsObj);\n        // Need to wrap with proper XMObject subclass...\n        om.trackExisting(xmobj);\n      }\n      if (callback) { callback(err, xmobj); } else { return xmobj; }\n    }; // get\n\n    // let type = clsObj.GetTypeID();\n    const obj = this.getFromCacheNoWait(id);\n    if (obj == null && remote) {\n      const type = clsObj ? XMObject.GetTypeFromClass(clsObj) : null;\n      this.getFromRemote(id, type, params, processResult);\n    } else {\n      // this.log(_m, \"Object type:\" + type + \",id=\" + id + \" found in cache.\");\n      if (callback) { return callback(null, obj); }\n      return obj;\n    }\n  } // get\n\n  /**\n   * Retrieve an object directly with StorageManager, and\n   * skip fetch from another server tier. Cache can optionally be used.\n   *\n   * @param id object identifier, unique at least within the type\n   * @param cache if true, will check cache first before requesting from SM\n   * @param clsObj ES6 class object, which is really the contructor function. It\n   * is used to create a new wrapper with the matching type for the json data.\n   */\n  getDirect(id, cache = true, clsObj = XMObject, callback) {\n    const _m = 'get';\n    this.assertNotNull(id, _m);\n    this.assertNotNull(clsObj, _m, 'Class object must not be null');\n    this.assertNotNull(clsObj.GetTypeID, _m);\n\n    const om = this;\n    const processResult = (err, data) => {\n      let xmobj = null;\n      if (err) { om.error(_m, `Get Request (id=${id} has error:`, err); } else if (Util.NotNull(data)) {\n        // om.log(_m, \"Returned data for id=\" + id + \":\", data);\n        xmobj = XMObject.Wrap(data, clsObj);\n        // Need to wrap with proper XMObject subclass...\n        om.trackExisting(xmobj);\n      }\n      if (callback) { callback(err, xmobj); } else { return xmobj; }\n    }; // get\n\n    // let type = clsObj.GetTypeID();\n    const obj = this.getFromCacheNoWait(id);\n    if (obj == null) {\n      const type = clsObj ? XMObject.GetTypeFromClass(clsObj) : null;\n      this.getFromSM(id, type, processResult);\n    } else {\n      // this.log(_m, \"Object type:\" + type + \",id=\" + id + \" found in cache.\");\n      if (callback) { return callback(null, obj); }\n      return obj;\n    }\n  } // getDirect\n\n  /**\n   * Get a list of objects.\n   *\n   * @param ids array of identifiers\n   * @param params API arguments or filters\n   */\n  groupGet(ids, type = null, params = null, remote = true, clsType = XMObject, callback) {\n    const _m = 'groupGet';\n    this.log(_m, 'ids: ', ids);\n\n    // For now, no cache read\n    this.assertNotNull(type, _m);\n    this.assertNotNull(ids, _m);\n\n    const om = this;\n    const processResult = (err, data) => {\n      let xmObjects = null;\n      if (err) { om.error(_m, `Get Request (id=${ids} has error:`, err); } else if (Util.NotNull(data)) {\n        // om.log(_m, \"Returned data based on IDs:\", data);\n        xmObjects = XMObject.WrapArray(data, clsType);\n        om.trackExistingObjects(xmObjects);\n      }\n      if (callback) { callback(err, xmObjects); } else { return xmObjects; }\n    };\n\n    const obj = null; // this.groupGetFromCache(ids, type, null);\n    if (obj == null) {\n      this.groupGetFromRemote(ids, type, params, processResult);\n    } else {\n      this.log(_m, `Object type:${type},id=${ids} all found in cache.`);\n      if (callback) { return callback(null, obj); }\n      return obj;\n    }\n  }\n\n  /**\n   *\n   * @param {string} id\n   * @param {string} type\n   * @param {*} defaultVal\n   */\n  async getFromCache(id, type = null, defaultVal = null) {\n    const c = this._getCache();\n    const result = await c.getObject(id, type);\n    return result || defaultVal;\n  }\n\n  /**\n   *\n   * @param {string} id\n   * @param {string} type\n   * @param {*} defaultVal\n   */\n  getFromCacheNoWait(id, type = null, defaultVal = null) {\n    const c = this._getCache();\n    const result = c.getObjectNoWait(id, type, false);\n    return result || defaultVal;\n  }\n\n  /**\n   *\n   * @param {string} id\n   * @param {string} type\n   * @param {*} defaultVal\n   */\n  untrackFromCache(id, type = null, defaultVal = null) {\n    const c = this._getCache();\n    const result = c.untrack(id);\n    return result || defaultVal;\n  }\n\n  /**\n   * Return requested cached resources from the given list of IDs.\n   *\n   * @param idArray array of ID strings to look up\n   * @param type optional type\n   * @param notFoundIds array bucket to add IDs not found in cache\n   */\n  groupGetFromCache(idArray, type = null, notFoundIds = null) {\n    const c = this._getCache();\n\n    // How to indicate those IDs that are NOT in the cache?\n\n    const foundResources = [];\n    idArray.forEach((id) => {\n      const res = c.getObject(id, type);\n      if (res) { foundResources.push(res); } else if (notFoundIds) { notFoundIds.push(id); }\n    });\n    return foundResources;\n  } // groupGetFromCache\n\n  /**\n   * Get a single resource beyond cache, which can include local storage (if available)\n   * or over the network.\n   *\n   * @param id   resource id\n   * @param type resource type\n   * @param callback function to handle post-retrieval processing\n   */\n  getFromRemote(id, type = null, params = null, callback) {\n    const _m = 'getFromRemote';\n    // this.log(_m, \"id: \" + id);\n    // this.log(_m, \"ClientRole: \", this.isClientRole());\n    let result = null;\n    if (this.isClientRole()) {\n      // for now, client has no local storage\n      const nm = this.getNetworkManager();\n      result = nm.getResource(id, type, params, callback);\n    } else {\n      // access StorageManager locally?\n      this.error(_m, 'No OPS');\n    }\n    return result;\n  } // getFromRemote\n\n  /**\n   * Get a single resource beyond cache, which can include local storage (if available)\n   * or over the network.\n   *\n   * @param id   resource id\n   * @param type resource type\n   * @param callback function to handle post-retrieval processing\n   */\n  groupGetFromRemote(idArray, type = null, params = null, callback) {\n    const _m = 'groupGetFromRemote';\n    this.log(_m, 'ids: ', idArray);\n    // this.log(\"getFromRemote\", \"ClientRole: \", this.isClientRole());\n    if (this.isClientRole()) {\n      // for now, client has no local storage\n      const nm = this.getNetworkManager();\n\n      nm.getResources(idArray, type, params, callback);\n    } else {\n      // access StorageManager locally?\n      this.error(_m, 'No OPS');\n    }\n  } // groupGetFromRemote\n\n  /**\n   * Get a single resource directly via StorageManager.\n   *\n   * @param id   resource id\n   * @param type resource type\n   * @param callback function to handle post-retrieval processing\n   */\n  getFromSM(id, type, callback) {\n    const _m = 'getFromSM';\n    this.log(_m, `id: ${id}`);\n    let result = null;\n\n    // for now, client has no local storage\n    const sm = this.getStorageManager();\n    result = sm.getResource(id, type, null, callback);\n\n    return result;\n  } // getFromSM\n\n  /**\n   * Get a group of resources directly via StorageManager.\n   *\n   * @param id   resource id\n   * @param type resource type\n   * @param callback function to handle post-retrieval processing\n   */\n  groupGetFromSM(idArray, type = null, callback) {\n    const _m = 'groupGetFromSM';\n    this.log(_m, 'ids: ', idArray);\n\n    // for now, client has no local storage\n    const sm = this.getStorageManager();\n    sm.getResources(idArray, type, null, callback);\n  } // groupGetFromSM\n\n  /**\n   * Discard the XMObject instance in the cache,\n   * regardless of it's status\n   *\n   * @param {string} id\n   */\n  discard(id, type = null) {\n    const c = this._getCache();\n    return c.untrack(id, type);\n  }\n\n  resetCache() {\n    const oldCache = this.cache;\n    this.cache = new XMCache();\n\n    // attempt to disassociate objects from the old cache\n    oldCache.clearAll();\n  }\n\n\n  // *************************************************************\n  //\n  // Class methods.\n  //\n  // *************************************************************\n\n  static GetInstance(label = 'default', create = true) {\n    if (instances[label]) { return instances[label]; }\n    if (!create) { return null; }\n\n    // console.log(\"ObjectManager.GetInstance: Creating new instance with label: \" + label);\n    const newInstance = new ObjectManager(label);\n    instances[label] = newInstance;\n    return newInstance;\n  }\n}\n\nexport default ObjectManager;\n","\nimport XObject from '../XObject';\n\nimport { UserProps, USERID_GUEST, USERID_ROBOT, TOKEN_GUEST, TOKEN_ROBOT, USERID_ADMIN_BYPASS } from '../ModelConsts';\n\n\nconst _CLSNAME = 'XUserCred'; // match class name\n\n/**\n * Transient data structure to hold user credentials for\n * access. The credentials are specified in a header\n * entry 'x-app-auth: user: {userId}; token: {string}'\n */\nclass XUserCred extends XObject {\n  static get PROP_USERID() { return 'user'; }   // legacy\n  static get PROP_TOKEN() { return 'token'; }\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XUserCred;\n  }\n\n  /**\n     * Initialize content as a new object.\n     */\n  initNew() {\n\n  }\n\n  /**\n     * Retrieve user token stored here. It is generated from\n     * the backend.\n     *\n     * @param {string} defaultVal\n     * @return {string}\n     */\n  getAccessToken(defaultVal) {\n    const data = this.getData(false);\n    return data ? XUserCred.GetAccessToken(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Store generated token generated else where\n     *\n     * @param {string} token\n     */\n  setAccessToken(token) {\n    return XUserCred.SetAccessToken(this.getData(true), token);\n  }\n\n  /**\n     * UserId is set from server side extracting content from\n     * XMUser and other related objects. It is actually the _id\n     * field (primary key).\n     *\n     * @param {string} defaultVal\n     * @return {string}\n     */\n  getUserId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserCred.GetUserId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     *\n     * @param {string} username\n     */\n  setUserId(username) {\n    return XUserCred.SetUserId(this.getData(true), username);\n  }\n\n  toAuthHeader(defaultVal = null) {\n    const userId = this.getUserId();\n    const token = this.getAccessToken();\n    if ((userId == null) && (token == null)) {\n      return defaultVal;\n    }\n    const authData = { };\n    if (userId != null) {\n      authData[XUserCred.PROP_USERID] = userId;\n    }\n    if (token != null) {\n      authData[XUserCred.PROP_TOKEN] = token;\n    }\n\n    return JSON.stringify(authData);\n  }\n\n  isGuest() {\n    const userId = this.getUserId();\n    return userId ? XUserCred.IsGuest(userId) : false;\n  }\n\n  isRobot() {\n    const userId = this.getUserId();\n    return userId ? XUserCred.IsRobot(userId) : false;\n  }\n\n  isAuthenticatedUser() {\n    const userId = this.getUserId();\n    return userId ? XUserCred.IsAuthenticatedUser(userId) : false;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n\n  /**\n     * @return {string}\n     */\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /**\n     * @return {string}\n     */\n  static GetTypeID() {\n    return 'ucred';\n  }\n\n  /**\n     * Create new instance with essnetial data\n     *\n     * @param {string} token access token\n     * @param {string=} username username/id\n     * @return {XUserCred}\n     */\n  static Create(token, username) {\n    const userCred = new XUserCred();\n    userCred.setAccessToken(token);\n    userCred.setUserId(username);\n    return userCred;\n  }\n\n  /**\n   * Create an user info record aggregated from difference\n   * sources but mainly XMUser. It is suitable to give to\n   * client for rendering.\n   *\n   * @param {XUserInfo} xUserInfo user data, which can be json also\n   *\n   * @return {XUserCred}\n   */\n  static CreateFromUserInfo(xUserInfo) {\n    const userCred = new XUserCred();\n    const username = xUserInfo.getUsername();\n    const token = xUserInfo.getUserToken();\n    userCred.setUserId(username);\n    userCred.setAccessToken(token);\n\n    return userCred;\n  } // CreateFrom\n\n  /**\n   * @return {XUserCred}\n   */\n  static CreateGuest() {\n    return XUserCred.Create(TOKEN_GUEST, USERID_GUEST);\n  }\n\n  /**\n   * @return {XUserCred}\n   */\n  static CreateRobot() {\n    return XUserCred.Create(TOKEN_ROBOT, USERID_ROBOT);\n  }\n\n  /**\n   * For backend direct functions, create an internal one\n   * that represents internal or binded call\n   *\n   * @return {XUserCred}\n   */\n  static CreateBackend(userId) {\n    return XUserCred.Create('none', `backend/${userId}`);\n  }\n\n  /**\n     * Parse auth header string and put in an instance of XUserCred\n     *\n     * @param {string} strcred  string cred in format of \"user={username}; token={token}\"\n     * @param {XUserCred=} credObj optional wrapper object to put parsed value in. Null will create new\n     * @return {XUserCred} passed in object or newly created with prased values\n     */\n  static CreateFromAuthHeader(strcred) {\n    try {\n      const data = JSON.parse(strcred);\n      return XUserCred.Wrap(data, XUserCred);\n    } catch (err) {\n      console.log(err);\n      return null;\n    }\n  } // CreateFromAuthHeader\n\n  static SetAccessToken(jsonRec, token) {\n    if (token != null) {\n      return XUserCred.SetObjectField(jsonRec, XUserCred.PROP_TOKEN, token);\n    }\n  }\n  static GetAccessToken(jsonRec, defaultVal = null) {\n    return XUserCred.GetObjectField(jsonRec, XUserCred.PROP_TOKEN, defaultVal);\n  }\n\n  static SetUserId(jsonRec, userId) {\n    if (userId != null) {\n      return XUserCred.SetObjectField(jsonRec, XUserCred.PROP_USERID, userId);\n    }\n  }\n  static GetUserId(jsonRec, defaultVal = null) {\n    return XUserCred.GetObjectField(jsonRec, XUserCred.PROP_USERID, defaultVal);\n  }\n\n  static IsGuest(userId) {\n    return userId === UserProps.USERID_GUEST;\n  }\n\n  static IsRobot(userId) {\n    return userId === UserProps.USERID_ROBOT;\n  }\n\n  static IsAuthenticatedUser(userId) {\n    return (userId !== UserProps.USERID_ROBOT) && (userId !== UserProps.USERID_GUEST);\n  }\n\n} // class XUserCred\n\nXUserCred.RegisterType(XUserCred);\n\nexport default XUserCred;\n","var map = {\n\t\"./Bidi_Class/Arabic_Letter\": 570,\n\t\"./Bidi_Class/Arabic_Letter.json\": 570,\n\t\"./Bidi_Class/Arabic_Number\": 571,\n\t\"./Bidi_Class/Arabic_Number.json\": 571,\n\t\"./Bidi_Class/Boundary_Neutral\": 572,\n\t\"./Bidi_Class/Boundary_Neutral.json\": 572,\n\t\"./Bidi_Class/Common_Separator\": 573,\n\t\"./Bidi_Class/Common_Separator.json\": 573,\n\t\"./Bidi_Class/European_Number\": 574,\n\t\"./Bidi_Class/European_Number.json\": 574,\n\t\"./Bidi_Class/European_Separator\": 575,\n\t\"./Bidi_Class/European_Separator.json\": 575,\n\t\"./Bidi_Class/European_Terminator\": 576,\n\t\"./Bidi_Class/European_Terminator.json\": 576,\n\t\"./Bidi_Class/First_Strong_Isolate\": 577,\n\t\"./Bidi_Class/First_Strong_Isolate.json\": 577,\n\t\"./Bidi_Class/Left_To_Right\": 578,\n\t\"./Bidi_Class/Left_To_Right.json\": 578,\n\t\"./Bidi_Class/Left_To_Right_Embedding\": 579,\n\t\"./Bidi_Class/Left_To_Right_Embedding.json\": 579,\n\t\"./Bidi_Class/Left_To_Right_Isolate\": 580,\n\t\"./Bidi_Class/Left_To_Right_Isolate.json\": 580,\n\t\"./Bidi_Class/Left_To_Right_Override\": 581,\n\t\"./Bidi_Class/Left_To_Right_Override.json\": 581,\n\t\"./Bidi_Class/Nonspacing_Mark\": 582,\n\t\"./Bidi_Class/Nonspacing_Mark.json\": 582,\n\t\"./Bidi_Class/Other_Neutral\": 583,\n\t\"./Bidi_Class/Other_Neutral.json\": 583,\n\t\"./Bidi_Class/Paragraph_Separator\": 584,\n\t\"./Bidi_Class/Paragraph_Separator.json\": 584,\n\t\"./Bidi_Class/Pop_Directional_Format\": 585,\n\t\"./Bidi_Class/Pop_Directional_Format.json\": 585,\n\t\"./Bidi_Class/Pop_Directional_Isolate\": 586,\n\t\"./Bidi_Class/Pop_Directional_Isolate.json\": 586,\n\t\"./Bidi_Class/Right_To_Left\": 587,\n\t\"./Bidi_Class/Right_To_Left.json\": 587,\n\t\"./Bidi_Class/Right_To_Left_Embedding\": 588,\n\t\"./Bidi_Class/Right_To_Left_Embedding.json\": 588,\n\t\"./Bidi_Class/Right_To_Left_Isolate\": 589,\n\t\"./Bidi_Class/Right_To_Left_Isolate.json\": 589,\n\t\"./Bidi_Class/Right_To_Left_Override\": 590,\n\t\"./Bidi_Class/Right_To_Left_Override.json\": 590,\n\t\"./Bidi_Class/Segment_Separator\": 591,\n\t\"./Bidi_Class/Segment_Separator.json\": 591,\n\t\"./Bidi_Class/White_Space\": 592,\n\t\"./Bidi_Class/White_Space.json\": 592,\n\t\"./Bidi_Paired_Bracket_Type/Close\": 593,\n\t\"./Bidi_Paired_Bracket_Type/Close.json\": 593,\n\t\"./Bidi_Paired_Bracket_Type/None\": 594,\n\t\"./Bidi_Paired_Bracket_Type/None.json\": 594,\n\t\"./Bidi_Paired_Bracket_Type/Open\": 595,\n\t\"./Bidi_Paired_Bracket_Type/Open.json\": 595,\n\t\"./Binary_Property/ASCII\": 596,\n\t\"./Binary_Property/ASCII.json\": 596,\n\t\"./Binary_Property/ASCII_Hex_Digit\": 597,\n\t\"./Binary_Property/ASCII_Hex_Digit.json\": 597,\n\t\"./Binary_Property/Alphabetic\": 598,\n\t\"./Binary_Property/Alphabetic.json\": 598,\n\t\"./Binary_Property/Any\": 599,\n\t\"./Binary_Property/Any.json\": 599,\n\t\"./Binary_Property/Assigned\": 600,\n\t\"./Binary_Property/Assigned.json\": 600,\n\t\"./Binary_Property/Bidi_Control\": 601,\n\t\"./Binary_Property/Bidi_Control.json\": 601,\n\t\"./Binary_Property/Bidi_Mirrored\": 602,\n\t\"./Binary_Property/Bidi_Mirrored.json\": 602,\n\t\"./Binary_Property/Case_Ignorable\": 603,\n\t\"./Binary_Property/Case_Ignorable.json\": 603,\n\t\"./Binary_Property/Cased\": 604,\n\t\"./Binary_Property/Cased.json\": 604,\n\t\"./Binary_Property/Changes_When_Casefolded\": 605,\n\t\"./Binary_Property/Changes_When_Casefolded.json\": 605,\n\t\"./Binary_Property/Changes_When_Casemapped\": 606,\n\t\"./Binary_Property/Changes_When_Casemapped.json\": 606,\n\t\"./Binary_Property/Changes_When_Lowercased\": 607,\n\t\"./Binary_Property/Changes_When_Lowercased.json\": 607,\n\t\"./Binary_Property/Changes_When_NFKC_Casefolded\": 608,\n\t\"./Binary_Property/Changes_When_NFKC_Casefolded.json\": 608,\n\t\"./Binary_Property/Changes_When_Titlecased\": 609,\n\t\"./Binary_Property/Changes_When_Titlecased.json\": 609,\n\t\"./Binary_Property/Changes_When_Uppercased\": 610,\n\t\"./Binary_Property/Changes_When_Uppercased.json\": 610,\n\t\"./Binary_Property/Composition_Exclusion\": 611,\n\t\"./Binary_Property/Composition_Exclusion.json\": 611,\n\t\"./Binary_Property/Dash\": 612,\n\t\"./Binary_Property/Dash.json\": 612,\n\t\"./Binary_Property/Default_Ignorable_Code_Point\": 613,\n\t\"./Binary_Property/Default_Ignorable_Code_Point.json\": 613,\n\t\"./Binary_Property/Deprecated\": 614,\n\t\"./Binary_Property/Deprecated.json\": 614,\n\t\"./Binary_Property/Diacritic\": 615,\n\t\"./Binary_Property/Diacritic.json\": 615,\n\t\"./Binary_Property/Expands_On_NFC\": 616,\n\t\"./Binary_Property/Expands_On_NFC.json\": 616,\n\t\"./Binary_Property/Expands_On_NFD\": 617,\n\t\"./Binary_Property/Expands_On_NFD.json\": 617,\n\t\"./Binary_Property/Expands_On_NFKC\": 618,\n\t\"./Binary_Property/Expands_On_NFKC.json\": 618,\n\t\"./Binary_Property/Expands_On_NFKD\": 619,\n\t\"./Binary_Property/Expands_On_NFKD.json\": 619,\n\t\"./Binary_Property/Extender\": 620,\n\t\"./Binary_Property/Extender.json\": 620,\n\t\"./Binary_Property/Full_Composition_Exclusion\": 621,\n\t\"./Binary_Property/Full_Composition_Exclusion.json\": 621,\n\t\"./Binary_Property/Grapheme_Base\": 622,\n\t\"./Binary_Property/Grapheme_Base.json\": 622,\n\t\"./Binary_Property/Grapheme_Extend\": 623,\n\t\"./Binary_Property/Grapheme_Extend.json\": 623,\n\t\"./Binary_Property/Grapheme_Link\": 624,\n\t\"./Binary_Property/Grapheme_Link.json\": 624,\n\t\"./Binary_Property/Hex_Digit\": 625,\n\t\"./Binary_Property/Hex_Digit.json\": 625,\n\t\"./Binary_Property/Hyphen\": 626,\n\t\"./Binary_Property/Hyphen.json\": 626,\n\t\"./Binary_Property/IDS_Binary_Operator\": 627,\n\t\"./Binary_Property/IDS_Binary_Operator.json\": 627,\n\t\"./Binary_Property/IDS_Trinary_Operator\": 628,\n\t\"./Binary_Property/IDS_Trinary_Operator.json\": 628,\n\t\"./Binary_Property/ID_Continue\": 629,\n\t\"./Binary_Property/ID_Continue.json\": 629,\n\t\"./Binary_Property/ID_Start\": 630,\n\t\"./Binary_Property/ID_Start.json\": 630,\n\t\"./Binary_Property/Ideographic\": 631,\n\t\"./Binary_Property/Ideographic.json\": 631,\n\t\"./Binary_Property/Join_Control\": 632,\n\t\"./Binary_Property/Join_Control.json\": 632,\n\t\"./Binary_Property/Logical_Order_Exception\": 633,\n\t\"./Binary_Property/Logical_Order_Exception.json\": 633,\n\t\"./Binary_Property/Lowercase\": 634,\n\t\"./Binary_Property/Lowercase.json\": 634,\n\t\"./Binary_Property/Math\": 635,\n\t\"./Binary_Property/Math.json\": 635,\n\t\"./Binary_Property/Noncharacter_Code_Point\": 636,\n\t\"./Binary_Property/Noncharacter_Code_Point.json\": 636,\n\t\"./Binary_Property/Other_Alphabetic\": 637,\n\t\"./Binary_Property/Other_Alphabetic.json\": 637,\n\t\"./Binary_Property/Other_Default_Ignorable_Code_Point\": 638,\n\t\"./Binary_Property/Other_Default_Ignorable_Code_Point.json\": 638,\n\t\"./Binary_Property/Other_Grapheme_Extend\": 639,\n\t\"./Binary_Property/Other_Grapheme_Extend.json\": 639,\n\t\"./Binary_Property/Other_ID_Continue\": 640,\n\t\"./Binary_Property/Other_ID_Continue.json\": 640,\n\t\"./Binary_Property/Other_ID_Start\": 641,\n\t\"./Binary_Property/Other_ID_Start.json\": 641,\n\t\"./Binary_Property/Other_Lowercase\": 642,\n\t\"./Binary_Property/Other_Lowercase.json\": 642,\n\t\"./Binary_Property/Other_Math\": 643,\n\t\"./Binary_Property/Other_Math.json\": 643,\n\t\"./Binary_Property/Other_Uppercase\": 644,\n\t\"./Binary_Property/Other_Uppercase.json\": 644,\n\t\"./Binary_Property/Pattern_Syntax\": 645,\n\t\"./Binary_Property/Pattern_Syntax.json\": 645,\n\t\"./Binary_Property/Pattern_White_Space\": 646,\n\t\"./Binary_Property/Pattern_White_Space.json\": 646,\n\t\"./Binary_Property/Prepended_Concatenation_Mark\": 647,\n\t\"./Binary_Property/Prepended_Concatenation_Mark.json\": 647,\n\t\"./Binary_Property/Quotation_Mark\": 648,\n\t\"./Binary_Property/Quotation_Mark.json\": 648,\n\t\"./Binary_Property/Radical\": 649,\n\t\"./Binary_Property/Radical.json\": 649,\n\t\"./Binary_Property/Regional_Indicator\": 650,\n\t\"./Binary_Property/Regional_Indicator.json\": 650,\n\t\"./Binary_Property/Sentence_Terminal\": 651,\n\t\"./Binary_Property/Sentence_Terminal.json\": 651,\n\t\"./Binary_Property/Soft_Dotted\": 652,\n\t\"./Binary_Property/Soft_Dotted.json\": 652,\n\t\"./Binary_Property/Terminal_Punctuation\": 653,\n\t\"./Binary_Property/Terminal_Punctuation.json\": 653,\n\t\"./Binary_Property/Unified_Ideograph\": 654,\n\t\"./Binary_Property/Unified_Ideograph.json\": 654,\n\t\"./Binary_Property/Uppercase\": 655,\n\t\"./Binary_Property/Uppercase.json\": 655,\n\t\"./Binary_Property/Variation_Selector\": 656,\n\t\"./Binary_Property/Variation_Selector.json\": 656,\n\t\"./Binary_Property/White_Space\": 657,\n\t\"./Binary_Property/White_Space.json\": 657,\n\t\"./Binary_Property/XID_Continue\": 658,\n\t\"./Binary_Property/XID_Continue.json\": 658,\n\t\"./Binary_Property/XID_Start\": 659,\n\t\"./Binary_Property/XID_Start.json\": 659,\n\t\"./Block/Adlam\": 660,\n\t\"./Block/Adlam.json\": 660,\n\t\"./Block/Aegean_Numbers\": 661,\n\t\"./Block/Aegean_Numbers.json\": 661,\n\t\"./Block/Ahom\": 662,\n\t\"./Block/Ahom.json\": 662,\n\t\"./Block/Alchemical_Symbols\": 663,\n\t\"./Block/Alchemical_Symbols.json\": 663,\n\t\"./Block/Alphabetic_Presentation_Forms\": 664,\n\t\"./Block/Alphabetic_Presentation_Forms.json\": 664,\n\t\"./Block/Anatolian_Hieroglyphs\": 665,\n\t\"./Block/Anatolian_Hieroglyphs.json\": 665,\n\t\"./Block/Ancient_Greek_Musical_Notation\": 666,\n\t\"./Block/Ancient_Greek_Musical_Notation.json\": 666,\n\t\"./Block/Ancient_Greek_Numbers\": 667,\n\t\"./Block/Ancient_Greek_Numbers.json\": 667,\n\t\"./Block/Ancient_Symbols\": 668,\n\t\"./Block/Ancient_Symbols.json\": 668,\n\t\"./Block/Arabic\": 669,\n\t\"./Block/Arabic.json\": 669,\n\t\"./Block/Arabic_Extended_A\": 670,\n\t\"./Block/Arabic_Extended_A.json\": 670,\n\t\"./Block/Arabic_Mathematical_Alphabetic_Symbols\": 671,\n\t\"./Block/Arabic_Mathematical_Alphabetic_Symbols.json\": 671,\n\t\"./Block/Arabic_Presentation_Forms_A\": 672,\n\t\"./Block/Arabic_Presentation_Forms_A.json\": 672,\n\t\"./Block/Arabic_Presentation_Forms_B\": 673,\n\t\"./Block/Arabic_Presentation_Forms_B.json\": 673,\n\t\"./Block/Arabic_Supplement\": 674,\n\t\"./Block/Arabic_Supplement.json\": 674,\n\t\"./Block/Armenian\": 675,\n\t\"./Block/Armenian.json\": 675,\n\t\"./Block/Arrows\": 676,\n\t\"./Block/Arrows.json\": 676,\n\t\"./Block/Avestan\": 677,\n\t\"./Block/Avestan.json\": 677,\n\t\"./Block/Balinese\": 678,\n\t\"./Block/Balinese.json\": 678,\n\t\"./Block/Bamum\": 679,\n\t\"./Block/Bamum.json\": 679,\n\t\"./Block/Bamum_Supplement\": 680,\n\t\"./Block/Bamum_Supplement.json\": 680,\n\t\"./Block/Basic_Latin\": 681,\n\t\"./Block/Basic_Latin.json\": 681,\n\t\"./Block/Bassa_Vah\": 682,\n\t\"./Block/Bassa_Vah.json\": 682,\n\t\"./Block/Batak\": 683,\n\t\"./Block/Batak.json\": 683,\n\t\"./Block/Bengali\": 684,\n\t\"./Block/Bengali.json\": 684,\n\t\"./Block/Bhaiksuki\": 685,\n\t\"./Block/Bhaiksuki.json\": 685,\n\t\"./Block/Block_Elements\": 686,\n\t\"./Block/Block_Elements.json\": 686,\n\t\"./Block/Bopomofo\": 687,\n\t\"./Block/Bopomofo.json\": 687,\n\t\"./Block/Bopomofo_Extended\": 688,\n\t\"./Block/Bopomofo_Extended.json\": 688,\n\t\"./Block/Box_Drawing\": 689,\n\t\"./Block/Box_Drawing.json\": 689,\n\t\"./Block/Brahmi\": 690,\n\t\"./Block/Brahmi.json\": 690,\n\t\"./Block/Braille_Patterns\": 691,\n\t\"./Block/Braille_Patterns.json\": 691,\n\t\"./Block/Buginese\": 692,\n\t\"./Block/Buginese.json\": 692,\n\t\"./Block/Buhid\": 693,\n\t\"./Block/Buhid.json\": 693,\n\t\"./Block/Byzantine_Musical_Symbols\": 694,\n\t\"./Block/Byzantine_Musical_Symbols.json\": 694,\n\t\"./Block/CJK_Compatibility\": 695,\n\t\"./Block/CJK_Compatibility.json\": 695,\n\t\"./Block/CJK_Compatibility_Forms\": 696,\n\t\"./Block/CJK_Compatibility_Forms.json\": 696,\n\t\"./Block/CJK_Compatibility_Ideographs\": 697,\n\t\"./Block/CJK_Compatibility_Ideographs.json\": 697,\n\t\"./Block/CJK_Compatibility_Ideographs_Supplement\": 698,\n\t\"./Block/CJK_Compatibility_Ideographs_Supplement.json\": 698,\n\t\"./Block/CJK_Radicals_Supplement\": 699,\n\t\"./Block/CJK_Radicals_Supplement.json\": 699,\n\t\"./Block/CJK_Strokes\": 700,\n\t\"./Block/CJK_Strokes.json\": 700,\n\t\"./Block/CJK_Symbols_And_Punctuation\": 701,\n\t\"./Block/CJK_Symbols_And_Punctuation.json\": 701,\n\t\"./Block/CJK_Unified_Ideographs\": 702,\n\t\"./Block/CJK_Unified_Ideographs.json\": 702,\n\t\"./Block/CJK_Unified_Ideographs_Extension_A\": 703,\n\t\"./Block/CJK_Unified_Ideographs_Extension_A.json\": 703,\n\t\"./Block/CJK_Unified_Ideographs_Extension_B\": 704,\n\t\"./Block/CJK_Unified_Ideographs_Extension_B.json\": 704,\n\t\"./Block/CJK_Unified_Ideographs_Extension_C\": 705,\n\t\"./Block/CJK_Unified_Ideographs_Extension_C.json\": 705,\n\t\"./Block/CJK_Unified_Ideographs_Extension_D\": 706,\n\t\"./Block/CJK_Unified_Ideographs_Extension_D.json\": 706,\n\t\"./Block/CJK_Unified_Ideographs_Extension_E\": 707,\n\t\"./Block/CJK_Unified_Ideographs_Extension_E.json\": 707,\n\t\"./Block/Carian\": 708,\n\t\"./Block/Carian.json\": 708,\n\t\"./Block/Caucasian_Albanian\": 709,\n\t\"./Block/Caucasian_Albanian.json\": 709,\n\t\"./Block/Chakma\": 710,\n\t\"./Block/Chakma.json\": 710,\n\t\"./Block/Cham\": 711,\n\t\"./Block/Cham.json\": 711,\n\t\"./Block/Cherokee\": 712,\n\t\"./Block/Cherokee.json\": 712,\n\t\"./Block/Cherokee_Supplement\": 713,\n\t\"./Block/Cherokee_Supplement.json\": 713,\n\t\"./Block/Combining_Diacritical_Marks\": 714,\n\t\"./Block/Combining_Diacritical_Marks.json\": 714,\n\t\"./Block/Combining_Diacritical_Marks_Extended\": 715,\n\t\"./Block/Combining_Diacritical_Marks_Extended.json\": 715,\n\t\"./Block/Combining_Diacritical_Marks_For_Symbols\": 716,\n\t\"./Block/Combining_Diacritical_Marks_For_Symbols.json\": 716,\n\t\"./Block/Combining_Diacritical_Marks_Supplement\": 717,\n\t\"./Block/Combining_Diacritical_Marks_Supplement.json\": 717,\n\t\"./Block/Combining_Half_Marks\": 718,\n\t\"./Block/Combining_Half_Marks.json\": 718,\n\t\"./Block/Common_Indic_Number_Forms\": 719,\n\t\"./Block/Common_Indic_Number_Forms.json\": 719,\n\t\"./Block/Control_Pictures\": 720,\n\t\"./Block/Control_Pictures.json\": 720,\n\t\"./Block/Coptic\": 721,\n\t\"./Block/Coptic.json\": 721,\n\t\"./Block/Coptic_Epact_Numbers\": 722,\n\t\"./Block/Coptic_Epact_Numbers.json\": 722,\n\t\"./Block/Counting_Rod_Numerals\": 723,\n\t\"./Block/Counting_Rod_Numerals.json\": 723,\n\t\"./Block/Cuneiform\": 724,\n\t\"./Block/Cuneiform.json\": 724,\n\t\"./Block/Cuneiform_Numbers_And_Punctuation\": 725,\n\t\"./Block/Cuneiform_Numbers_And_Punctuation.json\": 725,\n\t\"./Block/Currency_Symbols\": 726,\n\t\"./Block/Currency_Symbols.json\": 726,\n\t\"./Block/Cypriot_Syllabary\": 727,\n\t\"./Block/Cypriot_Syllabary.json\": 727,\n\t\"./Block/Cyrillic\": 728,\n\t\"./Block/Cyrillic.json\": 728,\n\t\"./Block/Cyrillic_Extended_A\": 729,\n\t\"./Block/Cyrillic_Extended_A.json\": 729,\n\t\"./Block/Cyrillic_Extended_B\": 730,\n\t\"./Block/Cyrillic_Extended_B.json\": 730,\n\t\"./Block/Cyrillic_Extended_C\": 731,\n\t\"./Block/Cyrillic_Extended_C.json\": 731,\n\t\"./Block/Cyrillic_Supplement\": 732,\n\t\"./Block/Cyrillic_Supplement.json\": 732,\n\t\"./Block/Deseret\": 733,\n\t\"./Block/Deseret.json\": 733,\n\t\"./Block/Devanagari\": 734,\n\t\"./Block/Devanagari.json\": 734,\n\t\"./Block/Devanagari_Extended\": 735,\n\t\"./Block/Devanagari_Extended.json\": 735,\n\t\"./Block/Dingbats\": 736,\n\t\"./Block/Dingbats.json\": 736,\n\t\"./Block/Domino_Tiles\": 737,\n\t\"./Block/Domino_Tiles.json\": 737,\n\t\"./Block/Duployan\": 738,\n\t\"./Block/Duployan.json\": 738,\n\t\"./Block/Early_Dynastic_Cuneiform\": 739,\n\t\"./Block/Early_Dynastic_Cuneiform.json\": 739,\n\t\"./Block/Egyptian_Hieroglyphs\": 740,\n\t\"./Block/Egyptian_Hieroglyphs.json\": 740,\n\t\"./Block/Elbasan\": 741,\n\t\"./Block/Elbasan.json\": 741,\n\t\"./Block/Emoticons\": 742,\n\t\"./Block/Emoticons.json\": 742,\n\t\"./Block/Enclosed_Alphanumeric_Supplement\": 743,\n\t\"./Block/Enclosed_Alphanumeric_Supplement.json\": 743,\n\t\"./Block/Enclosed_Alphanumerics\": 744,\n\t\"./Block/Enclosed_Alphanumerics.json\": 744,\n\t\"./Block/Enclosed_CJK_Letters_And_Months\": 745,\n\t\"./Block/Enclosed_CJK_Letters_And_Months.json\": 745,\n\t\"./Block/Enclosed_Ideographic_Supplement\": 746,\n\t\"./Block/Enclosed_Ideographic_Supplement.json\": 746,\n\t\"./Block/Ethiopic\": 747,\n\t\"./Block/Ethiopic.json\": 747,\n\t\"./Block/Ethiopic_Extended\": 748,\n\t\"./Block/Ethiopic_Extended.json\": 748,\n\t\"./Block/Ethiopic_Extended_A\": 749,\n\t\"./Block/Ethiopic_Extended_A.json\": 749,\n\t\"./Block/Ethiopic_Supplement\": 750,\n\t\"./Block/Ethiopic_Supplement.json\": 750,\n\t\"./Block/General_Punctuation\": 751,\n\t\"./Block/General_Punctuation.json\": 751,\n\t\"./Block/Geometric_Shapes\": 752,\n\t\"./Block/Geometric_Shapes.json\": 752,\n\t\"./Block/Geometric_Shapes_Extended\": 753,\n\t\"./Block/Geometric_Shapes_Extended.json\": 753,\n\t\"./Block/Georgian\": 754,\n\t\"./Block/Georgian.json\": 754,\n\t\"./Block/Georgian_Supplement\": 755,\n\t\"./Block/Georgian_Supplement.json\": 755,\n\t\"./Block/Glagolitic\": 756,\n\t\"./Block/Glagolitic.json\": 756,\n\t\"./Block/Glagolitic_Supplement\": 757,\n\t\"./Block/Glagolitic_Supplement.json\": 757,\n\t\"./Block/Gothic\": 758,\n\t\"./Block/Gothic.json\": 758,\n\t\"./Block/Grantha\": 759,\n\t\"./Block/Grantha.json\": 759,\n\t\"./Block/Greek_And_Coptic\": 760,\n\t\"./Block/Greek_And_Coptic.json\": 760,\n\t\"./Block/Greek_Extended\": 761,\n\t\"./Block/Greek_Extended.json\": 761,\n\t\"./Block/Gujarati\": 762,\n\t\"./Block/Gujarati.json\": 762,\n\t\"./Block/Gurmukhi\": 763,\n\t\"./Block/Gurmukhi.json\": 763,\n\t\"./Block/Halfwidth_And_Fullwidth_Forms\": 764,\n\t\"./Block/Halfwidth_And_Fullwidth_Forms.json\": 764,\n\t\"./Block/Hangul_Compatibility_Jamo\": 765,\n\t\"./Block/Hangul_Compatibility_Jamo.json\": 765,\n\t\"./Block/Hangul_Jamo\": 766,\n\t\"./Block/Hangul_Jamo.json\": 766,\n\t\"./Block/Hangul_Jamo_Extended_A\": 767,\n\t\"./Block/Hangul_Jamo_Extended_A.json\": 767,\n\t\"./Block/Hangul_Jamo_Extended_B\": 768,\n\t\"./Block/Hangul_Jamo_Extended_B.json\": 768,\n\t\"./Block/Hangul_Syllables\": 769,\n\t\"./Block/Hangul_Syllables.json\": 769,\n\t\"./Block/Hanunoo\": 770,\n\t\"./Block/Hanunoo.json\": 770,\n\t\"./Block/Hatran\": 771,\n\t\"./Block/Hatran.json\": 771,\n\t\"./Block/Hebrew\": 772,\n\t\"./Block/Hebrew.json\": 772,\n\t\"./Block/High_Private_Use_Surrogates\": 773,\n\t\"./Block/High_Private_Use_Surrogates.json\": 773,\n\t\"./Block/High_Surrogates\": 774,\n\t\"./Block/High_Surrogates.json\": 774,\n\t\"./Block/Hiragana\": 775,\n\t\"./Block/Hiragana.json\": 775,\n\t\"./Block/IPA_Extensions\": 776,\n\t\"./Block/IPA_Extensions.json\": 776,\n\t\"./Block/Ideographic_Description_Characters\": 777,\n\t\"./Block/Ideographic_Description_Characters.json\": 777,\n\t\"./Block/Ideographic_Symbols_And_Punctuation\": 778,\n\t\"./Block/Ideographic_Symbols_And_Punctuation.json\": 778,\n\t\"./Block/Imperial_Aramaic\": 779,\n\t\"./Block/Imperial_Aramaic.json\": 779,\n\t\"./Block/Inscriptional_Pahlavi\": 780,\n\t\"./Block/Inscriptional_Pahlavi.json\": 780,\n\t\"./Block/Inscriptional_Parthian\": 781,\n\t\"./Block/Inscriptional_Parthian.json\": 781,\n\t\"./Block/Javanese\": 782,\n\t\"./Block/Javanese.json\": 782,\n\t\"./Block/Kaithi\": 783,\n\t\"./Block/Kaithi.json\": 783,\n\t\"./Block/Kana_Supplement\": 784,\n\t\"./Block/Kana_Supplement.json\": 784,\n\t\"./Block/Kanbun\": 785,\n\t\"./Block/Kanbun.json\": 785,\n\t\"./Block/Kangxi_Radicals\": 786,\n\t\"./Block/Kangxi_Radicals.json\": 786,\n\t\"./Block/Kannada\": 787,\n\t\"./Block/Kannada.json\": 787,\n\t\"./Block/Katakana\": 788,\n\t\"./Block/Katakana.json\": 788,\n\t\"./Block/Katakana_Phonetic_Extensions\": 789,\n\t\"./Block/Katakana_Phonetic_Extensions.json\": 789,\n\t\"./Block/Kayah_Li\": 790,\n\t\"./Block/Kayah_Li.json\": 790,\n\t\"./Block/Kharoshthi\": 791,\n\t\"./Block/Kharoshthi.json\": 791,\n\t\"./Block/Khmer\": 792,\n\t\"./Block/Khmer.json\": 792,\n\t\"./Block/Khmer_Symbols\": 793,\n\t\"./Block/Khmer_Symbols.json\": 793,\n\t\"./Block/Khojki\": 794,\n\t\"./Block/Khojki.json\": 794,\n\t\"./Block/Khudawadi\": 795,\n\t\"./Block/Khudawadi.json\": 795,\n\t\"./Block/Lao\": 796,\n\t\"./Block/Lao.json\": 796,\n\t\"./Block/Latin_1_Supplement\": 797,\n\t\"./Block/Latin_1_Supplement.json\": 797,\n\t\"./Block/Latin_Extended_A\": 798,\n\t\"./Block/Latin_Extended_A.json\": 798,\n\t\"./Block/Latin_Extended_Additional\": 799,\n\t\"./Block/Latin_Extended_Additional.json\": 799,\n\t\"./Block/Latin_Extended_B\": 800,\n\t\"./Block/Latin_Extended_B.json\": 800,\n\t\"./Block/Latin_Extended_C\": 801,\n\t\"./Block/Latin_Extended_C.json\": 801,\n\t\"./Block/Latin_Extended_D\": 802,\n\t\"./Block/Latin_Extended_D.json\": 802,\n\t\"./Block/Latin_Extended_E\": 803,\n\t\"./Block/Latin_Extended_E.json\": 803,\n\t\"./Block/Lepcha\": 804,\n\t\"./Block/Lepcha.json\": 804,\n\t\"./Block/Letterlike_Symbols\": 805,\n\t\"./Block/Letterlike_Symbols.json\": 805,\n\t\"./Block/Limbu\": 806,\n\t\"./Block/Limbu.json\": 806,\n\t\"./Block/Linear_A\": 807,\n\t\"./Block/Linear_A.json\": 807,\n\t\"./Block/Linear_B_Ideograms\": 808,\n\t\"./Block/Linear_B_Ideograms.json\": 808,\n\t\"./Block/Linear_B_Syllabary\": 809,\n\t\"./Block/Linear_B_Syllabary.json\": 809,\n\t\"./Block/Lisu\": 810,\n\t\"./Block/Lisu.json\": 810,\n\t\"./Block/Low_Surrogates\": 811,\n\t\"./Block/Low_Surrogates.json\": 811,\n\t\"./Block/Lycian\": 812,\n\t\"./Block/Lycian.json\": 812,\n\t\"./Block/Lydian\": 813,\n\t\"./Block/Lydian.json\": 813,\n\t\"./Block/Mahajani\": 814,\n\t\"./Block/Mahajani.json\": 814,\n\t\"./Block/Mahjong_Tiles\": 815,\n\t\"./Block/Mahjong_Tiles.json\": 815,\n\t\"./Block/Malayalam\": 816,\n\t\"./Block/Malayalam.json\": 816,\n\t\"./Block/Mandaic\": 817,\n\t\"./Block/Mandaic.json\": 817,\n\t\"./Block/Manichaean\": 818,\n\t\"./Block/Manichaean.json\": 818,\n\t\"./Block/Marchen\": 819,\n\t\"./Block/Marchen.json\": 819,\n\t\"./Block/Mathematical_Alphanumeric_Symbols\": 820,\n\t\"./Block/Mathematical_Alphanumeric_Symbols.json\": 820,\n\t\"./Block/Mathematical_Operators\": 821,\n\t\"./Block/Mathematical_Operators.json\": 821,\n\t\"./Block/Meetei_Mayek\": 822,\n\t\"./Block/Meetei_Mayek.json\": 822,\n\t\"./Block/Meetei_Mayek_Extensions\": 823,\n\t\"./Block/Meetei_Mayek_Extensions.json\": 823,\n\t\"./Block/Mende_Kikakui\": 824,\n\t\"./Block/Mende_Kikakui.json\": 824,\n\t\"./Block/Meroitic_Cursive\": 825,\n\t\"./Block/Meroitic_Cursive.json\": 825,\n\t\"./Block/Meroitic_Hieroglyphs\": 826,\n\t\"./Block/Meroitic_Hieroglyphs.json\": 826,\n\t\"./Block/Miao\": 827,\n\t\"./Block/Miao.json\": 827,\n\t\"./Block/Miscellaneous_Mathematical_Symbols_A\": 828,\n\t\"./Block/Miscellaneous_Mathematical_Symbols_A.json\": 828,\n\t\"./Block/Miscellaneous_Mathematical_Symbols_B\": 829,\n\t\"./Block/Miscellaneous_Mathematical_Symbols_B.json\": 829,\n\t\"./Block/Miscellaneous_Symbols\": 830,\n\t\"./Block/Miscellaneous_Symbols.json\": 830,\n\t\"./Block/Miscellaneous_Symbols_And_Arrows\": 831,\n\t\"./Block/Miscellaneous_Symbols_And_Arrows.json\": 831,\n\t\"./Block/Miscellaneous_Symbols_And_Pictographs\": 832,\n\t\"./Block/Miscellaneous_Symbols_And_Pictographs.json\": 832,\n\t\"./Block/Miscellaneous_Technical\": 833,\n\t\"./Block/Miscellaneous_Technical.json\": 833,\n\t\"./Block/Modi\": 834,\n\t\"./Block/Modi.json\": 834,\n\t\"./Block/Modifier_Tone_Letters\": 835,\n\t\"./Block/Modifier_Tone_Letters.json\": 835,\n\t\"./Block/Mongolian\": 836,\n\t\"./Block/Mongolian.json\": 836,\n\t\"./Block/Mongolian_Supplement\": 837,\n\t\"./Block/Mongolian_Supplement.json\": 837,\n\t\"./Block/Mro\": 838,\n\t\"./Block/Mro.json\": 838,\n\t\"./Block/Multani\": 839,\n\t\"./Block/Multani.json\": 839,\n\t\"./Block/Musical_Symbols\": 840,\n\t\"./Block/Musical_Symbols.json\": 840,\n\t\"./Block/Myanmar\": 841,\n\t\"./Block/Myanmar.json\": 841,\n\t\"./Block/Myanmar_Extended_A\": 842,\n\t\"./Block/Myanmar_Extended_A.json\": 842,\n\t\"./Block/Myanmar_Extended_B\": 843,\n\t\"./Block/Myanmar_Extended_B.json\": 843,\n\t\"./Block/NKo\": 844,\n\t\"./Block/NKo.json\": 844,\n\t\"./Block/Nabataean\": 845,\n\t\"./Block/Nabataean.json\": 845,\n\t\"./Block/New_Tai_Lue\": 846,\n\t\"./Block/New_Tai_Lue.json\": 846,\n\t\"./Block/Newa\": 847,\n\t\"./Block/Newa.json\": 847,\n\t\"./Block/Number_Forms\": 848,\n\t\"./Block/Number_Forms.json\": 848,\n\t\"./Block/Ogham\": 849,\n\t\"./Block/Ogham.json\": 849,\n\t\"./Block/Ol_Chiki\": 850,\n\t\"./Block/Ol_Chiki.json\": 850,\n\t\"./Block/Old_Hungarian\": 851,\n\t\"./Block/Old_Hungarian.json\": 851,\n\t\"./Block/Old_Italic\": 852,\n\t\"./Block/Old_Italic.json\": 852,\n\t\"./Block/Old_North_Arabian\": 853,\n\t\"./Block/Old_North_Arabian.json\": 853,\n\t\"./Block/Old_Permic\": 854,\n\t\"./Block/Old_Permic.json\": 854,\n\t\"./Block/Old_Persian\": 855,\n\t\"./Block/Old_Persian.json\": 855,\n\t\"./Block/Old_South_Arabian\": 856,\n\t\"./Block/Old_South_Arabian.json\": 856,\n\t\"./Block/Old_Turkic\": 857,\n\t\"./Block/Old_Turkic.json\": 857,\n\t\"./Block/Optical_Character_Recognition\": 858,\n\t\"./Block/Optical_Character_Recognition.json\": 858,\n\t\"./Block/Oriya\": 859,\n\t\"./Block/Oriya.json\": 859,\n\t\"./Block/Ornamental_Dingbats\": 860,\n\t\"./Block/Ornamental_Dingbats.json\": 860,\n\t\"./Block/Osage\": 861,\n\t\"./Block/Osage.json\": 861,\n\t\"./Block/Osmanya\": 862,\n\t\"./Block/Osmanya.json\": 862,\n\t\"./Block/Pahawh_Hmong\": 863,\n\t\"./Block/Pahawh_Hmong.json\": 863,\n\t\"./Block/Palmyrene\": 864,\n\t\"./Block/Palmyrene.json\": 864,\n\t\"./Block/Pau_Cin_Hau\": 865,\n\t\"./Block/Pau_Cin_Hau.json\": 865,\n\t\"./Block/Phags_Pa\": 866,\n\t\"./Block/Phags_Pa.json\": 866,\n\t\"./Block/Phaistos_Disc\": 867,\n\t\"./Block/Phaistos_Disc.json\": 867,\n\t\"./Block/Phoenician\": 868,\n\t\"./Block/Phoenician.json\": 868,\n\t\"./Block/Phonetic_Extensions\": 869,\n\t\"./Block/Phonetic_Extensions.json\": 869,\n\t\"./Block/Phonetic_Extensions_Supplement\": 870,\n\t\"./Block/Phonetic_Extensions_Supplement.json\": 870,\n\t\"./Block/Playing_Cards\": 871,\n\t\"./Block/Playing_Cards.json\": 871,\n\t\"./Block/Private_Use_Area\": 872,\n\t\"./Block/Private_Use_Area.json\": 872,\n\t\"./Block/Psalter_Pahlavi\": 873,\n\t\"./Block/Psalter_Pahlavi.json\": 873,\n\t\"./Block/Rejang\": 874,\n\t\"./Block/Rejang.json\": 874,\n\t\"./Block/Rumi_Numeral_Symbols\": 875,\n\t\"./Block/Rumi_Numeral_Symbols.json\": 875,\n\t\"./Block/Runic\": 876,\n\t\"./Block/Runic.json\": 876,\n\t\"./Block/Samaritan\": 877,\n\t\"./Block/Samaritan.json\": 877,\n\t\"./Block/Saurashtra\": 878,\n\t\"./Block/Saurashtra.json\": 878,\n\t\"./Block/Sharada\": 879,\n\t\"./Block/Sharada.json\": 879,\n\t\"./Block/Shavian\": 880,\n\t\"./Block/Shavian.json\": 880,\n\t\"./Block/Shorthand_Format_Controls\": 881,\n\t\"./Block/Shorthand_Format_Controls.json\": 881,\n\t\"./Block/Siddham\": 882,\n\t\"./Block/Siddham.json\": 882,\n\t\"./Block/Sinhala\": 883,\n\t\"./Block/Sinhala.json\": 883,\n\t\"./Block/Sinhala_Archaic_Numbers\": 884,\n\t\"./Block/Sinhala_Archaic_Numbers.json\": 884,\n\t\"./Block/Small_Form_Variants\": 885,\n\t\"./Block/Small_Form_Variants.json\": 885,\n\t\"./Block/Sora_Sompeng\": 886,\n\t\"./Block/Sora_Sompeng.json\": 886,\n\t\"./Block/Spacing_Modifier_Letters\": 887,\n\t\"./Block/Spacing_Modifier_Letters.json\": 887,\n\t\"./Block/Specials\": 888,\n\t\"./Block/Specials.json\": 888,\n\t\"./Block/Sundanese\": 889,\n\t\"./Block/Sundanese.json\": 889,\n\t\"./Block/Sundanese_Supplement\": 890,\n\t\"./Block/Sundanese_Supplement.json\": 890,\n\t\"./Block/Superscripts_And_Subscripts\": 891,\n\t\"./Block/Superscripts_And_Subscripts.json\": 891,\n\t\"./Block/Supplemental_Arrows_A\": 892,\n\t\"./Block/Supplemental_Arrows_A.json\": 892,\n\t\"./Block/Supplemental_Arrows_B\": 893,\n\t\"./Block/Supplemental_Arrows_B.json\": 893,\n\t\"./Block/Supplemental_Arrows_C\": 894,\n\t\"./Block/Supplemental_Arrows_C.json\": 894,\n\t\"./Block/Supplemental_Mathematical_Operators\": 895,\n\t\"./Block/Supplemental_Mathematical_Operators.json\": 895,\n\t\"./Block/Supplemental_Punctuation\": 896,\n\t\"./Block/Supplemental_Punctuation.json\": 896,\n\t\"./Block/Supplemental_Symbols_And_Pictographs\": 897,\n\t\"./Block/Supplemental_Symbols_And_Pictographs.json\": 897,\n\t\"./Block/Supplementary_Private_Use_Area_A\": 898,\n\t\"./Block/Supplementary_Private_Use_Area_A.json\": 898,\n\t\"./Block/Supplementary_Private_Use_Area_B\": 899,\n\t\"./Block/Supplementary_Private_Use_Area_B.json\": 899,\n\t\"./Block/Sutton_SignWriting\": 900,\n\t\"./Block/Sutton_SignWriting.json\": 900,\n\t\"./Block/Syloti_Nagri\": 901,\n\t\"./Block/Syloti_Nagri.json\": 901,\n\t\"./Block/Syriac\": 902,\n\t\"./Block/Syriac.json\": 902,\n\t\"./Block/Tagalog\": 903,\n\t\"./Block/Tagalog.json\": 903,\n\t\"./Block/Tagbanwa\": 904,\n\t\"./Block/Tagbanwa.json\": 904,\n\t\"./Block/Tags\": 905,\n\t\"./Block/Tags.json\": 905,\n\t\"./Block/Tai_Le\": 906,\n\t\"./Block/Tai_Le.json\": 906,\n\t\"./Block/Tai_Tham\": 907,\n\t\"./Block/Tai_Tham.json\": 907,\n\t\"./Block/Tai_Viet\": 908,\n\t\"./Block/Tai_Viet.json\": 908,\n\t\"./Block/Tai_Xuan_Jing_Symbols\": 909,\n\t\"./Block/Tai_Xuan_Jing_Symbols.json\": 909,\n\t\"./Block/Takri\": 910,\n\t\"./Block/Takri.json\": 910,\n\t\"./Block/Tamil\": 911,\n\t\"./Block/Tamil.json\": 911,\n\t\"./Block/Tangut\": 912,\n\t\"./Block/Tangut.json\": 912,\n\t\"./Block/Tangut_Components\": 913,\n\t\"./Block/Tangut_Components.json\": 913,\n\t\"./Block/Telugu\": 914,\n\t\"./Block/Telugu.json\": 914,\n\t\"./Block/Thaana\": 915,\n\t\"./Block/Thaana.json\": 915,\n\t\"./Block/Thai\": 916,\n\t\"./Block/Thai.json\": 916,\n\t\"./Block/Tibetan\": 917,\n\t\"./Block/Tibetan.json\": 917,\n\t\"./Block/Tifinagh\": 918,\n\t\"./Block/Tifinagh.json\": 918,\n\t\"./Block/Tirhuta\": 919,\n\t\"./Block/Tirhuta.json\": 919,\n\t\"./Block/Transport_And_Map_Symbols\": 920,\n\t\"./Block/Transport_And_Map_Symbols.json\": 920,\n\t\"./Block/Ugaritic\": 921,\n\t\"./Block/Ugaritic.json\": 921,\n\t\"./Block/Unified_Canadian_Aboriginal_Syllabics\": 922,\n\t\"./Block/Unified_Canadian_Aboriginal_Syllabics.json\": 922,\n\t\"./Block/Unified_Canadian_Aboriginal_Syllabics_Extended\": 923,\n\t\"./Block/Unified_Canadian_Aboriginal_Syllabics_Extended.json\": 923,\n\t\"./Block/Vai\": 924,\n\t\"./Block/Vai.json\": 924,\n\t\"./Block/Variation_Selectors\": 925,\n\t\"./Block/Variation_Selectors.json\": 925,\n\t\"./Block/Variation_Selectors_Supplement\": 926,\n\t\"./Block/Variation_Selectors_Supplement.json\": 926,\n\t\"./Block/Vedic_Extensions\": 927,\n\t\"./Block/Vedic_Extensions.json\": 927,\n\t\"./Block/Vertical_Forms\": 928,\n\t\"./Block/Vertical_Forms.json\": 928,\n\t\"./Block/Warang_Citi\": 929,\n\t\"./Block/Warang_Citi.json\": 929,\n\t\"./Block/Yi_Radicals\": 930,\n\t\"./Block/Yi_Radicals.json\": 930,\n\t\"./Block/Yi_Syllables\": 931,\n\t\"./Block/Yi_Syllables.json\": 931,\n\t\"./Block/Yijing_Hexagram_Symbols\": 932,\n\t\"./Block/Yijing_Hexagram_Symbols.json\": 932,\n\t\"./Block/undefined\": 933,\n\t\"./Block/undefined.json\": 933,\n\t\"./Case_Folding/C\": 934,\n\t\"./Case_Folding/C.json\": 934,\n\t\"./Case_Folding/F\": 935,\n\t\"./Case_Folding/F.json\": 935,\n\t\"./Case_Folding/S\": 936,\n\t\"./Case_Folding/S.json\": 936,\n\t\"./Case_Folding/T\": 937,\n\t\"./Case_Folding/T.json\": 937,\n\t\"./General_Category/Cased_Letter\": 938,\n\t\"./General_Category/Cased_Letter.json\": 938,\n\t\"./General_Category/Close_Punctuation\": 939,\n\t\"./General_Category/Close_Punctuation.json\": 939,\n\t\"./General_Category/Connector_Punctuation\": 940,\n\t\"./General_Category/Connector_Punctuation.json\": 940,\n\t\"./General_Category/Control\": 941,\n\t\"./General_Category/Control.json\": 941,\n\t\"./General_Category/Currency_Symbol\": 942,\n\t\"./General_Category/Currency_Symbol.json\": 942,\n\t\"./General_Category/Dash_Punctuation\": 943,\n\t\"./General_Category/Dash_Punctuation.json\": 943,\n\t\"./General_Category/Decimal_Number\": 944,\n\t\"./General_Category/Decimal_Number.json\": 944,\n\t\"./General_Category/Enclosing_Mark\": 945,\n\t\"./General_Category/Enclosing_Mark.json\": 945,\n\t\"./General_Category/Final_Punctuation\": 946,\n\t\"./General_Category/Final_Punctuation.json\": 946,\n\t\"./General_Category/Format\": 947,\n\t\"./General_Category/Format.json\": 947,\n\t\"./General_Category/Initial_Punctuation\": 948,\n\t\"./General_Category/Initial_Punctuation.json\": 948,\n\t\"./General_Category/Letter\": 949,\n\t\"./General_Category/Letter.json\": 949,\n\t\"./General_Category/Letter_Number\": 950,\n\t\"./General_Category/Letter_Number.json\": 950,\n\t\"./General_Category/Line_Separator\": 951,\n\t\"./General_Category/Line_Separator.json\": 951,\n\t\"./General_Category/Lowercase_Letter\": 952,\n\t\"./General_Category/Lowercase_Letter.json\": 952,\n\t\"./General_Category/Mark\": 953,\n\t\"./General_Category/Mark.json\": 953,\n\t\"./General_Category/Math_Symbol\": 954,\n\t\"./General_Category/Math_Symbol.json\": 954,\n\t\"./General_Category/Modifier_Letter\": 955,\n\t\"./General_Category/Modifier_Letter.json\": 955,\n\t\"./General_Category/Modifier_Symbol\": 956,\n\t\"./General_Category/Modifier_Symbol.json\": 956,\n\t\"./General_Category/Nonspacing_Mark\": 957,\n\t\"./General_Category/Nonspacing_Mark.json\": 957,\n\t\"./General_Category/Number\": 958,\n\t\"./General_Category/Number.json\": 958,\n\t\"./General_Category/Open_Punctuation\": 959,\n\t\"./General_Category/Open_Punctuation.json\": 959,\n\t\"./General_Category/Other\": 960,\n\t\"./General_Category/Other.json\": 960,\n\t\"./General_Category/Other_Letter\": 961,\n\t\"./General_Category/Other_Letter.json\": 961,\n\t\"./General_Category/Other_Number\": 962,\n\t\"./General_Category/Other_Number.json\": 962,\n\t\"./General_Category/Other_Punctuation\": 963,\n\t\"./General_Category/Other_Punctuation.json\": 963,\n\t\"./General_Category/Other_Symbol\": 964,\n\t\"./General_Category/Other_Symbol.json\": 964,\n\t\"./General_Category/Paragraph_Separator\": 965,\n\t\"./General_Category/Paragraph_Separator.json\": 965,\n\t\"./General_Category/Private_Use\": 966,\n\t\"./General_Category/Private_Use.json\": 966,\n\t\"./General_Category/Punctuation\": 967,\n\t\"./General_Category/Punctuation.json\": 967,\n\t\"./General_Category/Separator\": 968,\n\t\"./General_Category/Separator.json\": 968,\n\t\"./General_Category/Space_Separator\": 969,\n\t\"./General_Category/Space_Separator.json\": 969,\n\t\"./General_Category/Spacing_Mark\": 970,\n\t\"./General_Category/Spacing_Mark.json\": 970,\n\t\"./General_Category/Surrogate\": 971,\n\t\"./General_Category/Surrogate.json\": 971,\n\t\"./General_Category/Symbol\": 972,\n\t\"./General_Category/Symbol.json\": 972,\n\t\"./General_Category/Titlecase_Letter\": 973,\n\t\"./General_Category/Titlecase_Letter.json\": 973,\n\t\"./General_Category/Unassigned\": 974,\n\t\"./General_Category/Unassigned.json\": 974,\n\t\"./General_Category/Uppercase_Letter\": 975,\n\t\"./General_Category/Uppercase_Letter.json\": 975,\n\t\"./Line_Break/Alphabetic\": 976,\n\t\"./Line_Break/Alphabetic.json\": 976,\n\t\"./Line_Break/Ambiguous\": 977,\n\t\"./Line_Break/Ambiguous.json\": 977,\n\t\"./Line_Break/Break_After\": 978,\n\t\"./Line_Break/Break_After.json\": 978,\n\t\"./Line_Break/Break_Before\": 979,\n\t\"./Line_Break/Break_Before.json\": 979,\n\t\"./Line_Break/Break_Both\": 980,\n\t\"./Line_Break/Break_Both.json\": 980,\n\t\"./Line_Break/Break_Symbols\": 981,\n\t\"./Line_Break/Break_Symbols.json\": 981,\n\t\"./Line_Break/Carriage_Return\": 982,\n\t\"./Line_Break/Carriage_Return.json\": 982,\n\t\"./Line_Break/Close_Parenthesis\": 983,\n\t\"./Line_Break/Close_Parenthesis.json\": 983,\n\t\"./Line_Break/Close_Punctuation\": 984,\n\t\"./Line_Break/Close_Punctuation.json\": 984,\n\t\"./Line_Break/Combining_Mark\": 985,\n\t\"./Line_Break/Combining_Mark.json\": 985,\n\t\"./Line_Break/Complex_Context\": 986,\n\t\"./Line_Break/Complex_Context.json\": 986,\n\t\"./Line_Break/Conditional_Japanese_Starter\": 987,\n\t\"./Line_Break/Conditional_Japanese_Starter.json\": 987,\n\t\"./Line_Break/Contingent_Break\": 988,\n\t\"./Line_Break/Contingent_Break.json\": 988,\n\t\"./Line_Break/E_Base\": 989,\n\t\"./Line_Break/E_Base.json\": 989,\n\t\"./Line_Break/E_Modifier\": 990,\n\t\"./Line_Break/E_Modifier.json\": 990,\n\t\"./Line_Break/Exclamation\": 991,\n\t\"./Line_Break/Exclamation.json\": 991,\n\t\"./Line_Break/Glue\": 992,\n\t\"./Line_Break/Glue.json\": 992,\n\t\"./Line_Break/H2\": 993,\n\t\"./Line_Break/H2.json\": 993,\n\t\"./Line_Break/H3\": 994,\n\t\"./Line_Break/H3.json\": 994,\n\t\"./Line_Break/Hebrew_Letter\": 995,\n\t\"./Line_Break/Hebrew_Letter.json\": 995,\n\t\"./Line_Break/Hyphen\": 996,\n\t\"./Line_Break/Hyphen.json\": 996,\n\t\"./Line_Break/Ideographic\": 997,\n\t\"./Line_Break/Ideographic.json\": 997,\n\t\"./Line_Break/Infix_Numeric\": 998,\n\t\"./Line_Break/Infix_Numeric.json\": 998,\n\t\"./Line_Break/Inseparable\": 999,\n\t\"./Line_Break/Inseparable.json\": 999,\n\t\"./Line_Break/JL\": 1000,\n\t\"./Line_Break/JL.json\": 1000,\n\t\"./Line_Break/JT\": 1001,\n\t\"./Line_Break/JT.json\": 1001,\n\t\"./Line_Break/JV\": 1002,\n\t\"./Line_Break/JV.json\": 1002,\n\t\"./Line_Break/Line_Feed\": 1003,\n\t\"./Line_Break/Line_Feed.json\": 1003,\n\t\"./Line_Break/Mandatory_Break\": 1004,\n\t\"./Line_Break/Mandatory_Break.json\": 1004,\n\t\"./Line_Break/Next_Line\": 1005,\n\t\"./Line_Break/Next_Line.json\": 1005,\n\t\"./Line_Break/Nonstarter\": 1006,\n\t\"./Line_Break/Nonstarter.json\": 1006,\n\t\"./Line_Break/Numeric\": 1007,\n\t\"./Line_Break/Numeric.json\": 1007,\n\t\"./Line_Break/Open_Punctuation\": 1008,\n\t\"./Line_Break/Open_Punctuation.json\": 1008,\n\t\"./Line_Break/Postfix_Numeric\": 1009,\n\t\"./Line_Break/Postfix_Numeric.json\": 1009,\n\t\"./Line_Break/Prefix_Numeric\": 1010,\n\t\"./Line_Break/Prefix_Numeric.json\": 1010,\n\t\"./Line_Break/Quotation\": 1011,\n\t\"./Line_Break/Quotation.json\": 1011,\n\t\"./Line_Break/Regional_Indicator\": 1012,\n\t\"./Line_Break/Regional_Indicator.json\": 1012,\n\t\"./Line_Break/Space\": 1013,\n\t\"./Line_Break/Space.json\": 1013,\n\t\"./Line_Break/Surrogate\": 1014,\n\t\"./Line_Break/Surrogate.json\": 1014,\n\t\"./Line_Break/Unknown\": 1015,\n\t\"./Line_Break/Unknown.json\": 1015,\n\t\"./Line_Break/Word_Joiner\": 1016,\n\t\"./Line_Break/Word_Joiner.json\": 1016,\n\t\"./Line_Break/ZWJ\": 1017,\n\t\"./Line_Break/ZWJ.json\": 1017,\n\t\"./Line_Break/ZWSpace\": 1018,\n\t\"./Line_Break/ZWSpace.json\": 1018,\n\t\"./Script/Adlam\": 1019,\n\t\"./Script/Adlam.json\": 1019,\n\t\"./Script/Ahom\": 1020,\n\t\"./Script/Ahom.json\": 1020,\n\t\"./Script/Anatolian_Hieroglyphs\": 1021,\n\t\"./Script/Anatolian_Hieroglyphs.json\": 1021,\n\t\"./Script/Arabic\": 1022,\n\t\"./Script/Arabic.json\": 1022,\n\t\"./Script/Armenian\": 1023,\n\t\"./Script/Armenian.json\": 1023,\n\t\"./Script/Avestan\": 1024,\n\t\"./Script/Avestan.json\": 1024,\n\t\"./Script/Balinese\": 1025,\n\t\"./Script/Balinese.json\": 1025,\n\t\"./Script/Bamum\": 1026,\n\t\"./Script/Bamum.json\": 1026,\n\t\"./Script/Bassa_Vah\": 1027,\n\t\"./Script/Bassa_Vah.json\": 1027,\n\t\"./Script/Batak\": 1028,\n\t\"./Script/Batak.json\": 1028,\n\t\"./Script/Bengali\": 1029,\n\t\"./Script/Bengali.json\": 1029,\n\t\"./Script/Bhaiksuki\": 1030,\n\t\"./Script/Bhaiksuki.json\": 1030,\n\t\"./Script/Bopomofo\": 1031,\n\t\"./Script/Bopomofo.json\": 1031,\n\t\"./Script/Brahmi\": 1032,\n\t\"./Script/Brahmi.json\": 1032,\n\t\"./Script/Braille\": 1033,\n\t\"./Script/Braille.json\": 1033,\n\t\"./Script/Buginese\": 1034,\n\t\"./Script/Buginese.json\": 1034,\n\t\"./Script/Buhid\": 1035,\n\t\"./Script/Buhid.json\": 1035,\n\t\"./Script/Canadian_Aboriginal\": 1036,\n\t\"./Script/Canadian_Aboriginal.json\": 1036,\n\t\"./Script/Carian\": 1037,\n\t\"./Script/Carian.json\": 1037,\n\t\"./Script/Caucasian_Albanian\": 1038,\n\t\"./Script/Caucasian_Albanian.json\": 1038,\n\t\"./Script/Chakma\": 1039,\n\t\"./Script/Chakma.json\": 1039,\n\t\"./Script/Cham\": 1040,\n\t\"./Script/Cham.json\": 1040,\n\t\"./Script/Cherokee\": 1041,\n\t\"./Script/Cherokee.json\": 1041,\n\t\"./Script/Common\": 1042,\n\t\"./Script/Common.json\": 1042,\n\t\"./Script/Coptic\": 1043,\n\t\"./Script/Coptic.json\": 1043,\n\t\"./Script/Cuneiform\": 1044,\n\t\"./Script/Cuneiform.json\": 1044,\n\t\"./Script/Cypriot\": 1045,\n\t\"./Script/Cypriot.json\": 1045,\n\t\"./Script/Cyrillic\": 1046,\n\t\"./Script/Cyrillic.json\": 1046,\n\t\"./Script/Deseret\": 1047,\n\t\"./Script/Deseret.json\": 1047,\n\t\"./Script/Devanagari\": 1048,\n\t\"./Script/Devanagari.json\": 1048,\n\t\"./Script/Duployan\": 1049,\n\t\"./Script/Duployan.json\": 1049,\n\t\"./Script/Egyptian_Hieroglyphs\": 1050,\n\t\"./Script/Egyptian_Hieroglyphs.json\": 1050,\n\t\"./Script/Elbasan\": 1051,\n\t\"./Script/Elbasan.json\": 1051,\n\t\"./Script/Ethiopic\": 1052,\n\t\"./Script/Ethiopic.json\": 1052,\n\t\"./Script/Georgian\": 1053,\n\t\"./Script/Georgian.json\": 1053,\n\t\"./Script/Glagolitic\": 1054,\n\t\"./Script/Glagolitic.json\": 1054,\n\t\"./Script/Gothic\": 1055,\n\t\"./Script/Gothic.json\": 1055,\n\t\"./Script/Grantha\": 1056,\n\t\"./Script/Grantha.json\": 1056,\n\t\"./Script/Greek\": 1057,\n\t\"./Script/Greek.json\": 1057,\n\t\"./Script/Gujarati\": 1058,\n\t\"./Script/Gujarati.json\": 1058,\n\t\"./Script/Gurmukhi\": 1059,\n\t\"./Script/Gurmukhi.json\": 1059,\n\t\"./Script/Han\": 1060,\n\t\"./Script/Han.json\": 1060,\n\t\"./Script/Hangul\": 1061,\n\t\"./Script/Hangul.json\": 1061,\n\t\"./Script/Hanunoo\": 1062,\n\t\"./Script/Hanunoo.json\": 1062,\n\t\"./Script/Hatran\": 1063,\n\t\"./Script/Hatran.json\": 1063,\n\t\"./Script/Hebrew\": 1064,\n\t\"./Script/Hebrew.json\": 1064,\n\t\"./Script/Hiragana\": 1065,\n\t\"./Script/Hiragana.json\": 1065,\n\t\"./Script/Imperial_Aramaic\": 1066,\n\t\"./Script/Imperial_Aramaic.json\": 1066,\n\t\"./Script/Inherited\": 1067,\n\t\"./Script/Inherited.json\": 1067,\n\t\"./Script/Inscriptional_Pahlavi\": 1068,\n\t\"./Script/Inscriptional_Pahlavi.json\": 1068,\n\t\"./Script/Inscriptional_Parthian\": 1069,\n\t\"./Script/Inscriptional_Parthian.json\": 1069,\n\t\"./Script/Javanese\": 1070,\n\t\"./Script/Javanese.json\": 1070,\n\t\"./Script/Kaithi\": 1071,\n\t\"./Script/Kaithi.json\": 1071,\n\t\"./Script/Kannada\": 1072,\n\t\"./Script/Kannada.json\": 1072,\n\t\"./Script/Katakana\": 1073,\n\t\"./Script/Katakana.json\": 1073,\n\t\"./Script/Kayah_Li\": 1074,\n\t\"./Script/Kayah_Li.json\": 1074,\n\t\"./Script/Kharoshthi\": 1075,\n\t\"./Script/Kharoshthi.json\": 1075,\n\t\"./Script/Khmer\": 1076,\n\t\"./Script/Khmer.json\": 1076,\n\t\"./Script/Khojki\": 1077,\n\t\"./Script/Khojki.json\": 1077,\n\t\"./Script/Khudawadi\": 1078,\n\t\"./Script/Khudawadi.json\": 1078,\n\t\"./Script/Lao\": 1079,\n\t\"./Script/Lao.json\": 1079,\n\t\"./Script/Latin\": 1080,\n\t\"./Script/Latin.json\": 1080,\n\t\"./Script/Lepcha\": 1081,\n\t\"./Script/Lepcha.json\": 1081,\n\t\"./Script/Limbu\": 1082,\n\t\"./Script/Limbu.json\": 1082,\n\t\"./Script/Linear_A\": 1083,\n\t\"./Script/Linear_A.json\": 1083,\n\t\"./Script/Linear_B\": 1084,\n\t\"./Script/Linear_B.json\": 1084,\n\t\"./Script/Lisu\": 1085,\n\t\"./Script/Lisu.json\": 1085,\n\t\"./Script/Lycian\": 1086,\n\t\"./Script/Lycian.json\": 1086,\n\t\"./Script/Lydian\": 1087,\n\t\"./Script/Lydian.json\": 1087,\n\t\"./Script/Mahajani\": 1088,\n\t\"./Script/Mahajani.json\": 1088,\n\t\"./Script/Malayalam\": 1089,\n\t\"./Script/Malayalam.json\": 1089,\n\t\"./Script/Mandaic\": 1090,\n\t\"./Script/Mandaic.json\": 1090,\n\t\"./Script/Manichaean\": 1091,\n\t\"./Script/Manichaean.json\": 1091,\n\t\"./Script/Marchen\": 1092,\n\t\"./Script/Marchen.json\": 1092,\n\t\"./Script/Masaram_Gondi\": 1093,\n\t\"./Script/Masaram_Gondi.json\": 1093,\n\t\"./Script/Meetei_Mayek\": 1094,\n\t\"./Script/Meetei_Mayek.json\": 1094,\n\t\"./Script/Mende_Kikakui\": 1095,\n\t\"./Script/Mende_Kikakui.json\": 1095,\n\t\"./Script/Meroitic_Cursive\": 1096,\n\t\"./Script/Meroitic_Cursive.json\": 1096,\n\t\"./Script/Meroitic_Hieroglyphs\": 1097,\n\t\"./Script/Meroitic_Hieroglyphs.json\": 1097,\n\t\"./Script/Miao\": 1098,\n\t\"./Script/Miao.json\": 1098,\n\t\"./Script/Modi\": 1099,\n\t\"./Script/Modi.json\": 1099,\n\t\"./Script/Mongolian\": 1100,\n\t\"./Script/Mongolian.json\": 1100,\n\t\"./Script/Mro\": 1101,\n\t\"./Script/Mro.json\": 1101,\n\t\"./Script/Multani\": 1102,\n\t\"./Script/Multani.json\": 1102,\n\t\"./Script/Myanmar\": 1103,\n\t\"./Script/Myanmar.json\": 1103,\n\t\"./Script/Nabataean\": 1104,\n\t\"./Script/Nabataean.json\": 1104,\n\t\"./Script/New_Tai_Lue\": 1105,\n\t\"./Script/New_Tai_Lue.json\": 1105,\n\t\"./Script/Newa\": 1106,\n\t\"./Script/Newa.json\": 1106,\n\t\"./Script/Nko\": 1107,\n\t\"./Script/Nko.json\": 1107,\n\t\"./Script/Nushu\": 1108,\n\t\"./Script/Nushu.json\": 1108,\n\t\"./Script/Ogham\": 1109,\n\t\"./Script/Ogham.json\": 1109,\n\t\"./Script/Ol_Chiki\": 1110,\n\t\"./Script/Ol_Chiki.json\": 1110,\n\t\"./Script/Old_Hungarian\": 1111,\n\t\"./Script/Old_Hungarian.json\": 1111,\n\t\"./Script/Old_Italic\": 1112,\n\t\"./Script/Old_Italic.json\": 1112,\n\t\"./Script/Old_North_Arabian\": 1113,\n\t\"./Script/Old_North_Arabian.json\": 1113,\n\t\"./Script/Old_Permic\": 1114,\n\t\"./Script/Old_Permic.json\": 1114,\n\t\"./Script/Old_Persian\": 1115,\n\t\"./Script/Old_Persian.json\": 1115,\n\t\"./Script/Old_South_Arabian\": 1116,\n\t\"./Script/Old_South_Arabian.json\": 1116,\n\t\"./Script/Old_Turkic\": 1117,\n\t\"./Script/Old_Turkic.json\": 1117,\n\t\"./Script/Oriya\": 1118,\n\t\"./Script/Oriya.json\": 1118,\n\t\"./Script/Osage\": 1119,\n\t\"./Script/Osage.json\": 1119,\n\t\"./Script/Osmanya\": 1120,\n\t\"./Script/Osmanya.json\": 1120,\n\t\"./Script/Pahawh_Hmong\": 1121,\n\t\"./Script/Pahawh_Hmong.json\": 1121,\n\t\"./Script/Palmyrene\": 1122,\n\t\"./Script/Palmyrene.json\": 1122,\n\t\"./Script/Pau_Cin_Hau\": 1123,\n\t\"./Script/Pau_Cin_Hau.json\": 1123,\n\t\"./Script/Phags_Pa\": 1124,\n\t\"./Script/Phags_Pa.json\": 1124,\n\t\"./Script/Phoenician\": 1125,\n\t\"./Script/Phoenician.json\": 1125,\n\t\"./Script/Psalter_Pahlavi\": 1126,\n\t\"./Script/Psalter_Pahlavi.json\": 1126,\n\t\"./Script/Rejang\": 1127,\n\t\"./Script/Rejang.json\": 1127,\n\t\"./Script/Runic\": 1128,\n\t\"./Script/Runic.json\": 1128,\n\t\"./Script/Samaritan\": 1129,\n\t\"./Script/Samaritan.json\": 1129,\n\t\"./Script/Saurashtra\": 1130,\n\t\"./Script/Saurashtra.json\": 1130,\n\t\"./Script/Sharada\": 1131,\n\t\"./Script/Sharada.json\": 1131,\n\t\"./Script/Shavian\": 1132,\n\t\"./Script/Shavian.json\": 1132,\n\t\"./Script/Siddham\": 1133,\n\t\"./Script/Siddham.json\": 1133,\n\t\"./Script/SignWriting\": 1134,\n\t\"./Script/SignWriting.json\": 1134,\n\t\"./Script/Sinhala\": 1135,\n\t\"./Script/Sinhala.json\": 1135,\n\t\"./Script/Sora_Sompeng\": 1136,\n\t\"./Script/Sora_Sompeng.json\": 1136,\n\t\"./Script/Soyombo\": 1137,\n\t\"./Script/Soyombo.json\": 1137,\n\t\"./Script/Sundanese\": 1138,\n\t\"./Script/Sundanese.json\": 1138,\n\t\"./Script/Syloti_Nagri\": 1139,\n\t\"./Script/Syloti_Nagri.json\": 1139,\n\t\"./Script/Syriac\": 1140,\n\t\"./Script/Syriac.json\": 1140,\n\t\"./Script/Tagalog\": 1141,\n\t\"./Script/Tagalog.json\": 1141,\n\t\"./Script/Tagbanwa\": 1142,\n\t\"./Script/Tagbanwa.json\": 1142,\n\t\"./Script/Tai_Le\": 1143,\n\t\"./Script/Tai_Le.json\": 1143,\n\t\"./Script/Tai_Tham\": 1144,\n\t\"./Script/Tai_Tham.json\": 1144,\n\t\"./Script/Tai_Viet\": 1145,\n\t\"./Script/Tai_Viet.json\": 1145,\n\t\"./Script/Takri\": 1146,\n\t\"./Script/Takri.json\": 1146,\n\t\"./Script/Tamil\": 1147,\n\t\"./Script/Tamil.json\": 1147,\n\t\"./Script/Tangut\": 1148,\n\t\"./Script/Tangut.json\": 1148,\n\t\"./Script/Telugu\": 1149,\n\t\"./Script/Telugu.json\": 1149,\n\t\"./Script/Thaana\": 1150,\n\t\"./Script/Thaana.json\": 1150,\n\t\"./Script/Thai\": 1151,\n\t\"./Script/Thai.json\": 1151,\n\t\"./Script/Tibetan\": 1152,\n\t\"./Script/Tibetan.json\": 1152,\n\t\"./Script/Tifinagh\": 1153,\n\t\"./Script/Tifinagh.json\": 1153,\n\t\"./Script/Tirhuta\": 1154,\n\t\"./Script/Tirhuta.json\": 1154,\n\t\"./Script/Ugaritic\": 1155,\n\t\"./Script/Ugaritic.json\": 1155,\n\t\"./Script/Vai\": 1156,\n\t\"./Script/Vai.json\": 1156,\n\t\"./Script/Warang_Citi\": 1157,\n\t\"./Script/Warang_Citi.json\": 1157,\n\t\"./Script/Yi\": 1158,\n\t\"./Script/Yi.json\": 1158,\n\t\"./Script/Zanabazar_Square\": 1159,\n\t\"./Script/Zanabazar_Square.json\": 1159,\n\t\"./Script_Extensions/Adlam\": 1160,\n\t\"./Script_Extensions/Adlam.json\": 1160,\n\t\"./Script_Extensions/Ahom\": 1161,\n\t\"./Script_Extensions/Ahom.json\": 1161,\n\t\"./Script_Extensions/Anatolian_Hieroglyphs\": 1162,\n\t\"./Script_Extensions/Anatolian_Hieroglyphs.json\": 1162,\n\t\"./Script_Extensions/Arabic\": 1163,\n\t\"./Script_Extensions/Arabic.json\": 1163,\n\t\"./Script_Extensions/Armenian\": 1164,\n\t\"./Script_Extensions/Armenian.json\": 1164,\n\t\"./Script_Extensions/Avestan\": 1165,\n\t\"./Script_Extensions/Avestan.json\": 1165,\n\t\"./Script_Extensions/Balinese\": 1166,\n\t\"./Script_Extensions/Balinese.json\": 1166,\n\t\"./Script_Extensions/Bamum\": 1167,\n\t\"./Script_Extensions/Bamum.json\": 1167,\n\t\"./Script_Extensions/Bassa_Vah\": 1168,\n\t\"./Script_Extensions/Bassa_Vah.json\": 1168,\n\t\"./Script_Extensions/Batak\": 1169,\n\t\"./Script_Extensions/Batak.json\": 1169,\n\t\"./Script_Extensions/Bengali\": 1170,\n\t\"./Script_Extensions/Bengali.json\": 1170,\n\t\"./Script_Extensions/Bhaiksuki\": 1171,\n\t\"./Script_Extensions/Bhaiksuki.json\": 1171,\n\t\"./Script_Extensions/Bopomofo\": 1172,\n\t\"./Script_Extensions/Bopomofo.json\": 1172,\n\t\"./Script_Extensions/Brahmi\": 1173,\n\t\"./Script_Extensions/Brahmi.json\": 1173,\n\t\"./Script_Extensions/Braille\": 1174,\n\t\"./Script_Extensions/Braille.json\": 1174,\n\t\"./Script_Extensions/Buginese\": 1175,\n\t\"./Script_Extensions/Buginese.json\": 1175,\n\t\"./Script_Extensions/Buhid\": 1176,\n\t\"./Script_Extensions/Buhid.json\": 1176,\n\t\"./Script_Extensions/Canadian_Aboriginal\": 1177,\n\t\"./Script_Extensions/Canadian_Aboriginal.json\": 1177,\n\t\"./Script_Extensions/Carian\": 1178,\n\t\"./Script_Extensions/Carian.json\": 1178,\n\t\"./Script_Extensions/Caucasian_Albanian\": 1179,\n\t\"./Script_Extensions/Caucasian_Albanian.json\": 1179,\n\t\"./Script_Extensions/Chakma\": 1180,\n\t\"./Script_Extensions/Chakma.json\": 1180,\n\t\"./Script_Extensions/Cham\": 1181,\n\t\"./Script_Extensions/Cham.json\": 1181,\n\t\"./Script_Extensions/Cherokee\": 1182,\n\t\"./Script_Extensions/Cherokee.json\": 1182,\n\t\"./Script_Extensions/Common\": 1183,\n\t\"./Script_Extensions/Common.json\": 1183,\n\t\"./Script_Extensions/Coptic\": 1184,\n\t\"./Script_Extensions/Coptic.json\": 1184,\n\t\"./Script_Extensions/Cuneiform\": 1185,\n\t\"./Script_Extensions/Cuneiform.json\": 1185,\n\t\"./Script_Extensions/Cypriot\": 1186,\n\t\"./Script_Extensions/Cypriot.json\": 1186,\n\t\"./Script_Extensions/Cyrillic\": 1187,\n\t\"./Script_Extensions/Cyrillic.json\": 1187,\n\t\"./Script_Extensions/Deseret\": 1188,\n\t\"./Script_Extensions/Deseret.json\": 1188,\n\t\"./Script_Extensions/Devanagari\": 1189,\n\t\"./Script_Extensions/Devanagari.json\": 1189,\n\t\"./Script_Extensions/Duployan\": 1190,\n\t\"./Script_Extensions/Duployan.json\": 1190,\n\t\"./Script_Extensions/Egyptian_Hieroglyphs\": 1191,\n\t\"./Script_Extensions/Egyptian_Hieroglyphs.json\": 1191,\n\t\"./Script_Extensions/Elbasan\": 1192,\n\t\"./Script_Extensions/Elbasan.json\": 1192,\n\t\"./Script_Extensions/Ethiopic\": 1193,\n\t\"./Script_Extensions/Ethiopic.json\": 1193,\n\t\"./Script_Extensions/Georgian\": 1194,\n\t\"./Script_Extensions/Georgian.json\": 1194,\n\t\"./Script_Extensions/Glagolitic\": 1195,\n\t\"./Script_Extensions/Glagolitic.json\": 1195,\n\t\"./Script_Extensions/Gothic\": 1196,\n\t\"./Script_Extensions/Gothic.json\": 1196,\n\t\"./Script_Extensions/Grantha\": 1197,\n\t\"./Script_Extensions/Grantha.json\": 1197,\n\t\"./Script_Extensions/Greek\": 1198,\n\t\"./Script_Extensions/Greek.json\": 1198,\n\t\"./Script_Extensions/Gujarati\": 1199,\n\t\"./Script_Extensions/Gujarati.json\": 1199,\n\t\"./Script_Extensions/Gurmukhi\": 1200,\n\t\"./Script_Extensions/Gurmukhi.json\": 1200,\n\t\"./Script_Extensions/Han\": 1201,\n\t\"./Script_Extensions/Han.json\": 1201,\n\t\"./Script_Extensions/Hangul\": 1202,\n\t\"./Script_Extensions/Hangul.json\": 1202,\n\t\"./Script_Extensions/Hanunoo\": 1203,\n\t\"./Script_Extensions/Hanunoo.json\": 1203,\n\t\"./Script_Extensions/Hatran\": 1204,\n\t\"./Script_Extensions/Hatran.json\": 1204,\n\t\"./Script_Extensions/Hebrew\": 1205,\n\t\"./Script_Extensions/Hebrew.json\": 1205,\n\t\"./Script_Extensions/Hiragana\": 1206,\n\t\"./Script_Extensions/Hiragana.json\": 1206,\n\t\"./Script_Extensions/Imperial_Aramaic\": 1207,\n\t\"./Script_Extensions/Imperial_Aramaic.json\": 1207,\n\t\"./Script_Extensions/Inherited\": 1208,\n\t\"./Script_Extensions/Inherited.json\": 1208,\n\t\"./Script_Extensions/Inscriptional_Pahlavi\": 1209,\n\t\"./Script_Extensions/Inscriptional_Pahlavi.json\": 1209,\n\t\"./Script_Extensions/Inscriptional_Parthian\": 1210,\n\t\"./Script_Extensions/Inscriptional_Parthian.json\": 1210,\n\t\"./Script_Extensions/Javanese\": 1211,\n\t\"./Script_Extensions/Javanese.json\": 1211,\n\t\"./Script_Extensions/Kaithi\": 1212,\n\t\"./Script_Extensions/Kaithi.json\": 1212,\n\t\"./Script_Extensions/Kannada\": 1213,\n\t\"./Script_Extensions/Kannada.json\": 1213,\n\t\"./Script_Extensions/Katakana\": 1214,\n\t\"./Script_Extensions/Katakana.json\": 1214,\n\t\"./Script_Extensions/Kayah_Li\": 1215,\n\t\"./Script_Extensions/Kayah_Li.json\": 1215,\n\t\"./Script_Extensions/Kharoshthi\": 1216,\n\t\"./Script_Extensions/Kharoshthi.json\": 1216,\n\t\"./Script_Extensions/Khmer\": 1217,\n\t\"./Script_Extensions/Khmer.json\": 1217,\n\t\"./Script_Extensions/Khojki\": 1218,\n\t\"./Script_Extensions/Khojki.json\": 1218,\n\t\"./Script_Extensions/Khudawadi\": 1219,\n\t\"./Script_Extensions/Khudawadi.json\": 1219,\n\t\"./Script_Extensions/Lao\": 1220,\n\t\"./Script_Extensions/Lao.json\": 1220,\n\t\"./Script_Extensions/Latin\": 1221,\n\t\"./Script_Extensions/Latin.json\": 1221,\n\t\"./Script_Extensions/Lepcha\": 1222,\n\t\"./Script_Extensions/Lepcha.json\": 1222,\n\t\"./Script_Extensions/Limbu\": 1223,\n\t\"./Script_Extensions/Limbu.json\": 1223,\n\t\"./Script_Extensions/Linear_A\": 1224,\n\t\"./Script_Extensions/Linear_A.json\": 1224,\n\t\"./Script_Extensions/Linear_B\": 1225,\n\t\"./Script_Extensions/Linear_B.json\": 1225,\n\t\"./Script_Extensions/Lisu\": 1226,\n\t\"./Script_Extensions/Lisu.json\": 1226,\n\t\"./Script_Extensions/Lycian\": 1227,\n\t\"./Script_Extensions/Lycian.json\": 1227,\n\t\"./Script_Extensions/Lydian\": 1228,\n\t\"./Script_Extensions/Lydian.json\": 1228,\n\t\"./Script_Extensions/Mahajani\": 1229,\n\t\"./Script_Extensions/Mahajani.json\": 1229,\n\t\"./Script_Extensions/Malayalam\": 1230,\n\t\"./Script_Extensions/Malayalam.json\": 1230,\n\t\"./Script_Extensions/Mandaic\": 1231,\n\t\"./Script_Extensions/Mandaic.json\": 1231,\n\t\"./Script_Extensions/Manichaean\": 1232,\n\t\"./Script_Extensions/Manichaean.json\": 1232,\n\t\"./Script_Extensions/Marchen\": 1233,\n\t\"./Script_Extensions/Marchen.json\": 1233,\n\t\"./Script_Extensions/Masaram_Gondi\": 1234,\n\t\"./Script_Extensions/Masaram_Gondi.json\": 1234,\n\t\"./Script_Extensions/Meetei_Mayek\": 1235,\n\t\"./Script_Extensions/Meetei_Mayek.json\": 1235,\n\t\"./Script_Extensions/Mende_Kikakui\": 1236,\n\t\"./Script_Extensions/Mende_Kikakui.json\": 1236,\n\t\"./Script_Extensions/Meroitic_Cursive\": 1237,\n\t\"./Script_Extensions/Meroitic_Cursive.json\": 1237,\n\t\"./Script_Extensions/Meroitic_Hieroglyphs\": 1238,\n\t\"./Script_Extensions/Meroitic_Hieroglyphs.json\": 1238,\n\t\"./Script_Extensions/Miao\": 1239,\n\t\"./Script_Extensions/Miao.json\": 1239,\n\t\"./Script_Extensions/Modi\": 1240,\n\t\"./Script_Extensions/Modi.json\": 1240,\n\t\"./Script_Extensions/Mongolian\": 1241,\n\t\"./Script_Extensions/Mongolian.json\": 1241,\n\t\"./Script_Extensions/Mro\": 1242,\n\t\"./Script_Extensions/Mro.json\": 1242,\n\t\"./Script_Extensions/Multani\": 1243,\n\t\"./Script_Extensions/Multani.json\": 1243,\n\t\"./Script_Extensions/Myanmar\": 1244,\n\t\"./Script_Extensions/Myanmar.json\": 1244,\n\t\"./Script_Extensions/Nabataean\": 1245,\n\t\"./Script_Extensions/Nabataean.json\": 1245,\n\t\"./Script_Extensions/New_Tai_Lue\": 1246,\n\t\"./Script_Extensions/New_Tai_Lue.json\": 1246,\n\t\"./Script_Extensions/Newa\": 1247,\n\t\"./Script_Extensions/Newa.json\": 1247,\n\t\"./Script_Extensions/Nko\": 1248,\n\t\"./Script_Extensions/Nko.json\": 1248,\n\t\"./Script_Extensions/Nushu\": 1249,\n\t\"./Script_Extensions/Nushu.json\": 1249,\n\t\"./Script_Extensions/Ogham\": 1250,\n\t\"./Script_Extensions/Ogham.json\": 1250,\n\t\"./Script_Extensions/Ol_Chiki\": 1251,\n\t\"./Script_Extensions/Ol_Chiki.json\": 1251,\n\t\"./Script_Extensions/Old_Hungarian\": 1252,\n\t\"./Script_Extensions/Old_Hungarian.json\": 1252,\n\t\"./Script_Extensions/Old_Italic\": 1253,\n\t\"./Script_Extensions/Old_Italic.json\": 1253,\n\t\"./Script_Extensions/Old_North_Arabian\": 1254,\n\t\"./Script_Extensions/Old_North_Arabian.json\": 1254,\n\t\"./Script_Extensions/Old_Permic\": 1255,\n\t\"./Script_Extensions/Old_Permic.json\": 1255,\n\t\"./Script_Extensions/Old_Persian\": 1256,\n\t\"./Script_Extensions/Old_Persian.json\": 1256,\n\t\"./Script_Extensions/Old_South_Arabian\": 1257,\n\t\"./Script_Extensions/Old_South_Arabian.json\": 1257,\n\t\"./Script_Extensions/Old_Turkic\": 1258,\n\t\"./Script_Extensions/Old_Turkic.json\": 1258,\n\t\"./Script_Extensions/Oriya\": 1259,\n\t\"./Script_Extensions/Oriya.json\": 1259,\n\t\"./Script_Extensions/Osage\": 1260,\n\t\"./Script_Extensions/Osage.json\": 1260,\n\t\"./Script_Extensions/Osmanya\": 1261,\n\t\"./Script_Extensions/Osmanya.json\": 1261,\n\t\"./Script_Extensions/Pahawh_Hmong\": 1262,\n\t\"./Script_Extensions/Pahawh_Hmong.json\": 1262,\n\t\"./Script_Extensions/Palmyrene\": 1263,\n\t\"./Script_Extensions/Palmyrene.json\": 1263,\n\t\"./Script_Extensions/Pau_Cin_Hau\": 1264,\n\t\"./Script_Extensions/Pau_Cin_Hau.json\": 1264,\n\t\"./Script_Extensions/Phags_Pa\": 1265,\n\t\"./Script_Extensions/Phags_Pa.json\": 1265,\n\t\"./Script_Extensions/Phoenician\": 1266,\n\t\"./Script_Extensions/Phoenician.json\": 1266,\n\t\"./Script_Extensions/Psalter_Pahlavi\": 1267,\n\t\"./Script_Extensions/Psalter_Pahlavi.json\": 1267,\n\t\"./Script_Extensions/Rejang\": 1268,\n\t\"./Script_Extensions/Rejang.json\": 1268,\n\t\"./Script_Extensions/Runic\": 1269,\n\t\"./Script_Extensions/Runic.json\": 1269,\n\t\"./Script_Extensions/Samaritan\": 1270,\n\t\"./Script_Extensions/Samaritan.json\": 1270,\n\t\"./Script_Extensions/Saurashtra\": 1271,\n\t\"./Script_Extensions/Saurashtra.json\": 1271,\n\t\"./Script_Extensions/Sharada\": 1272,\n\t\"./Script_Extensions/Sharada.json\": 1272,\n\t\"./Script_Extensions/Shavian\": 1273,\n\t\"./Script_Extensions/Shavian.json\": 1273,\n\t\"./Script_Extensions/Siddham\": 1274,\n\t\"./Script_Extensions/Siddham.json\": 1274,\n\t\"./Script_Extensions/SignWriting\": 1275,\n\t\"./Script_Extensions/SignWriting.json\": 1275,\n\t\"./Script_Extensions/Sinhala\": 1276,\n\t\"./Script_Extensions/Sinhala.json\": 1276,\n\t\"./Script_Extensions/Sora_Sompeng\": 1277,\n\t\"./Script_Extensions/Sora_Sompeng.json\": 1277,\n\t\"./Script_Extensions/Soyombo\": 1278,\n\t\"./Script_Extensions/Soyombo.json\": 1278,\n\t\"./Script_Extensions/Sundanese\": 1279,\n\t\"./Script_Extensions/Sundanese.json\": 1279,\n\t\"./Script_Extensions/Syloti_Nagri\": 1280,\n\t\"./Script_Extensions/Syloti_Nagri.json\": 1280,\n\t\"./Script_Extensions/Syriac\": 1281,\n\t\"./Script_Extensions/Syriac.json\": 1281,\n\t\"./Script_Extensions/Tagalog\": 1282,\n\t\"./Script_Extensions/Tagalog.json\": 1282,\n\t\"./Script_Extensions/Tagbanwa\": 1283,\n\t\"./Script_Extensions/Tagbanwa.json\": 1283,\n\t\"./Script_Extensions/Tai_Le\": 1284,\n\t\"./Script_Extensions/Tai_Le.json\": 1284,\n\t\"./Script_Extensions/Tai_Tham\": 1285,\n\t\"./Script_Extensions/Tai_Tham.json\": 1285,\n\t\"./Script_Extensions/Tai_Viet\": 1286,\n\t\"./Script_Extensions/Tai_Viet.json\": 1286,\n\t\"./Script_Extensions/Takri\": 1287,\n\t\"./Script_Extensions/Takri.json\": 1287,\n\t\"./Script_Extensions/Tamil\": 1288,\n\t\"./Script_Extensions/Tamil.json\": 1288,\n\t\"./Script_Extensions/Tangut\": 1289,\n\t\"./Script_Extensions/Tangut.json\": 1289,\n\t\"./Script_Extensions/Telugu\": 1290,\n\t\"./Script_Extensions/Telugu.json\": 1290,\n\t\"./Script_Extensions/Thaana\": 1291,\n\t\"./Script_Extensions/Thaana.json\": 1291,\n\t\"./Script_Extensions/Thai\": 1292,\n\t\"./Script_Extensions/Thai.json\": 1292,\n\t\"./Script_Extensions/Tibetan\": 1293,\n\t\"./Script_Extensions/Tibetan.json\": 1293,\n\t\"./Script_Extensions/Tifinagh\": 1294,\n\t\"./Script_Extensions/Tifinagh.json\": 1294,\n\t\"./Script_Extensions/Tirhuta\": 1295,\n\t\"./Script_Extensions/Tirhuta.json\": 1295,\n\t\"./Script_Extensions/Ugaritic\": 1296,\n\t\"./Script_Extensions/Ugaritic.json\": 1296,\n\t\"./Script_Extensions/Vai\": 1297,\n\t\"./Script_Extensions/Vai.json\": 1297,\n\t\"./Script_Extensions/Warang_Citi\": 1298,\n\t\"./Script_Extensions/Warang_Citi.json\": 1298,\n\t\"./Script_Extensions/Yi\": 1299,\n\t\"./Script_Extensions/Yi.json\": 1299,\n\t\"./Script_Extensions/Zanabazar_Square\": 1300,\n\t\"./Script_Extensions/Zanabazar_Square.json\": 1300,\n\t\"./Word_Break/ALetter\": 1301,\n\t\"./Word_Break/ALetter.json\": 1301,\n\t\"./Word_Break/CR\": 1302,\n\t\"./Word_Break/CR.json\": 1302,\n\t\"./Word_Break/Double_Quote\": 1303,\n\t\"./Word_Break/Double_Quote.json\": 1303,\n\t\"./Word_Break/E_Base\": 1304,\n\t\"./Word_Break/E_Base.json\": 1304,\n\t\"./Word_Break/E_Base_GAZ\": 1305,\n\t\"./Word_Break/E_Base_GAZ.json\": 1305,\n\t\"./Word_Break/E_Modifier\": 1306,\n\t\"./Word_Break/E_Modifier.json\": 1306,\n\t\"./Word_Break/Extend\": 1307,\n\t\"./Word_Break/Extend.json\": 1307,\n\t\"./Word_Break/ExtendNumLet\": 1308,\n\t\"./Word_Break/ExtendNumLet.json\": 1308,\n\t\"./Word_Break/Format\": 1309,\n\t\"./Word_Break/Format.json\": 1309,\n\t\"./Word_Break/Glue_After_Zwj\": 1310,\n\t\"./Word_Break/Glue_After_Zwj.json\": 1310,\n\t\"./Word_Break/Hebrew_Letter\": 1311,\n\t\"./Word_Break/Hebrew_Letter.json\": 1311,\n\t\"./Word_Break/Katakana\": 1312,\n\t\"./Word_Break/Katakana.json\": 1312,\n\t\"./Word_Break/LF\": 1313,\n\t\"./Word_Break/LF.json\": 1313,\n\t\"./Word_Break/MidLetter\": 1314,\n\t\"./Word_Break/MidLetter.json\": 1314,\n\t\"./Word_Break/MidNum\": 1315,\n\t\"./Word_Break/MidNum.json\": 1315,\n\t\"./Word_Break/MidNumLet\": 1316,\n\t\"./Word_Break/MidNumLet.json\": 1316,\n\t\"./Word_Break/Newline\": 1317,\n\t\"./Word_Break/Newline.json\": 1317,\n\t\"./Word_Break/Numeric\": 1318,\n\t\"./Word_Break/Numeric.json\": 1318,\n\t\"./Word_Break/Other\": 1319,\n\t\"./Word_Break/Other.json\": 1319,\n\t\"./Word_Break/Regional_Indicator\": 1320,\n\t\"./Word_Break/Regional_Indicator.json\": 1320,\n\t\"./Word_Break/Single_Quote\": 1321,\n\t\"./Word_Break/Single_Quote.json\": 1321,\n\t\"./Word_Break/ZWJ\": 1322,\n\t\"./Word_Break/ZWJ.json\": 1322\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1649;","import { isNumber } from 'lodash';\nimport XObject from './model/XObject';\n\nexport const STATUS_NONE = 'C'; // \"clean\" of any status\nexport const STATUS_NEW = 'N';\nexport const STATUS_DIRTY = 'M'; // modified\nexport const STATUS_DELETED = 'D'; //\n\nconst _CLSNAME = 'XMCOD';\n\nexport class XMCODStatus {\n  static get STATUS_NONE() {\n    return STATUS_NONE;\n  }\n  static get STATUS_NEW() {\n    return STATUS_NEW;\n  }\n  static get STATUS_DIRTY() {\n    return STATUS_DIRTY;\n  }\n  static get STATUS_DELETED() {\n    return STATUS_DELETED;\n  }\n}\n\nconst PROP_FETCH_FUNC = 'rfc';\nconst PROP_TTL = 'ttl';\nconst PROP_EXPIRES = 'exp';\nconst PROP_OBJECT = 'obj';\nconst PROP_STATUS = 'status';\nconst PROP_TYPE = 'type';\nconst PROP_ID = '_id';\nconst PROP_CACHE = 'cache';\n\n/**\n * Cached Object Descriptor. One per XMObject instance\n * being tracked in cache.\n *\n * NOTE: XMCache and therefore this class are not used\n * in the backend right now. It was heavily used in\n * the frontend in early days of development but has\n * since backed off (data gets stale fast so best to\n * always reload).\n */\nexport class XMCOD extends XMCODStatus {\n  constructor(cache, xmObject = null, initialStatus = STATUS_NONE, ttl = -1, refetchFunc = null) {\n    super();\n    this[PROP_CACHE] = cache;\n    if (xmObject) {\n      this.trackXObject(xmObject, initialStatus, ttl, refetchFunc);\n    }\n  }\n\n  /**\n   *\n   * @param {object} object\n   * @param {string} status\n   * @param {string} ttl time to live in millis. null = no expiration. negative OK.\n   * @return {Number=} expiration timestamp. null if no expiration given\n   */\n  trackObject(object, status = STATUS_NONE, ttl = null, refetchFunc = null) {\n    this[PROP_OBJECT] = object;\n    this[PROP_STATUS] = status;\n    const objectId = XObject.GetId(object);\n    if (objectId != null) {\n      this[PROP_ID] = objectId;\n    }\n    let expires = null;\n    if (ttl != null) {\n      expires = this.setExpiration(ttl, refetchFunc);\n    }\n    return expires;\n  }\n\n  /**\n   *\n   * @param {XMObject} xmObject\n   * @param {string} status\n   * @return {boolean}\n   */\n  trackXObject(xmObject, status = STATUS_NONE, ttl = -1, refetchFunc = null) {\n    this[PROP_OBJECT] = xmObject;\n    this[PROP_STATUS] = status;\n    this[PROP_ID] = xmObject.getId();\n    this[PROP_TYPE] = xmObject.getType();\n    if (ttl >= 0) {\n      this.setExpiration(ttl, refetchFunc);\n    }\n    return true;\n  }\n\n  /** @return {string} */\n  getId() {\n    return this[PROP_ID];\n  }\n\n  /** @return {string} */\n  getType() {\n    return this[PROP_TYPE];\n  }\n\n  /**\n   * Refresh Object held by this descriptor,\n   * regardless of whether expiration time\n   * has reached.\n   *\n   */\n  async refreshObject() {\n    const func = this[PROP_FETCH_FUNC];\n\n    if (func == null) { return null; }\n\n    let newObject;\n    try {\n      newObject = await func(this[PROP_OBJECT]);\n      this[PROP_OBJECT] = newObject;\n      this.resetExpiration();\n    } catch (err) {\n      console.log(err);\n    }\n    return newObject;\n  }\n\n  /**\n   * ASYNC\n   *\n   * @param {boolean} doFetch true to reretch if expired. false to skip check\n   * @return {XMObject}\n   *\n   * @see ~getObjectNoWait\n   */\n  async getObject(doFetch = true) {\n    if (this.hasExpired() && doFetch) {\n      // expired\n      console.log(`>>>>> ${_CLSNAME}.getObject(): object expired. Fetching...`);\n      try {\n        const newObj = await this.refreshObject();\n        this[PROP_OBJECT] = newObj;\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    return this[PROP_OBJECT];\n  }\n\n  /**\n   *\n   * @param {boolean} doFetch\n   * @return {XMObject}\n   *\n   * @see ~getObject\n   */\n  getObjectNoWait(doFetch = true) {\n    if (this.hasExpired() && doFetch) {\n      // expired\n      console.log(`${_CLSNAME}.getObject(): object expired. Fetching...`);\n    }\n    return this[PROP_OBJECT];\n  }\n\n  /** @param {XMObject} xmObject */\n  trackNew(xmObject, ttl, refetchFunc) {\n    return this.trackObject(xmObject, STATUS_NEW, ttl, refetchFunc);\n  }\n  /** @param {XMObject} xmObject */\n  trackLoaded(xmObject, ttl, refetchFunc) {\n    return this.trackObject(xmObject, STATUS_NONE, ttl, refetchFunc);\n  }\n\n  /**\n   * Untrack the XMObject instance from this COD. This\n   * is mainly used when discarding object during\n   * a re-read.\n   */\n  untrackObject() {\n    if (this[PROP_OBJECT]) {\n      this[PROP_OBJECT]._discardCOD();\n      this[PROP_OBJECT] = null;\n      this[PROP_STATUS] = STATUS_NONE;\n      this[PROP_EXPIRES] = undefined;\n      this[PROP_FETCH_FUNC] = undefined;\n    }\n  }\n\n  /**\n   * Unconditionally set the status without checking.\n   * Must be done with care.\n   */\n  setStatus(newStatus) {\n    this[PROP_STATUS] = newStatus;\n    return true;\n  }\n\n  getCache() {\n    return this.cache;\n  }\n\n  getStatus() {\n    return this[PROP_STATUS];\n  }\n\n  setNew() {\n    this.setStatus(STATUS_NEW);\n    return true;\n  }\n\n  setDirty() {\n    if (this[PROP_STATUS] !== STATUS_NEW) {\n      this.setStatus(STATUS_DIRTY);\n      return true;\n    }\n    return false;\n  }\n\n  clearStatus() {\n    this.setStatus(STATUS_NONE);\n  }\n\n  /**\n   * Clear flags related to modification, which\n   * includes dirty and new status.\n   *\n   * @return {boolean} true if reset and status is now STATUS_NONE\n   */\n  clearDirty() {\n    // This doesn't feel right...\n    if (this[PROP_STATUS] === STATUS_DIRTY || this.status === STATUS_NEW) {\n      this.setStatus(STATUS_NONE);\n      return true;\n    }\n    return false;\n  }\n  clearModified() {\n    return this.clearDirty();\n  }\n  setDeleted() {\n    // What if status is NEW or DIRTY?\n    return this.setStatus(STATUS_DELETED);\n  }\n\n  isNone() {\n    return this.status === STATUS_NONE;\n  }\n  isClean() {\n    return this.status === STATUS_NONE;\n  }\n  /**\n   * @return {boolean} true if status is STATUS_NEW\n   */\n  isNew() {\n    return this.status === STATUS_NEW;\n  }\n  /**\n   * @return {boolean} true if status is STATUS_DIRTY\n   */\n  isDirty() {\n    return this.status === STATUS_DIRTY;\n  }\n  /**\n   * @return {boolean} true if status is either dirty or new\n   */\n  isModified() {\n    return this.status === STATUS_DIRTY || this.status === STATUS_NEW;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isDeleted() {\n    return this.status === STATUS_DELETED;\n  }\n\n  /**\n   *\n   * @param {number} ttl milliseconds to expire from now. Negative means in the past.\n   * This value will be used each time the cached value is refreshed.\n   * @param {func=} refetchFunc (optional) function to trigger if \"get\" is called after expiration\n   * @return {Number} new expiration time. Null means not set\n   */\n  setExpiration(ttl = null, refetchFunc = null) {\n    if (ttl == null) {\n      return false;\n    }\n    this[PROP_TTL] = ttl;\n    this[PROP_EXPIRES] = Date.now() + ttl;\n    if (refetchFunc != null) {\n      this[PROP_FETCH_FUNC] = refetchFunc;\n    }\n    return this[PROP_EXPIRES];\n  }\n\n  resetExpiration() {\n    const ttl = this[PROP_TTL];\n    this[PROP_EXPIRES] = Date.now() + ttl;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {Number}\n   */\n  getExpiration(defaultVal = null) {\n    return this[PROP_EXPIRES] ? this[PROP_EXPIRES] : defaultVal;\n  }\n\n  /**\n   * @return {boolean} true if expired, false if not or will\n   * never\n   *\n   * @see ~expiresIn\n   */\n  hasExpired() {\n    const expires = this[PROP_EXPIRES];\n    if (expires == null || expires < 0) {\n      return false;\n    }\n    return expires < Date.now();\n  }\n\n  /**\n   * @return {number} -1 means N/A, 0 means expired, > 0 will expire in\n   * milliseconds\n   *\n   * @return ~hasExpired\n   */\n  expiresIn() {\n    const expires = this[PROP_EXPIRES];\n    if (expires == null || expires < 0) {\n      return -1;\n    }\n    return (expires >= Date.now()) ? 0 : (expires - Date.now());\n  }\n}\n\nexport default XMCOD;\n","/**\n * Represent a response object.\n *\n * @see XRequest\n */\nimport XObject from '../XObject';\nimport XError from '../XError';\nimport ErrorCodes from '../../ErrorCodes';\nimport XHttpBase from './XHttpBase';\nimport Util from '../../Util';\n// import { ECANCELED } from 'constants';\n\nconst _CLSNAME = 'XResponse';\n\nexport const PROP_RESULT = 'result';\nexport const PROP_RC = 'rc';\nexport const PROP_ERROR = 'error';\n\nexport const HTTP_CLIENT_ERROR = 499;\n\nexport const RC_OK = 'OK';\nexport const RC_ERROR = 'ERR';\n\n/**\n * Wrapper for results, which can contain more data when just payload.\n * Some we can add include a return code (not necessarily error),\n * request ID, session token/info, other security data/key, etc.\n */\nexport class XResponse extends XHttpBase {\n  constructor(clsname = _CLSNAME, params = null) {\n    super(clsname, params);\n    this.class = XResponse;\n\n    this._setTypeID();\n    const data = this.getData(true);\n    data[PROP_RC] = RC_OK;\n  }\n\n  /**\n   * Retrieve value of a field either from the main content\n   * or FormData if multipart/form-data content type.\n   *\n   * @param {string} field\n   * @param {*} defaultVal\n   * @return {*}  value for the field\n   */\n  get(field, defaultVal) {\n    let result;\n    if (this.hasFormData()) {\n      const formData = this.getFormData();\n      result = formData.get(field);\n    } else {\n      result = this.getObjectField(field, null);\n    }\n    return result || defaultVal;\n  }\n\n  /**\n   * Return the \"return code\" that was set in this response object.\n   *\n   * @return {string} default to RC_OK\n   */\n  getCode() {\n    const data = this.getData(false);\n    return data ? data[PROP_RC] : RC_OK;\n  }\n\n  /**\n   * Report whether the response indicate no error (RC_OK)\n   *\n   * @return {string}\n   * @see ~getCode\n   */\n  isOK() {\n    return this.getCode() === RC_OK;\n  }\n\n  /**\n   * Set the result inside the response object\n   *\n   * @param {*} result any json value\n   * @param {number} rc return code. Default to PROP_RC\n   *\n   * @see ~getResult\n   */\n  setResult(result, rc = RC_OK) {\n    const data = this.getData(true);\n    return XResponse.SetResult(data, result, rc);\n  }\n\n  /**\n   * Get the results stored in this response object\n   *\n   * @param {*} defaultVal value to return if no result\n   * @see ~setResult\n   */\n  getResult(defaultVal = null) {\n    const data = this.getData(false);\n    const result = XResponse.GetResult(data, null);\n    return Util.NotNull(result) ? result : defaultVal;\n  }\n\n  /**\n   * Set the result inside the response object\n   *\n   * @param {*} result any json value\n   * @param {number} rc return code. Default to PROP_RC\n   *\n   * @see ~getResult\n   */\n  setError(errorData, rc = RC_ERROR) {\n    const data = this.getData(true);\n    errorData = XObject.Unwrap(errorData); // in case\n    return XResponse.SetError(data, errorData, rc);\n  }\n\n  /**\n   * Get the results stored in this response object\n   *\n   * @param {*} defaultVal value to return if no result\n   * @see ~setResult\n   */\n  getError(defaultVal = null) {\n    return XResponse.GetError(this, defaultVal);\n  }\n\n  hasError() {\n    return XResponse.HasError(this);\n  }\n\n  toConsole() {\n    this.error(`Error(${this.getCode()})`, this.getMessage());\n  }\n  toString() {\n    return `[${this.getClassname()}]: ${this.getFormattedMessage()}`;\n  }\n\n  // *************************************************************\n  //\n  // Class methods.\n  //\n  // *************************************************************\n\n  /**\n   * Check if the given type is an instance of XError\n   * @param {*} obj\n   */\n  static IsInstance(obj) {\n    return obj instanceof XResponse;\n  }\n\n  static GetTypeID() {\n    return 'xresp';\n  }\n\n  /**\n   * Construct an error object from the HTTP response object. It\n   * should contain \"status\", \"statusText\", and \"data\" which server\n   * side transmit the XError content\n   *\n   * @param {object} httpResponse\n   */\n  static FromHttpResponse(httpResponse) {\n    const edata = httpResponse.data;\n    const status = httpResponse.status;\n    const statusText = httpResponse.statusText;\n    let errObj = null;\n    if (status === HTTP_CLIENT_ERROR) {\n      if (edata) {\n        errObj = XResponse.Wrap(edata);\n      } else {\n        errObj = XResponse.New(status, statusText);\n      }\n    } else {\n      errObj = XResponse.New(status, statusText);\n    }\n    return errObj;\n  }\n\n  /**\n   * Create a new response instance with result and return code\n   *\n   * @param {*} result can be any json type\n   * @param {string} rc return code with default RC_OK\n   * @return {XResponse} new instance including the {[PROP_RESULT]:result}\n   */\n  static CreateWithRC(result, rc = RC_OK) {\n    const res = new XResponse();\n    res.setResult(result, rc);\n    return res;\n  }\n\n  /**\n   * Create a new response instance with result and no errors\n   *\n   * @param {*} result can be any json type\n   * @return {XResponse} new instance including the {[PROP_RESULT]:result}\n   */\n  static CreateOK(result) {\n    const res = new XResponse();\n    res.setResult(result, RC_OK);\n    return res;\n  }\n\n  /**\n   * Create a new response instance represent an error\n   *\n   * @param {XError} errObj error object or a simple string is OK as we'll wrap it\n   */\n  static CreateXError(xerror, rc = RC_ERROR) {\n    const res = new XResponse();\n    res.setError(xerror, rc);\n    return res;\n  }\n\n  /**\n   * Set result within the data portion of the object.\n   *\n   * @param {*} objectData if XObject, then entire object will be sent including AUX_DATA\n   * @param {*} resultData result value to set\n   * @param {string} rc optonal return code\n   */\n  static SetResult(objectData, resultData, rc = RC_OK) {\n    if (objectData == null) {\n      return false;\n    }\n    objectData[PROP_RESULT] =\n      Util.NotNull(resultData) ? XResponse.Serialize(resultData) : null;\n    if (objectData[PROP_RC] == null) {\n      objectData[PROP_RC] = rc;\n    }\n    return true;\n  }\n\n  /**\n   * Retrieve result object inside the response object\n   *\n   * @param {XResponse} responseObj this object or json data if already unwraped\n   * @param {*} defaultVal if result is null then use this value\n   * @return {*} whatever result set\n   */\n  static GetResult(responseObj, defaultVal = null) {\n    responseObj = XResponse.Unwrap(responseObj); // in case still XResponse\n    if (responseObj == null) {\n      return defaultVal;\n    }\n    let result = responseObj[PROP_RESULT];\n    if (Util.NotNull(result)) {\n      result = XResponse.DeSerialize(result);\n    } // if serialized (found \"stype\")\n    return Util.NotNull(result) ? result : defaultVal;\n  }\n\n  /**\n   * Wrap and error context\n   *\n   * @param {*} errorObj either a string, a json XError, or XError instance itself\n   */\n  static WrapError(errorObj) {\n    if (errorObj instanceof XError) {\n      return errorObj;\n    }\n\n    if (typeof errorObj === 'string') {\n      return ErrorCodes.API_ERROR(errorObj);\n    }\n\n    return XError.Wrap(errorObj); // hope it's json\n  }\n\n  /**\n   *  Set error object inside the response.\n   *\n   * @param {{}} jsonData unwraped json response data\n   * @param {*} resultData result value to set\n   * @param {string} rc optonal return code\n   */\n  static SetError(jsonData, errorObj, rc = RC_ERROR) {\n    if (jsonData == null) {\n      return false;\n    }\n    jsonData[PROP_ERROR] = XError.Unwrap(errorObj);\n    if (jsonData[PROP_RC] == null || jsonData[PROP_RC] === RC_OK) {\n      jsonData[PROP_RC] = rc;\n    }\n    return true;\n  }\n\n  /**\n   * Retrieve eror object inside the response object. Error\n   * object is stored separately\n   *\n   * @param {XResponse} jsonData this object or json data if already unwraped\n   * @param {*} defaultVal\n   * @return {*} whatever result set\n   */\n  static GetError(jsonData, defaultVal = null) {\n    const data = XResponse.GetData(jsonData);\n    const result = Util.NotNull(data) ? data[PROP_ERROR] : null;\n    return Util.NotNull(result) ? XError.Wrap(result) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {{}} jsonData\n   */\n  static HasError(jsonData) {\n    return Util.NotNull(XResponse.GetError(jsonData));\n  }\n}\n\nXResponse.RegisterType(XResponse);\n\nexport default XResponse;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.0002 19.1668C11.8132 19.1668 13.5854 18.6292 15.0929 17.622C16.6003 16.6147 17.7753 15.1831 18.4691 13.5081C19.1629 11.8331 19.3444 9.98999 18.9907 8.21183C18.637 6.43367 17.764 4.80034 16.482 3.51836C15.2 2.23638 13.5667 1.36333 11.7885 1.00964C10.0103 0.655937 8.16722 0.837468 6.49223 1.53127C4.81724 2.22507 3.3856 3.39999 2.37836 4.90744C1.37111 6.41489 0.833496 8.18717 0.833496 10.0002C0.833496 12.4313 1.79927 14.7629 3.51835 16.482C5.23743 18.2011 7.56901 19.1668 10.0002 19.1668Z\",\n  fill: \"#0F6CF6\",\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.0106 7.13574L8.68245 12.8649L5.98975 10.2581\",\n  stroke: \"white\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgCheckRound(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckRound);\nexport default __webpack_public_path__ + \"static/media/checkRound.f881bad8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 8.5835,\n  y: 1.16602,\n  width: 18.2501,\n  height: 12.7751,\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.5835 1.16602L17.7085 9.37855L26.8336 1.16602\",\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.5\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3.0835,\n  y1: 5.08301,\n  x2: 5.0835,\n  y2: 5.08301,\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 1.9165,\n  y1: 7.41602,\n  x2: 5.08317,\n  y2: 7.41602,\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 0.75,\n  y1: 9.74902,\n  x2: 5.08333,\n  y2: 9.74902,\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgEnvelopeSent(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 15,\n    viewBox: \"0 0 28 15\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEnvelopeSent);\nexport default __webpack_public_path__ + \"static/media/envelopeSent.5a0973c8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.1711 3.51046L1.2813 18.3513C1.09802 18.6687 1.00103 19.0286 1.00001 19.3951C0.998982 19.7616 1.09395 20.1221 1.27545 20.4405C1.45696 20.7589 1.71868 21.0243 2.03458 21.2102C2.35048 21.396 2.70955 21.496 3.07606 21.5H20.8557C21.2222 21.496 21.5813 21.396 21.8972 21.2102C22.2131 21.0243 22.4748 20.7589 22.6563 20.4405C22.8378 20.1221 22.9328 19.7616 22.9317 19.3951C22.9307 19.0286 22.8337 18.6687 22.6504 18.3513L13.7606 3.51046C13.5735 3.202 13.3101 2.94697 12.9957 2.76998C12.6813 2.59298 12.3266 2.5 11.9659 2.5C11.6051 2.5 11.2504 2.59298 10.936 2.76998C10.6217 2.94697 10.3582 3.202 10.1711 3.51046V3.51046Z\",\n  stroke: \"#DD1818\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.9663 8.90527V14.0452\",\n  stroke: \"#DD1818\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.9663 17.3018H11.9763\",\n  stroke: \"#DD1818\",\n  strokeWidth: 1.4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIconWarning(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconWarning);\nexport default __webpack_public_path__ + \"static/media/icon_warning.9c165226.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {toast} from \"react-toastify\";\nimport clsx from \"clsx\";\nimport {Typography} from \"@material-ui/core\";\nimport {ReactComponent as CheckRound} from \"src/assets/icons/checkRound.svg\";\nimport {ReactComponent as EnvelopeSent} from \"src/assets/icons/envelopeSent.svg\";\nimport {ReactComponent as IconWarning} from \"src/assets/icons/icon_warning.svg\";\nimport AppConsts from \"../../../app/AppConsts\";\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    padding: theme.spacing(0, 2.5),\n    backgroundColor: theme.palette.background.notif,\n    border: `0.5px solid ${theme.border.inner}`,\n    borderRadius: 10,\n  },\n  iconWrapper: {\n    display: \"inline-block\",\n    marginLeft: theme.spacing(0),\n    marginRight: theme.spacing(1),\n    height: theme.spacing(2.25),\n    \"& svg\": {\n      width: theme.spacing(2.25),\n      height: theme.spacing(2.25),\n    },\n  },\n  iconWrapperMessage: {\n    height: theme.spacing(3.5),\n    \"& svg\": {\n      width: theme.spacing(3.5),\n      height: theme.spacing(3.5),\n    },\n  },\n  message: {\n    paddingRight: theme.spacing(0.75),\n    color: theme.palette.text.link,\n    fontSize: 16,\n    lineHeight: \"20.8px\",\n    fontWeight: 500,\n    width: \"100%\",\n    \"&::first-letter\": {\n      textTransform: \"capitalize\",\n    },\n  },\n  wrapperError: {\n    backgroundColor: theme.palette.error.background,\n    borderColor: theme.palette.error.light,\n    \"& > p\": {\n      color: theme.palette.error.secondary,\n    },\n  },\n}));\n\n/**\n * TODO: ADD Info and Warning types once the design is ready\n * @param {Object} toastProps toast props\n * @param {string} message message to display in the notification\n */\n\nexport const NotifMessage = ({toastProps, message}) => {\n  const classes = useStyles();\n\n  return (\n    <div\n      className={clsx(\n        classes.wrapper,\n        (toastProps.type === toast.TYPE.ERROR ||\n          toastProps.type === toast.TYPE.WARNING ||\n          toastProps.type === AppConsts.NOTIF_MESSAGE_ERROR) &&\n          classes.wrapperError,\n      )}\n    >\n      <div\n        className={clsx(\n          classes.iconWrapper,\n          (toastProps.type === toast.TYPE.ERROR ||\n            toastProps.type === toast.TYPE.WARNING ||\n            toastProps.type === AppConsts.NOTIF_MESSAGE_ERROR) &&\n            classes.iconWrapperError,\n          toastProps.type === AppConsts.NOTIF_MESSAGE_SUCCESS &&\n            classes.iconWrapperMessage,\n        )}\n      >\n        {toastProps.type === toast.TYPE.SUCCESS && <CheckRound />}\n        {/**\n         * Will use CheckRound for error type temporary\n         * TODO: Replace CheckRound with the error icon once available\n         */}\n        {/*{toastProps.type === toast.TYPE.ERROR && <CheckRound />}*/}\n        {toastProps.type === toast.TYPE.WARNING && <IconWarning />}\n        {toastProps.type === AppConsts.NOTIF_MESSAGE_SUCCESS && (\n          <EnvelopeSent />\n        )}\n      </div>\n      <Typography variant=\"body1\" className={classes.message}>\n        {message}\n      </Typography>\n    </div>\n  );\n};\n","import React from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport SwipeableDrawer from \"@material-ui/core/SwipeableDrawer\";\nimport classnames from \"classnames\";\nimport {t} from \"src/i18n/utils\";\n\nimport {GButton} from \"src/styles/components/GButton\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .MuiDrawer-paper\": {\n        borderRadius: \"4px 4px 0 0\",\n      },\n    },\n    dropdownContent: {\n      width: theme.mixins.dropdownMenu.width,\n      position: \"absolute\",\n      right: 10,\n      top: -5,\n      borderRadius: 6,\n\n      \"& .menu-item\": {\n        padding: theme.spacing(1),\n        borderRadius: 0,\n\n        \"&.danger\": {\n          border: \"1px solid white\",\n          color: theme.palette.error.secondary,\n          transition: \"all .3s ease-in-out\",\n          \"&:hover\": {\n            borderRadius: theme.spacing(0.5),\n            border: \"1px solid red\",\n            backgroundColor: theme.palette.background.red,\n          },\n        },\n\n        \"& .wrapper\": {\n          display: \"flex\",\n        },\n\n        \"& .icon\": {\n          marginRight: theme.spacing(1),\n        },\n\n        \"& .menu-item-name\": {\n          lineHeight: \"31px\",\n        },\n      },\n    },\n    drawerContent: {\n      position: \"relative\",\n      paddingTop: theme.spacing(4.5),\n      \"&:before\": {\n        content: '\"\"',\n        position: \"absolute\",\n        width: theme.spacing(5.25),\n        height: theme.spacing(0.75),\n        backgroundColor: \"#EFEFEF\",\n        borderRadius: 6,\n        top: theme.spacing(1),\n        left: \"50%\",\n        transform: \"translateX(-50%)\",\n      },\n      \"& .menu-item\": {\n        padding: `${theme.spacing(1.5)}px ${theme.spacing(3)}px`,\n        paddingRight: theme.spacing(2),\n        borderRadius: 0,\n        \"&.danger\": {\n          border: \"1px solid white\",\n          color: theme.palette.error.secondary,\n          transition: \"all .3s ease-in-out\",\n          \"&:hover\": {\n            borderRadius: theme.spacing(0.5),\n            border: \"1px solid red\",\n            backgroundColor: theme.palette.background.red,\n          },\n        },\n\n        \"& .wrapper\": {\n          display: \"flex\",\n          alignItems: \"center\",\n        },\n\n        \"& .icon\": {\n          width: \"auto\",\n          \"& svg\": {\n            width: 24,\n          },\n          marginRight: theme.spacing(2),\n        },\n\n        \"& .menu-item-name\": {\n          fontSize: 17,\n          lineHeight: \"22px\",\n          overflow: \"hidden\",\n          whiteSpace: \"nowrap\",\n          textOverflow: \"ellipsis\",\n        },\n      },\n    },\n    drawerCancel: {\n      margin: `${theme.spacing(4)}px ${theme.spacing(2.5)}px`,\n      marginTop: theme.spacing(2),\n    },\n    drawerCancelBtn: {\n      height: 50,\n      borderRadius: 50,\n      fontSize: 17,\n      fontWeight: 700,\n      \"&:not(:disabled)\": {\n        background: `${theme.palette.grey.A200} !important`,\n        color: \"#000\",\n      },\n      \"&:hover\": {\n        background: `${theme.palette.grey.A200}!important`,\n      },\n    },\n  }),\n);\n\nconst iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n\nexport const GMobileDrawer = ({\n  className,\n  open,\n  toggleDrawer,\n  children,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  return (\n    <SwipeableDrawer\n      anchor=\"bottom\"\n      open={open}\n      onClose={toggleDrawer(false)}\n      onOpen={toggleDrawer(true)}\n      disableBackdropTransition={!iOS}\n      disableDiscovery={iOS}\n      className={classnames(classes.root, className)}\n      onBackdropClick={(e) => {\n        e.stopPropagation();\n      }}\n      {...rest}\n    >\n      <div className={classes.drawerContent}>{children}</div>\n      <div className={classes.drawerCancel}>\n        <GButton\n          className={classes.drawerCancelBtn}\n          onClick={(e) => {\n            e.stopPropagation();\n            toggleDrawer(false)();\n          }}\n        >\n          {t(\"getter_fe.post.button.cancel\")}\n        </GButton>\n      </div>\n    </SwipeableDrawer>\n  );\n};\n","import Util from '../../Util';\nimport XMPostItem from '../activity/XMPostItem';\nimport { ModelType, ModelFolder } from '../ModelConsts';\nimport SocialModelHelper from '../social/SocialModelHelper';\nimport XMSocialIndexable from '../social/XMSocialIndexable';\n\nconst _CLSNAME = 'XMPost'; // match class name\n\n\n/**\n * Model a User Post, which can be variety of types, including\n * comments.\n */\nclass XMPost extends XMSocialIndexable {\n\n  constructor(clsname = _CLSNAME, props = null) {\n    super(clsname, props);\n    this.class = XMPost;\n    this._enableACL();\n  }\n\n  /**\n   * Polymorphic override parent.\n   *\n   * @return {boolean} true\n   */\n  isPost() {\n    return true;\n  }\n\n  /**\n   * Answers the question whether this post is a repost\n   * with content, which mean the original post is\n   * embedded (but in the future, embedding may not\n   * mean it's a repost)\n   *\n   * @return {booelan} true if this is a repost with original\n   * content\n   */\n  isRepost() {\n    // for now, embedding implies adding original content on top\n    // of original. However, in the futrure, this may NOT be\n    // the case.\n    return Util.NotNull(this.get(XMPost.PROP_EMBEDDED_POST, null));\n  }\n\n  /**\n   * Return this post's Id. It's same with getId()\n   * but be consistent at parent class level.\n   *\n   * @return {string}\n   */\n  getPostId() {\n    return this.getId();\n  }\n\n  /**\n   * Store the reposted/shared object as an embedded object.\n   *\n   * @param {XMPost} xPostObj object to be stored.\n   * @return {*} old value, if any\n   *\n   * @see ~CreateRepost\n   * @see ~hasRepostObject\n   * @see ~getRepostObject\n   */\n  embedPost(xPostObj) {\n    // first, we are going to make a copy\n    const clonedPost = XMSocialIndexable.CloneInstance(xPostObj);\n    try {\n      // only XMPost as XMComment should not have embedded content\n      // right now...\n      clonedPost.clear(XMPost.PROP_EMBEDDED_POST);\n    } catch (err) {\n      console.log(err);\n    }\n    const oldObj = this.set(XMPost.PROP_EMBEDDED_POST, clonedPost);\n    const origPostId = xPostObj.getId();\n    const origUserId = xPostObj.getOwnerId();\n    this.setOriginalPostInfo(origPostId, origUserId);\n    return oldObj;\n  }\n\n  /**\n   * Create an XPostItem object that is suitable to be used\n   * inside XPostFeed, or use as input to functions that takes\n   * only XPostItem. This post object and any piggybacked data\n   * will be copied to the newly created post item.\n   *\n   * @param {string=} receiverId optional (for printing perspective)\n   * @return {XPostItem}\n   */\n  createXPostItem(receiverId = null, action = null) {\n    const xActivity = SocialModelHelper.CreateActivityLogFromSocialIndexable(this, action);\n    xActivity.setPostId(this.getId());\n\n    const xPostItem = XMPostItem.CreateFromActivity(receiverId, xActivity);\n\n    // copy all in aux_data which some will be of interest\n    xPostItem.setAuxData(this.getAuxData(true));\n\n    // add self as a piggyback object\n    xPostItem.setXAuxObject(this);\n\n    return xPostItem;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n   * Return the default folder/table/collection name used\n   * for storing categories.\n   *\n   * @return {string}\n   */\n  static GetFolderName() {\n    return ModelFolder.POST;\n  }\n\n  /** @return {string} */\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /** @return {string} */\n  static GetTypeID() {\n    return ModelType.POST;\n  }\n\n  /**\n   * Create a new instance. Default is no public read. Caller\n   * must explicitly call setPublicREAD(true).\n   *\n   * @param {string=} postId assigned Id, if any\n   * @return {XMPost} new instance\n   */\n  static CreateNew(postId = null, isPrivate = false) {\n    const newObj = new XMPost();\n    newObj.initNew();\n    newObj.setCreatedTS();\n\n    if (postId) {\n      newObj._setId(postId);\n    }\n\n    return newObj;\n  }\n\n  static CreatePostNotFound(postId) {\n    const newObj = XMPost.CreateNew(postId);\n\n    newObj.setNotFound(true);\n    newObj.setText('Content Not Found');\n\n    return newObj;\n  }\n\n  /**\n   * Create a new post object that is a repost of another\n   * post. This is not a simple share but a stanalone\n   * post of its own but just reference/embed another\n   * post.\n   *\n   * @param {string=} postId unique Id to assign to this post. This shold\n   * be null on the client side as server will assign an unique Id\n   * @param {string} userId reposter's userId\n   * @param {string} origPostId specify the ID of the original post\n   * @param {XMPost=} origPostObj optional on the client side to include\n   * as server will load the post and embed\n   * @return {XMPost} note no _id is assigned and use default ACL\n   */\n  static CreateFromOriginalInfo(origPostId, origPosterId) {\n    // copy over entire content with cloning\n    const newPost = XMPost.CreateNew();\n\n    newPost.setOriginalPostInfo(origPostId, origPosterId);\n\n    return newPost;\n  }\n\n  static CreateFromOriginalPost(xPostObj) {\n    const newPost = XMPost.CreateNew();\n    newPost.embedPost(newPost);\n    return newPost;\n  }\n\n} // class XMPost\n\nXMPost.RegisterType(XMPost);\n\n\nexport default XMPost;\n","// Stubbing data - should be deprecated\nimport GetterService from \"../GetterService\";\n\nimport ObjectManager from \"../core/ObjectManager\";\nimport NetworkManager from \"../core/NetworkManager\";\n\nimport Portal from \"./Portal\";\nimport ImageUtil from \"../core/util/ImageUtil\";\n\nconst FACEBOOK_APP_ID = \"1916745291707563\";\n// const FACEBOOK_APP_SECRET = \"437bf89789927406aa9f66d782cb94a8\";\n\n/**\n *\n * @param {object} appConfig\n * @return {Portal}\n */\nconst initPortal = function(appConfig) {\n  // console.log(\"INITIALIZING Portal for the first time...\");\n\n  let nm = NetworkManager.GetInstance();\n  nm.applyConfig(appConfig);\n\n  let appService = new GetterService();\n  appService.applyConfig(appConfig);\n  appService.setNetworkManager(nm);\n\n  let om = ObjectManager.GetInstance(\"default\");\n  om.applyConfig(appConfig);\n  om.setNetworkManager(nm);\n  appService.setObjectManager(om);\n\n  let p = new Portal();\n\n  p.setNetworkManager(nm);\n  p.setObjectManager(om);\n  p.setAppService(appService);\n  p.applyConfig(appConfig);\n\n  nm.setUserCredFunction(p.getUserCredFunction());\n\n  return p;\n};\n\n/**\n * Global abstracts system characteristics\n *\n */\nexport class Global {\n  /**\n   * Are we running inside a web browser right now?\n   * This is indicated by checking if \"windows\" and\n   * \"document\" global variables exist.\n   */\n  static IsBrowser() {\n    let hasWindow =\n      typeof window !== \"undefined\" &&\n      window.document != null &&\n      window.document.createElement != null;\n    return hasWindow;\n  }\n\n  static IsProductionBuild() {\n    return process.env.NODE_ENV === \"production\";\n  }\n\n  static IsDevelopmentBuild() {\n    return process.env.NODE_ENV === \"development\";\n  }\n\n  /**\n   * Is this component part of the Single Page Application?\n   *\n   * @return {boolean}\n   */\n  static IsSPA() {\n    return false; // for now\n  }\n\n  /**\n   *\n   * @return {string}\n   */\n  static GetSiteURL() {\n    return Global.Portal.getSiteURL();\n  }\n\n  /**\n   * Check if currently running on server. If so,\n   * this means it's being run during SSR.\n   *\n   * @return {boolean}\n   */\n  static IsServer() {\n    return !Global.IsBrowser();\n  }\n\n  /**\n   * Return {Portal}\n   */\n  static GetPortal() {\n    return Global.Portal ? Global.Portal : Portal.GetInstance();\n  }\n\n  /**\n   * Convenient method to support both client and server side (for now)\n   *\n   * @return {XUserCred}\n   */\n  static GetUserCred() {\n    return Global.Portal().getUserCred();\n  }\n\n  /**\n   *\n   * @return {GetterService}\n   */\n  static GetAppContext() {\n    return Global.Portal.getAppContext();\n  }\n\n  static GetHistory() {\n    return Global.History;\n  }\n\n  static GetFacebookAppID() {\n    return FACEBOOK_APP_ID;\n  }\n\n  static GetAppLogoURL() {\n    return \"/logos/fr_logo_200.png\";\n  }\n\n  static GetCachedURL(subpath) {\n    return subpath ? `${ImageUtil.CACHE_PATH}/${subpath}` : ImageUtil.CACHE_PATH;\n  }\n\n  static GetThumbnailURL(filename) {\n    let subpath = filename ? `${ImageUtil.THUMBNAIL_DIR}/${filename}` : filename;\n    return Global.GetCachedURL(subpath);\n  }\n\n  /**\n   * CALL THIS FIRST UPON BOOT UP!!!\n   */\n  static Initialize(appConfig) {\n    if (Global._appliedConfig == null) {\n      Global._appliedConfig = true;\n      if (appConfig == null) {\n        console.error(\n          \"NO APP CONFIG Passed in to Global.Initialize(). TERMINATING!!!!!\"\n        );\n        process.exit(1);\n      }\n      Global.Portal = initPortal(appConfig);\n    } else console.error(\"Global.Initialize: Already DONE!!!\");\n    return Global.Portal;\n  }\n\n  static Error(code, msg) {}\n}\n\nexport default Global;\n","import Util from \"src/core/Util\";\nimport {userConstants} from \"../_constants\";\n// import XAuthInfo from \"src/core/model/user/XAuthInfo\";\nimport XUserInfo from \"src/core/model/user/XUserInfo\";\nimport GAxios from \"src/util/GAxios\";\n\nexport const login2 = async (params) => {\n  const {pwd, username, token} = params;\n  let content;\n  if (username.indexOf(\"@\") === -1) {\n    content = {\n      username: username.toLowerCase(),\n      pwd: pwd,\n      token: token,\n    };\n  } else {\n    content = {\n      email: username.toLowerCase(),\n      pwd: pwd,\n      token: token,\n    };\n  }\n  const data = {\n    content: content,\n  };\n\n  const config = {\n    method: \"post\",\n    url: userConstants.API_LOGIN_URL2,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    data: data,\n  };\n\n  let loginData = {\n    authenticated: false,\n    userinfo: null,\n  };\n\n  await GAxios(\n    config,\n    (response) => {\n      const data = response.data.result;\n      console.info(data);\n\n      loginData.authenticated = true;\n      loginData.userinfo = data.user;\n      XUserInfo.SetUserToken(loginData.userinfo, loginData.token);\n\n      console.info(loginData);\n\n      console.info(JSON.stringify(loginData));\n      localStorage.setItem(\n        userConstants.LS_SESSION_INFO,\n        JSON.stringify(loginData),\n      );\n\n      this._setUserInfo(loginData.userinfo, rememberMe);\n    },\n    (err) => {\n      console.error(err);\n    },\n  );\n\n  return loginData;\n};\n\nexport const login = async (params) => {\n  if (!params) return;\n\n  const {pwd, username, token, portal} = params;\n\n  let userInfo = new XUserInfo();\n  let loginData = {\n    authenticated: false,\n    userinfo: null,\n  };\n\n  await portal.login(userInfo, username, pwd, token, true, (err, res) => {\n    if (err?.data?.emsg === \"E_USER_SUSPENDED\") {\n      loginData.userinfo = \"E_USER_SUSPENDED\";\n    } else {\n      loginData.authenticated = !err;\n      loginData.userinfo = res;\n\n      localStorage.setItem(\n        userConstants.LS_SESSION_INFO,\n        JSON.stringify(loginData),\n      );\n    }\n  });\n\n  return loginData;\n};\n","import {userConstants} from \"../_constants\";\n\nexport const loginRefresh = async () => {\n  const userInfo = JSON.parse(\n    localStorage.getItem(userConstants.LS_SESSION_INFO),\n  );\n\n  return userInfo;\n};\n","import GAxios from \"src/util/GAxios\";\nimport {userConstants} from \"../_constants\";\n\nexport const sendVerifCode = async (data) => {\n  if (!data.email) return;\n  const content = JSON.stringify({\n    content: {\n      token: data.token,\n      email: data.email.toLowerCase(),\n      lang: \"en\", // [TODO]: will be replace when the current lang will be available in the Redux Store.\n      reqtype: userConstants.SEND_VERIF_CODE_REQ_TYPE,\n    },\n  });\n\n  const config = {\n    method: \"post\",\n    url: userConstants.API_SEND_VERIF_CODE,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    data: content,\n  };\n\n  let res = null;\n\n  await GAxios(\n    config,\n    (response) => {\n      if (response && response.data.result.success) {\n        res = data.email;\n      } else {\n        res = null;\n      }\n    },\n    () => {\n      res = null;\n    },\n  );\n\n  return res;\n};\n","import GAxios from \"src/util/GAxios\";\nimport {userConstants} from \"../_constants\";\n\nexport const verifCode = async (params) => {\n  const email = params.data.email;\n  const code = params.data.code;\n  const token = params.data.token;\n\n  if (!code || !email) return;\n\n  const reqType =\n    params.type === userConstants.VERIF_CODE_TYPE_F_PWD\n      ? userConstants.VERIF_CODE_REQ_TYPE\n      : userConstants.VERIF_CODE_REQ_TYPE_SIGNUP;\n\n  const data = JSON.stringify({\n    content: {\n      email: email,\n      verifycode: code,\n      reqtype: reqType,\n      token: token,\n    },\n  });\n\n  const config = {\n    method: \"post\",\n    url: userConstants.API_VERIF_CODE,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    data: data,\n  };\n\n  let res = false;\n\n  await GAxios(config, (response) => {\n    if (response && response.data.result.success) {\n      res = code;\n    } else {\n      res = false;\n    }\n  });\n\n  return res;\n};\n","import GAxios from \"src/util/GAxios\";\nimport {userConstants} from \"../_constants\";\n\nexport const changePassword = async (params) => {\n  const email = params.email;\n  const code = params.code;\n  const newPwd = params.newPwd;\n  const token = params.token;\n\n  if (!newPwd || !email || !code || !token) {\n    return;\n  }\n\n  const data = JSON.stringify({\n    content: {\n      email: email,\n      password: newPwd,\n      verifycode: code,\n      token,\n    },\n  });\n\n  const config = {\n    method: \"post\",\n    url: userConstants.API_CHANGE_PWD,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    data: data,\n  };\n\n  let res = false;\n\n  await GAxios(config, (response) => {\n    if (response && response.data.result.success) {\n      res = true;\n    } else {\n      res = false;\n    }\n  });\n\n  return res;\n};\n","export const changeLoginStep = async (step) => {\n  if (!step) return;\n\n  return step;\n};\n","import GAxios from \"src/util/GAxios\";\nimport {userConstants} from \"../_constants\";\n\nexport const checkUsername = async (username) => {\n  if (!username) return;\n\n  const config = {\n    method: \"get\",\n    url: `${process.env.REACT_APP_API_URL}/s/user/${username}/exist`,\n  };\n\n  let res = null;\n\n  await GAxios(config, (response) => {\n    if (response.data.result) {\n      res = response.data.result;\n    } else {\n      console.error(response);\n      res = null;\n    }\n  });\n\n  return res;\n};\n","import GAxios from \"src/util/GAxios\";\nimport {userConstants} from \"../_constants\";\n\nexport const checkEmail = async (email) => {\n  if (!email) return;\n\n  const config = {\n    method: \"get\",\n    url: `${process.env.REACT_APP_API_URL}/s/email/exists?email=${email}`,\n  };\n\n  let res = false;\n\n  await GAxios(config, (response) => {\n    if (response.data.result) {\n      res = true;\n    } else {\n      res = false;\n    }\n  });\n\n  return res;\n};\n","import {login, login2} from \"./login\";\nimport {loginRefresh} from \"./loginRefresh\";\nimport {sendVerifCode} from \"./sendVerifCode\";\nimport {verifCode} from \"./verifCode\";\nimport {changePassword} from \"./changePassword\";\nimport {changeLoginStep} from \"./changeLoginStep\";\nimport {checkUsername} from \"./checkUsername\";\nimport {checkEmail} from \"./checkEmail\";\nimport {sendVerifCodeSignup} from \"./sendVerifCodeSignup\";\nimport {claimSignup} from \"./claimSignup\";\nimport {changeSignupStep} from \"./changeSignupStep\";\nimport {signup} from \"./signup\";\nimport {addPinPost} from \"./addPinPost\";\nimport {deletePinPost} from \"./deletePinPost\";\n\n// TODO: prevent type widening\nexport const AuthApi = {\n  login,\n  login2,\n  loginRefresh,\n  sendVerifCode,\n  verifCode,\n  changePassword,\n  changeLoginStep,\n  checkUsername,\n  checkEmail,\n  sendVerifCodeSignup,\n  claimSignup,\n  changeSignupStep,\n  signup,\n  addPinPost,\n  deletePinPost,\n};\n","import GAxios from \"src/util/GAxios\";\nimport {toast} from \"react-toastify\";\nimport AppConst from \"src/app/AppConsts\";\nimport {userConstants} from \"../_constants\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {t} from \"src/i18n/utils\";\n\nexport const sendVerifCodeSignup = async (params) => {\n  const {username, email, password, token} = params;\n\n  if (!username || !email || !password) return;\n\n  const data = JSON.stringify({\n    content: {\n      email: email.toLowerCase(),\n      lang: \"en\", // [TODO]: will be replace when the current lang will be available in the Redux Store.\n      reqtype: userConstants.VERIF_CODE_REQ_TYPE_SIGNUP,\n      token: token,\n    },\n  });\n\n  const config = {\n    method: \"post\",\n    url: userConstants.API_SEND_VERIF_CODE,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    data: data,\n  };\n\n  let res;\n\n  await GAxios(\n    config,\n    (response) => {\n      if (response && response.data.result.success) {\n        res = params;\n      } else {\n        res = null;\n      }\n    },\n    (err) => {\n      if (err?.response?.status === 400) {\n        toast(\n          <NotifMessage\n            message={\n              err?.response?.data?.error?.emsg === \"Invalid email address.\"\n                ? t(\"getter_fe.auth.errors.emailInvalid\")\n                : t(\"getter_fe.auth.errors.signupShutDown\")\n            }\n          />,\n          {\n            position: toast.POSITION.TOP_CENTER,\n            type: AppConst.NOTIF_MESSAGE_ERROR,\n          },\n        );\n      }\n      res = null;\n    },\n  );\n\n  return res;\n};\n","import {userConstants} from \"../_constants\";\nimport XUserInfo from \"src/core/model/user/XUserInfo\";\n\nexport const claimSignup = async (params) => {\n  if (!params) return;\n  const {username, pwd, url, lang, email, portal, callback} = params;\n\n  let userInfo = new XUserInfo();\n  let loginData = {\n    authenticated: false,\n    userinfo: null,\n  };\n\n  await portal.claimSignup(\n    userInfo,\n    url,\n    username,\n    pwd,\n    lang,\n    email,\n    true,\n    (err, res) => {\n      loginData.authenticated = !err;\n      loginData.userinfo = res;\n\n      localStorage.setItem(\n        userConstants.LS_SESSION_INFO,\n        JSON.stringify(loginData),\n      );\n      callback(err, res);\n    },\n  );\n\n  return loginData;\n};\n","export const changeSignupStep = async (step) => {\n  if (!step) return;\n\n  return step;\n};\n","import {userConstants} from \"../_constants\";\nimport XUserInfo from \"src/core/model/user/XUserInfo\";\n\nexport const signup = async (params) => {\n  if (!params) return;\n  const {pwd, username, lang, email, code, token, portal} = params;\n  \n  let userInfo = new XUserInfo();\n  let loginData = {\n    authenticated: false,\n    userinfo: null,\n  };\n\n  await portal.signup(userInfo, username, pwd, lang, email, code, token, true, (err, res) => {\n    loginData.authenticated = !err;\n    loginData.userinfo = res;\n\n    localStorage.setItem(\n      userConstants.LS_SESSION_INFO,\n      JSON.stringify(loginData),\n    );\n  });\n\n  return loginData;\n};\n","import GAxios from \"src/util/GAxios\";\n\nexport const addPinPost = async (data) => {\n  if (!data) return;\n\n  const {userId, postId} = data;\n\n  try {\n    const config = {\n      method: \"post\",\n      url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/post/${postId}/pin`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    let res;\n\n    await GAxios(\n      config,\n      (response) => {\n        res = response.data.result;\n      },\n      (err) => {\n        if (\n          err.response.status === 400 &&\n          err.response.data.error.code !== \"E_RES_NOTFOUND\"\n        ) {\n          if (err.response.data.error.emsg) {\n            res = err.response.data.error.emsg;\n          }\n        } else {\n          res = null;\n        }\n      },\n    );\n\n    return res;\n  } catch (error) {\n    console.error(\"the error :: \", error);\n    return null;\n  }\n};\n","import GAxios from \"src/util/GAxios\";\n\nexport const deletePinPost = async (data) => {\n  if (!data) return;\n\n  const {userId, postId} = data;\n\n  try {\n    const config = {\n      method: \"delete\",\n      url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/post/${postId}/unpin`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    let res;\n\n    await GAxios(\n      config,\n      (response) => {\n        res = response.data.result;\n      },\n      (err) => {\n        if (err.response.status === 400) {\n          if (err.response.data.error.emsg) {\n            res = err.response.data.error.emsg;\n          }\n        } else {\n          res = null;\n        }\n      },\n    );\n\n    return res;\n  } catch (error) {\n    console.error(\"the error :: \", error);\n    return null;\n  }\n};\n","import {createSlice, createAsyncThunk, createAction} from \"@reduxjs/toolkit\";\nimport {AuthApi} from \"../api\";\nimport {userConstants} from \"../_constants\";\n\nconst NS = \"auth\";\n\nlet user = JSON.parse(localStorage.getItem(userConstants.LS_SESSION_INFO));\n\nconst initialState = {\n  session: user\n    ? user\n    : {\n        authenticated: false,\n        userinfo: {},\n        error: false,\n        isSuspended: false,\n        isLoading: false,\n      },\n  signup: {\n    error: false,\n    success: false,\n    isLoading: false,\n  },\n  sendVerifCode: {\n    data: {},\n    isLoading: false,\n    error: false,\n    success: false,\n  },\n  verifCode: {\n    code: null,\n    isLoading: false,\n    error: false,\n    success: false,\n  },\n  changePassword: {\n    isLoading: false,\n    error: false,\n    success: false,\n  },\n  loginStep: {\n    step: userConstants.STEP_LOGIN,\n  },\n  signupStep: {\n    step: userConstants.STEP_SIGNUP,\n  },\n  claimStep: {\n    imPost: true,\n    username: \"\",\n    claimed: false,\n    autoConnect: true,\n  },\n};\n\nexport const login = createAsyncThunk(\"auth/login\", AuthApi.login);\n// export const login2 = createAsyncThunk(\"auth/login2\", AuthApi.login2);\n\nexport const loginRefresh = createAsyncThunk(\n  \"auth/loginRefresh\",\n  AuthApi.loginRefresh,\n);\n\nexport const sendVerifCode = createAsyncThunk(\n  \"auth/sendVerifCode\",\n  AuthApi.sendVerifCode,\n);\n\nexport const sendVerifCodeSignup = createAsyncThunk(\n  \"auth/sendVerifCodeSignup\",\n  AuthApi.sendVerifCodeSignup,\n);\n\nexport const claimSignup = createAsyncThunk(\n  \"auth/claimSignup\",\n  AuthApi.claimSignup,\n);\n\nexport const changePassword = createAsyncThunk(\n  \"auth/changePassword\",\n  AuthApi.changePassword,\n);\n\nexport const verifCode = createAsyncThunk(\"auth/verifCode\", AuthApi.verifCode);\n\nexport const changeLoginStep = createAsyncThunk(\n  \"auth/changeLoginStep\",\n  AuthApi.changeLoginStep,\n);\nexport const changeSignupStep = createAsyncThunk(\n  \"auth/changeSignupStep\",\n  AuthApi.changeSignupStep,\n);\n\nexport const checkUsername = createAsyncThunk(\n  \"auth/checkUsername\",\n  AuthApi.checkUsername,\n);\n\nexport const checkEmail = createAsyncThunk(\n  \"auth/checkEmail\",\n  AuthApi.checkEmail,\n);\n\nexport const addPinPost = createAsyncThunk(\n  \"auth/addPinPost\",\n  AuthApi.addPinPost,\n);\n\nexport const deletePinPost = createAsyncThunk(\n  \"auth/deletePinPost\",\n  AuthApi.deletePinPost,\n);\n\nexport const signup = createAsyncThunk(\"auth/signup\", AuthApi.signup);\n\nexport const resetSessionStatus = createAction(`${NS}/resetSessionStatus`);\n\nexport const resetSendVerifCodeStatus = createAction(\n  `${NS}/resetSendVerifCodeStatus`,\n);\n\nexport const resetVerifCodeStatus = createAction(`${NS}/resetVerifCodeStatus`);\n\nexport const resetchangePasswordStatus = createAction(\n  `${NS}/resetchangePasswordStatus`,\n);\nexport const logout = createAction(`${NS}/logout`);\n\nexport const changeImpost = createAction(`${NS}/changeImpost`);\nexport const changeAutoConnect = createAction(`${NS}/changeAutoConnect`);\nexport const setClaimUsername = createAction(`${NS}/setClaimUsername`);\nexport const setClaimed = createAction(`${NS}/setClaimed`);\n\nexport const authSlice = createSlice({\n  name: NS,\n  initialState,\n  reducers: {\n    changeImpost: (state, {payload}) => {\n      state.claimStep.imPost = payload.imPost;\n    },\n    changeAutoConnect: (state, {payload}) => {\n      state.claimStep.autoConnect = payload.autoConnect;\n    },\n    setClaimUsername: (state, {payload}) => {\n      state.claimStep.username = payload.username;\n    },\n    setClaimed: (state, {payload}) => {\n      state.claimStep.claimed = payload.claimed;\n    },\n    resetSessionStatus: (state) => {\n      state.session.error = false;\n      state.session.isLoading = false;\n      state.session.isSuspended = false;\n    },\n    resetSendVerifCodeStatus: (state) => {\n      state.sendVerifCode.error = false;\n      state.sendVerifCode.isLoading = false;\n      state.sendVerifCode.success = false;\n    },\n    resetVerifCodeStatus: (state) => {\n      state.verifCode.code = null;\n      state.verifCode.error = false;\n      state.verifCode.isLoading = false;\n      state.verifCode.success = false;\n    },\n    resetchangePasswordStatus: (state) => {\n      state.changePassword.error = false;\n      state.changePassword.isLoading = false;\n      state.changePassword.success = false;\n    },\n    refreshUserInfo: (state, {payload}) => {\n      payload.userinfo.token = state.session.userinfo.token;\n      state.session.userinfo = payload.userinfo;\n      localStorage.setItem(\n        userConstants.LS_SESSION_INFO,\n        JSON.stringify(state.session),\n      );\n    },\n    logout: (state, payload) => {\n      state.session.authenticated = false;\n      state.session.userinfo = {};\n    },\n  },\n  extraReducers: (builder) => {\n    // Doc: https://redux-toolkit.js.org/usage/usage-with-typescript#type-safety-with-extrareducers\n\n    builder.addCase(login.pending, (state) => {\n      state.session.authenticated = false;\n      state.session.isLoading = true;\n      state.session.error = false;\n    });\n\n    builder.addCase(login.fulfilled, (state, {payload}) => {\n      state.session.isLoading = false;\n\n      if (!payload) {\n        state.session.isLoading = false;\n        state.session.error = true;\n        return;\n      }\n\n      if (payload && payload.userinfo === \"E_USER_SUSPENDED\") {\n        state.session.isSuspended = true;\n        return;\n      }\n\n      if (payload && !payload.authenticated) {\n        state.session.error = true;\n        return;\n      }\n\n      state.session.authenticated = payload.authenticated;\n      state.session.userinfo = payload.userinfo;\n    });\n\n    builder.addCase(login.rejected, (state) => {\n      state.session.authenticated = false;\n      state.session.isLoading = false;\n      state.session.error = true;\n    });\n\n    builder.addCase(loginRefresh.fulfilled, (state, {payload}) => {\n      if (payload) {\n        state.session.authenticated = payload.authenticated;\n        state.session.userinfo = payload.userinfo;\n      }\n    });\n\n    builder.addCase(sendVerifCode.pending, (state) => {\n      state.sendVerifCode.success = false;\n      state.sendVerifCode.error = false;\n      state.sendVerifCode.isLoading = true;\n    });\n\n    builder.addCase(sendVerifCode.fulfilled, (state, {payload}) => {\n      if (payload) {\n        state.sendVerifCode.data.email = payload;\n        state.sendVerifCode.success = true;\n      } else {\n        state.sendVerifCode.error = true;\n      }\n\n      state.sendVerifCode.isLoading = false;\n    });\n\n    builder.addCase(sendVerifCode.rejected, (state) => {\n      state.sendVerifCode.success = false;\n      state.sendVerifCode.error = true;\n      state.sendVerifCode.isLoading = false;\n    });\n\n    builder.addCase(sendVerifCodeSignup.pending, (state) => {\n      state.sendVerifCode.success = false;\n      state.sendVerifCode.error = false;\n      state.sendVerifCode.isLoading = true;\n    });\n\n    builder.addCase(sendVerifCodeSignup.fulfilled, (state, {payload}) => {\n      if (payload) {\n        state.sendVerifCode.data = payload;\n        state.sendVerifCode.success = true;\n      } else {\n        state.sendVerifCode.error = true;\n      }\n\n      state.sendVerifCode.isLoading = false;\n    });\n\n    builder.addCase(sendVerifCodeSignup.rejected, (state) => {\n      state.sendVerifCode.success = false;\n      state.sendVerifCode.error = true;\n      state.sendVerifCode.isLoading = false;\n    });\n\n    builder.addCase(verifCode.pending, (state) => {\n      state.verifCode.success = false;\n      state.verifCode.error = false;\n      state.verifCode.isLoading = true;\n    });\n\n    builder.addCase(verifCode.fulfilled, (state, {payload}) => {\n      if (payload) {\n        state.verifCode.code = payload;\n        state.verifCode.success = true;\n      } else {\n        state.verifCode.error = true;\n      }\n\n      state.verifCode.isLoading = false;\n    });\n\n    builder.addCase(verifCode.rejected, (state) => {\n      state.verifCode.success = false;\n      state.verifCode.error = true;\n      state.verifCode.isLoading = false;\n    });\n\n    builder.addCase(changePassword.pending, (state) => {\n      state.changePassword.success = false;\n      state.changePassword.error = false;\n      state.changePassword.isLoading = true;\n    });\n\n    builder.addCase(changePassword.fulfilled, (state, {payload}) => {\n      payload\n        ? (state.changePassword.success = true)\n        : (state.changePassword.error = true);\n\n      state.changePassword.isLoading = false;\n    });\n\n    builder.addCase(changePassword.rejected, (state) => {\n      state.changePassword.success = false;\n      state.changePassword.error = true;\n      state.changePassword.isLoading = false;\n    });\n\n    builder.addCase(changeLoginStep.fulfilled, (state, {payload}) => {\n      if (payload) {\n        state.loginStep.step = payload;\n      }\n    });\n\n    builder.addCase(changeSignupStep.fulfilled, (state, {payload}) => {\n      if (payload) {\n        state.signupStep.step = payload;\n      }\n    });\n\n    builder.addCase(signup.pending, (state) => {\n      state.signup.success = false;\n      state.signup.error = false;\n      state.signup.isLoading = true;\n    });\n\n    builder.addCase(signup.fulfilled, (state, {payload}) => {\n      if (payload) {\n        state.signup.success = true;\n      } else {\n        state.signup.error = true;\n      }\n\n      if (payload && !payload.authenticated) {\n        state.session.error = true;\n        return;\n      }\n\n      state.session.authenticated = payload.authenticated;\n      state.session.userinfo = payload.userinfo;\n\n      state.signup.isLoading = false;\n    });\n\n    builder.addCase(signup.rejected, (state) => {\n      state.signup.success = false;\n      state.signup.error = true;\n      state.signup.isLoading = false;\n    });\n\n    builder.addCase(addPinPost.fulfilled, (state, {payload}) => {\n      if (Array.isArray(payload)) {\n        let pinnedPosts = payload.toString();\n        pinnedPosts = '[\"' + pinnedPosts + '\"]';\n\n        let userInfo = {...state.session.userinfo};\n        userInfo.pinpsts = pinnedPosts;\n        state.session.userinfo = userInfo;\n\n        localStorage.setItem(\n          userConstants.LS_SESSION_INFO,\n          JSON.stringify(state.session),\n        );\n      }\n    });\n\n    builder.addCase(deletePinPost.fulfilled, (state, {payload}) => {\n      if (Array.isArray(payload)) {\n        let pinnedPosts = payload.toString();\n\n        let userInfo = {...state.session.userinfo};\n        userInfo.pinpsts = pinnedPosts;\n        state.session.userinfo = userInfo;\n\n        localStorage.setItem(\n          userConstants.LS_SESSION_INFO,\n          JSON.stringify(state.session),\n        );\n      }\n    });\n  },\n});\n\nexport const {refreshUserInfo} = authSlice.actions;\n","export const postConstants = {\n  PROP_LABEL: \"label\",\n  PROP_ON_SUBMIT: \"onSubmit\",\n  PROP_ON_CANCEL: \"onCancel\",\n  PROP_IMAGE_FILES: \"imgfspec\",\n  PROP_POPUP: \"isPopup\",\n  PROP_TRIGGER: \"trigger\",\n  COMPOSER_MAX_TEXT_LENGTH: 777,\n  ACL_PERM_READ: 4,\n  VISTYPE_PUBLIC: \"p\",\n  POST_TYPE: \"post\",\n  COMMENT_TYPE: \"cmt\",\n  FILE_TYPE_IMAGE: \"image\",\n  FILE_TYPE_VIDEO: \"video\",\n  SUBMIT_POST_URL: `${process.env.REACT_APP_API_URL}/u/post`,\n  SUBMIT_REPOST_URL: `${process.env.REACT_APP_API_URL}/u/repost`,\n  LS_REPOST_ID: \"repostId\",\n  PROP_TEXT_COMP: \"textComp\",\n  PROP_SCENE: \"scene\",\n  STATE_IMAGES_OPEN: \"imageURLsOpen\",\n  PROP_TEXT: \"text\",\n  PROP_ORIGIN_COMP: \"originPost\",\n  DELETEPOST: \"DELETEPOST\",\n  TAB_LIKE: \"tab_like\",\n};\n","import {postConstants} from \"../_constants\";\nimport GAxios from \"src/util/GAxios\";\n\nlet params = {\n  data: {\n    acl: {\n      _t: \"acl\",\n      pub: postConstants.ACL_PERM_READ,\n    },\n    _t: postConstants.POST_TYPE,\n    vis: postConstants.VISTYPE_PUBLIC,\n  },\n  aux: null,\n  serial: postConstants.POST_TYPE,\n};\n\nexport const postSubmit = async (data) => {\n  if (!data) return;\n\n  params = {...params, data: {...params.data, ...data}};\n\n  params = JSON.stringify(params);\n\n  var dataNew = new FormData();\n  dataNew.append(\"content\", params);\n\n  const config = {\n    method: \"post\",\n    url: postConstants.SUBMIT_POST_URL,\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n      enctype: \"multipart/form-data\",\n    },\n    data: dataNew,\n  };\n\n  let res = null;\n\n  await GAxios(config, (response) => {\n    if (response.data.result) {\n      res = response.data.result;\n    } else {\n      res = null;\n    }\n  });\n\n  return res;\n};\n","import {postConstants} from \"../_constants\";\nimport GAxios from \"src/util/GAxios\";\n\nlet params = {\n  data: {\n    acl: {\n      _t: \"acl\",\n      pub: postConstants.ACL_PERM_READ,\n    },\n    _t: postConstants.POST_TYPE,\n    vis: postConstants.VISTYPE_PUBLIC,\n  },\n  aux: null,\n  serial: postConstants.POST_TYPE,\n};\n\nexport const repostSubmit = async (data) => {\n  if (!data) return;\n\n  params = {...params, data: {...params.data, ...data}};\n\n  params = JSON.stringify(params);\n\n  var dataNew = new FormData();\n  dataNew.append(\"content\", params);\n\n  const config = {\n    method: \"post\",\n    url: postConstants.SUBMIT_REPOST_URL,\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n      enctype: \"multipart/form-data\",\n    },\n    data: dataNew,\n  };\n\n  let res = null;\n\n  await GAxios(config, (response) => {\n    if (response.data.result) {\n      res = response.data.result;\n    } else {\n      res = null;\n    }\n  });\n\n  return res;\n};\n","import {postConstants} from \"../_constants\";\nimport GAxios from \"src/util/GAxios\";\n\nlet params = {\n  data: {\n    acl: {\n      _t: \"acl\",\n    },\n    _t: postConstants.COMMENT_TYPE,\n  },\n  aux: null,\n  serial: postConstants.COMMENT_TYPE,\n};\n\nexport const commentSubmit = async (data) => {\n  if (!data) return;\n\n  params = {...params, data: {...params.data, ...data}};\n\n  params = JSON.stringify(params);\n\n  var dataNew = new FormData();\n  dataNew.append(\"content\", params);\n\n  const config = {\n    method: \"post\",\n    url: `${process.env.REACT_APP_API_URL}/u/post/${data.pid}/comment`,\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n      enctype: \"multipart/form-data\",\n    },\n    data: dataNew,\n  };\n\n  let res = null;\n\n  await GAxios(config, (response) => {\n    if (response.data.result) {\n      res = response.data.result;\n    } else {\n      res = null;\n    }\n  });\n\n  return res;\n};\n","import {postSubmit} from \"./postSubmit\";\nimport {repostSubmit} from \"./repostSubmit\";\nimport {commentSubmit} from \"./commentSubmit\";\n\n// TODO: prevent type widening\nexport const PostApi = {\n  postSubmit,\n  repostSubmit,\n  commentSubmit,\n};\n","import {createSlice, createAsyncThunk, createAction} from \"@reduxjs/toolkit\";\nimport {PostApi} from \"../api\";\n\nconst NS = \"post\";\n\nconst initialState = {\n  postSubmit: {\n    data: {},\n    isLoading: false,\n    error: false,\n    success: false,\n  },\n  repostSubmit: {\n    data: {},\n    isLoading: false,\n    error: false,\n    success: false,\n  },\n  commentSubmit: {\n    data: {},\n    isLoading: false,\n    error: false,\n    success: false,\n  },\n};\n\nexport const postSubmit = createAsyncThunk(\n  \"post/postSubmit\",\n  PostApi.postSubmit,\n);\n\nexport const repostSubmit = createAsyncThunk(\n  \"post/repostSubmit\",\n  PostApi.repostSubmit,\n);\n\nexport const commentSubmit = createAsyncThunk(\n  \"post/commentSubmit\",\n  PostApi.commentSubmit,\n);\n\nexport const postSlice = createSlice({\n  name: NS,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    // Doc: https://redux-toolkit.js.org/usage/usage-with-typescript#type-safety-with-extrareducers\n\n    builder.addCase(postSubmit.pending, (state) => {\n      state.postSubmit.success = false;\n      state.postSubmit.isLoading = true;\n      state.postSubmit.error = false;\n    });\n\n    builder.addCase(postSubmit.fulfilled, (state, {payload}) => {\n      state.postSubmit.isLoading = false;\n\n      if (payload) {\n        state.postSubmit.error = false;\n        state.postSubmit.success = true;\n        state.postSubmit.data = payload;\n      } else {\n        state.postSubmit.error = true;\n        state.postSubmit.success = false;\n      }\n    });\n\n    builder.addCase(postSubmit.rejected, (state) => {\n      state.postSubmit.success = false;\n      state.postSubmit.isLoading = false;\n      state.postSubmit.error = true;\n    });\n\n    builder.addCase(repostSubmit.pending, (state) => {\n      state.repostSubmit.success = false;\n      state.repostSubmit.isLoading = true;\n      state.repostSubmit.error = false;\n    });\n\n    builder.addCase(repostSubmit.fulfilled, (state, {payload}) => {\n      state.repostSubmit.isLoading = false;\n\n      if (payload) {\n        state.repostSubmit.error = false;\n        state.repostSubmit.success = true;\n        state.repostSubmit.data = payload;\n      } else {\n        state.repostSubmit.error = true;\n        state.repostSubmit.success = false;\n      }\n    });\n\n    builder.addCase(repostSubmit.rejected, (state) => {\n      state.repostSubmit.success = false;\n      state.repostSubmit.isLoading = false;\n      state.repostSubmit.error = true;\n    });\n\n    builder.addCase(commentSubmit.pending, (state) => {\n      state.commentSubmit.success = false;\n      state.commentSubmit.isLoading = true;\n      state.commentSubmit.error = false;\n    });\n\n    builder.addCase(commentSubmit.fulfilled, (state, {payload}) => {\n      state.commentSubmit.isLoading = false;\n\n      if (payload) {\n        state.commentSubmit.error = false;\n        state.commentSubmit.success = true;\n        state.commentSubmit.data = payload;\n      } else {\n        state.commentSubmit.error = true;\n        state.commentSubmit.success = false;\n      }\n    });\n\n    builder.addCase(commentSubmit.rejected, (state) => {\n      state.commentSubmit.success = false;\n      state.commentSubmit.isLoading = false;\n      state.commentSubmit.error = true;\n    });\n  },\n});\n","export const timelineConstants = {\n  MAX_BATCH_SIZE: 20,\n  LOAD_MORE_CUTOFF_SIZE: 10,\n  HEADER_HEIGHT: 0,\n  OTHERS_HEIGHT: 200,\n  DIRECTION_FORWARD: \"fwd\",\n};\n","import {getUserFeed} from \"./getUserFeed\";\nimport {getPinnedPost} from \"./getPinnedPost\";\n\n// TODO: prevent type widening\nexport const TimelineApi = {\n  getUserFeed,\n  getPinnedPost,\n};\n","import {timelineConstants} from \"../_constants\";\n\nexport const getUserFeed = async (data) => {\n  if (!data) return;\n\n  const {userId, offset, startTs, lang, authenticated, api} = data;\n\n  let res;\n\n  authenticated &&\n    (await api.fetchUserPostsFeed(\n      userId,\n      offset,\n      timelineConstants.MAX_BATCH_SIZE,\n      startTs,\n      timelineConstants.DIRECTION_FORWARD,\n      (err, postFeed) => {\n        if (err === null && postFeed) {\n          const newFeed = postFeed.getXPostItems(true);\n          const likedPosts = postFeed?.aux?.lks;\n          const sharedPosts = postFeed?.aux?.shrs;\n          const statsObj = newFeed[0]?._tp?.aux?.s_pst;\n          const postStats = {};\n          const nbrRemoved = postFeed?.aux?.removed;\n\n          statsObj &&\n            Object.keys(statsObj).forEach(\n              (key) =>\n                (postStats[key] = {\n                  numLikes: parseInt(statsObj[key].lkbpst),\n                  numComments: parseInt(statsObj[key].cm),\n                  numShares: parseInt(statsObj[key].shbpst),\n                }),\n            );\n\n          res = {\n            posts: newFeed,\n            offset: offset + timelineConstants.MAX_BATCH_SIZE,\n            timestamp: startTs,\n            sharedPosts: sharedPosts,\n            likedPosts: likedPosts || [],\n            postStats: postStats || [],\n            nbrRemoved: nbrRemoved || 0,\n          };\n        } else {\n          res = null;\n        }\n      },\n    ));\n\n  !authenticated &&\n    (await api.getTrendsPostsFeed(\n      null,\n      offset,\n      timelineConstants.MAX_BATCH_SIZE,\n      startTs,\n      lang,\n      (err, postFeed) => {\n        if (!err && postFeed) {\n          const newFeed = postFeed.getXPostItems(true);\n          const statsObj = newFeed[0]?._tp?.aux?.s_pst;\n          const postStats = {};\n          statsObj &&\n            Object.keys(statsObj).forEach(\n              (key) =>\n                (postStats[key] = {\n                  numLikes: parseInt(statsObj[key].lkbpst),\n                  numComments: parseInt(statsObj[key].cm),\n                  numShares: parseInt(statsObj[key].shbpst),\n                }),\n            );\n\n          res = {\n            posts: newFeed,\n            offset: offset + timelineConstants.MAX_BATCH_SIZE,\n            timestamp: startTs,\n            postStats: postStats,\n            likedPosts: [],\n            sharedPosts: [],\n            nbrRemoved: 0,\n          };\n        } else {\n          res = null;\n        }\n      },\n    ));\n\n  return res;\n};\n","export const getPinnedPost = async (data) => {\n  if (!data) return;\n\n  const {api, postId} = data;\n\n  try {\n    let res = await api.fetchPostWithStats_UserInfo(postId);\n\n    if (res.data.nfound) {\n      return null;\n    }\n\n    res = res.createXPostItem();\n\n    return res;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n","import {createSlice, createAsyncThunk, createAction} from \"@reduxjs/toolkit\";\nimport {TimelineApi} from \"../api\";\nimport {timelineConstants} from \"../_constants\";\nimport {ActivityLogProps} from \"src/core/model/ModelConsts\";\n\nconst NS = \"timelineNew\";\n\nconst initialState = {\n  userFeed: {\n    data: [],\n    offset: 0,\n    timestamp: 0,\n    likedPosts: [],\n    sharedPosts: [],\n    postStats: {},\n    isLoading: false,\n    error: false,\n    success: false,\n    reachEnd: false,\n  },\n  refreshProfileFeed: false,\n  pinnedPosts: [],\n};\n\nexport const getUserFeed = createAsyncThunk(\n  \"timeline/getUserFeed\",\n  TimelineApi.getUserFeed,\n);\n\nexport const getPinnedPost = createAsyncThunk(\n  \"timeline/getPinnedPost\",\n  TimelineApi.getPinnedPost,\n);\n\nexport const resetTimelineStatus = createAction(`${NS}/resetTimelineStatus`);\nexport const resetTimelineData = createAction(`${NS}/resetTimelineData`);\nexport const addPost = createAction(`${NS}/addPost`);\nexport const removePost = createAction(`${NS}/removePost`);\nexport const removeRepost = createAction(`${NS}/removeRepost`);\nexport const resetRefreshProfileFeed = createAction(\n  `${NS}/resetRefreshProfileFeed`,\n);\nexport const addLikedPost = createAction(`${NS}/addLikedPost`);\nexport const removeLikedPost = createAction(`${NS}/removeLikedPost`);\nexport const addSharedPost = createAction(`${NS}/addSharedPost`);\nexport const removeSharedPost = createAction(`${NS}/removeSharedPost`);\nexport const setPostStatus = createAction(`${NS}/setPostStatus`);\nexport const resetPinnedPost = createAction(`${NS}/resetPinnedPost`);\nexport const removePinnedPost = createAction(`${NS}/removePinnedPost`);\nexport const updatePostLikedCount = createAction(`${NS}/updatePostLikedCount`);\nexport const updatePostCommentCount = createAction(\n  `${NS}/updatePostCommentCount`,\n);\nexport const updatePostRepostCount = createAction(\n  `${NS}/updatePostRepostCount`,\n);\nexport const setPostCounts = createAction(`${NS}/setPostCounts`);\n\nexport const timelineSliceNew = createSlice({\n  name: NS,\n  initialState,\n  reducers: {\n    resetTimelineStatus: (state) => {\n      state.userFeed.error = false;\n      state.userFeed.isLoading = false;\n      state.userFeed.success = false;\n      state.userFeed.reachEnd = false;\n    },\n    resetTimelineData: (state) => {\n      state.userFeed.data = [];\n      state.userFeed.offset = 0;\n      state.userFeed.timestamp = 0;\n      state.userFeed.likedPosts = [];\n      state.userFeed.sharedPosts = [];\n    },\n    addPost(state, action) {\n      state.userFeed.data = [action.payload, ...state.userFeed.data];\n      state.refreshProfileFeed = true;\n    },\n    removePost(state, action) {\n      const postId = action.payload;\n\n      const data = [...state.userFeed.data];\n\n      const newData = data.filter(\n        (post) => post.data.activity.pstid !== postId,\n      );\n\n      state.userFeed.data = newData;\n    },\n    removeRepost(state, action) {\n      const postId = action.payload;\n\n      const data = [...state.userFeed.data];\n\n      const newData = data.filter((post) => {\n        const postItemAction = post.data.action;\n\n        if (\n          postItemAction === ActivityLogProps.SHARES_POST ||\n          postItemAction === ActivityLogProps.SHARES_COMMENT\n        ) {\n          return post.data.activity.pstid !== postId;\n        } else {\n          return true;\n        }\n      });\n\n      state.userFeed.data = newData;\n    },\n    resetRefreshProfileFeed(state) {\n      state.refreshProfileFeed = false;\n    },\n    addLikedPost(state, action) {\n      const newPostId = action.payload;\n\n      const data = [...state.userFeed.likedPosts];\n\n      if (!data.includes(newPostId)) {\n        data.push(newPostId);\n        state.userFeed.likedPosts = data;\n      }\n    },\n    removeLikedPost(state, action) {\n      const postId = action.payload;\n\n      const data = [...state.userFeed.likedPosts];\n\n      const newData = data.filter((id) => id !== postId);\n\n      state.userFeed.likedPosts = newData;\n    },\n    addSharedPost(state, action) {\n      const newPostId = action.payload;\n\n      const data = [...state.userFeed.sharedPosts];\n\n      if (!data.includes(newPostId)) {\n        data.push(newPostId);\n        state.userFeed.sharedPosts = data;\n      }\n    },\n    removeSharedPost(state, action) {\n      const postId = action.payload;\n\n      const data = [...state.userFeed.sharedPosts];\n\n      const newData = data.filter((id) => id !== postId);\n\n      state.userFeed.sharedPosts = newData;\n    },\n    setPostStatus(state, action) {\n      state.userFeed.likedPosts = [\n        ...(action.payload.likes || []),\n        ...state.userFeed.likedPosts,\n      ];\n      state.userFeed.sharedPosts = [\n        ...(action.payload.shares || []),\n        ...state.userFeed.sharedPosts,\n      ];\n    },\n    resetPinnedPost(state, action) {\n      state.pinnedPosts = [];\n    },\n    updatePostLikedCount(state, action) {\n      const {postId, count} = action.payload;\n      state.userFeed.postStats[postId].numLikes = count;\n    },\n    updatePostCommentCount(state, action) {\n      const {postId, count} = action.payload;\n      state.userFeed.postStats[postId].numComments = count;\n    },\n    updatePostRepostCount(state, action) {\n      const {postId, count} = action.payload;\n      state.userFeed.postStats[postId].numShares = count;\n    },\n    setPostCounts(state, action) {\n      const {postId, counts} = action.payload;\n      state.userFeed.postStats[postId] = counts;\n    },\n    removePinnedPost(state, action) {\n      const pstId = action.payload;\n\n      let posts = [...state.pinnedPosts];\n\n      let newPosts = posts.filter((post) => post.data.activity.pstid !== pstId);\n\n      state.pinnedPosts = newPosts;\n    },\n  },\n  extraReducers: (builder) => {\n    // Doc: https://redux-toolkit.js.org/usage/usage-with-typescript#type-safety-with-extrareducers\n\n    builder.addCase(getUserFeed.pending, (state) => {\n      state.userFeed.success = false;\n      state.userFeed.isLoading = true;\n      state.userFeed.error = false;\n      state.userFeed.reachEnd = false;\n    });\n\n    builder.addCase(getUserFeed.fulfilled, (state, {payload}) => {\n      const nbrRemoved = payload?.nbrRemoved ? payload.nbrRemoved : 0;\n      if (\n        payload &&\n        payload.posts &&\n        payload.posts.length + nbrRemoved + 1 < timelineConstants.MAX_BATCH_SIZE\n      ) {\n        state.userFeed.reachEnd = true;\n      }\n\n      if (payload && payload.posts) {\n        state.userFeed.error = false;\n        state.userFeed.success = true;\n\n        const newPosts = [...state.userFeed.data, ...payload.posts];\n        let newLikedPosts = [];\n        let newSharedPosts = [];\n        if (payload.likedPosts) {\n          newLikedPosts = [...state.userFeed.likedPosts, ...payload.likedPosts];\n        }\n        if (payload.sharedPosts) {\n          newSharedPosts = [\n            ...state.userFeed.sharedPosts,\n            ...payload.sharedPosts,\n          ];\n        }\n\n        state.userFeed.postStats = {\n          ...state.userFeed.postStats,\n          ...payload.postStats,\n        };\n\n        state.userFeed.data = newPosts;\n        state.userFeed.offset = payload.offset;\n        state.userFeed.timestamp = payload.timestamp;\n        state.userFeed.likedPosts = newLikedPosts;\n        state.userFeed.sharedPosts = newSharedPosts;\n      } else {\n        state.userFeed.error = true;\n        state.userFeed.success = false;\n        state.userFeed.reachEnd = false;\n      }\n\n      state.userFeed.isLoading = false;\n    });\n\n    builder.addCase(getUserFeed.rejected, (state) => {\n      state.userFeed.success = false;\n      state.userFeed.isLoading = false;\n      state.userFeed.error = true;\n      state.userFeed.reachEnd = false;\n    });\n\n    builder.addCase(getPinnedPost.fulfilled, (state, {payload}) => {\n      if (!payload) {\n        return;\n      }\n\n      state.pinnedPosts = [payload];\n    });\n  },\n});\n","import {fetchUserComments} from \"./fetchUserComments\";\n\nexport const CommentApi = {\n  fetchUserComments,\n};\n","import API from \"src/core/API\";\n\nexport const fetchUserComments = async (data) => {\n  if (!data) return;\n\n  const {userId, offset, maxBatchSize, api} = data;\n\n  let res = null;\n\n  await api.fetchUserPosts(\n    userId,\n    offset * maxBatchSize,\n    maxBatchSize,\n    Date.now(),\n    API.DIRECTION_FORWARD,\n    (err, commentFeed) => {\n      if (err === null && commentFeed) {\n        const newFeed = commentFeed.getXPostItems(true);\n        const likedComments = commentFeed.aux.lks;\n        const sharedComments = commentFeed.aux.shrs;\n        const nbrRemoved = commentFeed.aux.removed || 0;\n\n        res = {\n          posts: newFeed,\n          likedComments: likedComments,\n          sharedComments: sharedComments,\n          nbrRemoved,\n        };\n      } else {\n        res = null;\n      }\n    },\n    \"c\", // c for comments\n  );\n  return res;\n};\n","export const commentsConstants = {\n  MAX_BATCH_SIZE: 20,\n};\n","import {createSlice, createAsyncThunk, createAction} from \"@reduxjs/toolkit\";\nimport {CommentApi} from \"../api\";\nimport {commentsConstants} from \"../_constants\";\n\nconst NS = \"userComments\";\n\nconst initialState = {\n  commentFeed: {\n    data: [],\n    likedComments: [],\n    sharedComments: [],\n    offset: 0,\n    isLoading: false,\n    error: false,\n    success: false,\n    reachEnd: false,\n  },\n};\n\nexport const fetchUserComments = createAsyncThunk(\n  \"Comment/fetchUserComments\",\n  CommentApi.fetchUserComments,\n);\nexport const clearUserComments = createAction(`${NS}/clearUserComments`);\nexport const incrementOffset = createAction(`${NS}/incrementOffset`);\n\nexport const userCommentsSlice = createSlice({\n  name: NS,\n  initialState,\n  reducers: {\n    resetTimelineStatus: (state) => {\n      state.commentFeed.error = false;\n      state.commentFeed.isLoading = false;\n      state.commentFeed.success = false;\n      state.commentFeed.reachEnd = false;\n    },\n    resetTimelineData: (state) => {\n      state.commentFeed.data = [];\n      state.commentFeed.likedComments = [];\n      state.commentFeed.sharedComments = [];\n    },\n    clearUserComments: (state) => {\n      state.commentFeed.data = [];\n      state.commentFeed.offset = 0;\n      state.commentFeed.reachEnd = false;\n    },\n    incrementOffset: (state) => {\n      state.commentFeed.offset++;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchUserComments.pending, (state) => {\n      state.commentFeed.success = false;\n      state.commentFeed.isLoading = true;\n      state.commentFeed.error = false;\n      state.commentFeed.reachEnd = false;\n    });\n\n    builder.addCase(fetchUserComments.fulfilled, (state, {payload}) => {\n      if (\n        payload &&\n        payload.posts &&\n        payload.posts.length + payload.nbrRemoved <\n          commentsConstants.MAX_BATCH_SIZE\n      ) {\n        state.commentFeed.reachEnd = true;\n      }\n\n      if (payload && payload.posts) {\n        state.commentFeed.error = false;\n        state.commentFeed.success = true;\n\n        const newPosts = [...state.commentFeed.data, ...payload.posts];\n        let newlikedComments = [];\n        let newsharedComments = [];\n        if (payload.likedComments) {\n          newlikedComments = [\n            ...state.commentFeed.likedComments,\n            ...payload.likedComments,\n          ];\n        }\n        if (payload.sharedComments) {\n          newsharedComments = [\n            ...state.commentFeed.sharedComments,\n            ...payload.sharedComments,\n          ];\n        }\n\n        state.commentFeed.data = newPosts;\n        state.commentFeed.likedComments = newlikedComments;\n        state.commentFeed.sharedComments = newsharedComments;\n      } else {\n        state.commentFeed.error = true;\n        state.commentFeed.success = false;\n        state.commentFeed.reachEnd = false;\n      }\n\n      state.commentFeed.isLoading = false;\n    });\n\n    builder.addCase(fetchUserComments.rejected, (state) => {\n      state.commentFeed.success = false;\n      state.commentFeed.isLoading = false;\n      state.commentFeed.error = true;\n      state.commentFeed.reachEnd = false;\n    });\n  },\n});\n","import {createSlice} from \"@reduxjs/toolkit\";\n\nexport const timelineSlice = createSlice({\n  name: \"timeline\",\n  initialState: {\n    postTimeline: {\n      timelineData: [],\n      timelineId: null,\n      offset: 0,\n      userMap: [],\n    },\n    commentTimeline: {\n      timelineData: [],\n      timelineId: null,\n      offset: 0,\n      userMap: [],\n    },\n  },\n  reducers: {\n    addTimelineData(state, action) {\n      const timelineData = state[action.payload.field].timelineData;\n      state[action.payload.field].timelineData = [\n        action.payload.data,\n        ...timelineData,\n      ];\n    },\n    setTimelineData(state, action) {\n      state[action.payload.field].timelineData = action.payload.data;\n    },\n    setTimelineId(state, action) {\n      state[action.payload.field].timelineId = action.payload.data;\n    },\n    setOffset(state, action) {\n      state[action.payload.field].offset = action.payload.data;\n    },\n    setUserMap(state, action) {\n      state[action.payload.field].userMap = action.payload.data;\n    },\n    resetTimeline(state, action) {\n      state[action.payload.field] = {\n        timelineData: [],\n        timelineId: null,\n        offset: 0,\n        userMap: [],\n      };\n    },\n  },\n});\n\nexport const {\n  addTimelineData,\n  setTimelineData,\n  setTimelineId,\n  setOffset,\n  setUserMap,\n  resetTimeline,\n} = timelineSlice.actions;\n\nexport default timelineSlice.reducer;\n","export const getBlockedUsers = async ({api, userId, max}) => {\n  if (!userId) {\n    return;\n  }\n\n  try {\n    const res = await api.getBlockedUsers(userId, max);\n\n    return res.data?.list;\n  } catch (err) {\n    return null;\n  }\n};\n","import GAxios from \"src/util/GAxios\";\n\nexport const currentUserBlockedUser = async ({userId, targetId}) => {\n  if (!userId || !targetId) {\n    return null;\n  }\n\n  const config = {\n    method: \"GET\",\n    url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/blocks/${targetId}`,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  let res = null;\n  await GAxios(config, ({data}) => {\n    res = data?.result;\n  });\n\n  return [res !== \"nb\" && res !== \"n\", targetId];\n};\n","import GAxios from \"src/util/GAxios\";\n\nexport const currentUserMutesUser = async ({userId, targetId}) => {\n  if (!userId || !targetId) {\n    return null;\n  }\n\n  const config = {\n    method: \"GET\",\n    url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/mutes/${targetId}`,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  let res = null;\n  await GAxios(config, ({data}) => {\n    res = data?.result;\n  });\n\n  return [res === \"m\", targetId];\n};\n","import {getBlockedUsers} from \"./getBlockedUsers\";\nimport {currentUserBlockedUser} from \"./currentUserBlockedUser\";\nimport {currentUserMutesUser} from \"./currentUserMutesUser\";\nimport {currentUserFollowsUser} from \"./currentUserFollowsUser\";\nimport {toggleMute} from \"./toggleMute\";\nimport {toggleFollowing} from \"./toggleFollowing\";\nimport {toggleBlock} from \"./toggleBlock\";\n\nexport const StatusApi = {\n  currentUserBlockedUser,\n  currentUserFollowsUser,\n  currentUserMutesUser,\n  getBlockedUsers,\n  toggleMute,\n  toggleFollowing,\n  toggleBlock,\n};\n","import GAxios from \"src/util/GAxios\";\n\nexport const currentUserFollowsUser = async ({userId, targetId}) => {\n  if (!userId || !targetId) {\n    return null;\n  }\n\n  const config = {\n    method: \"GET\",\n    url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/follows/${targetId}`,\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  let res = null;\n  await GAxios(config, ({data}) => {\n    res = data?.result;\n  });\n\n  return [res === \"y\", targetId];\n};\n","export const toggleMute = async (\n  {api, targetId, successCallback, errorCallback},\n  {getState},\n) => {\n  const {status} = getState();\n  const isMuted = status.muted[targetId];\n\n  if (isMuted) {\n    api.unmuteUser(targetId, (_, result) => {\n      if (result === null) {\n        errorCallback();\n        return null;\n      }\n    });\n  } else {\n    api.muteUser(targetId, (_, result) => {\n      if (result === null) {\n        errorCallback();\n        return null;\n      }\n    });\n  }\n\n  successCallback(isMuted);\n  return [!isMuted, targetId];\n};\n","export const toggleFollowing = async (\n  {api, targetId, successCallback, errorCallback},\n  {getState},\n) => {\n  const {status} = getState();\n  const isFollowing = status.following[targetId];\n\n  if (isFollowing) {\n    api.unfollowUser(targetId, (_, result) => {\n      if (result === null) {\n        errorCallback();\n        return null;\n      }\n    });\n  } else {\n    api.followUser(targetId, (_, result) => {\n      if (result === null) {\n        errorCallback();\n        return null;\n      }\n    });\n  }\n\n  successCallback(isFollowing);\n  return [!isFollowing, targetId];\n};\n","export const toggleBlock = async (\n  {api, targetId, successCallback, errorCallback},\n  {getState},\n) => {\n  const {status} = getState();\n  const isBlocked = status.blocked[targetId];\n\n  if (isBlocked) {\n    api.unblockUser(targetId, (_, result) => {\n      if (result === null) {\n        errorCallback();\n        return null;\n      }\n    });\n  } else {\n    api.blockUser(targetId, (_, result) => {\n      if (result === null) {\n        errorCallback();\n        return null;\n      }\n    });\n  }\n\n  successCallback(isBlocked);\n  return [!isBlocked, targetId];\n};\n","import {createAsyncThunk, createSlice} from \"@reduxjs/toolkit\";\nimport {StatusApi} from \"./api\";\n\nexport const getBlockedUsers = createAsyncThunk(\n  \"status/getBlockedUsers\",\n  StatusApi.getBlockedUsers,\n);\n\nexport const currentUserBlockedUser = createAsyncThunk(\n  \"status/currentUserBlockedUser\",\n  StatusApi.currentUserBlockedUser,\n);\n\nexport const currentUserMutesUser = createAsyncThunk(\n  \"status/currentUserMutesUser\",\n  StatusApi.currentUserMutesUser,\n);\n\nexport const currentUserFollowsUser = createAsyncThunk(\n  \"status/currentUserFollowsUser\",\n  StatusApi.currentUserFollowsUser,\n);\n\nexport const toggleMute = createAsyncThunk(\n  \"status/toggleMute\",\n  StatusApi.toggleMute,\n);\n\nexport const toggleFollowing = createAsyncThunk(\n  \"status/toggleFollowing\",\n  StatusApi.toggleFollowing,\n);\n\nexport const toggleBlock = createAsyncThunk(\n  \"status/toggleBlock\",\n  StatusApi.toggleBlock,\n);\n\nexport const statusSlice = createSlice({\n  name: \"status\",\n  initialState: {\n    following: {},\n    muted: {},\n    blocked: {},\n    postStats: {},\n    commentStats: {},\n    loading: false,\n  },\n  reducers: {\n    changeFollowingStatus(state, action) {\n      const {userId, status} = action.payload;\n      state.following[userId] = status;\n    },\n    setFollowingStatus(state, action) {\n      const {status} = action.payload;\n      state.following = status;\n    },\n    changeMutedStatus(state, action) {\n      const {userId, status} = action.payload;\n      state.muted[userId] = status;\n    },\n    setMutedStatus(state, action) {\n      const {status} = action.payload;\n      state.muted = status;\n    },\n    changeBlockedStatus(state, action) {\n      const {userId, status} = action.payload;\n      state.blocked[userId] = status;\n    },\n    setBlockedStatus(state, action) {\n      const {status} = action.payload;\n      state.blocked = status;\n    },\n    changePostStats(state, action) {\n      const {postId, stats} = action.payload;\n      let postStats = {};\n      if (state.postStats[postId] !== undefined) {\n        postStats = state.postStats[postId];\n      }\n      state.postStats[postId] = {\n        ...postStats,\n        ...stats,\n      };\n    },\n    setPostStats(state, action) {\n      const {postId, stats} = action.payload;\n      state.postStats[postId] = stats;\n    },\n    changeCommentStats(state, action) {\n      const {commentId, stats} = action.payload;\n      let commentStats = {};\n      if (state.commentStats[commentId] !== undefined) {\n        commentStats = state.commentStats[commentId];\n      }\n      state.commentStats[commentId] = {\n        ...commentStats,\n        ...stats,\n      };\n    },\n    setCommentStats(state, action) {\n      const {commentId, stats} = action.payload;\n      state.commentStats[commentId] = stats;\n    },\n    resetUsersStatus(state) {\n      state.following = {};\n      state.muted = {};\n      state.blocked = {};\n      state.postStats = {};\n      state.commentStats = {};\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(getBlockedUsers.fulfilled, (state, {payload}) => {\n      payload?.forEach((userId) => (state.blocked[userId] = true));\n    });\n    builder.addCase(currentUserBlockedUser.fulfilled, (state, {payload}) => {\n      const [blocked, targetId] = payload;\n      state.blocked[targetId] = blocked;\n    });\n    builder.addCase(currentUserMutesUser.fulfilled, (state, {payload}) => {\n      const [muted, targetId] = payload;\n      state.muted[targetId] = muted;\n    });\n    builder.addCase(currentUserFollowsUser.fulfilled, (state, {payload}) => {\n      const [following, targetId] = payload;\n      state.following[targetId] = following;\n    });\n    builder.addCase(toggleMute.fulfilled, (state, {payload}) => {\n      const [muted, targetId] = payload;\n      state.muted[targetId] = muted;\n    });\n    builder.addCase(toggleFollowing.fulfilled, (state, {payload}) => {\n      const [following, targetId] = payload;\n      state.following[targetId] = following;\n    });\n    builder.addCase(toggleBlock.fulfilled, (state, {payload}) => {\n      const [blocked, targetId] = payload;\n      state.blocked[targetId] = blocked;\n    });\n  },\n});\n\nexport const {\n  changeFollowingStatus,\n  setFollowingStatus,\n  changeMutedStatus,\n  setMutedStatus,\n  changeBlockedStatus,\n  setBlockedStatus,\n  resetUsersStatus,\n  changePostStats,\n  setPostStats,\n  changeCommentStats,\n  setCommentStats,\n} = statusSlice.actions;\n","// https://github.com/reduxjs/redux-toolkit/blob/2afd0f9/docs/usage/usage-with-typescript.md#getting-the-state-type\nimport {combineReducers} from \"@reduxjs/toolkit\";\nimport {authSlice} from \"src/app/components/auth/store\";\nimport {postSlice} from \"src/app/components/post/store\";\nimport {timelineSliceNew} from \"src/app/components/timeline/store\";\nimport {userCommentsSlice} from \"src/app/components/comment/store\";\nimport {timelineSlice} from \"./timeline\";\nimport {statusSlice} from \"./status\";\n\nexport const rootReducer = combineReducers({\n  [authSlice.name]: authSlice.reducer,\n  [timelineSlice.name]: timelineSlice.reducer,\n  [statusSlice.name]: statusSlice.reducer,\n  [postSlice.name]: postSlice.reducer,\n  [timelineSliceNew.name]: timelineSliceNew.reducer,\n  [userCommentsSlice.name]: userCommentsSlice.reducer,\n});\n","// https://github.com/reduxjs/redux-toolkit/blob/2afd0f9/docs/usage/usage-with-typescript.md\nimport {configureStore, getDefaultMiddleware} from \"@reduxjs/toolkit\";\nimport {rootReducer} from \"./modules\";\n\nfunction createStore(preloadedState) {\n  return configureStore({\n    preloadedState,\n    reducer: rootReducer,\n    // ignore warning\n    // https://github.com/rt2zz/redux-persist/issues/988\n    middleware: getDefaultMiddleware({\n      serializableCheck: false,\n      immutableCheck: false,\n    }),\n    // devTools: process.env.NODE_ENV === \"development\",\n  });\n}\n\nexport const store = createStore();\n","/**\n * References:\n * - https://react.i18next.com/guides/quick-start#configure-i-18-next\n * - https://react.i18next.com/latest/using-with-hooks#configure-i-18-next\n * - https://react.i18next.com/latest/i18next-instance\n */\nimport i18next from \"i18next\";\nimport {initReactI18next} from \"react-i18next\";\nimport {getLang} from \"./utils\";\nimport translationEN from \"../assets/locales/en/translation.json\";\n// import translationZH from \"../assets/locales/zh/translation.json\";\n// import translationTW from \"../assets/locales/tw/translation.json\";\nimport translationES from \"../assets/locales/es/translation.json\";\nimport translationJA from \"../assets/locales/ja/translation.json\";\nimport translationKO from \"../assets/locales/ko/translation.json\";\n\nexport const DEFAULT_LANG = \"en\";\n\nconst resources = {\n  en: {\n    translation: translationEN,\n  },\n  es: {\n    translation: translationES,\n  },\n  ja: {\n    translation: translationJA,\n  },\n  ko: {\n    translation: translationKO,\n  },\n  // zh: {\n  //   translation: translationZH,\n  // },\n  // tw: {\n  //   translation: translationTW,\n  // },\n};\n\ni18next\n  .use(initReactI18next) // bind react-i18next to the instance\n  .init({\n    resources: resources,\n    lng: getLang(),\n    fallbackLng: DEFAULT_LANG,\n    react: {\n      useSuspense: false,\n    },\n    parseMissingKeyHandler: (key) => {\n      // return empty space if missing keys or loading translation\n      if (key.includes(\"getter.\") || key.includes(\"getter_fe.\")) {\n        return \"\\u00A0\";\n      } else {\n        return key;\n      }\n    },\n  });\n\nexport {i18next};\n","import React, {useState, useEffect} from \"react\";\n\nconst TimelineContext = React.createContext({\n  timelineData: [],\n  timelineId: null,\n  offset: 0,\n});\n\nexport const TimelineProvider = ({children}) => {\n  const [timelineData, setTimelineData] = useState([]);\n  const [timelineId, setTimelineId] = useState(null);\n  const [offset, setOffset] = useState(0);\n\n  /**\n   * add data to timeline locally\n   * @param {XMPostItem} data\n   */\n  const addData = (data) => {\n    setTimelineData([data, ...timelineData]);\n  };\n\n  const resetData = () => {\n    setTimelineData([]);\n    setOffset(0);\n    setTimelineId(null);\n  };\n\n  const contextValue = {\n    timelineData,\n    timelineId,\n    setTimelineData,\n    setTimelineId,\n    offset,\n    setOffset,\n    addData,\n    resetData,\n  };\n\n  return (\n    <TimelineContext.Provider value={contextValue}>\n      {children}\n    </TimelineContext.Provider>\n  );\n};\n\nexport default TimelineContext;\n","import light from './_lightMuiTheme'\nimport dark from './_darkMuiTheme'\n\nconst themes = {\n    light,\n    dark\n}\n\nexport default function getTheme(theme) {\n    return themes[theme]\n}","import {createMuiTheme} from \"@material-ui/core/styles\";\n\nconst theme = createMuiTheme({\n  type: \"light\",\n  breakpoints: {\n    values: {\n      xl: 1920,\n      lg: 1366,\n      md: 1002,\n      sm: 600,\n      xs: 0,\n    },\n  },\n  palette: {\n    primary: {\n      dark: \"#28255C\",\n      main: \"#232255\",\n      light: \"#BDBDCC\",\n    },\n    secondary: {\n      gray: \"#737881\",\n      main: \"#14171a\",\n      light: \"#4B6181\",\n    },\n    grey: {\n      100: \"#F9F9F9\",\n      A100: \"#D7D7D7\",\n      A200: \"#DFE1EA\",\n      A300: \"#EEEFF3\",\n      A400: \"#999999\",\n      A700: \"#6E7187\",\n      A800: \"#E8E9EA\",\n      disabled: \"#D3D7DC\",\n    },\n    text: {\n      primary: \"#111111\",\n      gray: \"#4D6384\",\n      secondary: \"#737881\",\n      light: \"#a8a8a8\", // #505050 opacity: 0.5\n      disabled: \"#FFFFFF\",\n      composer: \"#657786\",\n      main: \"#000\",\n      placeholder: \"#5F7081\",\n      link: \"#0F6CF6\",\n      lightGray: \"#6e7187\",\n    },\n    background: {\n      default: \"#ffffff\",\n      light: \"#D3D7DC\",\n      dark: \"#F9F9F9\",\n      gray: \"#666666\",\n      transparent: \"transparent\",\n      searchBox: \"#5e779b\",\n      notif: \"#F2F9FF\",\n      hover: \"#3D3C7C\",\n      click: \"#055DE1\",\n      black: \"#000000\",\n      red: \"#FFE7E8\",\n      button: {\n        grey: {\n          default: \"#E4E4E4\",\n          hover: \"#DBDDE3\",\n          disbale: \"#E4E4E4\",\n          loading: \"#E4E4E4\",\n        },\n      },\n    },\n    error: {\n      dark: \"#BB0000\",\n      main: \"#CC0000\",\n      secondary: \"#CC0000\",\n      light: \"#CC0000\",\n      background: \"#FEF8F8\",\n    },\n    buttonDanger: {\n      dark: \"#BB0000\",\n      main: \"#CC0000\",\n      light: \"#FA2C2C\",\n    },\n  },\n  typography: {\n    h1: {\n      fontSize: \"22px\",\n      fontWeight: 900,\n      lineHeight: \"26.25px\",\n    },\n    h2: {\n      fontSize: \"18px\",\n      fontWeight: 800,\n      lineHeight: \"21.48px\",\n    },\n    body1: {\n      fontSize: \"16px\",\n      fontWeight: 400,\n      lineHeight: \"22.4px\",\n    },\n    body2: {\n      fontSize: \"14px\",\n      fontWeight: 400,\n    },\n    fontFamily: [\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      \"PingFang SC\",\n      \"Helvetica\",\n      \"Arial\",\n      \"sans-serif\",\n    ].join(\",\"),\n    fontWeightLight: 300,\n    fontWeightRegular: 400,\n    fontWeightMedium: 500,\n    fontWeightSemiBold: 600,\n    fontWeightBold: 700,\n    fontWeightBolder: 800,\n  },\n  notchedOutline: {\n    border: \"1px solid #e3e9ee\",\n  },\n  mixins: {\n    app: {\n      maxWidth: 1400,\n    },\n    header: {\n      height: 61, // 60px + 1px border, due to box-sizing: border-box\n    },\n    avatar: {\n      width: 50,\n      height: 50,\n      borderRadius: 999,\n      fontWeight: 400,\n      borderColor: \"#E8E9EA\",\n    },\n    ellipsis: {\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n    },\n    dropdownMenu: {\n      width: 240,\n    },\n  },\n  zIndex: {\n    header: 1000,\n  },\n  svg: {\n    color: \"#4B6386\",\n  },\n  gradient: {\n    dark:\n      \"linear-gradient(92.83deg, #00255C 10.77%, #073477 30.34%, #001F4E 85.91%)\",\n    main: \"linear-gradient(91.95deg, #054AB1 9.58%, #0246AC 83.63%)\",\n    light: \"linear-gradient(134.03deg, #016EDC 10.17%, #0364C5 100%)\",\n    danger: \"linear-gradient(180deg, #DD1818 0%, #B80000 100%)\",\n    background:\n      \"linear-gradient(90deg, rgba(0, 0, 0, 0.8) 4.03%, rgba(13, 13, 13, 0.32) 50.28%, rgba(0, 0, 0, 0) 98.51%)\",\n    overlay: \"rgba(0, 0, 0, 0.9)\",\n  },\n  input: {\n    borderColor: \"#DFE1EA\",\n    background: \"#F8F9FB\",\n  },\n  radio: {\n    borderColor: \"#A7B0BA\",\n  },\n  divider: {\n    color: \"#C1C5D7\",\n  },\n  blue: {\n    light: \"#016EDC\",\n    dark: \"#0065FF\",\n    secondary: \"#0A84FF\",\n    main: \"#3261D8\",\n  },\n\n  border: {\n    lightGray: \"#D3D3D3\",\n    inner: \"#759FEC\",\n  },\n  overrides: {\n    MuiAvatar: {\n      root: {\n        textTransform: \"uppercase\",\n      },\n    },\n    MuiBackdrop: {\n      root: {\n        backgroundColor: \"rgba(27, 27, 27, 0.9)\",\n      },\n    },\n    MuiDialog: {\n      root: {\n        zIndex: \"9999 !important\", // same as --popup-overlay-z-index\n      },\n    },\n  },\n});\n\nexport default theme;\n","import {createMuiTheme} from \"@material-ui/core/styles\";\n\nconst theme = createMuiTheme({\n  type: \"dark\",\n  palette: {\n    primary: {\n      main: \"#11A1BF\",\n    },\n  },\n});\n\nexport default theme;\n","import React, {useState} from \"react\";\nimport getTheme from \"../../styles/themes\";\nimport {ThemeProvider} from \"@material-ui/core\";\nimport Global from \"src/system/Global\";\n\nconst UIContext = React.createContext({\n  currentTheme: \"light\",\n  setTheme: null,\n});\n\nconst THEME = \"current_theme\";\nconst DEFAULT = \"light\";\n\nexport const MuiThemeProvider = ({children}) => {\n  const appService = Global.GetPortal().getAppService();\n  const currentTheme = appService.getSessionVar(THEME) || DEFAULT;\n  const [themeName, _setThemeName] = useState(currentTheme);\n  const setThemeName = (name) => {\n    appService.setSessionVar(THEME, name);\n    _setThemeName(name);\n  };\n\n  const theme = getTheme(themeName);\n\n  const contextValue = {\n    currentTheme: themeName,\n    setTheme: setThemeName,\n  };\n  return (\n    <UIContext.Provider value={contextValue}>\n      <ThemeProvider theme={theme}>{children}</ThemeProvider>\n    </UIContext.Provider>\n  );\n};\n\nexport default UIContext;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.75 8.8125V20.625H9.16667V14.5H12.8333V20.625L19.25 20.625V8.8125L11 1.375L2.75 8.8125Z\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.6,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.916748 10.5417L11.0001 1.375C11.0001 1.375 17.1456 6.60388 21.0834 10.5417\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.6,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoMobileHome(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoMobileHome);\nexport default __webpack_public_path__ + \"static/media/ico_mobile_home.d4e713c3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.75 9.74981V20.6938C2.75 21.246 3.19771 21.6938 3.75 21.6938H8.16667C8.71895 21.6938 9.16667 21.2461 9.16667 20.6938V15.2771H12.8333V20.6938C12.8333 21.246 13.281 21.6938 13.8333 21.6938L18.25 21.6938C18.8023 21.6938 19.25 21.246 19.25 20.6938V9.74981C19.25 9.47468 19.1366 9.21171 18.9366 9.0228L11 1.5271L3.06338 9.0228C2.86335 9.21171 2.75 9.47468 2.75 9.74981Z\",\n  fill: \"#0F6CF6\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.916656 10.6938L11 1.5271C11 1.5271 17.1455 6.75598 21.0833 10.6938\",\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoMobileHomeActivated(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoMobileHomeActivated);\nexport default __webpack_public_path__ + \"static/media/ico_mobile_home_activated.9f1d21d5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.29175 21.0833C3.18718 21.0833 2.26711 20.1738 2.54582 19.1049C2.92322 17.6576 3.7111 16.3214 4.84236 15.2497C6.47549 13.7025 8.69049 12.8333 11.0001 12.8333C13.3097 12.8333 15.5247 13.7025 17.1578 15.2497C18.2891 16.3214 19.0769 17.6576 19.4543 19.1049C19.7331 20.1738 18.813 21.0833 17.7084 21.0833H4.29175Z\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.6,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.9239 11.4859C8.11023 11.4859 5.8313 9.121 5.8313 6.20127C5.8313 3.28154 8.11023 0.916687 10.9239 0.916687C13.7375 0.916687 16.0165 3.28154 16.0165 6.20127C16.0165 9.121 13.7375 11.4859 10.9239 11.4859Z\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.6,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoMobileAccount(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoMobileAccount);\nexport default __webpack_public_path__ + \"static/media/ico_mobile_account.470ec880.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.58309 21.0834C3.57057 21.0834 2.72942 20.2527 2.9526 19.2651C3.29356 17.7564 4.055 16.3609 5.16613 15.2498C6.7133 13.7026 8.81172 12.8334 10.9998 12.8334C13.1878 12.8334 15.2862 13.7026 16.8334 15.2498C17.9445 16.3609 18.706 17.7564 19.0469 19.2651C19.2701 20.2527 18.4289 21.0834 17.4164 21.0834H4.58309Z\",\n  fill: \"#0F6CF6\",\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.1,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.9276 11.486C8.26202 11.486 6.10303 9.12112 6.10303 6.20139C6.10303 3.28166 8.26202 0.916809 10.9276 0.916809C13.5932 0.916809 15.7522 3.28166 15.7522 6.20139C15.7522 9.12112 13.5932 11.486 10.9276 11.486Z\",\n  fill: \"#0F6CF6\",\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.1,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoMobileAccountActivated(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoMobileAccountActivated);\nexport default __webpack_public_path__ + \"static/media/ico_mobile_account_activated.80dc1dae.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.88257 18.8429C11.6561 18.8429 13.3898 18.3171 14.8643 17.332C16.3389 16.3468 17.4881 14.9466 18.1665 13.3084C18.8449 11.6703 19.0221 9.86779 18.6757 8.12895C18.3292 6.39011 17.4747 4.79304 16.2202 3.53977C14.9657 2.2865 13.3676 1.43332 11.628 1.08817C9.88836 0.743017 8.08545 0.921389 6.44726 1.60072C4.80908 2.28006 3.40924 3.42984 2.42479 4.90462C1.44035 6.3794 0.915541 8.11293 0.91675 9.88592C0.91675 11.0627 1.1487 12.2279 1.59935 13.315C2.05 14.4022 2.71051 15.3898 3.54315 16.2217C4.37578 17.0535 5.36422 17.7131 6.45196 18.1629C7.53971 18.6127 8.70545 18.8437 9.88257 18.8429Z\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.6,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.0835 21.0841L16.6023 16.6022\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.6,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoMobileSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoMobileSearch);\nexport default __webpack_public_path__ + \"static/media/ico_mobile_search.95ce8fd9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.984 18.1299C11.5963 18.1299 13.1724 17.6519 14.5129 16.7563C15.8534 15.8607 16.8981 14.5878 17.5148 13.0985C18.1316 11.6093 18.2927 9.97068 17.9777 8.38992C17.6628 6.80915 16.8859 5.35727 15.7455 4.21793C14.605 3.07859 13.1522 2.30298 11.5707 1.98921C9.98926 1.67543 8.35025 1.83759 6.86099 2.45516C5.37174 3.07274 4.09915 4.11799 3.2042 5.4587C2.30926 6.79942 1.83215 8.37535 1.83325 9.98717C1.83325 11.057 2.04412 12.1163 2.4538 13.1045C2.86348 14.0928 3.46395 14.9907 4.22089 15.7469C4.97783 16.5031 5.87641 17.1028 6.86527 17.5117C7.85413 17.9206 8.91389 18.1306 9.984 18.1299Z\",\n  stroke: \"#0F6CF6\",\n  strokeWidth: 2.4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.1666 20.1674L16.0928 16.093\",\n  stroke: \"#0F6CF6\",\n  strokeWidth: 2.4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoMobileSearchActivated(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoMobileSearchActivated);\nexport default __webpack_public_path__ + \"static/media/ico_mobile_search_activated.63a4d209.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState, useEffect} from \"react\";\nimport clsx from \"clsx\";\nimport {\n  makeStyles,\n  useMediaQuery,\n  createStyles,\n  BottomNavigation,\n  BottomNavigationAction,\n} from \"@material-ui/core\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport {useHistory} from \"react-router-dom\";\nimport {ReactComponent as MobileHomeIcon} from \"src/assets/icons/ico_mobile_home.svg\";\nimport {ReactComponent as ActivatedMobileHomeIcon} from \"src/assets/icons/ico_mobile_home_activated.svg\";\nimport {ReactComponent as MobileAccountIcon} from \"src/assets/icons/ico_mobile_account.svg\";\nimport {ReactComponent as ActivatedMobileAccountIcon} from \"src/assets/icons/ico_mobile_account_activated.svg\";\nimport {ReactComponent as MobileSearchIcon} from \"src/assets/icons/ico_mobile_search.svg\";\nimport {ReactComponent as ActivatedMobileSearchIcon} from \"src/assets/icons/ico_mobile_search_activated.svg\";\nimport {t} from \"src/i18n/utils\";\n\nimport AppConsts from \"src/app/AppConsts\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      position: \"fixed\",\n      height: 60,\n      bottom: 0,\n      width: \"100%\",\n      borderTop: `0.5px solid ${theme.palette.grey.A200}`,\n      \"& .MuiBottomNavigationAction-label\": {\n        fontSize: 11,\n        \"& .Mui-selected\": {\n          fontSize: 11,\n        },\n      },\n      \"& .MuiBottomNavigationAction-root\": {\n        padding: \"12px 12px 8px\",\n      },\n    },\n  }),\n);\n\nexport const MobileBottomNavigation = ({userId}) => {\n  const classes = useStyles();\n  const [value, setValue] = useState(0);\n  const history = useHistory();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const currentPathname = window.location.pathname;\n\n  const isSearchPage = () => {\n    return (\n      currentPathname.includes(\"/search?q=\") ||\n      currentPathname.includes(\"/search\") ||\n      currentPathname.includes(\"/hashtag/\")\n    );\n  };\n\n  const hideNavigation = () => {\n    return (\n      currentPathname.includes(\"/terms-app\") ||\n      currentPathname.includes(\"/privacy-app\") ||\n      currentPathname.includes(\"/cookie-policy-app\") ||\n      currentPathname.includes(\"/login\") ||\n      currentPathname.includes(\"/signup\") ||\n      currentPathname.includes(\"/claim\")\n    );\n  };\n\n  useEffect(() => {\n    const location = currentPathname;\n\n    if (\n      location === `/user/${userId}` ||\n      location === \"/account\" ||\n      location.includes(`/user/${userId}`)\n    ) {\n      setValue(2);\n    } else if (isSearchPage()) {\n      setValue(1);\n    } else {\n      setValue(0);\n    }\n  }, [currentPathname]);\n\n  if (currentPathname.includes(AppConsts.URL_HELP_CENTER_MOBILE_APP))\n    return null;\n\n  return (\n    matches &&\n    !hideNavigation() && (\n      <BottomNavigation\n        value={value}\n        onChange={(event, newValue) => {\n          setValue(newValue);\n          switch (newValue) {\n            case 0:\n              history.push(\"/\");\n              break;\n            case 1:\n              if (!isSearchPage()) {\n                history.push(\"/search\");\n              }\n              break;\n            case 2:\n              if (!userId) {\n                history.push(\"/login\");\n              } else {\n                history.push(`/account`);\n              }\n              break;\n            default:\n              history.push(\"/\");\n              break;\n          }\n        }}\n        showLabels\n        className={clsx(classes.root, \"mobile-nav\")}\n      >\n        <BottomNavigationAction\n          label={t(\"getter_fe.menu.common.home\")}\n          icon={value === 0 ? <ActivatedMobileHomeIcon /> : <MobileHomeIcon />}\n        />\n        <BottomNavigationAction\n          label={t(\"getter_fe.menu.common.search\")}\n          icon={\n            value === 1 ? <ActivatedMobileSearchIcon /> : <MobileSearchIcon />\n          }\n        ></BottomNavigationAction>\n        <BottomNavigationAction\n          label={t(\"getter_fe.menu.common.account\")}\n          icon={\n            value === 2 ? <ActivatedMobileAccountIcon /> : <MobileAccountIcon />\n          }\n        />\n      </BottomNavigation>\n    )\n  );\n};\n","import React from \"react\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport {ToastContainer, Slide, toast} from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      width: \"auto\",\n      minWidth: theme.spacing(33.25),\n      padding: 0,\n      marginBottom: 0,\n      [theme.breakpoints.down(\"xs\")]: {\n        width: `calc(100% - 40px)`,\n        maxWidth: theme.spacing(45),\n      },\n\n      \"&.Toastify__toast-container--top-right\": {\n        top: theme.spacing(5),\n      },\n      \"&.Toastify__toast-container--top-center\": {\n        top: theme.spacing(5),\n        [theme.breakpoints.down(\"xs\")]: {\n          left: \"50%\",\n          transform: \"translateX(-50%)\",\n        },\n      },\n      \"&.Toastify__toast-container--top-left\": {\n        top: theme.spacing(5),\n      },\n      \"& .Toastify__toast\": {\n        padding: 0,\n        marginBottom: theme.spacing(3),\n        minHeight: theme.spacing(6.75),\n        backgroundColor: theme.palette.background.default,\n        boxShadow: \"0px 0px 11px 3px rgba(0, 0, 0, 0.04)\",\n        borderRadius: 10,\n      },\n\n      \"& > .Toastify__toast--error\": {},\n      \"& > .Toastify__toast--warning\": {},\n      \"& > .Toastify__toast--success\": {},\n      \"& .Toastify__toast-container\": {},\n      \"& .Toastify__toast-body\": {\n        margin: 0,\n      },\n    },\n  }),\n);\n\nexport function MuiToastContainer() {\n  const classes = useStyles();\n  return (\n    <ToastContainer\n      position={toast.POSITION.TOP_CENTER}\n      transition={Slide}\n      autoClose={3000}\n      hideProgressBar={true}\n      newestOnTop={false}\n      closeOnClick\n      rtl={false}\n      pauseOnFocusLoss\n      draggable\n      pauseOnHover\n      closeButton={false}\n      limit={1}\n      className={classes.root}\n    />\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.33317 0.666626L0.666504 9.33329\",\n  stroke: \"\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.666504 0.666626L9.33317 9.33329\",\n  stroke: \"\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIconClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 10,\n    viewBox: \"0 0 10 10\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconClose);\nexport default __webpack_public_path__ + \"static/media/icon_close.02af2a44.svg\";\nexport { ForwardRef as ReactComponent };","export const scrollHelper = (() => {\n  const MAX_INTER_COUNT = 30;\n  let scrollY = 0;\n  let interCount = 0;\n  let inter;\n  let preScrollY = 0;\n  let onlyFlag;\n\n  function setPreScrollY() {\n    preScrollY = window.scrollY;\n  }\n\n  function resetPreScrollY() {\n    preScrollY = 0;\n  }\n\n  function lock(offset = 61, flag) {\n    const app = document.getElementsByClassName(\"app-content\")[0];\n    if (!app) return;\n    const scrollWindow = app.firstElementChild;\n    if (!scrollWindow) return;\n    onlyFlag = flag;\n    scrollY = preScrollY || window.scrollY;\n    resetPreScrollY();\n    scrollWindow.style.height = `calc(100vh - ${offset}px)`;\n    scrollWindow.style.overflowY = \"hidden\";\n    scrollWindow.firstElementChild.style.marginTop = `-${scrollY}px`;\n  }\n\n  function unlock(flag) {\n    const app = document.getElementsByClassName(\"app-content\")[0];\n    if (!app || (flag && flag !== onlyFlag)) return;\n    const scrollWindow = app.firstElementChild;\n    if (!scrollWindow) return;\n    scrollWindow.firstElementChild.style.marginTop = 0;\n    scrollWindow.style.height = \"100%\";\n    scrollWindow.style.overflowY = \"unset\";\n    window.scrollTo(0, scrollY);\n  }\n\n  function rememberScrollY(key) {\n    window.localStorage.setItem(key, window.scrollY);\n  }\n\n  function scrollToAndForget(key) {\n    const _scrollY = Number(window.localStorage.getItem(key) || 0);\n    if (_scrollY > 0) {\n      inter = setInterval(() => {\n        if (interCount++ > MAX_INTER_COUNT) {\n          clearInterval(inter);\n          interCount = 0;\n        } else if (document.body.scrollHeight > _scrollY) {\n          window.scrollTo(0, _scrollY);\n          clearInterval(inter);\n          interCount = 0;\n        }\n      }, 100);\n    }\n    window.localStorage.removeItem(key);\n  }\n\n  // left: 37, up: 38, right: 39, down: 40,\n  // spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36\n  var keys = {37: 1, 38: 1, 39: 1, 40: 1};\n\n  function preventDefault(e) {\n    e.preventDefault();\n  }\n\n  function preventDefaultForScrollKeys(e) {\n    if (keys[e.keyCode]) {\n      preventDefault(e);\n      return false;\n    }\n  }\n\n  // modern Chrome requires { passive: false } when adding event\n  var supportsPassive = false;\n  try {\n    window.addEventListener(\n      \"test\",\n      null,\n      Object.defineProperty({}, \"passive\", {\n        get: function () {\n          supportsPassive = true;\n        },\n      }),\n    );\n  } catch (e) {}\n\n  var wheelOpt = supportsPassive ? {passive: false} : false;\n  var wheelEvent =\n    \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : \"mousewheel\";\n\n  // call this to Disable\n  function disableScroll() {\n    window.addEventListener(\"DOMMouseScroll\", preventDefault, false); // older FF\n    window.addEventListener(wheelEvent, preventDefault, wheelOpt); // modern desktop\n    window.addEventListener(\"touchmove\", preventDefault, wheelOpt); // mobile\n    // window.addEventListener(\"keydown\", preventDefaultForScrollKeys, false);\n  }\n\n  // call this to Enable\n  function enableScroll() {\n    window.removeEventListener(\"DOMMouseScroll\", preventDefault, false);\n    window.removeEventListener(wheelEvent, preventDefault, wheelOpt);\n    window.removeEventListener(\"touchmove\", preventDefault, wheelOpt);\n    // window.removeEventListener(\"keydown\", preventDefaultForScrollKeys, false);\n  }\n\n  function setElementViewableHeight(el, offsetHeight = 0) {\n    if (el) {\n      setTimeout(() => {\n        const visualViewport = window.visualViewport;\n        const viewableHeight = visualViewport?.height || window.innerHeight;\n        el.style.maxHeight = viewableHeight + offsetHeight + \"px\";\n        el.style.height = viewableHeight + offsetHeight + \"px\";\n      }, 300);\n    }\n  }\n\n  function resetElementViewableHeight(el) {\n    if (el) {\n      setTimeout(() => {\n        el.style.maxHeight = \"\";\n        el.style.height = \"\";\n      }, 50);\n    }\n  }\n\n  function checkHasScrollBar(contentDom = document.getElementById(\"root\")) {\n    return contentDom.offsetHeight > window.outerHeight;\n  }\n\n  return {\n    lock,\n    unlock,\n    rememberScrollY,\n    scrollToAndForget,\n    setPreScrollY,\n    resetPreScrollY,\n    disableScroll,\n    enableScroll,\n    setElementViewableHeight,\n    resetElementViewableHeight,\n    checkHasScrollBar,\n  };\n})();\n","import React from \"react\";\n\nimport {connect} from \"react-redux\";\nimport Popup from \"reactjs-popup\";\nimport Util from \"src/core/Util\";\n\nimport {ReactComponent as IconCancel} from \"src/assets/icons/icon_close.svg\";\nimport {scrollHelper} from \"src/util/scrollUtils\";\n\nconst connector = connect((state) => {\n  return {};\n}, {});\n\nexport const PopupDialogNew = connector(_PopupDialogNew);\n\nfunction _PopupDialogNew(props) {\n  const {\n    open,\n    customHeader,\n    headerContent,\n    showCloseIcon,\n    children,\n    contentStyle,\n    onCancel,\n    setCloseFunc,\n    onClose,\n  } = props;\n\n  let titleComp = Util.IsString(headerContent) ? (\n    <div className=\"title\">{headerContent}</div>\n  ) : (\n    headerContent\n  );\n\n  let headerComp = (\n    <React.Fragment>\n      <div className=\"header\">\n        {showCloseIcon && (\n          <span className=\"icon cancel\" onClick={onCancel}>\n            <IconCancel />\n          </span>\n        )}\n        {titleComp}\n      </div>\n    </React.Fragment>\n  );\n\n  let dialogContent = (\n    <div>\n      {customHeader || headerComp}\n\n      <div className=\"content\" style={{position: \"relative\"}}>\n        {children}\n      </div>\n    </div>\n  );\n\n  // NOTE: follow example in: https://react-popup.elazizi.com/react-modal/\n  // open state doesn't work. But using the close() function passed into\n  // the children works!\n  let comp = (\n    <Popup\n      contentStyle={contentStyle}\n      open={open}\n      closeOnDocumentClick={false}\n      closeOnEscape={false}\n      modal\n      lockScroll={false}\n      resetScroll\n      position=\"center center\"\n      repositionOnResize\n      onClose={() => {\n        if (typeof onClose === \"function\") {\n          onClose();\n        }\n        scrollHelper.unlock();\n      }}\n      {...props}\n    >\n      {(close) => {\n        if (typeof setCloseFunc === \"function\") {\n          setCloseFunc(() => close);\n        }\n\n        return dialogContent;\n      }}\n    </Popup>\n  );\n  return comp;\n}\n","import {getEmojiDataFromNative, Emoji} from \"emoji-mart\";\nimport clsx from \"clsx\";\nimport data from \"emoji-mart/data/all.json\";\nimport emojiRegex from \"emoji-regex\";\nimport parse from \"html-react-parser\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport twemoji from \"twemoji\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"inline-block\",\n    \"&.large\": {\n      lineHeight: \"29px\",\n    },\n    \"& .emoji-mart-emoji\": {\n      padding: \"0 3px\",\n      verticalAlign: \"top\",\n      \"& span\": {\n        verticalAlign: \"middle\",\n      },\n    },\n  },\n}));\n\nconst renderEmoji = (html, {size = 20, ...rest}) => {\n  const classes = useStyles();\n  const srcReg = /<[\\s\\S]*?src=\"([^\\s]+)\".*/;\n  let content = parse(html, {\n    replace: (domNode) => {\n      if (domNode.name === \"emoji\") {\n        const emojiData = getEmojiDataFromNative(\n          domNode.attribs.value,\n          \"twitter\",\n          data,\n        );\n        if (emojiData) {\n          return (\n            <div className={clsx(classes.root, size === 24 ? \"large\" : \"\")}>\n              <Emoji emoji={emojiData} set=\"twitter\" size={size} {...rest} />\n            </div>\n          );\n        } else {\n          return (\n            <div className={clsx(classes.root, size === 24 ? \"large\" : \"\")}>\n              <span aria-label={domNode.attribs.value} class=\"emoji-mart-emoji\">\n                <span\n                  style={{\n                    width: `${size}px`,\n                    height: `${size}px`,\n                    display: \"inline-block\",\n                    backgroundImage: `url('${\n                      twemoji.parse(domNode.attribs.value).match(srcReg)[1]\n                    }')`,\n                    backgroundSize: \"contain\",\n                  }}\n                />\n              </span>\n            </div>\n          );\n        }\n      }\n    },\n  });\n  return content;\n};\n\nexport const GTwemoji = ({text, size = 20, ...rest}) => {\n  if (!text) {\n    return null;\n  }\n\n  let html = text.replace(\n    new RegExp(`(${emojiRegex().source})`, \"g\"),\n    '<emoji value=\"$1\">$1</emoji>',\n  );\n  return renderEmoji(html, {size, ...rest});\n};\n","import React from \"react\";\nimport {withStyles} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport parse from \"html-react-parser\";\nimport clsx from \"clsx\";\nimport Global from \"../../system/Global\";\nimport AppConsts from \"src/app/AppConsts\";\n// import UIUtil from \"src/util/UIUtil\";\nimport emojiRegex from \"emoji-regex\";\nimport ReactDOM from \"react-dom\";\nimport {renderToString} from \"react-dom/server\";\nconst TEXT_LENGTH_LIMIT = AppConsts.COMPOSER_MAX_TEXT_LENGTH;\nexport const HASHTAG_SPECIAL_SYMBOL = [\n  \"!\",\n  '\"',\n  \"#\",\n  \"$\",\n  \"%\",\n  \"&\",\n  \"'\",\n  \"(\",\n  \")\",\n  \"+\",\n  \",\",\n  \"-\",\n  \".\",\n  \"/\",\n  \":\",\n  \";\",\n  \"<\",\n  \"=\",\n  \">\",\n  \"?\",\n  \"@\",\n  \"\\\\[\",\n  \"\\\\]\",\n  \"^\",\n  \"_\",\n  \"`\",\n  \"{\",\n  \"|\",\n  \"}\",\n  \"~\",\n];\nexport const SPECIAL_SYMBOL = [\n  \"\\\\s\",\n  \"&\",\n  \"'\",\n  \"!\",\n  '\"',\n  \"#\",\n  \"$\",\n  \"%\",\n  \"(\",\n  \")\",\n  \"*\",\n  \"+\",\n  \",\",\n  \"\\\\\",\n  \".\",\n  \"/\",\n  \":\",\n  \";\",\n  \"<\",\n  \"=\",\n  \">\",\n  \"?\",\n  \"@\",\n  \"\\\\[\",\n  \"\\\\]\",\n  \"^\",\n  \"`\",\n  \"{\",\n  \"|\",\n  \"}\",\n  \"~\",\n  \"\\\\-\",\n  \"\\u3002\",\n  \"\\uff1f\",\n  \"\\uff01\",\n  \"\\uff0c\",\n  \"\\u3001\",\n  \"\\uff1b\",\n  \"\\uff1a\",\n  \"\\u201c\",\n  \"\\u201d\",\n  \"\\u2018\",\n  \"\\u2019\",\n  \"\\uff08\",\n  \"\\uff09\",\n  \"\\u300a\",\n  \"\\u300b\",\n  \"\\u3008\",\n  \"\\u3009\",\n  \"\\u3010\",\n  \"\\u3011\",\n  \"\\u300e\",\n  \"\\u300f\",\n  \"\\u300c\",\n  \"\\u300d\",\n  \"\\ufe43\",\n  \"\\ufe44\",\n  \"\\u3014\",\n  \"\\u3015\",\n  \"\\u2026\",\n  \"\\u2014\",\n  \"\\uff5e\",\n  \"\\ufe4f\",\n  \"\\uffe5\",\n];\nconst SPECIAL_SYMBOL_REG = `[${SPECIAL_SYMBOL.slice(1).join(\"|\")}]`;\nconst NON_SPECIAL_SYMBOL_REG = `[^${SPECIAL_SYMBOL.join(\"|\")}]`;\nexport const HASHTAG_SPECIAL_SYMBOL_REG = `[${HASHTAG_SPECIAL_SYMBOL.join(\n  \"\",\n)}]`;\nexport const LINK_PATTERN_STRING = /(?:(?:https?|ftp|file):\\/\\/|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#\\/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#\\/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#\\/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#\\/%=~_|$])/; // fragment locator\n\nconst useStyles = (theme) => ({\n  root: {\n    position: \"relative\",\n    marginLeft: theme.spacing(0.5),\n  },\n  divTextArea: {\n    position: \"relative\",\n    zIndex: 1,\n    \"-webkit-user-select\": \"text\",\n    \"user-select\": \"text\",\n    border: \"none\",\n    outline: \"none\",\n    overflow: \"auto\",\n    resize: \"none\",\n    width: \"100%\",\n    color: theme.palette.text.primary,\n    whiteSpace: \"pre-wrap\",\n    fontSize: \"20px\",\n    position: \"relative\",\n    textAlign: \"left\",\n    minHeight: \"30px\",\n    wordBreak: \"break-word\",\n    fontFamily: [\n      \"-apple-system\",\n      \"SF Pro Text\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      \"PingFang SC\",\n      \"Helvetica\",\n      \"Arial\",\n      \"sans-serif\",\n    ].join(\",\"),\n    fontWeight: 400,\n    lineHeight: \"26px\",\n    \"& .highlight, & .highlight-link\": {\n      zIndex: 20,\n      color: theme.blue.main,\n      fontWeight: \"normal\",\n    },\n    \"& .is-exceed-content\": {\n      backgroundColor: \"#fbc7c7\",\n    },\n    \"& img\": {\n      margin: \"0 1px !important\",\n    },\n    \"& hideemoji\": {\n      overflow: \"hidden\",\n      display: \"inline-block\",\n      width: \"0.1px\",\n      height: \"0.1px\",\n      verticalAlign: \"top\",\n      opacity: 0,\n    },\n    \"&::-webkit-scrollbar\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  suggest: {\n    position: \"absolute\",\n    border: theme.notchedOutline.border,\n    display: \"none\",\n    minWidth: \"200px\",\n    maxWidth: 366,\n    backgroundColor: theme.palette.background.default,\n    zIndex: 10,\n    borderRadius: \"5px\",\n    boxShadow: \"\",\n    margin: \"24px 0 0\",\n    boxShadow: \"0px 3px 5px #00000023\",\n    maxHeight: theme.spacing(56.5),\n    overflowY: \"auto\",\n    [theme.breakpoints.only(\"xs\")]: {\n      maxHeight: theme.spacing(40),\n      overflowY: \"scroll\",\n    },\n    \"& div\": {\n      padding: \"14px 16px\",\n      cursor: \"pointer\",\n      \"& .suggest-text\": {\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        width: \"100%\",\n      },\n      \"&:hover\": {\n        backgroundColor: theme.palette.grey.A300,\n      },\n    },\n  },\n  placeholder: {\n    color: theme.palette.text.placeholder,\n    position: \"absolute\",\n    top: 0,\n    fontSize: \"20px\",\n    zIndex: 0,\n  },\n});\n\nfunction adaptTextToHtml(text) {\n  const cursorIndex = text.indexOf(\"cursor\");\n  const textLengthLimit = new RegExp(emojiRegex().source).test(\n    text.slice(TEXT_LENGTH_LIMIT - 1, TEXT_LENGTH_LIMIT + 1),\n  )\n    ? TEXT_LENGTH_LIMIT - 1\n    : TEXT_LENGTH_LIMIT;\n  let [effectivePart, exceedPart] = (text || \"\")\n    .replace(\"cursor\", \"\")\n    .match(new RegExp(`(^[\\\\s\\\\S]{0,${textLengthLimit}})([\\\\s\\\\S]*)$`))\n    .slice(1);\n  if (cursorIndex <= textLengthLimit) {\n    effectivePart =\n      effectivePart.slice(0, cursorIndex) +\n      \"cursor\" +\n      effectivePart.slice(cursorIndex);\n  } else {\n    exceedPart =\n      exceedPart.slice(0, cursorIndex - textLengthLimit) +\n      \"cursor\" +\n      exceedPart.slice(cursorIndex - textLengthLimit);\n  }\n  let result =\n    commonTransform(effectivePart) +\n    (exceedPart\n      ? `<span class=\"is-exceed-content\">${commonTransform(\n          exceedPart,\n          true,\n        )}</span>`\n      : \"\");\n  return result;\n}\n\nfunction commonTransform(text, isExceed = false) {\n  let result = text\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(//g, \"&ldquo;\")\n    .replace(//g, \"&rdquo;\")\n    .replace(//g, \"&lsquo;\")\n    .replace(//g, \"&rsquo;\")\n    .replace(//g, \"&reg;\")\n    .replace(//g, \"&copy;\")\n    .replace(//g, \"&bull;\")\n    .replace(//g, \"&hellip;\")\n    .replace(//g, \"&trade;\")\n    .replace(//g, \"&sbquo;\")\n    .replace(/(<([^>]+)>)/gi, \"\")\n    .replace(/cursor/, \"<cursor></cursor>\")\n    .replace(\n      new RegExp(`(${emojiRegex().source})`, \"g\"),\n      '<emoji value=\"$1\"></emoji><hideEmoji>$1</hideEmoji>',\n    );\n\n  return !isExceed\n    ? result\n        .replace(\n          new RegExp(LINK_PATTERN_STRING, \"ig\"),\n          '<b class=\"highlight-link\">$&</b>',\n        )\n        .replace(\n          new RegExp(`(\\\\s|^)(@${NON_SPECIAL_SYMBOL_REG}+)`, \"g\"),\n          '$1<b class=\"highlight\">$2</b>',\n        )\n        .replace(\n          new RegExp(\n            `(\\\\s|${HASHTAG_SPECIAL_SYMBOL_REG}|^)(#${NON_SPECIAL_SYMBOL_REG}{1,100})`,\n            \"g\",\n          ),\n          '$1<b class=\"highlight\">$2</b>',\n        )\n    : result;\n}\n\nfunction fetchData(keywords, callback, fetchService) {\n  if (!keywords) return;\n  let appService = Global.GetPortal().getAppService();\n  appService[fetchService](keywords, 20, 1, (err, resultMap) => {\n    if (err) {\n      console.log(err);\n    } else {\n      const result = [];\n      resultMap?.data?.list?.map((key) => {\n        const _key = key.slice(1);\n        result.push({display: _key, id: _key});\n      });\n      callback(result);\n    }\n  });\n}\n\nconst renderHtml = (html) => {\n  let content = parse(html, {\n    replace: (domNode) => {\n      if (domNode.name === \"emoji\") {\n        return <GTwemoji text={domNode.attribs.value} />;\n      }\n    },\n  });\n  const htmlString = renderToString(content).replace(\n    /(<span [^>]+>[^<]+<\\/span>)<hideemoji [^>]+>[^<]+<\\/hideemoji>/g,\n    \"$1\",\n  );\n  return htmlString;\n};\n\nexport class GMentionsInput extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      text: \"\",\n      html: \"\",\n      isEmpty: true,\n      suggestStyle: {},\n      suggestList: [],\n      pos: 0,\n      keywords: \"\",\n      comStart: false,\n      tempText: \"\",\n    };\n    this.insertEmojiOrText = this.insertEmojiOrText.bind(this);\n\n    this.props.setupInsertEmoji &&\n      this.props.setupInsertEmoji(this.insertEmojiOrText);\n  }\n\n  componentDidMount() {\n    this.target = ReactDOM.findDOMNode(this).firstElementChild;\n    if (this.props.autoFocus !== false) {\n      this.target.focus();\n    }\n\n    this.emitChange({suggestText: this.props.value});\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!nextProps.value) {\n      this.emitChange({clearAll: true});\n    }\n  }\n\n  onChange(e, type) {\n    this.setState({\n      isEmpty: false,\n    });\n    if (this.state.text !== e?.target?.innerText) {\n      const isEnter = e?.keyCode === 13;\n      this.timer && clearTimeout(this.timer);\n      this.timer = setTimeout(\n        () => this.emitChange({isEnter}),\n        type === \"onInput\" ? 128 : 64,\n      );\n    } else if (this.state.tempText) {\n      this.insertEmojiOrText(this.state.tempText);\n    } else if (/<img [^alt][^>]+>/.test(e?.target?.innerHTML)) {\n      e.target.innerHTML = e.target.innerHTML.replace(/<img [^alt][^>]+>/g, \"\");\n    }\n  }\n\n  onBlur() {\n    this.timer && clearTimeout(this.timer);\n    this.timer = setTimeout(() => {\n      this.setState({\n        suggestStyle: {\n          ...this.state.suggestStyle,\n          display: \"none\",\n        },\n      });\n    }, 200);\n    if (!this.state.text.trim()) {\n      this.setState({\n        isEmpty: true,\n      });\n    }\n    this.props.blur && this.props.blur();\n  }\n\n  onFocus() {\n    this.state.suggestList.length &&\n      this.setState({\n        suggestStyle: {\n          ...this.state.suggestStyle,\n          display: \"block\",\n        },\n      });\n\n    if (!this.props.value) {\n      this.setState({\n        isEmpty: true,\n      });\n    } else {\n      this.setState({\n        isEmpty: false,\n      });\n    }\n\n    this.props.focus && this.props.focus();\n  }\n\n  emitChange({\n    isEnter = false,\n    suggestText = \"\",\n    insertEmojiOrText = \"\",\n    clearAll,\n  }) {\n    if (this.state.comStart) return;\n    const originText =\n      clearAll || this.target.innerText === \"\\n\" ? \"\" : this.target.innerText;\n    let pos =\n      suggestText || insertEmojiOrText\n        ? this.state.pos\n        : originText.length && this.getPos() + (isEnter ? 1 : 0);\n    // Text for outgoing\n    let text = \"\";\n    if (insertEmojiOrText) {\n      text =\n        originText.slice(0, pos) + insertEmojiOrText + originText.slice(pos);\n    } else if (suggestText) {\n      text =\n        originText.slice(0, pos).replace(/(#|@)([^#@\\s]+)$/, \"$1\") +\n        suggestText +\n        \" \" +\n        originText.slice(pos);\n    } else {\n      text = originText;\n    }\n\n    text = text\n      .replace(new RegExp(`(\\\\s|^)([@#][^\\\\s]{287})([^\\\\s]+)`, \"g\"), \"$1$2 $3\")\n      .replace(\n        new RegExp(\n          `(\\\\s|^)(@${NON_SPECIAL_SYMBOL_REG}+)(${SPECIAL_SYMBOL_REG}+)`,\n          \"g\",\n        ),\n        \"$1$2 $3\",\n      )\n      .replace(\n        new RegExp(\n          `(\\\\s|${HASHTAG_SPECIAL_SYMBOL_REG}|^)(#${NON_SPECIAL_SYMBOL_REG}{1,100})(${SPECIAL_SYMBOL_REG}+)`,\n          \"g\",\n        ),\n        \"$1$2 $3\",\n      );\n\n    const isSafari = /Safari/.test(navigator.userAgent);\n    if (isSafari && text === \"\\n\\n\") {\n      text = \"\";\n    }\n\n    if (this.props.onChange && text !== this.state.text) {\n      this.props.onChange({\n        target: {\n          value: text.trim(),\n        },\n      });\n    }\n    // Text for display\n    let _text = \"\";\n\n    if (insertEmojiOrText) {\n      _text =\n        originText.slice(0, pos) +\n        insertEmojiOrText +\n        \"cursor\" +\n        originText.slice(pos);\n      pos = pos + insertEmojiOrText.length;\n    } else if (suggestText) {\n      _text =\n        originText.slice(0, pos).replace(/(#|@)([^#@\\s]+)$/, \"$1\") +\n        suggestText +\n        \" cursor\" +\n        originText.slice(pos);\n      pos = _text.split(\"cursor\")[0].length;\n    } else if (originText) {\n      let whoIsFront = \"\";\n      if (isEnter && /\\n/.test(originText.slice(pos - 2, pos - 1))) {\n        whoIsFront = \"enter\";\n      }\n      _text =\n        originText.slice(0, pos) +\n        \"cursor\" +\n        originText.slice(whoIsFront === \"enter\" ? pos + 1 : pos);\n    }\n    _text = _text\n      .replace(new RegExp(`(\\\\s|^)([@#][^\\\\s]{287})([^\\\\s]+)`, \"g\"), \"$1$2 $3\")\n      .replace(\n        new RegExp(\n          `(\\\\s|^)(@${NON_SPECIAL_SYMBOL_REG}+)(${SPECIAL_SYMBOL_REG}+)`,\n          \"g\",\n        ),\n        \"$1$2 $3\",\n      )\n      .replace(\n        new RegExp(\n          `(\\\\s|${HASHTAG_SPECIAL_SYMBOL_REG}|^)(#${NON_SPECIAL_SYMBOL_REG}{1,100})(${SPECIAL_SYMBOL_REG}+)`,\n          \"g\",\n        ),\n        \"$1$2 $3\",\n      );\n    if (text !== this.state.text || pos !== this.state.pos) {\n      this.setState({\n        html: this.convertToHtml({text: _text}),\n        text,\n        pos,\n      });\n      this.setPos(suggestText, clearAll);\n    }\n  }\n\n  getPos() {\n    this.target?.focus();\n    let selection = document.getSelection();\n    if (!selection || !selection.anchorNode) {\n      return 0;\n    }\n    let _range = document.getSelection()?.getRangeAt(0);\n    let range = _range?.cloneRange();\n    range?.selectNodeContents(this.target);\n    range?.setEnd(_range.endContainer, _range.endOffset);\n    return range?.toString().length;\n  }\n\n  setPos(suggestText, clearAll) {\n    var range = document.createRange();\n    var sel = document.getSelection();\n    const sursor = this.target.getElementsByTagName(\"cursor\")[0];\n    if (!sursor) return;\n    const word = (this.state.html.match(\n      /<b class=\"highlight\">([^\"]+)<\\/b><cursor>/,\n    ) || [])[1];\n    range.setStart(sursor, 0);\n    range.collapse(true);\n\n    sel.removeAllRanges();\n    sel.addRange(range);\n\n    if (clearAll) {\n      this.setState({\n        suggestStyle: {\n          display: \"none\",\n        },\n        suggestList: [],\n      });\n      return;\n    }\n\n    !suggestText && this.setSuggestion(word, sursor);\n  }\n\n  setSuggestion(keywords = \"\", sursor) {\n    this.setState({\n      suggestStyle: {\n        left: sursor.offsetLeft,\n        top: sursor.offsetTop,\n        display: \"none\",\n      },\n      keywords: keywords.length >= 2 ? keywords.slice(1) : \"\",\n      prefix: keywords.slice(0, 1),\n    });\n    if (keywords && keywords.length >= 2) {\n      const fetchService = /#/.test(keywords)\n        ? \"fetchHashtagChoices\"\n        : \"fetchMentionChoices\";\n\n      fetchData(\n        keywords.slice(1),\n        (result) => {\n          if (result.length) {\n            this.setState({\n              suggestList: result,\n              suggestStyle: {\n                ...this.state.suggestStyle,\n                display: \"block\",\n              },\n            });\n          }\n        },\n        fetchService,\n      );\n    }\n  }\n\n  insertEmojiOrText(insertEmojiOrText) {\n    this.timer && clearTimeout(this.timer);\n    this.timer = setTimeout(() => this.emitChange({insertEmojiOrText}), 0);\n  }\n\n  selectSuggest(suggestText) {\n    this.timer && clearTimeout(this.timer);\n    this.timer = setTimeout(() => this.emitChange({suggestText}), 0);\n    this.setState({\n      suggestStyle: {\n        display: \"none\",\n      },\n      suggestList: [],\n    });\n  }\n\n  convertToHtml({text}) {\n    let contentText = adaptTextToHtml(text);\n    // contentText = UIUtil.WrapEmojiToText(contentText);\n    return contentText;\n  }\n\n  render() {\n    const {classes} = this.props;\n\n    return (\n      <div className={classes.root}>\n        <div\n          className={clsx(\n            classes.divTextArea,\n            this.state.isEmpty && classes.emptyText,\n          )}\n          onCompositionStart={() => this.setState({comStart: true})}\n          onCompositionEnd={(e) => {\n            this.setState({\n              comStart: false,\n              tempText: e.data,\n            });\n            setTimeout(() => this.setState({tempText: \"\"}), 128);\n          }}\n          onCompositionUpdate={() => {\n            // android bug fix\n            const isAndroid = /Android/.test(navigator.userAgent);\n            if (isAndroid) {\n              this.setState({comStart: false});\n            }\n          }}\n          onKeyUp={(e) => this.onChange(e, \"onKeyUp\")}\n          onInput={(e) => this.onChange(e, \"onInput\")}\n          onBlur={() => this.onBlur()}\n          onFocus={() => this.onFocus()}\n          onClick={() => {\n            this.setState({\n              isEmpty: false,\n              pos: this.getPos(),\n            });\n          }}\n          contentEditable\n          dangerouslySetInnerHTML={{__html: renderHtml(this.state.html)}}\n          style={this.props.style}\n        />\n        <div className={classes.suggest} style={this.state.suggestStyle}>\n          {this.state.suggestList.length\n            ? this.state.suggestList.map((item) => (\n                <div\n                  key={item.id}\n                  onClick={() => this.selectSuggest(item.display)}\n                >\n                  <p className=\"suggest-text\">\n                    {this.state.prefix}\n                    {item.display}\n                  </p>\n                </div>\n              ))\n            : null}\n        </div>\n        {this.state.isEmpty && (\n          <div className={classes.placeholder}>{this.props.placeholder}</div>\n        )}\n      </div>\n    );\n  }\n}\n\nGMentionsInput.propTypes = {\n  value: PropTypes.string,\n  placeholder: PropTypes.string,\n  onChange: PropTypes.func,\n  setupInsertEmoji: PropTypes.func,\n  style: PropTypes.object,\n  autoFocus: PropTypes.bool,\n};\n\nexport default withStyles(useStyles)(GMentionsInput);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Popup from \"reactjs-popup\";\nimport Util from \"../../core/Util\";\nimport {ReactComponent as IconCancel} from \"src/assets/icons/icon_close.svg\";\n\nconst WINDOW_OPEN_POPUP_DIALOG = \"windowOpenPopupDialog\";\nconst PROP_HAS_MOUNTED = \"hasMounted\";\n\n/**\n * Implementation of a Popup Dialog that is also\n * by default a Modal window.\n *\n * See PropTypes below for expected prooperties.\n * Each button can be passed-in, and each can\n * be shown.\n */\nclass PopupDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    //this.setClassname(\"PopDlg\");\n\n    // NOTE: using \"controlled modal\" doesn't work with open boolean\n    this.state = {open: this.props.open != null ? this.props.open : false};\n\n    this.closeAction = this.closeAction.bind(this);\n    this.openAction = this.openAction.bind(this);\n    this.onOK = this.onOK.bind(this);\n    this.onCancel = this.onCancel.bind(this);\n    this.onHelp = this.onHelp.bind(this);\n    this.onDoNothing = this.onDoNothing.bind(this);\n    this.closeWindow = this.closeWindow.bind(this);\n  }\n\n  /**\n   * Do Nothing... used to \"absorb\" auto firing\n   * of a button event that have not been\n   * debugged yet (as of 8/16/2019)\n   *\n   * @param {*} event\n   */\n  onDoNothing(event) {\n    // this.log(\"onDN\", \"Entering...\");\n    event.preventDefault();\n  }\n\n  onCancel(event) {\n    // this.log(\"onCancel\", \"Entering...\");\n    event.preventDefault();\n\n    this.closeWindow();\n  }\n\n  onOK(event) {\n    // this.log(\"onOK\", \"Entering...\");\n    event.preventDefault();\n    if (this.props.doneAction) {\n      this.props.doneAction();\n    }\n    this.closeWindow();\n  }\n\n  onHelp(event) {\n    // this.log(\"onHelp\", \"Entering...\");\n    event.preventDefault();\n  }\n\n  /**\n   * Close window. Closing requires\n   * the closing function passed into\n   * the children of the <Popup>\n   */\n  closeWindow() {\n    //this.setState({ open: false });\n\n    if (this.closeFunc) {\n      let closeFunc = this.closeFunc;\n      this.closeFunc = null;\n      closeFunc();\n    }\n  }\n\n  /**\n   * Not tested\n   * @param {*} e\n   */\n  openWindow(event) {\n    //this.setState({ open: true });\n  }\n\n  openAction(e) {\n    e.stopPropagation();\n    if (!this.props.userInfo) {\n      this.props.history.push(\"/login\");\n    } else {\n      window[WINDOW_OPEN_POPUP_DIALOG] = true;\n      this.props[PROP_HAS_MOUNTED] && this.props[PROP_HAS_MOUNTED]();\n    }\n    if (this.props.onOpen != null) this.props.onOpen();\n  }\n\n  closeAction(event) {\n    if (this.props.onClose != null) this.props.onClose();\n\n    this.closeWindow();\n\n    window[WINDOW_OPEN_POPUP_DIALOG] = false;\n  }\n\n  getDoNothingButton() {\n    if (this.doNothingButton == null)\n      this.doNothingButton = (\n        <button\n          style={{visibility: \"hidden\"}}\n          onClick={this.onDoNothing}\n        ></button>\n      );\n    return this.doNothingButton;\n  }\n\n  getResetButton() {\n    return this.props.resetButton;\n  }\n\n  getCancelButton() {\n    if (this.props.cancelButton) return this.props.cancelButton;\n\n    if (this.cancelButton == null) {\n      let cancelText = this.props.cancelText ? this.props.cancelText : \"Cancel\";\n      this.cancelButton = (\n        <React.Fragment>\n          <button className=\"button-outline\" onClick={this.onCancel}>\n            {cancelText}\n          </button>\n          &nbsp;\n        </React.Fragment>\n      );\n    }\n    return this.cancelButton;\n  }\n\n  getOkButton() {\n    if (this.props.okButton) return this.props.okButton;\n\n    if (this.okButton == null) {\n      let okText = this.props.okText ? (\n        this.props.okText\n      ) : (\n        <span>&nbsp;&nbsp;OK&nbsp;&nbsp;</span>\n      );\n      this.okButton = (\n        <React.Fragment>\n          <button onClick={this.onOK}>{okText}</button>&nbsp;\n        </React.Fragment>\n      );\n    }\n    return this.okButton;\n  }\n\n  getHelpButton() {\n    if (this.props.helpButton) return this.props.helpButton;\n\n    if (this.helpButton == null) {\n      let helpText = this.props.helpText ? this.props.helpText : \"Help\";\n      this.helpButton = (\n        <React.Fragment>\n          <button onClick={this.onHelp}>{helpText}</button>&nbsp;\n        </React.Fragment>\n      );\n    }\n    return this.helpButton;\n  }\n\n  render() {\n    let hasReset = this.props.hasReset ? this.props.hasReset : false;\n    let hasCancel = this.props.hasCancel ? this.props.hasCancel : false;\n    let hasOk = this.props.hasOk ? this.props.hasOk : true;\n    let hasHelp = this.props.helpContent ? true : false;\n    let needDN = this.props.needDoNothing ? this.props.needDoNothing : false;\n    let customHeader = this.props.customHeader;\n\n    let doNothingButton = needDN ? this.getDoNothingButton() : null;\n    let resetButton = hasReset ? this.getResetButton() : null;\n    let cancelButton = hasCancel ? this.getCancelButton() : null;\n    let okButton = hasOk ? this.getOkButton() : null;\n    let helpButton = hasHelp ? this.getHelpButton() : null;\n\n    let headerContent = this.props.headerContent;\n    // this.log(\"render\", \" header: \", headerContent);\n    let titleComp = Util.IsString(headerContent) ? (\n      <div className=\"title\">{headerContent}</div>\n    ) : (\n      headerContent\n    );\n\n    let headerComp = (\n      <React.Fragment>\n        <div className=\"header\">\n          {this.props.showCloseIcon && (\n            <span className=\"icon cancel\" onClick={this.onCancel}>\n              <IconCancel />\n            </span>\n          )}\n          {titleComp}\n        </div>\n      </React.Fragment>\n    );\n\n    let actionGroup = (\n      <div className=\"action-groups\">\n        {needDN ? doNothingButton : null}\n        {hasCancel ? cancelButton : null}\n        {hasReset ? resetButton : null}\n        {hasOk ? okButton : null}\n        {hasHelp ? helpButton : null}\n      </div>\n    );\n\n    let dialogContent = (\n      <div>\n        {customHeader || headerComp}\n\n        <div className=\"content\" style={{position: \"relative\"}}>\n          {this.props.children}\n        </div>\n\n        {/* {actionGroup} */}\n      </div>\n    );\n\n    // NOTE: follow example in: https://react-popup.elazizi.com/react-modal/\n    // open state doesn't work. But using the close() function passed into\n    // the children works!\n    let comp = (\n      <Popup\n        contentStyle={this.props.contentStyle}\n        open={this.props.open}\n        onClose={this.closeAction}\n        onOpen={this.openAction}\n        closeOnDocumentClick={!this.props.isLoading}\n        closeOnEscape={true}\n        modal={true}\n        lockScroll={false}\n        resetScroll={true}\n        position=\"center center\"\n        repositionOnResize={true}\n        {...this.props}\n      >\n        {(close) => {\n          this.closeFunc = close;\n          return dialogContent;\n        }}\n      </Popup>\n    );\n    return comp;\n  }\n}\n\nPopupDialog.propTypes = {\n  appContext: PropTypes.object,\n  parentComp: PropTypes.object,\n  trigger: PropTypes.object.isRequired,\n  needDoNothing: PropTypes.bool /* absorb the auto-fire button event */,\n  hasOk: PropTypes.bool,\n  hasCancel: PropTypes.bool,\n  hasReset: PropTypes.bool,\n  okText: PropTypes.string,\n  cancelText: PropTypes.string,\n  helpText: PropTypes.string,\n  helpContent: PropTypes.object,\n  headerContent: PropTypes.any,\n  separator: PropTypes.object,\n  actionGroupStyle: PropTypes.object,\n  okButton: PropTypes.object,\n  resetbutton: PropTypes.object,\n  cancelButton: PropTypes.object,\n  helpButton: PropTypes.object,\n  onCancel: PropTypes.func,\n  contentStyle: PropTypes.object,\n  [PROP_HAS_MOUNTED]: PropTypes.func,\n  customHeader: PropTypes.any,\n  showCloseIcon: PropTypes.bool,\n};\n\nexport default PopupDialog;\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core\";\nimport ReactDOM from \"react-dom\";\nimport PopupDialog from \"../../app/components/PopupDialog\";\nimport {ThemeProvider} from \"@material-ui/core\";\nimport getTheme from \"../themes\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\n\nconst useStyles = makeStyles((theme) => ({\n  confirmAlertRoot: {\n    \"& .popup-content\": {\n      backgroundColor: \"rgba(27,27,27,.9)\",\n      // width: \"394px !important\",\n      minWidth: \"394px\",\n      borderRadius: \"10px !important\",\n      [theme.breakpoints.only(\"xs\")]: {\n        width: \"300px !important\",\n        minWidth: \"300px\",\n        height: \"auto\",\n        margin: \"auto !important\",\n        overflow: \"hidden\",\n        border: \"none !important\",\n      },\n      \"& .header\": {\n        borderBottom: \"none\",\n        \"& .cancel\": {\n          top: \"10px\",\n          left: \"10px\",\n        },\n      },\n      \"& .content\": {\n        [theme.breakpoints.up(\"sm\")]: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          width: (props) => {\n            return props.confirmType !== \"LOGIN\" && 394;\n          },\n        },\n        padding: \"6px 59px 42px !important\",\n\n        [theme.breakpoints.only(\"xs\")]: {\n          padding: \"0px 10px 0px !important\",\n        },\n      },\n    },\n    \"& h3\": {\n      color: theme.palette.text.primary,\n      display: \"block\",\n      textAlign: \"center\",\n      fontSize: \"22px\",\n      lineHeight: \"26px\",\n      fontWeight: 800,\n      textOverflow: \"ellipsis\",\n      width: \"100%\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: \"17px\",\n        padding: \"0px 24px\",\n      },\n    },\n    \"& p\": {\n      color: theme.palette.text.secondary,\n      display: \"block\",\n      textAlign: \"center\",\n      fontSize: \"18px\",\n      lineHeight: \"26px\",\n      fontWeight: 400,\n      padding: \"8px 0 50px\",\n      [theme.breakpoints.only(\"xs\")]: {\n        width: \"100%\",\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        padding: \"12px 24px 24px 24px\",\n      },\n    },\n    \"& .btns-row\": {\n      display: \"flex\",\n      justifyContent: \"center\",\n      \"& button\": {\n        margin: \"0 12.5px\",\n        borderRadius: \"100px\",\n        backgroundColor: theme.palette.background.button.grey.default,\n        border: \"none\",\n        fontWeight: 700,\n        fontSize: \"16px\",\n        height: \"36px\",\n        minWidth: \"100px\",\n        width: \"130px\",\n        cursor: \"pointer\",\n        outline: \"none\",\n        transition: \"background 0.3s\",\n        \"&:hover\": {\n          background: theme.palette.background.button.grey.hover,\n        },\n        \"&.danger\": {\n          color: theme.palette.background.default,\n          borderColor: theme.palette.error.main,\n          background: theme.palette.error.main,\n          \"&:hover\": {\n            background: theme.palette.buttonDanger.light,\n          },\n        },\n        \"&.confirm\": {\n          color: theme.palette.background.default,\n          borderColor: \"#CDD5DC\",\n          backgroundColor: theme.palette.primary.main,\n          \"&:hover\": {\n            backgroundColor: theme.palette.primary.dark,\n            [theme.breakpoints.up(\"sm\")]: {\n              borderColor: theme.palette.primary.dark,\n            },\n          },\n          [theme.breakpoints.down(\"xs\")]: {\n            color: theme.palette.primary.main,\n          },\n        },\n        [theme.breakpoints.only(\"xs\")]: {\n          height: \"50px\",\n          margin: 0,\n          borderRadius: 0,\n          width: \"100%\",\n          background: \"none !important\",\n          borderTop: \"0.5px solid #CDD5DC\",\n          \"&.danger\": {\n            fontWeight: 400,\n            color: \"#DD1818\",\n            borderColor: \"#CDD5DC !important\",\n            background: \"none !important\",\n            borderLeft: \"0.5px solid #CDD5DC\",\n            \"&:hover\": {\n              background: \"none\",\n            },\n          },\n          \"&.confirm\": {\n            borderLeft: \"0.5px solid #CDD5DC\",\n          },\n        },\n      },\n    },\n    \"& .btns-col\": {\n      display: \"flex\",\n      justifyContent: \"center\",\n      flexDirection: \"column\",\n      [theme.breakpoints.only(\"xs\")]: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        padding: (props) => (props.confirmType === \"LOGIN\" ? \"5px 10px\" : 0),\n      },\n      \"& .div\": {\n        marginBottom: \"17px\",\n      },\n      \"& button\": {\n        margin: \"0 12.5px\",\n        borderRadius: \"100px\",\n        backgroundColor: \"#ECEEF0\",\n        border: \"none\",\n        fontWeight: 800,\n        fontSize: \"16px\",\n        height: \"36px\",\n        minWidth: \"100px\",\n        width: \"130px\",\n        cursor: \"pointer\",\n        outline: \"none\",\n        \"&:hover\": {\n          color: theme.palette.primary.dark,\n          border: `1px solid ${theme.palette.primary.dark} !important`,\n        },\n        \"&.primary\": {\n          color: \"white\",\n          width: \"min(488px, 60vw)\",\n          height: \"48px\",\n          borderColor: theme.palette.primary.main,\n          backgroundColor: theme.palette.primary.main,\n          [theme.breakpoints.only(\"xs\")]: {\n            width: \"100%\",\n            height: \"40px\",\n            margin: 0,\n          },\n          \"&:hover\": {\n            borderColor: theme.palette.primary.dark,\n            background: theme.palette.primary.dark,\n          },\n        },\n        \"&.secondary\": {\n          color: theme.palette.primary.main,\n          width: \"min(488px, 60vw)\",\n          height: \"48px\",\n          border: `1px solid ${theme.palette.primary.main}`,\n          backgroundColor: \"white\",\n          [theme.breakpoints.only(\"xs\")]: {\n            width: \"100%\",\n            height: \"40px\",\n            margin: 0,\n          },\n          \"&:hover\": {\n            color: theme.palette.primary.dark,\n            border: `1px solid ${theme.palette.primary.dark}`,\n          },\n        },\n      },\n    },\n  },\n}));\n\nconst GConfirmAlertCustomUI = ({children}) => {\n  const classes = useStyles();\n  return <div className={classes.confirmAlertRoot}>{children}</div>;\n};\n\nexport const GConfirmAlert = ({\n  title,\n  uppercase,\n  text,\n  text1,\n  close = {\n    text: \"\",\n    callback: () => {},\n    type: \"default\", // default / danger / confirm\n  },\n  confirm = {\n    text: \"\",\n    callback: () => {},\n    type: \"danger\",\n  },\n  primary = {\n    text: \"\",\n    callback: () => {},\n    type: \"primary\",\n  },\n  secondary = {\n    text: \"\",\n    callback: () => {},\n    type: \"secondary\",\n  },\n  showCloseIcon = false,\n}) => {\n  const dom = document.createElement(\"DIV\");\n  const _text = text?.message || text;\n  // provider needed when rendering outside app\n  // when dark theme is available this will need to change\n  ReactDOM.render(\n    <ThemeProvider theme={getTheme(\"light\")}>\n      <GConfirmAlertCustomUI>\n        <PopupDialog\n          nested={true}\n          open={true}\n          hasOK={true}\n          hasCancel={true}\n          needDoNothing={true}\n          parentComp={this}\n          trigger={<div />}\n          showCloseIcon={showCloseIcon}\n        >\n          {title && (\n            <h3 style={{textTransform: uppercase ? \"uppercase\" : \"\"}}>\n              <GTwemoji text={title} />\n            </h3>\n          )}\n          {_text && !text1 && <p>{_text}</p>}\n          {text1 && (\n            <p>\n              {_text}\n              <br />\n              {text1}\n            </p>\n          )}\n          <div className=\"btns-row\">\n            {close.text !== \"\" && (\n              <button\n                className={close.type}\n                onClick={() => {\n                  if (close.callback) {\n                    close.callback(() => document.body.removeChild(dom));\n                  } else {\n                    document.body.removeChild(dom);\n                  }\n                }}\n              >\n                {close.text}\n              </button>\n            )}\n            {confirm.text !== \"\" && (\n              <button\n                className={confirm.type}\n                onClick={() => {\n                  if (confirm.callback) {\n                    confirm.callback(() => document.body.removeChild(dom));\n                  } else {\n                    document.body.removeChild(dom);\n                  }\n                }}\n              >\n                {confirm.text}\n              </button>\n            )}\n          </div>\n          <div className=\"btns-col\">\n            {primary.text !== \"\" && (\n              <div style={{marginBottom: \"17px\"}}>\n                <button\n                  className={primary.type}\n                  onClick={() => {\n                    if (primary.callback) {\n                      primary.callback(() => document.body.removeChild(dom));\n                    } else {\n                      document.body.removeChild(dom);\n                    }\n                  }}\n                >\n                  {primary.text}\n                </button>\n              </div>\n            )}\n            {secondary.text !== \"\" && (\n              <div>\n                <button\n                  className={secondary.type}\n                  onClick={() => {\n                    if (secondary.callback) {\n                      secondary.callback(() => document.body.removeChild(dom));\n                    } else {\n                      document.body.removeChild(dom);\n                    }\n                  }}\n                >\n                  {secondary.text}\n                </button>\n              </div>\n            )}\n          </div>\n        </PopupDialog>\n      </GConfirmAlertCustomUI>\n    </ThemeProvider>,\n    document.body.appendChild(dom),\n  );\n};\n","import AppConsts from \"../app/AppConsts\";\nimport {SPECIAL_SYMBOL} from \"src/styles/components/GMentionsInput\";\n\nconst SPECIAL_SYMBOL_REG = `[${SPECIAL_SYMBOL.slice(1).join(\"|\")}]`;\nconst NON_SPECIAL_SYMBOL_REG = `[^${SPECIAL_SYMBOL.join(\"|\")}]`;\n\nexport const descriptionFormat = (text) => {\n  return text.length > AppConsts.DESCRIPTION_MAX_CHARACT\n    ? `${text.substring(0, AppConsts.DESCRIPTION_MAX_CHARACT)}...`\n    : text;\n};\n\nexport const youtubeFormat = (url) => {\n  const regex = new RegExp(\n    /^(https?\\:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.?be)\\/.+$/,\n  );\n  return regex.test(url);\n};\n\nexport const twitterFormat = (url) => {\n  const regex = new RegExp(/^(https?\\:\\/\\/)?(www\\.)?(twitter\\.com)\\/.+$/);\n\n  return regex.test(url);\n};\n\nexport const getYoutubeVideoID = (url) => {\n  const regex = new RegExp(\n    /(?:https?:\\/\\/)?(?:www\\.)?youtu\\.?be(?:\\.com)?\\/?.*(?:watch|embed)?(?:.*v=|v\\/|\\/)([\\w-_]+)/,\n  );\n  return url.match(regex);\n};\n\nexport const filterReg = (text) => {\n  return text.replace(\n    new RegExp(\n      `^(\\\\s|^)([@#]${NON_SPECIAL_SYMBOL_REG}+)(${SPECIAL_SYMBOL_REG}+).*$`,\n      \"g\",\n    ),\n    \"$1$2\",\n  );\n};\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport {createStyles, makeStyles, Typography} from \"@material-ui/core\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    bold: {\n      fontWeight: \"bold\",\n    },\n    uppercase: {\n      textTransform: \"uppercase\",\n    },\n  }),\n);\n\nexport const GTypography = ({\n  variant,\n  className,\n  children,\n  isBold,\n  isUppercase,\n  ...rest\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Typography\n      className={classnames(\n        className,\n        isBold ? classes.bold : null,\n        isUppercase ? classes.uppercase : null,\n      )}\n      variant={variant}\n      {...rest}\n    >\n      {children}\n    </Typography>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.87467 13.2504H5.45801C3.1108 13.2504 1.20801 11.3476 1.20801 9.00037V9.00037C1.20801 6.65316 3.1108 4.75037 5.45801 4.75037H6.87467\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.8242 8.92954H6.59089\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.1248 13.2504H12.5415C14.8887 13.2504 16.7915 11.3476 16.7915 9.00037V9.00037C16.7915 6.65316 14.8887 4.75037 12.5415 4.75037H11.1248\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoLink(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 -2 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoLink);\nexport default __webpack_public_path__ + \"static/media/ico-link.427b1428.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M49.5 27V42.75C49.5 42.75 49.5 47.25 45 47.25M45 47.25C40.5 47.25 40.5 42.75 40.5 42.75V7.75C40.5 7.19772 40.0523 6.75 39.5 6.75H5.5C4.94772 6.75 4.5 7.19772 4.5 7.75V40.5C4.5 40.5 4.5 47.25 11.25 47.25C18 47.25 45 47.25 45 47.25Z\",\n  stroke: \"white\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M40.5 27H49.5\",\n  stroke: \"white\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.5 36H22.5\",\n  stroke: \"white\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.5 27H31.5\",\n  stroke: \"white\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.5 18H31.5\",\n  stroke: \"white\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoArticle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 54,\n    height: 54,\n    viewBox: \"0 0 54 54\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoArticle);\nexport default __webpack_public_path__ + \"static/media/ico-article.31d62d90.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState, useEffect, useRef, useContext} from \"react\";\nimport {makeStyles} from \"@material-ui/core\";\nimport {debounce} from \"lodash\";\nimport videojs from \"video.js\";\nimport \"video.js/dist/video-js.css\";\nimport clsx from \"clsx\";\nimport {t} from \"src/i18n/utils\";\nimport {scrollHelper} from \"src/util/scrollUtils\";\nimport {useHistory} from \"react-router-dom\";\nimport {YoutubePlayerContext} from \"./YoutubeVideoPlayer\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: \"relative\",\n  },\n  wayPoint: {\n    position: \"relative\",\n    top: \"130px\",\n  },\n  verticalVideo: {\n    \"& > .video-js.vjs-16-9\": {\n      paddingTop: \"100%\",\n    },\n  },\n  transcodingTips: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: \"rgba(0,0,0,.1)\",\n    border: \"1px solid rgba(0,0,0,.1)\",\n    borderRadius: 10,\n    textAlign: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n  hiddenVideo: {\n    opacity: 0,\n  },\n}));\n\nconst isInViewPort = (element) => {\n  if (!element.current) return false;\n  const viewHeight =\n    window.innerHeight || document.documentElement.clientHeight;\n  const {\n    top,\n    // right,\n    bottom,\n    // left,\n  } = element.current?.getBoundingClientRect();\n\n  return top >= 0 && bottom <= viewHeight;\n};\n\nexport const VideoPlayerContext = React.createContext({\n  // videoPlayers: new Map(),\n  arrPlayer: new Array(),\n  arrPlayerId: new Array(),\n  currentPlayer: {\n    vid: 0,\n    player: null,\n  },\n});\n\nexport const VideoPlayer = ({options, postObj, _isVertical}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const playerRef = useRef(null);\n  const vpContext = useContext(VideoPlayerContext);\n  const {youtubePlayers} = useContext(YoutubePlayerContext);\n  const [isVertical, setIsVertical] = useState(false);\n  const [isMov, setIsMov] = useState(false);\n  let timer = null;\n\n  useEffect(() => {}, [playerRef]);\n\n  const setCurrentPlayer = (video) => {\n    vpContext.currentPlayer.vid = video?.options_.id;\n    vpContext.currentPlayer.player = video;\n  };\n\n  const resetCurrentPlayer = () => {\n    vpContext.currentPlayer.vid = 0;\n    vpContext.currentPlayer.player = null;\n  };\n\n  const listenToScroll = debounce((e) => {\n    if (playerRef?.current) {\n      scrollEvent(playerRef);\n    }\n  }, 50);\n\n  const scrollEvent = (player, direction = \"up\") => {\n    if (isInViewPort(player)) {\n      setPlay(player);\n    } else {\n      setPause(player);\n    }\n  };\n\n  const setPause = (player) => {\n    const video = getInstanceVideo(player);\n    if (video && vpContext.currentPlayer.vid === video?.options_.id) {\n      video?.pause()?.catch(() => {});\n      video?.muted(true);\n      resetCurrentPlayer();\n    }\n  };\n\n  const pauseYoutubeVideos = () =>\n    youtubePlayers.forEach(({pauseVideo}) => pauseVideo());\n\n  const doPlay = (video, unmute = false) => {\n    if (vpContext.currentPlayer.player) {\n      vpContext.currentPlayer.player.pause()?.catch(() => {});\n      vpContext.currentPlayer.player.muted(true);\n    }\n    video?.play()?.catch(() => {});\n    if (unmute) {\n      pauseYoutubeVideos();\n      video?.muted(false);\n    }\n    setCurrentPlayer(video);\n  };\n\n  const setPlay = (player) => {\n    const video = getInstanceVideo(player);\n\n    if (!video) return;\n    if (vpContext.currentPlayer.vid !== video?.options_.id) {\n      doPlay(video);\n    }\n  };\n\n  const pushArr = (player) => {\n    if (vpContext.arrPlayerId.indexOf(player.current.id) === -1) {\n      const video = videojs(player.current, options, () => {});\n      vpContext.arrPlayerId.push(player.current.id);\n      vpContext.arrPlayer.push(video);\n    }\n  };\n\n  const getInstanceVideo = (player) => {\n    let index = vpContext.arrPlayerId.indexOf(player.current.id);\n    return index > -1 ? vpContext.arrPlayer[index] : null;\n  };\n\n  const initPlay = (player) => {\n    pushArr(player);\n    if (isInViewPort(player) && !vpContext.currentPlayer.vid) {\n      setPlay(player);\n    }\n  };\n\n  useEffect(() => {\n    if (playerRef) {\n      initPlay(playerRef);\n    }\n\n    history.listen((location, action) => {\n      // Exit picture in picture mode\n      if (playerRef && document.pictureInPictureElement) {\n        document.exitPictureInPicture();\n      }\n    });\n  }, []);\n\n  const getVideo = (children) => {\n    // const parentElement = children;\n    for (let i = 0; i < 4; i++) {\n      if (children.classList?.contains(\"vjs-control-bar\")) {\n        return children.parentElement.children[0];\n      }\n      children = children.parentElement;\n    }\n  };\n\n  useEffect(() => {\n    if (postObj) {\n      const vidWidth = postObj.data.vid_wid;\n      const videHeight = postObj.data.vid_hgt;\n      setIsVertical(videHeight / vidWidth >= 1.5);\n    }\n  }, []);\n\n  useEffect(() => {\n    let isFirst = true;\n    if (playerRef) {\n      const player = getInstanceVideo(playerRef);\n      // const player = videojs(playerRef.current, options, () => {});\n      // vpContext.videoPlayers.set(playerRef.current.id, playerRef.current);\n      // vpContext.arrPlayer.push(playerRef.current.id);\n      window.addEventListener(\"scroll\", (e) => listenToScroll(e));\n      if (!player) {\n        return;\n      }\n\n      player.on(\"error\", () => {\n        // console.info(\"player.on(error)\");\n        if (player.currentSrc().endsWith(\".m3u8\")) {\n          if (!/.mov$/i.test(options.sources[1].src)) {\n            player.src(options.sources[1].src);\n          } else {\n            setIsMov(true);\n            clearTimeout(timer);\n            timer = setTimeout(() => {\n              player.src(options.sources[0].src);\n            }, 30 * 1000);\n          }\n        }\n      });\n\n      player.on(\"click\", (e) => {\n        // console.info(\"click\");\n        // console.info(e.target);\n        let target = e.target;\n        //three conditions\n        //1 control bar\n        let isControlBar =\n          e.target.classList?.contains(\"vjs-control-bar\") ||\n          e.target.parentElement.classList?.contains(\"vjs-control-bar\") ||\n          e.target.classList?.contains(\"vjs-control\") ||\n          e.target.parentElement.classList?.contains(\"vjs-control\");\n\n        let isBigPlayButton = e.target.parentElement.classList?.contains(\n          \"vjs-big-play-button\",\n        );\n        if (isControlBar) {\n          target = getVideo(e.target);\n        }\n        //2 big play button\n        if (isBigPlayButton) {\n          target = e.target.parentElement.parentElement.children[0];\n        }\n        let isVolumeControl =\n          e.target.classList?.contains(\"vjs-volume-control\") ||\n          e.target.parentElement.classList?.contains(\"vjs-mute-control\");\n        //3 the loading\n        let isLoadingIco = e.target.classList?.contains(\"vjs-loading-spinner\");\n        if (isLoadingIco) {\n          target = e.target.parentElement.children[0];\n        }\n        let p = {current: target};\n        if (!isVolumeControl) {\n          const video = getInstanceVideo(p);\n          pauseYoutubeVideos();\n          if (isFirst && !isControlBar && video.muted()) {\n            isFirst = false;\n            video.muted(false);\n            doPlay(video, true);\n            return;\n          }\n\n          // if (video && vpContext.currentPlayer.vid === video?.options_.id) {\n          //   video.muted(false);\n          // } else {\n          //   doPlay(video, true);\n          // }\n        } else {\n          const video = getInstanceVideo(p);\n          if (!video.muted()) {\n            pauseYoutubeVideos();\n          }\n        }\n      });\n\n      // scroll back to the target elem when full screen closed\n      player.on(\"fullscreenchange\", (e) => {\n        setTimeout(() => {\n          const isFullScreen = player.hasClass(\"vjs-fullscreen\");\n\n          if (!isFullScreen) {\n            // const element = e.currentTarget.parentElement;\n\n            // window.scrollTo(\n            //   0,\n            //   element.getBoundingClientRect().y - window.innerHeight / 2 + 200,\n            // );\n\n            // setTimeout(() => {\n            //   player.pause();\n            // }, 300);\n            scrollHelper.unlock();\n          } else {\n            setTimeout(() => {\n              const paused = player.paused();\n              if (paused) {\n                player.play();\n              }\n            }, 600);\n            scrollHelper.lock();\n          }\n        }, 64);\n      });\n\n      player.on(\"mouseover\", (e) => {\n        if (/vjs-fullscreen-control/.test(e.target.parentElement.className)) {\n          scrollHelper.setPreScrollY();\n        }\n      });\n\n      player.on(\"mouseleave\", (e) => {\n        scrollHelper.resetPreScrollY();\n      });\n\n      player.on(\"ended\", () => {\n        player?.play();\n      });\n\n      return () => {\n        if (player && player.dispose) {\n          player.dispose();\n        }\n        timer && clearTimeout(timer);\n        vpContext.arrPlayerId.length = 0;\n        vpContext.arrPlayer.length = 0;\n        vpContext.currentPlayer.vid = 0;\n        vpContext.currentPlayer.player = null;\n        window.removeEventListener(\"scroll\", listenToScroll);\n      };\n    }\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      {isMov && (\n        <div className={classes.transcodingTips}>\n          <span>{t(\"getter_fe.post.tips.video_transcoding_tips\")}</span>\n        </div>\n      )}\n      <div className={clsx(isMov && classes.hiddenVideo)}>\n        <div\n          className={clsx(\n            isVertical || _isVertical ? classes.verticalVideo : \"\",\n          )}\n        >\n          <div data-vjs-player>\n            {\n              <video\n                ref={playerRef}\n                className=\"video-js vjs-default-skin vjs-big-play-centered vjs-16-9\"\n                playsInline={true}\n                muted={true}\n                autoPlay={true}\n              />\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import {createContext, useContext, useEffect, useRef, useState} from \"react\";\nimport {v4 as uuidv4} from \"uuid\";\nimport YouTube from \"react-youtube\";\nimport {VideoPlayerContext} from \"./VideoPlayer\";\n\nexport const YoutubePlayerContext = createContext({\n  youtubePlayers: [],\n});\n\nexport const YoutubeVideoPlayer = ({id, className}) => {\n  const {youtubePlayers} = useContext(YoutubePlayerContext);\n  const {currentPlayer} = useContext(VideoPlayerContext);\n  const [uuid, setUuid] = useState(null);\n  const [active, _setActive] = useState(false);\n  const activeRef = useRef(active); // so active is visible in the event listener\n  const ref = useRef(null);\n\n  const setActive = (isActive) => {\n    activeRef.current = isActive;\n    _setActive(isActive);\n  };\n\n  useEffect(() => {\n    const initPlayer = () => {\n      const _uuid = uuidv4();\n      setUuid(_uuid);\n      youtubePlayers.push({\n        id: _uuid,\n        pauseVideo: ref.current?.internalPlayer.pauseVideo,\n      });\n\n      document.addEventListener(\"fullscreenchange\", handleFullScreen);\n    };\n\n    const destroyPlayer = () => {\n      document.removeEventListener(\"fullscreenchange\", handleFullScreen);\n      ref.current?.internalPlayer.destroy();\n    };\n\n    const handleFullScreen = async () => {\n      const isChrome = navigator.userAgent.indexOf(\"Chrome\") !== -1;\n\n      if (!isChrome) {\n        return;\n      }\n\n      const iframe = await ref.current?.internalPlayer.getIframe();\n\n      if (iframe?.getBoundingClientRect().width === window.innerWidth) {\n        setActive(true);\n        return;\n      }\n\n      if (activeRef.current) {\n        window.scrollTo(\n          0,\n          iframe?.getBoundingClientRect().y - window.innerHeight / 2 + 200, // centered\n        );\n        setActive(false);\n      }\n    };\n\n    initPlayer();\n\n    return () => destroyPlayer();\n  }, []);\n\n  return (\n    <>\n      <YouTube\n        videoId={id}\n        className={className}\n        ref={ref}\n        onPlay={() => {\n          if (typeof currentPlayer.player?.pause === \"function\") {\n            currentPlayer.player.pause();\n          }\n\n          for (const {id, pauseVideo} of youtubePlayers) {\n            if (id !== uuid) {\n              pauseVideo();\n            }\n          }\n        }}\n      />\n    </>\n  );\n};\n","import React, {useState, useEffect} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {ReactComponent as ArticleIcon} from \"src/assets/icons/ico-article.svg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    defaultImage: {\n      height: \"100%\",\n      width: \"100%\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      background: \"#A7B0BA\",\n    },\n  }),\n);\n\nconst PrevImage = ({url}) => {\n  const classes = useStyles();\n  const [imgUrl, setImgUrl] = useState(null);\n\n  useEffect(() => {\n    let img = new Image();\n    img.onload = function () {\n      setImgUrl(url);\n    };\n    img.src = url;\n  }, [url]);\n\n  return imgUrl ? (\n    <img src={imgUrl} />\n  ) : (\n    <div className={classes.defaultImage}>\n      <ArticleIcon />\n    </div>\n  );\n};\n\nexport default PrevImage;\n","import {useEffect, useState} from \"react\";\nimport {\n  youtubeFormat,\n  getYoutubeVideoID,\n  twitterFormat,\n} from \"src/util/TextUtil\";\nimport {Box, makeStyles} from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport {GTypography} from \"../../styles/components/GTypography\";\nimport {ReactComponent as LinkIcon} from \"src/assets/icons/ico-link.svg\";\nimport {ReactComponent as ArticleIcon} from \"src/assets/icons/ico-article.svg\";\nimport AppConsts from \"../AppConsts\";\nimport URI from \"urijs\";\nimport urlMetadata from \"url-metadata\";\nimport {debounce} from \"lodash\";\nimport {YoutubeVideoPlayer} from \"./YoutubeVideoPlayer\";\nimport PrevImage from \"./PrevImage\";\nimport axios from \"axios\";\n\nconst handleExternalLink = (e, url) => {\n  e.preventDefault();\n  e.stopPropagation();\n  window.open(url, \"_blank\");\n};\n\nconst fetchMetadata = (text, callback) => {\n  let cachePreviewedUrl;\n  debounce(async () => {\n    const corsHostUrl = process.env.REACT_APP_CORS_URL;\n    const siteUrls = [];\n\n    URI.withinString(text, function (url) {\n      siteUrls.push(url);\n    });\n\n    if (siteUrls.length > 0) {\n      let siteUrl = siteUrls[0];\n      if (youtubeFormat(siteUrl)) {\n        callback(null, {\n          url: siteUrls[0],\n        });\n        return;\n      }\n      if (twitterFormat(siteUrl)) {\n        if (!siteUrl.startsWith(\"https://\") && !siteUrl.startsWith(\"http://\")) {\n          siteUrl = \"https://\" + siteUrl;\n        }\n        axios({\n          method: \"GET\",\n          url: `https://urlmeta-dev.getter-dev.tk/twitter/meta?url=${siteUrl}`,\n          headers: {\n            Authorization: \"Bearer J933aqDLcf5ZqoQsemKBOtQrIEXKJA\",\n          },\n        })\n          .then((response) => {\n            const {meta, result} = response?.data;\n            let _meta = meta;\n            if (result.type === \"profile\") {\n              const {bio, username} = meta;\n              _meta = {\n                clean_tweet: bio,\n                username,\n              };\n            }\n\n            callback(null, {\n              title: _meta.username,\n              imageUrl: _meta.photos ? _meta.photos[0] : null,\n              description: _meta.clean_tweet,\n              url: siteUrls[0],\n            });\n          })\n          .catch(() => {});\n      } else {\n        urlMetadata(corsHostUrl + siteUrl)\n          .then(\n            (metadata) => {\n              // success handler\n              const _metadata = {\n                siteName: metadata[\"al:android:app_name\"],\n                title: metadata[\"og:title\"],\n                imageUrl: metadata[\"og:image\"],\n                description: metadata[\"og:description\"],\n                url: siteUrls[0],\n              };\n\n              callback(null, _metadata);\n            },\n            function (error) {\n              callback(error, null);\n            },\n          )\n          .catch(() => {});\n      }\n    } else {\n      callback(null, null);\n    }\n  }, AppConsts.TYPE_SEARCH_DELAY_MS)();\n};\n\nconst useStyles = makeStyles((theme) => ({\n  previewContainer: {\n    position: \"relative\",\n    width: \"100%\",\n    border: \" 1px solid #D7D7D7\",\n    borderRadius: \"10px\",\n    marginTop: \"12px\",\n    \"&.commentDetail\": {\n      width: \"100%\",\n      margin: \"16px 0 0\",\n    },\n    \"&.post\": {\n      width: \"100%\",\n      // margin: 0,\n    },\n  },\n  previewEmptyContainer: {\n    minHeight: 300,\n    position: \"relative\",\n    width: \"calc(100% - 56px)\",\n    border: \" 1px solid #D7D7D7\",\n    borderRadius: \"10px\",\n    margin: \"0 28px\",\n  },\n  previewImg: {\n    width: \"100%\",\n    \"& > img\": {\n      borderRadius: \"10px 10px 0 0\",\n      maxHeight: 268,\n      objectFit: \"cover\",\n    },\n  },\n  mainContent: {\n    padding: \"10px 15px\",\n    fontSize: \"16px\",\n    letterSpacing: \"0,01em\",\n    lineHeight: \"140%\",\n    overflow: \"hidden\",\n  },\n  url: {\n    color: theme.palette.text.gray,\n    fontWeight: 400,\n    marginLeft: \"4px\",\n\n    \"&:hover\": {\n      color: theme.palette.text.gray,\n      textDecoration: \"underline\",\n    },\n  },\n  previewSecondContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  defaultImage: {\n    padding: \"32px\",\n    background: \"#A7B0BA\",\n    borderRadius: \"10px 0 0 10px\",\n  },\n  smallPreview: {\n    position: \"relative\",\n    paddingLeft: \"116px\",\n    minHeight: \"96px\",\n    margin: theme.spacing(1.5, 1.5, 1.5, 0),\n    border: `1px solid ${theme.divider.color}`,\n    overflow: \"hidden\",\n    borderRadius: \"10px\",\n    paddingTop: \"10px\",\n    \"&.repost\": {\n      margin: theme.spacing(1.5),\n      marginTop: 0,\n      marginBottom: `${theme.spacing(1.5)}px !important`,\n    },\n    \"&.comment\": {\n      margin: theme.spacing(1.5, 0, 0, 0),\n    },\n  },\n  smallPreviewShared: {\n    marginLeft: theme.spacing(1.5),\n  },\n  smallImage: {\n    width: \"96px\",\n    height: \"96px\",\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    \"& img\": {\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n    },\n  },\n  normalVideo: {\n    width: \"100%\",\n    height: \"280px\",\n    borderRadius: ({isRepost}) => (isRepost ? 0 : 10),\n    marginTop: ({isRepost}) => (isRepost ? -7 : theme.spacing(1.5)),\n    display: ({isRepost}) => (isRepost ? \"flex\" : \"block\"),\n    [theme.breakpoints.only(\"xs\")]: {\n      width: \"100%\",\n      height: \"240px\",\n    },\n  },\n  smallVideo: {\n    width: \"96px\",\n    height: \"96px\",\n    borderRadius: \"10px\",\n    margin: \"0 16px 8px 12px\",\n    border: `1px solid ${theme.divider.color}`,\n    objectFit: \"cover\",\n    flexShrink: 0,\n    backgroundColor: theme.palette.grey.A300,\n    \"&.noCursor\": {\n      cursor: \"auto\",\n    },\n  },\n  hasImageOrVideo: {\n    margin: 0,\n    marginTop: 12,\n    \"&.postContentView\": {\n      margin: \"0 12px 15px\",\n    },\n  },\n  smallPreviewTitle: {\n    display: \"-webkit-box\",\n    overflow: \"hidden\",\n    whiteSpace: \"normal !important\",\n    textOverflow: \"ellipsis\",\n    wordWrap: \"break-word\",\n    \"-webkit-line-clamp\": \"2 !important\",\n    \"-webkit-box-orient\": \"vertical\",\n  },\n  metaTitle: {\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n    overflow: \"hidden\",\n  },\n  metaDescrition: {\n    marginTop: theme.spacing(0.5),\n    color: theme.palette.text.gray,\n    fontWeight: 400,\n    fontSize: 16,\n    lineHeight: \"22.4px\",\n    display: \"-webkit-box\",\n    overflow: \"hidden\",\n    whiteSpace: \"normal !important\",\n    textOverflow: \"ellipsis\",\n    wordWrap: \"break-word\",\n    \"-webkit-line-clamp\": \"2 !important\",\n    \"-webkit-box-orient\": \"vertical\",\n    textAlign: \"left\",\n  },\n  repostComposerYoutubeVideo: {\n    marginBottom: -3,\n  },\n}));\n\nconst SMALL_IMAGE_RESOLUTION = 100;\n\nexport const PreviewContent = ({\n  setupFetchMetadata,\n  scene,\n  previewMetaData,\n  hasMediaRepost,\n  hasImageOrVideo,\n  type,\n}) => {\n  const classes = useStyles({isRepost: /postContentView|repost/.test(scene)});\n  const [imgResTooSmall, setImgResTooSmall] = useState(true);\n  const showSmallImagePreview = hasMediaRepost || hasImageOrVideo;\n\n  useEffect(() => {\n    if (previewMetaData?.imageUrl && !showSmallImagePreview) {\n      const img = new Image();\n      img.src = previewMetaData.imageUrl;\n      img.onload = () => {\n        if (\n          [img.width, img.height].some(\n            (value) => value > SMALL_IMAGE_RESOLUTION,\n          )\n        ) {\n          setImgResTooSmall(false);\n        }\n      };\n    }\n  }, [previewMetaData]);\n\n  useEffect(() => {\n    if (typeof setupFetchMetadata === \"function\") {\n      setupFetchMetadata(fetchMetadata);\n    }\n  }, [setupFetchMetadata]);\n\n  if (\n    previewMetaData &&\n    youtubeFormat(previewMetaData.url) &&\n    getYoutubeVideoID(previewMetaData.url) &&\n    !hasImageOrVideo\n  ) {\n    return (\n      <YoutubeVideoPlayer\n        id={getYoutubeVideoID(previewMetaData.url)[1]}\n        className={classes.normalVideo}\n      />\n    );\n  }\n\n  const formattedURL = previewMetaData?.url?.match(/(https?\\:\\/\\/)?([^/]*)/)[2];\n\n  if (!previewMetaData || (hasImageOrVideo && formattedURL === \"twitter.com\")) {\n    return null;\n  }\n\n  if (previewMetaData.imageUrl) {\n    return (\n      <>\n        {showSmallImagePreview || imgResTooSmall ? (\n          <div\n            className={clsx(\n              classes.smallPreview,\n              scene,\n              hasImageOrVideo && classes.hasImageOrVideo,\n              type === \"repostOrigin\" ? classes.smallPreviewShared : \"\",\n            )}\n            onClick={(e) => handleExternalLink(e, previewMetaData.url)}\n          >\n            <div className={classes.smallImage}>\n              <PrevImage url={previewMetaData.imageUrl} />\n            </div>\n            <div>\n              <GTypography className={classes.smallPreviewTitle}>\n                {previewMetaData.title}\n              </GTypography>\n              <Box display=\"flex\" alignItems=\"center\" mt={1}>\n                <LinkIcon />\n                <a\n                  href={previewMetaData.url}\n                  target=\"_blank\"\n                  className={classes.url}\n                >\n                  {formattedURL}\n                </a>\n              </Box>\n            </div>\n          </div>\n        ) : (\n          <div\n            className={`${classes.previewContainer} ${scene} preview-content`}\n            onClick={(e) => handleExternalLink(e, previewMetaData.url)}\n          >\n            <a href={previewMetaData.url}>\n              <div className={classes.previewImg}>\n                <img src={previewMetaData.imageUrl} width=\"100%\" />\n              </div>\n              <Box className={classes.mainContent}>\n                <GTypography className={classes.metaTitle}>\n                  {previewMetaData.title}\n                </GTypography>\n                <GTypography className={classes.metaDescrition}>\n                  {previewMetaData.description}\n                </GTypography>\n                <Box display=\"flex\" alignItems=\"center\" mt={1}>\n                  <LinkIcon />\n                  <a\n                    href={previewMetaData.url}\n                    target=\"_blank\"\n                    className={classes.url}\n                  >\n                    {formattedURL}\n                  </a>\n                </Box>\n              </Box>\n            </a>\n          </div>\n        )}\n      </>\n    );\n  } else {\n    return (\n      <div\n        className={`${classes.previewContainer} ${classes.previewSecondContainer} ${scene}`}\n        onClick={(e) => handleExternalLink(e, previewMetaData.url)}\n      >\n        <div className={classes.defaultImage}>\n          <ArticleIcon />\n        </div>\n        <Box flex={1} className={classes.mainContent}>\n          <GTypography>{previewMetaData.title}</GTypography>\n          <GTypography className={classes.metaDescrition}>\n            {previewMetaData.description}\n          </GTypography>\n          <Box display=\"flex\" alignItems=\"center\" mt={1}>\n            <LinkIcon className={classes.linkIcon} />\n            <a\n              href={previewMetaData.url}\n              target=\"_blank\"\n              className={classes.url}\n            >\n              {previewMetaData.siteName || formattedURL}\n            </a>\n          </Box>\n        </Box>\n      </div>\n    );\n  }\n};\n","import uuid from \"react-uuid\";\nimport AppConsts from \"src/app/AppConsts\";\n\nexport const blobToBase64 = (value) =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onerror = reject;\n    reader.onload = () => {\n      if (typeof reader.result === \"string\") {\n        resolve(reader.result);\n      }\n    };\n    reader.readAsDataURL(value);\n  });\n\nexport function readFile(file) {\n  return new Promise((resolve) => {\n    const reader = new FileReader();\n    reader.addEventListener(\"load\", () => resolve(reader.result), false);\n    reader.readAsDataURL(file);\n  });\n}\nexport function zoomImage(url, width = 500, height = 0) {\n  return url && url.replace(/(\\.[^\\.]+$)/, `_${width}x${height}$1`);\n}\n\nexport function handleMediaUrl(server, url) {\n  if (!url) {\n    return null;\n  }\n  if (url?.startsWith(\"/\")) {\n    return server + url;\n  }\n  if (url?.startsWith(\"https://\") || url?.startsWith(\"http://\")) {\n    return url;\n  }\n  return server + \"/\" + url;\n}\n\nexport function dataURLtoFile(dataurl, filename = \"base64image.png\") {\n  if (!/;base64,/.test(dataurl)) return dataurl;\n  var arr = dataurl.split(\",\"),\n    mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new File([u8arr], `${uuid()}-${filename}`, {type: mime});\n}\n\nexport function handleImgOnError(e) {\n  const img = e.target;\n  if (img.src.indexOf(AppConsts.URL_UNKNOWN_USER) === -1) {\n    img.src = AppConsts.URL_UNKNOWN_USER;\n  }\n}\n\nexport function getVideoDuration(videoFile) {\n  return new Promise((resolve) => {\n    const video = document.createElement(\"video\");\n    video.preload = \"metadata\";\n    video.onloadedmetadata = () => {\n      window.URL.revokeObjectURL(video.src);\n      resolve(video.duration);\n    };\n    video.src = window.URL.createObjectURL(videoFile.handle);\n  });\n}\n\n/**\n * Compress Image\n * @param {File} file\n * @param {Number} quality\n * @param {Number} maxSideLength\n * @param {Number} maxFileSize\n */\nexport const compressImage = ({\n  file,\n  quality = 0.95,\n  maxSideLength = 1200,\n  maxFileSize = 5 * 1024 * 1024,\n}) => {\n  return new Promise((resolve, reject) => {\n    const name = file.name;\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (e) => {\n      const src = e.target.result;\n      const img = new Image();\n      img.src = src;\n      img.onload = () => {\n        const w = img.width;\n        const h = img.height;\n        if (file.size < maxFileSize && Math.min(w, h) < maxSideLength) {\n          resolve(file);\n          return;\n        }\n        const whRatio = w / h;\n        let newW;\n        let newH;\n        if (w < h) {\n          newW = Math.min(maxSideLength, w);\n          newH = newW / whRatio;\n        } else {\n          newH = Math.min(maxSideLength, h);\n          newW = newH * whRatio;\n        }\n\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        canvas.width = newW;\n        canvas.height = newH;\n        // Rotate according to orientation\n        getOrientation(file, function (orientation) {\n          if (orientation === 6) {\n            // Rotate 90\n            canvas.width = newH;\n            canvas.height = newW;\n            ctx.rotate(Math.PI / 2);\n            ctx.translate(0, -newH);\n          } else if (orientation === 3) {\n            // Rotate 180\n            ctx.rotate(Math.PI);\n            ctx.translate(-newW, -newH);\n          }\n          // After PNG is compressed, the background will become black, so need to set white.\n          ctx.fillStyle = \"#fff\";\n          ctx.fillRect(0, 0, newW, newH);\n          ctx.drawImage(img, 0, 0, newW, newH);\n          const base64 = canvas.toDataURL(file.type, quality);\n          const bytes = window.atob(base64.split(\",\")[1]);\n          // Handle exceptions and convert the ascii code less than 0 to greater than 0\n          const ab = new ArrayBuffer(bytes.length);\n          const ia = new Uint8Array(ab);\n          for (let i = 0; i < bytes.length; i++) {\n            ia[i] = bytes.charCodeAt(i);\n          }\n          file = new Blob([ab], {type: file.type});\n          file = new window.File([file], name, {type: file.type});\n          resolve(file);\n        });\n      };\n      img.onerror = (e) => {\n        reject(e);\n      };\n    };\n    reader.onerror = (e) => {\n      reject(e);\n    };\n  });\n};\n\n/**\n * Get the orientation value of the original image\n * @param {File} file\n * @param {Function} callback\n */\nfunction getOrientation(file, callback) {\n  var reader = new FileReader();\n  reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\n  reader.onload = function (event) {\n    var view = new DataView(event.target.result);\n\n    if (view.getUint16(0, false) !== 0xffd8) return callback(-2);\n\n    var length = view.byteLength;\n    var offset = 2;\n\n    while (offset < length) {\n      var marker = view.getUint16(offset, false);\n      offset += 2;\n\n      if (marker === 0xffe1) {\n        if (view.getUint32((offset += 2), false) !== 0x45786966) {\n          return callback(-1);\n        }\n        var little = view.getUint16((offset += 6), false) === 0x4949;\n        offset += view.getUint32(offset + 4, little);\n        var tags = view.getUint16(offset, little);\n        offset += 2;\n\n        for (var i = 0; i < tags; i++) {\n          if (view.getUint16(offset + i * 12, little) === 0x0112) {\n            return callback(view.getUint16(offset + i * 12 + 8, little));\n          }\n        }\n      } else if ((marker & 0xff00) !== 0xff00) break;\n      else offset += view.getUint16(offset, false);\n    }\n    return callback(-1);\n  };\n}\n\n/**\n * Change url to short one\n * @param {Object} options\n * @param {Array}  options.urls\n * @param {Number} options.width\n * @param {Number} options.height\n * @param {Number} options.maxLength\n * @returns short urls\n */\nexport const getShortUrls = ({\n  urls = [],\n  width = 0,\n  height = 0,\n  maxLength = 30,\n}) => {\n  const result = urls.slice(0, 1).map((url) => {\n    let fullUrl = url;\n    if (!/^https?:\\/\\//.test(url)) {\n      fullUrl = handleMediaUrl(\n        process.env.REACT_APP_MEDIA_BASE,\n        /\\.(mp4|m3u8)$/.test(url) ? url : zoomImage(url, width, height),\n      );\n    }\n    return (\n      fullUrl.slice(0, maxLength) + (fullUrl.length > maxLength ? \"...\" : \"\")\n    );\n  });\n  return result;\n};\n\n/**\n * Get poster of video\n * @param {String} path\n * @param {Number | Function} secs\n * @param {Function} callback\n */\nexport const getVideoImage = (path, secs = 0) => {\n  return new Promise((resolve) => {\n    var me = this,\n      video = document.createElement(\"video\");\n    video.onloadedmetadata = function () {\n      if (\"function\" === typeof secs) {\n        secs = secs(this.duration);\n      }\n      this.currentTime = Math.min(\n        Math.max(0, (secs < 0 ? this.duration : 0) + secs),\n        this.duration,\n      );\n    };\n    video.onseeked = function (e) {\n      var canvas = document.createElement(\"canvas\");\n      canvas.height = video.videoHeight;\n      canvas.width = video.videoWidth;\n      var ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n      var img = new Image();\n      img.src = canvas.toDataURL();\n      resolve(img.src);\n    };\n    video.onerror = function (e) {\n      resolve(undefined);\n    };\n    video.src = path;\n  });\n};\n\nexport const getImageStyleFromMetadata = (\n  imageMetadata,\n  containerWidth,\n  containerHeight,\n) => {\n  const {\n    wid,\n    hgt,\n    meta: {heads},\n  } = imageMetadata;\n\n  if (!containerWidth || !containerHeight || !heads?.length) {\n    return {objectPosition: \"50% 50%\"};\n  }\n  containerWidth -= 2; // 2px border\n  containerHeight -= 2; // 2px border\n\n  const getRealDimensions = (imageWidth, imageHeight) => {\n    return [containerWidth, (containerWidth / imageWidth) * imageHeight];\n  };\n\n  const availableSpaceToMove = (realImageHeight) => {\n    return (realImageHeight - containerHeight) / 2;\n  };\n\n  const pixelsToCenter = (\n    headTop,\n    headBottom,\n    imageHeight,\n    realImageHeight,\n  ) => {\n    const headCenter = (headTop + headBottom) / 2 / imageHeight; // decimal value relative head center\n    const headPositionInRealImage = headCenter * realImageHeight;\n    return realImageHeight / 2 - headPositionInRealImage;\n  };\n\n  const [x, headTop, x2, headBottom] = heads[0].box;\n\n  const [_, realHeight] = getRealDimensions(wid, hgt);\n\n  const toCenter = pixelsToCenter(headTop, headBottom, hgt, realHeight);\n  const availableSpace = availableSpaceToMove(realHeight);\n\n  let pixels = 0;\n\n  if (availableSpace <= 0) {\n    return {objectPosition: \"50% 50%\"};\n  }\n\n  if (toCenter >= 0) {\n    pixels = Math.min(availableSpace, toCenter);\n  } else {\n    pixels = Math.max(availableSpace * -1, toCenter);\n  }\n\n  return {objectPosition: `50% ${pixels}px`};\n};\n\nexport const getTiledImageStyleFromMetadata = (\n  imageMetadata,\n  containerWidth,\n  containerHeight,\n) => {\n  const {\n    wid,\n    hgt,\n    meta: {heads},\n  } = imageMetadata;\n\n  if (!containerWidth || !containerHeight || !heads?.length) {\n    return {height: \"100%\"};\n  }\n\n  const getRealDimensions = (imageWidth, imageHeight) => {\n    return [containerWidth, (containerWidth / imageWidth) * imageHeight];\n  };\n\n  const availableSpaceToMove = (realImageHeight) => {\n    return containerHeight - realImageHeight;\n  };\n\n  const pixelsToCenter = (\n    headTop,\n    headBottom,\n    imageHeight,\n    realImageHeight,\n  ) => {\n    const headCenter = (headTop + headBottom) / 2 / imageHeight; // decimal value relative head center\n    const headPositionInRealImage = headCenter * realImageHeight;\n    const containerCenter = containerHeight / 2;\n    return containerCenter - headPositionInRealImage;\n  };\n\n  const [x, headTop, x2, headBottom] = heads[0].box;\n\n  const [_, realHeight] = getRealDimensions(wid, hgt);\n\n  if (realHeight < containerHeight) {\n    return {height: \"100%\"};\n  }\n\n  const toCenter = pixelsToCenter(headTop, headBottom, hgt, realHeight);\n  const availableSpace = availableSpaceToMove(realHeight);\n\n  if (toCenter >= 0) {\n    return {\n      objectPosition: `50% 0px`,\n    };\n  }\n\n  return {\n    objectPosition: `50% ${Math.max(toCenter, availableSpace)}px`,\n  };\n};\n\nexport const getImageInfo = (file) => {\n  return new Promise((resolve) => {\n    var _URL = window.URL || window.webkitURL;\n    var objectUrl = _URL.createObjectURL(file);\n    var img = new Image();\n    img.onload = function () {\n      resolve({\n        width: this.width,\n        height: this.height,\n      });\n      _URL.revokeObjectURL(objectUrl);\n    };\n    img.src = objectUrl;\n  });\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0)\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: 148,\n  height: 148,\n  rx: 74,\n  fill: \"#E9ECEF\"\n}), /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 75.088,\n  cy: 70.7355,\n  rx: 25.0294,\n  ry: 25.0294,\n  fill: \"#D6DCE2\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 75.0885,\n  cy: 146.912,\n  r: 51.1471,\n  fill: \"#D6DCE2\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: 148,\n  height: 148,\n  rx: 74,\n  fill: \"white\"\n})));\n\nfunction SvgAvatar148(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 148,\n    height: 148,\n    viewBox: \"0 0 148 148\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAvatar148);\nexport default __webpack_public_path__ + \"static/media/avatar148.0be527e6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  opacity: 0.7,\n  cx: 24,\n  cy: 24,\n  r: 24,\n  stroke: \"transparent\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M32 16L16 32\",\n  stroke: \"white\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 16L32 32\",\n  stroke: \"white\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIconCirclefullClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconCirclefullClose);\nexport default __webpack_public_path__ + \"static/media/icon_circlefull_close.08b55203.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport giphyLogo from \"src/assets/images/Poweredby_640px-White_HorizText.png\";\n\nconst useStyles = makeStyles((theme) => ({\n  giphyLogo: {\n    display: \"block\",\n    width: 105,\n    height: 24,\n    marginTop: theme.spacing(0.5),\n    cursor: \"pointer\",\n    \"& > img\": {\n      width: 95,\n      marginLeft: 4,\n      verticalAlign: \"text-bottom\",\n    },\n    \"&:hover\": {\n      backgroundColor: \"#EDF7FF\",\n      borderRadius: 100,\n    },\n  },\n}));\n\nexport const GiphyLogo = () => {\n  const classes = useStyles();\n  return (\n    <a\n      href=\"https://giphy.com\"\n      target=\"_blank\"\n      className={classes.giphyLogo}\n      onClick={(e) => {\n        e.stopPropagation();\n      }}\n    >\n      <img src={giphyLogo} alt=\"\" />\n    </a>\n  );\n};\n","export default \"data:image/png;base64,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\"","import React, {useState} from \"react\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {createStyles, makeStyles} from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport {ReactComponent as IconClose20} from \"src/assets/icons/icon_circlefull_close.svg\";\nimport {t} from \"../../i18n/utils\";\nimport {Gif} from \"@giphy/react-components\";\nimport {GiphyLogo} from \"src/app/components/GiphyLogo\";\nimport {getVideoImage} from \"src/util/imageUtils\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      \"& .file\": {\n        position: \"relative\",\n        padding: \"6px\",\n        \"& > .wrapper\": {\n          position: \"relative\",\n          border: \"1px solid rgba(0,0,0,.1)\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          height: \"290px\",\n          borderRadius: \"10px\",\n          overflow: \"hidden\",\n          \"&.single-image\": {\n            maxHeight: \"500px\",\n          },\n          \"& img\": {\n            width: \"100%\",\n            height: \"100%\",\n            objectFit: \"cover\",\n            \"&.gif\": {\n              objectFit: \"contain\",\n              backgroundColor: \"black\",\n            },\n          },\n          \"& video\": {\n            width: \"100%\",\n            height: \"100%\",\n            objectFit: \"contain\",\n            background: \"#000000\",\n            outline: \"none\",\n          },\n          \"& .giphy-gif\": {\n            width: \"100%\",\n          },\n        },\n        \"& .remove\": {\n          position: \"absolute\",\n          right: -2,\n          top: -2,\n          \"& > svg\": {\n            width: theme.spacing(5),\n            height: theme.spacing(5),\n          },\n          cursor: \"pointer\",\n          borderRadius: \"50%\",\n          \"& svg\": {\n            transform: \"scale(.66)\",\n            fill: \"rgba(0,0,0,.8)\",\n            transition: \"fill .3s\",\n            verticalAlign: \"top\",\n          },\n          \"&:hover svg\": {\n            fill: \"rgba(0,0,0,.6)\",\n          },\n        },\n        \"&.tiny > .wrapper\": {\n          width: \"100%\",\n          height: \"100%\",\n          \"& img\": {\n            height: \"156px\",\n          },\n        },\n      },\n    },\n    hasFile: {\n      margin: \"10px -6px\",\n    },\n    noSupport: {\n      backgroundColor: \"rgba(0,0,0,.1)\",\n      height: \"288px\",\n    },\n    typeTag: {\n      position: \"absolute\",\n      bottom: \"10px\",\n      left: \"10px\",\n      fontSize: \"15px\",\n      backgroundColor: \"rgba(0,0,0,.5)\",\n      color: \"#fff\",\n      borderRadius: \"3px\",\n      padding: \"4px\",\n      fontWeight: 500,\n      lineHeight: \"14px\",\n      textTransform: \"uppercase\",\n    },\n  }),\n);\n\nexport const GDisplayFiles = ({files, type, onDelete, gif, onGifDelete}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const mobileMatches = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const [poster, setPoster] = useState(\"\");\n  if (type === \"video\" && mobileMatches) {\n    getVideoImage(files[0]).then((poster) => {\n      setPoster(poster);\n    });\n  } else if (poster) {\n    setPoster(\"\");\n  }\n  if (gif) {\n    return (\n      <div className={clsx(classes.root, classes.hasFile)}>\n        <div className=\"file\" style={{width: \"100%\"}}>\n          <div className=\"wrapper\">\n            <Gif gif={gif} noLink hideAttribution></Gif>\n            <span className={classes.typeTag}>GIF</span>\n            <div\n              className=\"remove\"\n              onClick={() => onGifDelete && onGifDelete()}\n            >\n              <IconClose20 />\n            </div>\n          </div>\n        </div>\n        <GiphyLogo />\n      </div>\n    );\n  }\n  return (\n    <div className={clsx(classes.root, files?.length && classes.hasFile)}>\n      {files?.map((item, i) => {\n        return (\n          <div\n            key={i}\n            className={clsx(\"file\", files.length > 2 && \"tiny\")}\n            style={{\n              width: `${100 / Math.min(3, files.length)}%`,\n            }}\n          >\n            <div\n              className={clsx(\n                \"wrapper\",\n                /.mov$/.test(item) && classes.noSupport,\n                files.length === 1 && type !== \"video\" && \"single-image\",\n              )}\n            >\n              {type !== \"video\" ? (\n                <>\n                  <img src={item} alt=\"\" className={type} />\n                  {type === \"gif\" && (\n                    <span className={classes.typeTag}>GIF</span>\n                  )}\n                </>\n              ) : !/.mov$/.test(item) ? (\n                <video src={item} controls {...(poster ? {poster} : {})}>\n                  {t(\"getter_fe.post.tips.not_support_video\")}\n                </video>\n              ) : (\n                <div>{t(\"getter_fe.post.tips.not_support_video_priview\")}</div>\n              )}\n              <div\n                className=\"remove\"\n                onClick={() => (onDelete ? onDelete(i, type) : {})}\n              >\n                <IconClose20 />\n              </div>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.4829 20.2872C23.6457 20.2872 25.399 18.5339 25.399 16.3712C25.399 14.2084 23.6457 12.4551 21.4829 12.4551C19.3202 12.4551 17.5669 14.2084 17.5669 16.3712C17.5669 18.5339 19.3202 20.2872 21.4829 20.2872Z\",\n  fill: \"white\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M53.6279 30.7844C51.7786 29.0439 49.4399 27.9017 46.8836 27.5754V7.66889C46.8836 5.54771 46.0134 3.64408 44.6536 2.22996C43.2395 0.81584 41.3359 0 39.2147 0H7.66889C5.54771 0 3.64408 0.870229 2.22996 2.22996C0.81584 3.64408 0 5.54771 0 7.66889V32.7424V35.0811V40.1393C0 42.2605 0.870229 44.1641 2.22996 45.5782C3.64408 46.9924 5.54771 47.8082 7.66889 47.8082H38.1813C40.1937 49.4399 42.6956 50.4733 45.4695 50.4733C48.6784 50.4733 51.5611 49.1679 53.6279 47.1011C55.6947 45.0344 57 42.1517 57 38.9427C57 35.7338 55.6947 32.8511 53.6279 30.7844ZM2.88263 7.66889C2.88263 6.36355 3.42653 5.16699 4.29676 4.35115C5.16698 3.48092 6.36355 2.93702 7.66889 2.93702H39.2147C40.52 2.93702 41.7166 3.48092 42.5868 4.35115C43.4571 5.22137 44.001 6.41794 44.001 7.72328V24.6928L35.9513 16.6431C35.4074 16.0992 34.4828 16.0448 33.8845 16.6431L21.7557 28.8263L13.5429 20.5592C12.999 20.0153 12.0744 19.9609 11.4761 20.5592L2.88263 29.2615V7.66889ZM7.6145 45.0344V44.9256C6.30916 44.9256 5.1126 44.3817 4.24237 43.5115C3.42653 42.6412 2.88263 41.4447 2.88263 40.1393V35.0811V33.395L12.5095 23.7137L20.7223 31.9265C21.2662 32.4704 22.1908 32.4704 22.7891 31.9265L34.9179 19.7433L42.8588 27.7386C42.6956 27.7929 42.5324 27.8473 42.3693 27.9017C42.1517 27.9561 41.9342 28.0105 41.6622 28.1193C41.4447 28.1737 41.2271 28.2824 41.0095 28.3368C40.8464 28.3912 40.7376 28.4456 40.5744 28.5544C40.3569 28.6632 40.1937 28.7176 40.0305 28.8263C39.7586 28.9895 39.4866 29.1527 39.2147 29.3158C39.0515 29.4246 38.9427 29.479 38.7796 29.5878C38.6708 29.6422 38.6164 29.6966 38.5076 29.751C38.0181 30.0773 37.583 30.458 37.2023 30.8931C35.1355 32.9599 33.8302 35.8426 33.8302 39.0515C33.8302 39.8674 33.9389 40.6288 34.1021 41.4447C34.1565 41.6622 34.2109 41.8254 34.2653 42.0429C34.4284 42.5868 34.5916 43.1307 34.8092 43.6746V43.729C35.0267 44.1641 35.2443 44.6536 35.5162 45.0344H7.6145ZM51.5067 45.0344C49.9294 46.6116 47.8082 47.5363 45.4151 47.5363C43.1307 47.5363 41.0095 46.6116 39.4866 45.1431C39.2691 44.9256 39.0515 44.6536 38.834 44.4361C38.6708 44.2729 38.5076 44.0553 38.3445 43.8922C38.1269 43.6202 37.9637 43.2939 37.8006 42.9676C37.6918 42.75 37.583 42.5868 37.4742 42.3693C37.3655 42.0973 37.2567 41.771 37.2023 41.4447C37.1479 41.2271 37.0391 40.9552 36.9847 40.7376C36.876 40.1937 36.8216 39.5954 36.8216 38.9971C36.8216 36.604 37.8006 34.4828 39.3235 32.9055C40.8464 31.3282 43.0219 30.4036 45.4151 30.4036C47.8082 30.4036 49.9294 31.3826 51.5067 32.9055C53.084 34.4828 54.0086 36.604 54.0086 38.9971C54.0086 41.3359 53.0296 43.4571 51.5067 45.0344Z\",\n  fill: \"white\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M46.4484 33.1226C46.3396 33.0138 46.1765 32.9051 45.9589 32.7963C45.7957 32.7419 45.6326 32.6875 45.4694 32.6875C45.415 32.6875 45.415 32.6875 45.415 32.6875C45.3606 32.6875 45.3606 32.6875 45.3606 32.6875C45.1975 32.6875 45.0343 32.7419 44.8711 32.7963C44.708 32.8507 44.5448 32.9594 44.3816 33.1226L41.0095 36.4948C40.4656 37.0386 40.4656 37.9633 41.0095 38.5615C41.5534 39.1054 42.478 39.1054 43.0763 38.5615L43.9465 37.6913V43.6741C43.9465 44.49 44.5992 45.1427 45.415 45.1427C46.2309 45.1427 46.8835 44.49 46.8835 43.6741V37.6913L47.7538 38.5615C48.2977 39.1054 49.2223 39.1054 49.8205 38.5615C50.3644 38.0177 50.3644 37.093 49.8205 36.4948L46.4484 33.1226Z\",\n  fill: \"white\"\n});\n\nfunction SvgIconUploadFile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 57,\n    height: 51,\n    viewBox: \"0 0 57 51\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconUploadFile);\nexport default __webpack_public_path__ + \"static/media/icon_upload_file.b90126f0.svg\";\nexport { ForwardRef as ReactComponent };","import _remove from \"lodash/remove\";\nexport const exclusiveEvent = (() => {\n  let tempGuid;\n  let cacheEventsGroup = [];\n\n  function _bindPrevAll() {\n    const prevOne = cacheEventsGroup[cacheEventsGroup.length - 1 || 0];\n    if (!prevOne) return;\n    for (let eventName in prevOne) {\n      if (eventName === \"guid\") continue;\n      document.body.addEventListener(eventName, prevOne[eventName]);\n    }\n  }\n\n  function _unbindPrevAll() {\n    const prevOne = cacheEventsGroup[cacheEventsGroup.length - 1 || 0];\n    if (!prevOne) return;\n    for (let eventName in prevOne) {\n      if (eventName === \"guid\") continue;\n      document.body.removeEventListener(eventName, prevOne[eventName]);\n    }\n  }\n\n  function bind(eventName, fn, guid) {\n    if (guid !== tempGuid) {\n      _unbindPrevAll(guid);\n      cacheEventsGroup.push({\n        guid,\n        [eventName]: fn,\n      });\n      tempGuid = guid;\n    } else {\n      cacheEventsGroup[cacheEventsGroup.length - 1][eventName] = fn;\n    }\n    document.body.addEventListener(eventName, fn);\n  }\n\n  function unbindAll(guid) {\n    const keyOne = _remove(cacheEventsGroup, (item) => item.guid === guid)[0];\n    for (let eventName in keyOne) {\n      if (eventName === \"guid\") continue;\n      document.body.removeEventListener(eventName, keyOne[eventName]);\n    }\n    _bindPrevAll();\n  }\n\n  function checkIfBound(guid) {\n    const keyOne = _remove(cacheEventsGroup, (item) => item.guid === guid)[0];\n    for (let eventName in keyOne) {\n      if (eventName === \"guid\") continue;\n      document.body.removeEventListener(eventName, keyOne[eventName]);\n    }\n  }\n\n  return {\n    bind,\n    unbindAll,\n  };\n})();\n\nconst eventBus = {\n  on(event, callback) {\n    document.addEventListener(event, (e) => callback(e.detail));\n  },\n  emit(event, data) {\n    document.dispatchEvent(new CustomEvent(event, {detail: data}));\n  },\n  remove(event, callback) {\n    document.removeEventListener(event, callback);\n  },\n};\n\nexport default eventBus;\n","import React, {useEffect, useState, useRef} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {toast} from \"react-toastify\";\nimport {v4 as uuidv4} from \"uuid\";\nimport exifr from \"exifr\";\nimport {NotifMessage} from \"../components/notifications/NotifMessage\";\nimport {t} from \"../../i18n/utils\";\nimport {ReactComponent as IconUploadFile} from \"src/assets/icons/icon_upload_file.svg\";\nimport {getVideoDuration, getImageInfo} from \"../../util/imageUtils\";\nimport uuid from \"react-uuid\";\nimport {exclusiveEvent} from \"src/util/EventUtils\";\nimport Global from \"src/system/Global\";\nimport XUserInfo from \"src/core/model/user/XUserInfo\";\n\nconst PROP_ONSELECT = \"onSelect\";\nconst ACCEPT_IMAGE = \"image/png,image/jpeg,image/jpg,image/gif\";\nconst ACCEPT_VIDEO = \"video/mp4,video/quicktime\";\n\nconst WINDOW_OPEN_POPUP_DIALOG = \"windowOpenPopupDialog\";\nconst IMAGES_NUMBER_LIMIT = 6;\nconst GIF_NUMBER_LIMIT = 1;\nconst VIDEOS_NUMBER_LIMIT = 1;\nconst VIDEO_SIZE_LIMIT = 512 * 1024 * 1024;\nconst IMAGE_SIZE_LIMIT = 15 * 1024 * 1024;\nconst GIF_SIZE_LIMIT = 5 * 1024 * 1024;\n\n// influencer level 0-5 is array index\nconst VIDEO_SECONDS_LIMITS = [180, 180, 300, 300, 600, 600];\n\nconst IMAGE_FILE_EXTENSIONS = [\"png\", \"jpg\", \"jpeg\", \"gif\"];\nconst VIDEO_FILE_EXTENSIONS = [\"mp4\", \"mov\"];\nconst IMAGE_FILE_EXTENSION_REGEX = new RegExp(\n  `(${IMAGE_FILE_EXTENSIONS.join(\"|\")})$`,\n  \"i\",\n);\nconst VIDEO_FILE_EXTENSION_REGEX = new RegExp(\n  `(${VIDEO_FILE_EXTENSIONS.join(\"|\")})$`,\n  \"i\",\n);\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      position: \"relative\",\n      width: \"100%\",\n      \"& .file-input\": {\n        display: \"none\",\n      },\n      \"& .file-drag-drop\": {\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: \"rgba(27,27,27,.9)\",\n        zIndex: 99999,\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        \"& > .wrapper\": {\n          position: \"relative\",\n          width: \"220px\",\n          height: \"100px\",\n          margin: \"0 auto\",\n          borderRadius: \"10px\",\n          textAlign: \"center\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          color: \"#fff\",\n          \"& h5\": {\n            padding: \"14px 0 6px\",\n            fontSize: \"18px\",\n            fontWeight: 800,\n            lineHeight: \"22px\",\n          },\n          \"& p\": {\n            fontSize: \"15px\",\n            fontWeight: 400,\n            lineHeight: \"19px\",\n          },\n        },\n      },\n    },\n    toastWarning: {\n      display: \"flex\",\n      height: \"100%\",\n      \"& i\": {\n        width: \"58px\",\n        height: \"100%\",\n        background: theme.gradient.danger,\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        \"& svg\": {\n          margin: \"0 auto\",\n        },\n      },\n      \"& p\": {\n        padding: \"0 13px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        width: \"220px\",\n        \"& span\": {\n          color: theme.palette.text.composer,\n          lineHeight: \"18px\",\n          fontSize: \"15px\",\n        },\n      },\n    },\n  }),\n);\n\nexport const FileUploader = (props) => {\n  const classes = useStyles();\n  const [normalFiles, setNormalFiles] = useState([]);\n  const [videoFiles, setVideoFiles] = useState([]);\n  const [isShowFileDragDrop, setIsShowFileDrapDrop] = useState(false);\n  const [isUploadError, setIsUploadError] = useState(false);\n  const [uploadType, setUploadType] = useState(\"\");\n\n  const normalFilesRef = useRef(normalFiles);\n  const uploadTypeRef = useRef(uploadType);\n\n  const {filesToRestore} = props;\n\n  const appService = Global.GetPortal().getAppService();\n  const userinfo =\n    Global.GetPortal().getUserInfo() &&\n    XUserInfo.Wrap(Global.GetPortal().getUserInfo());\n  const influencerLvl = userinfo?.isInfluencer();\n\n  let timer = null;\n  const setTimer = (value) => {\n    timer = value;\n  };\n\n  useEffect(() => {\n    if (filesToRestore?.length > 0) {\n      handleInputChange(null, filesToRestore);\n    }\n\n    const guid = uuid();\n    exclusiveEvent.bind(\"dragover\", showFileDragDrop, guid);\n    exclusiveEvent.bind(\"dragenter\", preventDefault, guid);\n    exclusiveEvent.bind(\"dragleave\", hideFileDragDrop, guid);\n    exclusiveEvent.bind(\"drop\", handleInputChange, guid);\n    return () => {\n      exclusiveEvent.unbindAll(guid);\n      timer && clearTimeout(timer);\n    };\n  }, []);\n\n  useEffect(() => {\n    props.setupDeleteFile && props.setupDeleteFile(removeFile);\n    props.setupUploadFiles && props.setupUploadFiles(uploadFiles);\n    let onSelectFunction = props[PROP_ONSELECT];\n    if (typeof onSelectFunction === \"function\") {\n      let fileHandles = [];\n      let displayFiles = [];\n      if (normalFiles.length) {\n        normalFiles.forEach((f) => {\n          fileHandles.push(f.handle);\n          displayFiles.push(f.imageSrc);\n        });\n      }\n      if (videoFiles.length) {\n        videoFiles.forEach((vf) => {\n          fileHandles.push(vf.handle);\n          displayFiles.push(\n            !/.mov$/.test(vf.handle.name) ? vf.videoSrc : \"video.mov\",\n          );\n        });\n      }\n      onSelectFunction(fileHandles, displayFiles, uploadType);\n    }\n  }, [normalFiles, videoFiles]);\n\n  const preventDefault = (e) => {\n    e.preventDefault();\n  };\n\n  const showFileDragDrop = (e) => {\n    e.preventDefault();\n    if (props.scenes === \"notInPopup\" && window[WINDOW_OPEN_POPUP_DIALOG]) {\n      return;\n    }\n\n    timer && clearTimeout(timer);\n    setIsShowFileDrapDrop(true);\n  };\n\n  const hideFileDragDrop = (e) => {\n    e.preventDefault();\n    timer && clearTimeout(timer);\n    const timeOut = setTimeout(() => setIsShowFileDrapDrop(false), 300);\n    setTimer(timeOut);\n  };\n\n  const uploadFiles = (callback) => {\n    if (isUploadError) {\n      setIsUploadError(false);\n    }\n\n    const files = [...(uploadType !== \"video\" ? normalFiles : videoFiles)];\n    let realUrls = [];\n    let allProgress = [];\n    let errorFlag;\n    for (let i = 0; i < files.length; i++) {\n      let fileName = files[i].handle.name\n        .split(\"\")\n        .filter((char) => /[a-zA-Z\\d\\-_.]/.test(char))\n        .join(\"\");\n\n      const splitFileName = fileName.split(\".\");\n      if (splitFileName[0].length === 0) {\n        fileName = `${uuidv4()}.${splitFileName[splitFileName.length - 1]}`;\n      }\n\n      const file = new File([files[i].handle], fileName, {\n        type: files[i].handle.type,\n      });\n\n      const uploadFunc = (hasExif) => {\n        appService.uploadFile(\n          file,\n          hasExif,\n          async (error, result, progress) => {\n            if (error && !isUploadError && !errorFlag) {\n              console.error(error);\n              setIsUploadError(true);\n              errorFlag = true;\n              toast.info(\n                <NotifMessage\n                  message={\n                    uploadType === \"image\"\n                      ? t(\"getter_fe.profile.errors.imageUploadError\")\n                      : t(\"getter_fe.profile.errors.videoUploadError\")\n                  }\n                />,\n                {type: toast.TYPE.WARNING},\n              );\n              callback(null, null, error);\n              return;\n            } else if (result) {\n              if (uploadType === \"image\" && files.length === 1) {\n                const widthHeight = await getImageInfo(file);\n                result.width = widthHeight.width;\n                result.height = widthHeight.height;\n              }\n              realUrls[i] = result;\n            } else if (progress) {\n              allProgress[i] = progress;\n              callback(\n                null,\n                allProgress.reduce((prev = 0, current = 0) => {\n                  return prev + current;\n                }) / files.length,\n              );\n            }\n            if (\n              realUrls.length === files.length &&\n              !/(^,)|[,]{2,}/.test(realUrls.join())\n            ) {\n              callback(realUrls);\n            }\n          },\n        );\n      };\n\n      if (\n        file.type === \"image/jpeg\" ||\n        file.type === \"image/jpg\" ||\n        file.type === \"image/png\"\n      ) {\n        exifr.parse(file).then((output) => {\n          let hasExif = false;\n          if (output) {\n            hasExif = true;\n          }\n          uploadFunc(hasExif);\n        });\n      } else {\n        uploadFunc(false);\n      }\n    }\n    setIsUploadError(false);\n  };\n\n  const removeFile = (index, fileType) => {\n    let files = fileType !== \"video\" ? normalFiles : videoFiles;\n\n    if (index === \"all\") {\n      files = [];\n    } else {\n      files.splice(index, 1);\n    }\n\n    if (fileType !== \"video\") {\n      normalFilesRef.current = [...files];\n      setNormalFiles(normalFilesRef.current);\n    } else {\n      setVideoFiles([...files]);\n    }\n\n    if (!files.length) {\n      uploadTypeRef.current = \"\";\n      setUploadType(\"\");\n    }\n  };\n\n  const handleInputChange = async (e, filesToRestore) => {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (props.scenes === \"notInPopup\" && window[WINDOW_OPEN_POPUP_DIALOG])\n      return;\n    setIsShowFileDrapDrop(false);\n    var files = e ? e.target.files || e.dataTransfer.files : filesToRestore;\n    let newFiles = [];\n    let newGifs = [];\n    let newVideoFiles = [];\n    let errorTip;\n\n    for (let i = 0; i < files.length; i++) {\n      var file = files[i];\n\n      // check supported file types\n      if (\n        !IMAGE_FILE_EXTENSION_REGEX.test(file.name) &&\n        !VIDEO_FILE_EXTENSION_REGEX.test(file.name)\n      ) {\n        errorTip = t(\"getter_fe.post.tips.invalid_file_type\", {\n          allowedTypes: [\n            ...IMAGE_FILE_EXTENSIONS,\n            ...VIDEO_FILE_EXTENSIONS,\n          ].join(\", \"),\n        });\n        break;\n      }\n\n      if (/gif/.test(file.type) && files[i].size > GIF_SIZE_LIMIT) {\n        errorTip = t(\"getter_fe.post.tips.gif_exceeds_size\", {\n          size: GIF_SIZE_LIMIT / (1024 * 1024),\n        });\n        break;\n      } else if (/image/.test(file.type) && files[i].size > IMAGE_SIZE_LIMIT) {\n        errorTip = t(\"getter_fe.post.tips.image_exceeds_size\", {\n          size: IMAGE_SIZE_LIMIT / (1024 * 1024),\n        });\n        break;\n      } else if (files[i].size > VIDEO_SIZE_LIMIT) {\n        errorTip = t(\"getter_fe.post.tips.video_exceeds_size\", {\n          size: VIDEO_SIZE_LIMIT / (1024 * 1024),\n        });\n        break;\n      }\n\n      if (/gif$/.test(file.type)) {\n        var newGif = {\n          handle: file,\n          imageSrc: URL.createObjectURL(file),\n        };\n\n        newGifs.push(newGif);\n      } else if (/image/.test(file.type)) {\n        var newFile = {\n          handle: file,\n          imageSrc: URL.createObjectURL(file),\n        };\n\n        newFiles.push(newFile);\n      } else {\n        var newVideoFile = {\n          handle: file,\n          videoSrc: URL.createObjectURL(file),\n        };\n\n        newVideoFiles.push(newVideoFile);\n      }\n    }\n    e?.target && (e.target.value = \"\"); // the same file can be uploaded after deletion\n    if (errorTip) {\n      toast.info(<NotifMessage message={errorTip} />, {\n        type: toast.TYPE.WARNING,\n      });\n      return;\n    }\n    if (newVideoFiles.length) {\n      const _duration = await getVideoDuration(newVideoFiles[0]);\n      const videoSecondLimit = VIDEO_SECONDS_LIMITS[influencerLvl];\n\n      if (_duration > videoSecondLimit) {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.video_seconds_limit\", {\n              duration: videoSecondLimit,\n            })}\n          />,\n          {\n            type: toast.TYPE.WARNING,\n          },\n        );\n        return;\n      }\n    }\n    // Videos is first\n    if (\n      uploadTypeRef.current &&\n      uploadTypeRef.current !== \"video\" &&\n      newVideoFiles.length\n    ) {\n      toast.info(\n        <NotifMessage\n          message={t(\"getter_fe.post.tips.upload_one_format\", {\n            maxImg: IMAGES_NUMBER_LIMIT,\n          })}\n        />,\n        {\n          type: toast.TYPE.WARNING,\n        },\n      );\n      return;\n    } else if (newVideoFiles.length) {\n      const _allVideoFIles = [...videoFiles, ...newVideoFiles];\n      if (_allVideoFIles.length > VIDEOS_NUMBER_LIMIT) {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.at_most_videos\", {\n              number: VIDEOS_NUMBER_LIMIT,\n            })}\n          />,\n          {\n            type: toast.TYPE.WARNING,\n          },\n        );\n      }\n      setUploadType(\"video\");\n      uploadTypeRef.current = \"video\";\n      setVideoFiles([..._allVideoFIles.slice(0, VIDEOS_NUMBER_LIMIT)]);\n    }\n\n    // Gifs is second\n    if (\n      uploadTypeRef.current &&\n      uploadTypeRef.current !== \"gif\" &&\n      newGifs.length\n    ) {\n      toast.warn(\n        <NotifMessage\n          message={t(\"getter_fe.post.tips.upload_one_format\", {\n            maxImg: IMAGES_NUMBER_LIMIT,\n          })}\n        />,\n        {\n          type: toast.TYPE.WARNING,\n        },\n      );\n      return;\n    } else if (newGifs.length) {\n      const _allImageFIles = [...normalFiles, ...newGifs];\n      if (_allImageFIles.length > GIF_NUMBER_LIMIT) {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.at_most_gifs\", {\n              number: GIF_NUMBER_LIMIT,\n            })}\n          />,\n          {\n            type: toast.TYPE.WARNING,\n          },\n        );\n      }\n      setUploadType(\"gif\");\n      uploadTypeRef.current = \"gif\";\n      setNormalFiles([..._allImageFIles.slice(0, GIF_NUMBER_LIMIT)]);\n    }\n\n    // Other images is third\n    if (\n      uploadTypeRef.current &&\n      uploadTypeRef.current !== \"image\" &&\n      newFiles.length\n    ) {\n      toast.warn(\n        <NotifMessage\n          message={t(\"getter_fe.post.tips.upload_one_format\", {\n            maxImg: IMAGES_NUMBER_LIMIT,\n          })}\n        />,\n        {\n          type: toast.TYPE.WARNING,\n        },\n      );\n      return;\n    } else if (newFiles.length) {\n      const _allImageFIles = [...normalFilesRef.current, ...newFiles];\n      if (_allImageFIles.length > IMAGES_NUMBER_LIMIT) {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.at_most_images\", {\n              number: IMAGES_NUMBER_LIMIT,\n            })}\n          />,\n          {\n            type: toast.TYPE.WARNING,\n          },\n        );\n      }\n      setUploadType(\"image\");\n      uploadTypeRef.current = \"image\";\n      normalFilesRef.current = [\n        ..._allImageFIles.slice(0, IMAGES_NUMBER_LIMIT),\n      ];\n      setNormalFiles(normalFilesRef.current);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <input\n        className=\"file-input\"\n        type=\"file\"\n        multiple\n        ref={props.fileInputRef}\n        onChange={handleInputChange}\n        accept={`${ACCEPT_IMAGE},${ACCEPT_VIDEO}`}\n        uploaded-type={uploadType}\n        uploaded-number={[...normalFiles, ...videoFiles].length}\n      ></input>\n      {isShowFileDragDrop ? (\n        <div className=\"file-drag-drop\">\n          <div className=\"wrapper\">\n            <div className={classes.iconUploadFile}>\n              <IconUploadFile />\n            </div>\n            <h5>{t(\"getter_fe.post.tips.drag_drop_files\")}</h5>\n            <p>{t(\"getter_fe.post.tips.drag_drop_files_desc\")}</p>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.99992 19.1667C11.8129 19.1667 13.5852 18.6291 15.0926 17.6218C16.6001 16.6146 17.775 15.183 18.4688 13.508C19.1626 11.833 19.3441 9.98987 18.9904 8.21172C18.6367 6.43356 17.7637 4.80022 16.4817 3.51823C15.1998 2.23625 13.5664 1.36321 11.7883 1.00951C10.0101 0.655815 8.16698 0.837346 6.49199 1.53115C4.817 2.22495 3.38535 3.39986 2.37811 4.90731C1.37086 6.41476 0.833252 8.18705 0.833252 10C0.833252 12.4312 1.79902 14.7628 3.5181 16.4819C5.23718 18.2009 7.56877 19.1667 9.99992 19.1667Z\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.33325 11.8334C6.76018 12.4026 7.31377 12.8646 7.95019 13.1828C8.58661 13.501 9.28837 13.6667 9.99991 13.6667C10.7115 13.6667 11.4132 13.501 12.0496 13.1828C12.6861 12.8646 13.2397 12.4026 13.6666 11.8334\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 7.42188,\n  cy: 7.42188,\n  r: 0.859375,\n  fill: \"#0F6CF6\",\n  strokeWidth: 0.5\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12.5781,\n  cy: 7.42188,\n  r: 0.859375,\n  fill: \"#0F6CF6\",\n  strokeWidth: 0.5\n});\n\nfunction SvgIconSmile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconSmile);\nexport default __webpack_public_path__ + \"static/media/icon_smile.ae1ea1d6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  opacity: 0.7,\n  cx: 10,\n  cy: 10,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.3337 6.66667L6.66699 13.3333\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.66699 6.66667L13.3337 13.3333\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIconCirclefullClose20(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconCirclefullClose20);\nexport default __webpack_public_path__ + \"static/media/icon_circlefull_close20.9faaa418.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState, Fragment} from \"react\";\nimport {createStyles, makeStyles, Popover, Tooltip} from \"@material-ui/core\";\nimport {t} from \"src/i18n/utils\";\nimport {Picker} from \"emoji-mart\";\nimport {ReactComponent as IconSmile} from \"src/assets/icons/icon_smile.svg\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport {ReactComponent as Close} from \"src/assets/icons/icon_circlefull_close20.svg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      width: \"auto\",\n      [theme.breakpoints.only(\"xs\")]: {\n        zIndex: \"10000\",\n        width: \"100%\",\n      },\n      \"& .emoji-mart\": {\n        textAlign: \"left\",\n        border: \"none\",\n        [theme.breakpoints.only(\"xs\")]: {\n          width: \"100% !important\",\n        },\n        \"& .emoji-mart-category\": {\n          display: \"block\",\n          \"& .emoji-mart-category-label\": {\n            color: \"#aaa\",\n            fontSize: \"14px\",\n          },\n        },\n        \"& .emoji-mart-scroll\": {\n          [theme.breakpoints.only(\"xs\")]: {\n            height: \"160px\",\n          },\n        },\n      },\n    },\n    iconContainer: {\n      padding: theme.spacing(1),\n      paddingBottom: 0,\n    },\n    closeIcon: {\n      fill: theme.palette.grey[200],\n      cursor: \"pointer\",\n    },\n  }),\n);\n\nexport const GEmojiPicker = ({onSelect, children}) => {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handelSelect = (emoji) => {\n    const selected = {\n      emoji: emoji.native,\n    };\n    onSelect(null, selected);\n  };\n\n  return (\n    <Fragment>\n      <div className=\"tool\" onClick={handleClick}>\n        <Tooltip title={t(\"getter_fe.post.button.emoji\")} aria-label=\"emoji\">\n          <span className=\"icon\">\n            <IconSmile />\n          </span>\n        </Tooltip>\n      </div>\n      <Popover\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n        className={classes.root}\n      >\n        <div\n          onClick={() => setAnchorEl(null)}\n          className={classes.iconContainer}\n        >\n          <Close className={classes.closeIcon} />\n        </div>\n        <Picker\n          set=\"twitter\"\n          showPreview={false}\n          showSkinTones={false}\n          autoFocus={false}\n          sheetSize={32}\n          onSelect={handelSelect}\n          i18n={{\n            search: t(\"getter_fe.menu.common.search\"),\n            categories: {\n              people: t(\"getter_fe.post.emoji.smileys_people\"),\n              nature: t(\"getter_fe.post.emoji.animals_nature\"),\n              foods: t(\"getter_fe.post.emoji.food_drink\"),\n              places: t(\"getter_fe.post.emoji.travel_places\"),\n              activity: t(\"getter_fe.post.emoji.activities\"),\n              objects: t(\"getter_fe.post.emoji.objects\"),\n              symbols: t(\"getter_fe.post.emoji.symbols\"),\n              flags: t(\"getter_fe.post.emoji.flags\"),\n              recent: t(\"getter_fe.post.emoji.recently_used\"),\n            },\n          }}\n        />\n      </Popover>\n    </Fragment>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/icon_back.5362f4b8.svg\";","import React, {useState, useRef, useEffect} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core\";\nimport {t, getLang} from \"src/i18n/utils\";\nimport {GiphyFetch} from \"@giphy/js-fetch-api\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport {ReactComponent as IconCancel} from \"src/assets/icons/icon_close.svg\";\nimport {Waypoint} from \"react-waypoint\";\nimport Switch from \"@material-ui/core/Switch\";\nimport icon_back from \"src/assets/icons/icon_back.svg\";\n\nconst GYPHY_PICKER_WIDTH = 600;\nconst GYPHY_PICKER_WIDTH_SM = 500;\nconst GYPHY_PICKER_WIDTH_XS = \"100%\";\nconst GYPHY_LIMIT = 10;\nconst GYPHY_API_KEY = \"LRyMo9N2BYwQgVwiz49OIrLSmBbb7zsO\";\nconst GYPHY_CATEGORY_NAME = \"emotions\";\n\nconst giphyFetch = new GiphyFetch(GYPHY_API_KEY);\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    dialogContainer: {\n      \"& .MuiDialog-paperWidthSm.MuiDialog-paperScrollBody\": {\n        maxWidth: \"calc(100% - 40px)\",\n        margin: 20,\n      },\n    },\n    root: {\n      width: GYPHY_PICKER_WIDTH,\n      [theme.breakpoints.only(\"sm\")]: {\n        width: GYPHY_PICKER_WIDTH_SM,\n      },\n      [theme.breakpoints.only(\"xs\")]: {\n        width: GYPHY_PICKER_WIDTH_XS,\n      },\n    },\n    header: {\n      borderBottom: `1px solid ${theme.input.borderColor}`,\n      padding: theme.spacing(1.25, 2),\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& .icon.cancel\": {\n        width: 26,\n        height: 26,\n        background: theme.palette.grey.A300,\n        opacity: 0.7,\n        borderRadius: \"50%\",\n        marginRight: theme.spacing(2),\n        \"& > svg\": {\n          stroke: \"#000\",\n        },\n        [theme.breakpoints.only(\"xs\")]: {\n          marginRight: theme.spacing(1),\n          width: 24,\n          height: 24,\n          flex: \"0 0 24px\",\n        },\n        [theme.breakpoints.up(\"sm\")]: {\n          margin: theme.spacing(0, 4.5, 0, 1),\n        },\n      },\n    },\n    searchInput: {\n      // overwrite default input styles\n      '&:not([type=\"checkbox\"]):not([type=\"radio\"])': {\n        flex: 1,\n        fontWeight: \"400\",\n        border: `1px solid ${theme.palette.primary.main} !important`,\n        fontSize: 16,\n        minHeight: \"33px !important\",\n        borderRadius: \"33px !important\",\n        [theme.breakpoints.only(\"xs\")]: {\n          fontSize: 12,\n          padding: \"0 12px\",\n        },\n      },\n    },\n    giphyGridContainer: {\n      height: 500,\n      overflowY: \"auto\",\n      overflowX: \"hidden\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      flexWrap: \"wrap\",\n    },\n    gifphyImageWrapper: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      background: theme.palette.background.black,\n      width: `calc((100% - 5px)/2)`,\n      height: 150,\n      marginBottom: 5,\n      position: \"relative\",\n      cursor: \"pointer\",\n      [theme.breakpoints.only(\"xs\")]: {\n        height: 100,\n      },\n    },\n    giphyImage: {\n      maxWidth: \"100%\",\n      maxHeight: \"100%\",\n    },\n    emotionName: {\n      position: \"absolute\",\n      bottom: 5,\n      left: 10,\n      color: theme.palette.background.default,\n      fontSize: 18,\n      textTransform: \"capitalize\",\n      fontWeight: \"bold\",\n    },\n    autoplayToggleContainer: {\n      height: 46,\n      padding: theme.spacing(0, 0, 0, 2),\n      fontSize: 16,\n      color: theme.palette.text.secondary,\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      '& input[type=\"checkbox\"]': {\n        position: \"absolute\",\n      },\n      [theme.breakpoints.only(\"xs\")]: {\n        padding: theme.spacing(0, 0, 0, 1),\n        fontSize: 12,\n        flexDirection: \"column\",\n      },\n    },\n    backBtn: {\n      // TODO: Copied from GBackTitle. Create GBackButton component when we refactor.\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(4),\n      cursor: \"pointer\",\n      \"& img\": {\n        verticalAlign: \"middle\",\n        borderRadius: \"50%\",\n        padding: \"3px\",\n        \"-webkit-transition\": \"background-color 300ms ease\",\n        \"-moz-transition\": \"background-color 300ms ease\",\n        \"-ms-transition\": \"background-color 300ms ease\",\n        \"-o-transition\": \"background-color 300ms ease\",\n        transition: \"background-color 300ms ease\",\n        backgroundColor: \"transparent\",\n\n        // Fix width & height due to jittering effect\n        width: 30,\n        height: 30,\n      },\n      \"&:hover img\": {\n        backgroundColor: \"#F2F9FF\",\n      },\n    },\n    noResult: {\n      flex: 1,\n      marginTop: 36,\n      \"& > p\": {\n        fontSize: 16,\n        lineHeight: \"22px\",\n        textAlign: \"center\",\n        letterSpacing: \"0.01em\",\n        marginBottom: 3,\n        \"&.title\": {\n          fontWeight: 800,\n          fontSize: 18,\n          lineHeight: \"21px\",\n          letterSpacing: \"-0.014em\",\n        },\n      },\n    },\n  }),\n);\n\nexport const GGiphyPicker = ({validateBeforeClick, onSelect, children}) => {\n  const classes = useStyles();\n  const [searchText, setSearchText] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  // const selectEl = useRef(null);\n  const scrollableEl = useRef(null);\n  const [gifs, setGifs] = useState([]);\n  const [emotions, setEmotions] = useState([]);\n  const [offset, setOffset] = useState(0);\n  const [reachEnd, setReachEnd] = useState(false);\n  const [autoPlayChecked, setAutoPlayChecked] = useState(false);\n\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.only(\"xs\"));\n\n  useEffect(() => {\n    isOpen &&\n      load(0).then((result) => {\n        setReachEnd(false);\n        setEmotions(result.emotionData ? result.emotionData : []);\n        setGifs(result.data);\n        setOffset(GYPHY_LIMIT);\n      });\n  }, [searchText, isOpen]);\n\n  const loadMore = () => {\n    load(offset).then((result) => {\n      if (!result.data || result.data.length === 0) {\n        setReachEnd(true);\n      } else {\n        setGifs([...gifs, ...result.data]);\n        result.emotionData && setEmotions([...emotions, ...result.emotionData]);\n      }\n      setOffset(offset + GYPHY_LIMIT);\n    });\n  };\n\n  const load = (offset) => {\n    let currentLang = getLang();\n\n    switch (currentLang) {\n      case \"zh\":\n        currentLang = \"zh-CN\";\n        break;\n      case \"tw\":\n        currentLang = \"zh-TW\";\n        break;\n    }\n\n    if (!searchText || /^\\s+$/.test(searchText)) {\n      return giphyFetch\n        .subcategories(GYPHY_CATEGORY_NAME, {\n          lang: currentLang,\n          offset: offset,\n          limit: GYPHY_LIMIT,\n        })\n        .then((result) => {\n          return {\n            data: result.data.map((category) => category.gif),\n            emotionData: result.data.map((category) => category.name),\n          };\n        });\n    } else {\n      return giphyFetch.search(searchText, {\n        lang: currentLang,\n        offset: offset,\n        limit: GYPHY_LIMIT,\n      });\n    }\n  };\n\n  const handleClick = (gif, emotion) => {\n    if (searchText) {\n      onSelect(gif);\n      handleClose();\n    } else {\n      setSearchText(emotion);\n      scrollableEl.current.scrollTo(0, 0);\n    }\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchText(e.target.value);\n    scrollableEl.current.scrollTo(0, 0);\n    if (!e.target.value) {\n      setEmotions([]);\n    }\n  };\n\n  const handleClose = () => {\n    setSearchText(\"\");\n    setGifs([]);\n    setEmotions([]);\n    setOffset(0);\n    setReachEnd(false);\n    setIsOpen(false);\n  };\n\n  return (\n    <>\n      <div\n        onClick={() => {\n          if (validateBeforeClick()) {\n            setIsOpen(true);\n          }\n        }}\n      >\n        {children}\n      </div>\n      <div\n      // ref={selectEl}\n      >\n        <Dialog\n          open={isOpen}\n          onClose={handleClose}\n          scroll=\"body\"\n          onClick={(e) => e.stopPropagation()}\n          className={classes.dialogContainer}\n          // container={() => (selectEl ? selectEl.current : null)}\n        >\n          <div className={classes.root}>\n            <div className={classes.header}>\n              {searchText ? (\n                <div\n                  className={classes.backBtn}\n                  onClick={() => setSearchText(\"\")}\n                >\n                  <img src={icon_back} alt=\"back\" />\n                </div>\n              ) : (\n                <span className=\"icon cancel\" onClick={handleClose}>\n                  <IconCancel />\n                </span>\n              )}\n              <input\n                className={classes.searchInput}\n                placeholder={t(\"getter_fe.post.placeholder.search_giphy\")}\n                value={searchText}\n                onChange={handleSearchChange}\n              />\n              <div className={classes.autoplayToggleContainer}>\n                <span>\n                  {isMobile\n                    ? t(\"getter_fe.giphy.autoPlay\")\n                    : t(\"getter_fe.giphy.autoPlayGifs\")}\n                </span>\n                <Switch\n                  checked={autoPlayChecked}\n                  onClick={() => setAutoPlayChecked(!autoPlayChecked)} // onChange event is not working\n                  color=\"primary\"\n                />\n              </div>\n            </div>\n            {/* {searchText && (\n              <div className={classes.autoplayToggleContainer}>\n                <span>{t(\"getter_fe.giphy.autoPlayGifs\")}</span>\n                <Switch\n                  checked={autoPlayChecked}\n                  onClick={() => setAutoPlayChecked(!autoPlayChecked)} // onChange event is not working\n                  color=\"primary\"\n                />\n              </div>\n            )} */}\n            <div className={classes.giphyGridContainer} ref={scrollableEl}>\n              {!gifs.length && searchText && (\n                <div className={classes.noResult}>\n                  <p className=\"title\">{t(\"getter_fe.giphy.noResult\")}</p>\n                  <p>{t(\"getter_fe.giphy.noResultDesc\")}</p>\n                </div>\n              )}\n              {gifs.map((gif, idx) => (\n                <div className={classes.gifphyImageWrapper}>\n                  <img\n                    src={\n                      autoPlayChecked\n                        ? gif.images.fixed_height.url\n                        : gif.images.fixed_height_still.url\n                    }\n                    className={classes.giphyImage}\n                    onClick={() => handleClick(gif, emotions[idx])}\n                  />\n                  {!searchText && (\n                    <span className={classes.emotionName}>{emotions[idx]}</span>\n                  )}\n                  {idx > 0 && idx === gifs.length - 1 && !reachEnd && (\n                    <Waypoint fireOnRapidScroll={false} onEnter={loadMore} />\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        </Dialog>\n      </div>\n    </>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.166 1.33301C17.8229 1.33301 19.166 2.67615 19.166 4.33301L19.166 16.6663C19.166 18.3231 17.8229 19.6663 16.166 19.6663L3.83276 19.6663C2.1759 19.6663 0.832755 18.3231 0.832755 16.6663L0.832755 4.33301C0.832755 2.67615 2.1759 1.33301 3.83275 1.33301L16.166 1.33301Z\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.833008 12.5369L4.62422 8.74573C4.78043 8.58952 5.0337 8.58952 5.18991 8.74573L16.1107 19.6666\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M11.5268 9.17558C12.933 9.17558 14.073 8.03557 14.073 6.62929C14.073 5.22302 12.933 4.08301 11.5268 4.08301C10.1205 4.08301 8.98047 5.22302 8.98047 6.62929C8.98047 8.03557 10.1205 9.17558 11.5268 9.17558Z\",\n  strokeWidth: 1.2\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.5273 15.0832L19.1662 7.44434\",\n  strokeWidth: 1.2\n});\n\nfunction SvgIcoImg(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 21,\n    viewBox: \"0 0 20 21\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoImg);\nexport default __webpack_public_path__ + \"static/media/ico-img.7a95ddf9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.667 1.33301C18.3238 1.33301 19.667 2.67615 19.667 4.33301L19.667 16.6663C19.667 18.3232 18.3238 19.6663 16.667 19.6663L4.33366 19.6663C2.67681 19.6663 1.33366 18.3232 1.33366 16.6663L1.33366 4.33301C1.33366 2.67616 2.67681 1.33301 4.33366 1.33301L16.667 1.33301Z\",\n  stroke: \"#232255\",\n  strokeWidth: 1.4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.8824 7.55094H13.1595C13.1281 7.55094 13.098 7.5626 13.0759 7.58335C13.0537 7.6041 13.0412 7.63225 13.0412 7.6616V13.273C13.0412 13.3342 13.0948 13.3837 13.1595 13.3837H14.0342C14.0655 13.3837 14.0956 13.372 14.1178 13.3513C14.14 13.3305 14.1524 13.3024 14.1524 13.273V11.0187H16.6376C16.6689 11.0185 16.6988 11.0068 16.7208 10.986C16.7428 10.9653 16.7552 10.9373 16.7552 10.908V10.2602C16.7552 10.2309 16.7428 10.2029 16.7208 10.1821C16.6988 10.1614 16.6689 10.1497 16.6376 10.1495H14.1518V8.4523H16.8817C16.9131 8.4523 16.9432 8.44064 16.9654 8.41989C16.9875 8.39913 17 8.37099 17 8.34164V7.6616C17 7.63225 16.9875 7.6041 16.9654 7.58335C16.9432 7.5626 16.9138 7.55094 16.8824 7.55094ZM11.6233 7.56445H10.796C10.7647 7.56445 10.7346 7.57611 10.7124 7.59686C10.6902 7.61761 10.6778 7.64576 10.6778 7.67511V13.2872C10.6778 13.3477 10.7307 13.3979 10.796 13.3979H11.6233C11.6546 13.3979 11.6847 13.3862 11.7069 13.3654C11.7291 13.3447 11.7416 13.3165 11.7416 13.2872V7.67511C11.7416 7.64576 11.7291 7.61761 11.7069 7.59686C11.6847 7.57611 11.6546 7.56445 11.6233 7.56445ZM9.61397 10.3419H7.22714C7.19589 10.3419 7.16591 10.3534 7.14375 10.374C7.12158 10.3947 7.10904 10.4226 7.10886 10.4519V11.0566C7.10886 11.1171 7.1625 11.1667 7.22714 11.1667H8.62994L8.62513 11.2895C8.60725 12.1028 7.95123 12.6516 6.98646 12.6516C5.86078 12.6516 5.15594 11.8261 5.15594 10.4853C5.15594 9.16129 5.84771 8.34035 6.9507 8.34035C7.76075 8.34035 8.326 8.71222 8.5543 9.38261H9.67998C9.47919 8.17694 8.40989 7.40039 6.95139 7.40039C5.1525 7.39846 4 8.60349 4 10.4937C4 12.4051 5.13875 13.5909 6.96927 13.5909C8.65538 13.5909 9.73224 12.6142 9.73224 11.0811V10.4519C9.73206 10.4226 9.71952 10.3947 9.69736 10.374C9.6752 10.3534 9.64521 10.3419 9.61397 10.3419Z\",\n  fill: \"#232255\",\n  stroke: \"#232255\",\n  strokeWidth: 0.15\n});\n\nfunction SvgIcoGif(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 21,\n    height: 21,\n    viewBox: \"0 0 21 21\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoGif);\nexport default __webpack_public_path__ + \"static/media/ico-gif.1a56cbad.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useRef} from \"react\";\nimport {createStyles, makeStyles, Tooltip} from \"@material-ui/core\";\nimport {toast} from \"react-toastify\";\n\nimport {FileUploader} from \"../../components/FileUploader\";\nimport {GEmojiPicker} from \"../../../styles/components/GEmojiPicker\";\nimport {GGiphyPicker} from \"../../../styles/components/GGiphyPicker\";\nimport {NotifMessage} from \"../../components/notifications/NotifMessage\";\n\nimport {ReactComponent as IconPic} from \"src/assets/icons/ico-img.svg\";\nimport {ReactComponent as IconGif} from \"src/assets/icons/ico-gif.svg\";\n\nimport {t} from \"../../../i18n/utils\";\n\nconst IMAGES_NUMBER_LIMIT = 6;\nconst VIDEOS_NUMBER_LIMIT = 1;\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"&.tools-group\": {\n        display: \"flex\",\n        marginRight: \"auto\",\n        marginLeft: \"-4px !important\",\n\n        \"& .tool\": {\n          // marginRight: theme.spacing(2.75),\n          transition: \".1s all ease-in-out\",\n          marginRight: `${theme.spacing(0.5)}px !important`,\n\n          padding: theme.spacing(1),\n          \"&:hover\": {\n            borderRadius: \"100%\",\n            backgroundColor: \"#F2F9FF\",\n          },\n\n          [theme.breakpoints.down(\"sm\")]: {\n            marginRight: \"46px !important\",\n          },\n          [theme.breakpoints.only(\"xs\")]: {\n            \"&:last-child\": {\n              marginRight: \"auto !important\",\n            },\n          },\n          \"& span.icon\": {\n            width: \"auto\",\n            height: \"auto\",\n\n            \"& svg\": {\n              width: 20,\n              height: 20,\n              fill: \"transparent\",\n              stroke: `${theme.palette.primary.main} !important`,\n            },\n          },\n        },\n      },\n    },\n  }),\n);\n\n/**\n * Prototype input box for creating a post.\n */\nexport const PostToolsGroup = ({\n  gif,\n  scenes,\n  onSelectFiles,\n  onSelectEmoji,\n  onSelectGiphy,\n  setupDeleteFile,\n  setupUploadFiles,\n  filesToRestore,\n}) => {\n  const classes = useStyles();\n  const fileInputRef = useRef();\n\n  return (\n    <div className={`${classes.root} tools-group`}>\n      <div\n        className=\"tool\"\n        onClick={() => {\n          const _fileInput = fileInputRef.current;\n          if (gif) {\n            toast.info(\n              <NotifMessage\n                message={t(\"getter_fe.post.tips.gif_with_media\")}\n              />,\n              {\n                type: toast.TYPE.WARNING,\n              },\n            );\n          } else if (\n            _fileInput.getAttribute(\"uploaded-type\") === \"video\" &&\n            Number(_fileInput.getAttribute(\"uploaded-number\")) >=\n              VIDEOS_NUMBER_LIMIT\n          ) {\n            toast.info(\n              <NotifMessage\n                message={t(\"getter_fe.post.tips.at_most_videos\", {\n                  number: VIDEOS_NUMBER_LIMIT,\n                })}\n              />,\n              {\n                type: toast.TYPE.WARNING,\n              },\n            );\n          } else if (\n            _fileInput.getAttribute(\"uploaded-type\") === \"image\" &&\n            Number(_fileInput.getAttribute(\"uploaded-number\")) >=\n              IMAGES_NUMBER_LIMIT\n          ) {\n            toast.info(\n              <NotifMessage\n                message={t(\"getter_fe.post.tips.at_most_images\", {\n                  number: IMAGES_NUMBER_LIMIT,\n                })}\n              />,\n              {\n                type: toast.TYPE.WARNING,\n              },\n            );\n          } else {\n            setTimeout(() => fileInputRef.current.click(), 100);\n          }\n        }}\n      >\n        <Tooltip title={t(\"getter_fe.post.button.media\")} aria-label=\"media\">\n          <span className=\"icon\">\n            <IconPic />\n          </span>\n        </Tooltip>\n      </div>\n      <GEmojiPicker\n        onSelect={(e, em) => {\n          onSelectEmoji && onSelectEmoji(e, em);\n        }}\n      />\n      <GGiphyPicker\n        validateBeforeClick={() => {\n          if (fileInputRef.current.getAttribute(\"uploaded-number\") == 0) {\n            // don't use ===\n            return true;\n          } else {\n            toast.info(\n              <NotifMessage\n                message={t(\"getter_fe.post.tips.gif_with_media\")}\n              />,\n              {\n                type: toast.TYPE.WARNING,\n              },\n            );\n            return false;\n          }\n        }}\n        onSelect={(gif) => {\n          onSelectGiphy && onSelectGiphy(gif);\n        }}\n      >\n        <div className=\"tool\">\n          <Tooltip title={t(\"getter_fe.post.button.gif\")} aria-label=\"gif\">\n            <span className=\"icon\">\n              <IconGif />\n            </span>\n          </Tooltip>\n        </div>\n      </GGiphyPicker>\n      <FileUploader\n        fileInputRef={fileInputRef}\n        onSelect={onSelectFiles || (() => {})}\n        scenes={scenes}\n        setupDeleteFile={setupDeleteFile}\n        setupUploadFiles={setupUploadFiles}\n        filesToRestore={filesToRestore}\n      />\n    </div>\n  );\n};\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {LinearProgress, CircularProgress} from \"@material-ui/core\";\nimport PopupDialog from \"../../app/components/PopupDialog\";\n\nconst useStyles = makeStyles((theme) => ({\n  defaultLoaderWrapper: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: \"rgba(255, 255, 255, 0.9)\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    zIndex: 10,\n  },\n  loader: {\n    margin: \"auto\",\n    \"&.MuiCircularProgress-colorPrimary .MuiCircularProgress-svg\": {\n      color: ({color}) =>\n        color === \"primary\" ? theme.palette.primary.main : color,\n    },\n  },\n  linearProgress: {\n    margin: \"auto\",\n    height: 6,\n    width: 300,\n    backgroundColor: theme.palette.background.light,\n    borderRadius: 8,\n    \"& .MuiLinearProgress-barColorPrimary\": {\n      borderRadius: 8,\n    },\n  },\n  popupLoaderWrapper: {\n    \"& .popup-content\": {\n      width: \"394px !important\",\n      \"& .header\": {\n        border: \"none\",\n        \"& .icon.cancel\": {\n          top: \"18px\",\n          right: \"18px\",\n        },\n      },\n      \"& .content\": {\n        textAlign: \"center\",\n        padding: \"0 0 50px !important\",\n        \"& .tips\": {\n          fontSize: \"20px\",\n          fontWeight: 800,\n          padding: \"24px 72px\",\n          color: theme.palette.text.primary,\n        },\n        \"& .MuiLinearProgress-root\": {\n          marginTop: \"16px\",\n        },\n      },\n    },\n  },\n  loaderWrapper: {\n    textAlign: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    padding: ({isButton}) => (isButton ? 0 : \"0 0 50px !important\"),\n\n    \"& .tips\": {\n      fontSize: \"20px\",\n      fontWeight: 800,\n      padding: \"24px 72px\",\n      color: theme.palette.text.primary,\n    },\n    \"& .MuiLinearProgress-root\": {\n      marginTop: \"16px\",\n    },\n  },\n}));\n\nexport const GLoader = ({\n  progress,\n  isPopup,\n  tips,\n  wrapperStyle,\n  notCloseOnDocumentClick,\n  withBorderRadius,\n  type = \"normal\",\n  isButton,\n  color = \"primary\",\n}) => {\n  const classes = useStyles({isButton, color});\n\n  const loaderContent = (\n    <>\n      {progress > -1 ? (\n        <LinearProgress\n          variant=\"determinate\"\n          value={progress}\n          className={classes.linearProgress}\n          size={41}\n          thickness={2}\n        />\n      ) : (\n        <CircularProgress\n          className={classes.loader}\n          size={type === \"small\" ? 20 : 41}\n          thickness={2}\n        />\n      )}\n    </>\n  );\n\n  return !isPopup ? (\n    <div\n      style={{...wrapperStyle, borderRadius: withBorderRadius ? 6 : 0}}\n      className={!wrapperStyle ? classes.defaultLoaderWrapper : \"\"}\n    >\n      <div className={classes.loaderWrapper}>\n        {tips ? <h5 className=\"tips\">{tips}</h5> : null}\n        {loaderContent}\n      </div>\n    </div>\n  ) : (\n    <div className={classes.popupLoaderWrapper}>\n      <PopupDialog\n        nested={true}\n        open={true}\n        hasOK={true}\n        hasCancel={true}\n        needDoNothing={true}\n        parentComp={this}\n        trigger={<div />}\n        closeOnDocumentClick={notCloseOnDocumentClick ? false : true}\n      >\n        <h5 className=\"tips\">{tips}</h5>\n        {loaderContent}\n      </PopupDialog>\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.6634 2.94312H3.7185C2.61393 2.94312 1.7185 3.83855 1.7185 4.94312V9\",\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.49829 0.937256L11.2788 2.71779C11.4043 2.84323 11.4043 3.04662 11.2788 3.17207L9.49829 4.9526\",\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.31897 12.0608H11.2639C12.3684 12.0608 13.2639 11.1654 13.2639 10.0608V6\",\n  strokeLinecap: \"round\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.48413 14.0652L3.7036 12.2847C3.57815 12.1592 3.57815 11.9558 3.7036 11.8304L5.48413 10.0498\",\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoRetweet(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 15,\n    viewBox: \"0 0 15 15\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoRetweet);\nexport default __webpack_public_path__ + \"static/media/ico-retweet.d318a116.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.75 13.5C7.57843 13.5 8.25 12.8284 8.25 12C8.25 11.1716 7.57843 10.5 6.75 10.5C5.92157 10.5 5.25 11.1716 5.25 12C5.25 12.8284 5.92157 13.5 6.75 13.5Z\",\n  fill: \"\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.75 13.5C12.5784 13.5 13.25 12.8284 13.25 12C13.25 11.1716 12.5784 10.5 11.75 10.5C10.9216 10.5 10.25 11.1716 10.25 12C10.25 12.8284 10.9216 13.5 11.75 13.5Z\",\n  fill: \"\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.75 13.5C17.5784 13.5 18.25 12.8284 18.25 12C18.25 11.1716 17.5784 10.5 16.75 10.5C15.9216 10.5 15.25 11.1716 15.25 12C15.25 12.8284 15.9216 13.5 16.75 13.5Z\",\n  fill: \"\"\n});\n\nfunction SvgIconMoreVertical(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconMoreVertical);\nexport default __webpack_public_path__ + \"static/media/icon_more_vertical.6d3c1581.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState, useEffect} from \"react\";\nimport {connect} from \"react-redux\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport {GButton} from \"../../styles/components/GButton\";\nimport {t} from \"../../i18n/utils\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {changeFollowingStatus} from \"src/store/modules/status\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {toast} from \"react-toastify\";\nimport {\n  STATUS_FOLLOWING,\n  STATUS_NOT_FOLLOWING,\n  STATUS_PENDING,\n  STATUS_BLOCKED,\n  STATUS_UNKNOWN,\n} from \"../../core/model/social/XMFollow\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    btn: {\n      maxWidth: 98,\n      height: 32,\n      fontWeight: theme.typography.fontWeightBold,\n      textTransform: \"capitalize\",\n      borderRadius: 100,\n      \"&.unlock-following:hover\": {\n        // backgroundColor: () =>\n        //   /Mobi|Android/i.test(navigator.userAgent)\n        //     ? null\n        //     : `${theme.palette.background.notif} !important`,\n      },\n      \"& .MuiButton-label\": {\n        fontSize: 15,\n      },\n      \"&.follow-button\": {\n        minWidth: 80,\n      },\n    },\n    unfollowBtn: {\n      width: 98,\n      height: 32,\n      fontWeight: theme.typography.fontWeightBold,\n      textTransform: \"capitalize\",\n      backgroundColor: `${theme.palette.background.hover} !important`,\n      borderRadius: 100,\n      \"& .MuiButton-label\": {\n        fontSize: 15,\n      },\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      authenticated: state.auth?.session?.authenticated,\n      following: state.status.following,\n    };\n  },\n  {changeFollowingStatus},\n);\n\nexport const FollowUserButton = connector(_FollowUserButton);\n\nfunction _FollowUserButton({\n  userId,\n  xUserStats,\n  updateUserStats,\n  getUserStatus = null,\n  following,\n  username,\n  changeFollowingStatus,\n  scene,\n  suggestFollow = null,\n  isPopup = false,\n  authenticated,\n}) {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [hover, setHover] = useState(false);\n  const [hidden, setHidden] = useState(false);\n  const [statusLabel, setStatusLabel] = useState();\n\n  const [lockFollowing, setLockFollowing] = useState(false);\n  const api = Global.GetPortal().getAppService();\n  const loggedInUserId = api.getUserId();\n  userId = userId?.toLowerCase();\n  const userIsSelf = loggedInUserId === userId;\n\n  if (userIsSelf) {\n    return null;\n  }\n\n  const status = following[userId] ? \"y\" : \"n\";\n\n  useEffect(() => {\n    const getFollowLabel = () => {\n      if (status === STATUS_FOLLOWING && (!hover || lockFollowing)) {\n        return t(\"getter_fe.common.user.following\");\n      } else if (status === STATUS_FOLLOWING && hover) {\n        return t(\"getter_fe.common.user.unfollow\");\n      } else {\n        return t(\"getter_fe.common.user.follow\");\n      }\n    };\n    if (\n      authenticated &&\n      scene === \"public-user-view\" &&\n      following[userId] === undefined\n    ) {\n      fetchFollowStatus();\n    }\n    setStatusLabel(getFollowLabel());\n  }, [hover, status, lockFollowing]);\n\n  const fetchFollowStatus = async () => {\n    if (loading) return;\n    setLoading(true);\n\n    try {\n      const ret = await api.userFollowStatus(userId);\n      console.log(ret);\n      if (ret === STATUS_NOT_FOLLOWING) {\n        changeFollowingStatus({\n          userId,\n          status: false,\n        });\n      } else if (ret === STATUS_FOLLOWING) {\n        changeFollowingStatus({\n          userId,\n          status: true,\n        });\n      } else if (ret === STATUS_PENDING || ret === STATUS_BLOCKED) {\n        setHidden(true);\n      }\n      setLoading(false);\n    } catch (e) {\n      setLoading(false);\n      console.error(e);\n    }\n  };\n\n  const followUser = async (e) => {\n    if (loading) return;\n    // setLoading(true);\n\n    changeFollowingStatus({\n      userId,\n      status: true,\n    });\n    setLockFollowing(true);\n\n    try {\n      api.userFollows(userId, null, (err) => {\n        xUserStats?.setFollowsCount(xUserStats?.getFollowsCount() + 1);\n        if (xUserStats && updateUserStats) {\n          updateUserStats();\n        }\n        // setLoading(false);\n        if (err) {\n          changeFollowingStatus({\n            userId,\n            status: false,\n          });\n\n          if (err && err.data?.emsg?.includes(\"blocked\")) {\n            toast(\n              <NotifMessage\n                message={t(\"getter_fe.profile.common.unblockedBy\", {\n                  username,\n                })}\n              />,\n              {\n                type: toast.TYPE.ERROR,\n              },\n            );\n          }\n        } else {\n          getUserStatus && getUserStatus(true);\n          suggestFollow && suggestFollow();\n        }\n      });\n    } catch (e) {\n      console.error(e);\n    }\n\n    e.stopPropagation();\n  }; // followUser\n\n  const unfollowUser = async (e, callback) => {\n    if (loading) return;\n    callback();\n\n    changeFollowingStatus({\n      userId,\n      status: false,\n    });\n\n    try {\n      api.userUnfollows(userId, null, (err) => {\n        xUserStats?.setFollowsCount(xUserStats?.getFollowsCount() - 1);\n        if (xUserStats && updateUserStats) {\n          updateUserStats();\n        }\n\n        if (err) {\n          changeFollowingStatus({\n            userId,\n            status: true,\n          });\n        } else {\n          getUserStatus && getUserStatus(false);\n\n          changeFollowingStatus({\n            userId,\n            status: false,\n          });\n        }\n      });\n    } catch (e) {\n      console.error(e);\n    }\n\n    e.stopPropagation();\n  }; // unfollowUser\n\n  const unfollowConfirm = async (e) => {\n    if (lockFollowing || loading) return;\n\n    if (isPopup) {\n      unfollowUser(e, () => {});\n    } else {\n      GConfirmAlert({\n        title: t(\"getter_fe.profile.common.unfollowUsername\", {\n          username,\n        }),\n        text: t(\"getter_fe.post.tips.unfollow_tips\", {\n          username,\n        }),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n        },\n        confirm: {\n          text: t(\"getter_fe.post.button.unfollow\"),\n          type: \"danger\",\n          callback: (close) => {\n            unfollowUser(e, close);\n          },\n        },\n      });\n    }\n  }; // unfollowConfirm\n\n  const handleMouseOver = () => {\n    setHover(true);\n  };\n\n  const handleMouseLeave = () => {\n    setHover(false);\n    setLockFollowing(false);\n  };\n\n  const handleClick = (e) => {\n    e.stopPropagation();\n    if (!loggedInUserId) {\n      window.location.href = \"/login\";\n      return;\n    }\n\n    if (userId && loggedInUserId) {\n      if (status === STATUS_FOLLOWING) {\n        unfollowConfirm(e);\n      } else if (status === STATUS_NOT_FOLLOWING || status === STATUS_UNKNOWN) {\n        followUser(e);\n      }\n    } else {\n      GConfirmAlert({\n        confirmType: \"LOGIN\",\n        title: t(\"getter_fe.auth.common.getter\"),\n        uppercase: true,\n        text: t(\"getter_fe.auth.notification.phrase1\"),\n        text1: t(\"getter_fe.auth.notification.phrase2\"),\n        primary: {\n          text: t(\"getter_fe.auth.common.login\"),\n          type: \"primary\",\n          callback: (close) => {\n            close();\n            window.location.href = \"/login\";\n          },\n        },\n        secondary: {\n          text: t(\"getter_fe.auth.common.createAccount\"),\n          type: \"secondary\",\n          callback: (close) => {\n            close();\n            window.location.href = \"/signup\";\n          },\n        },\n        showCloseIcon: true,\n      });\n    }\n  };\n\n  if (!loading && hidden) {\n    return null;\n  }\n\n  const wrapperStyle = {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: \"100%\", // handle if the screen height is small\n  };\n\n  if (!loggedInUserId) {\n    return (\n      <GButton\n        onClick={handleClick}\n        onMouseOver={handleMouseOver}\n        onMouseLeave={handleMouseLeave}\n        variant={\"outlined\"}\n        className={classes.btn}\n      >\n        {t(\"getter_fe.common.user.follow\")}\n      </GButton>\n    );\n  } else {\n    return (\n      <GButton\n        onClick={handleClick}\n        onMouseOver={handleMouseOver}\n        onMouseLeave={handleMouseLeave}\n        variant={\n          loading || status !== STATUS_FOLLOWING ? \"outlined\" : \"contained\"\n        }\n        className={`${\n          hover && status !== \"n\" && !lockFollowing\n            ? classes.unfollowBtn\n            : classes.btn\n        }${status === \"n\" ? \" follow-button\" : \"\"} ${\n          !lockFollowing && \"unlock-following\"\n        }`}\n      >\n        {loading ? (\n          <GLoader wrapperStyle={wrapperStyle} type=\"small\" isButton />\n        ) : (\n          statusLabel\n        )}\n      </GButton>\n    );\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 8.56722,\n  cy: 7.99935,\n  r: 7.33333,\n  fill: \"#0F6CF6\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.0913 8.92572L7.44729 11.8649L13.0799 5.42751L12.1557 4.6309L7.33165 10.1432L4.8883 8.00745L4.0913 8.92572Z\",\n  fill: \"white\"\n});\n\nfunction SvgIcoVerification(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoVerification);\nexport default __webpack_public_path__ + \"static/media/ico-verification.f418f80e.svg\";\nexport { ForwardRef as ReactComponent };","export const formatLongNumber = (num) => {\n  if (!num) return 0;\n  let val = parseInt(num);\n  if (val < 1000) return val;\n\n  // thousands, millions, billions etc..\n  let s = [\"\", \"K\", \"M\", \"B\", \"T\"];\n  let sNum = Math.floor((\"\" + val).length / 3);\n  let sVal = parseFloat(\n    (sNum != 0 ? val / Math.pow(1000, sNum) : val).toPrecision(4),\n  );\n\n  if (sVal < 1 && sNum === 2) {\n    sVal = sVal * 1000;\n    sNum = 1;\n  } else if (sVal < 1 && sNum === 3) {\n    sVal = sVal * 1000;\n    sNum = 2;\n  } else if (sVal < 1 && sNum === 4) {\n    sVal = sVal * 1000;\n    sNum = 3;\n  } else if (sVal % 1 != 0) {\n    sVal = String(Math.floor(sVal * 10) / 10);\n  }\n\n  // handle long decimal values\n  if ((\"\" + sVal).split(\".\")[1]?.length > 2) {\n    sVal = sVal.toFixed(2);\n  }\n\n  return sVal + s[sNum];\n};\n\nexport const shortNum = (num, sigfigs_opt) => {\n  // Set default sigfigs to 3\n  sigfigs_opt = typeof sigfigs_opt === \"undefined\" ? 3 : sigfigs_opt;\n  // Only assigns sig figs and suffixes for numbers > 1\n  if (num < 1000) return num;\n  // if (num <= 1) return num.toPrecision(sigfigs_opt);\n  // Calculate for numbers > 1\n  let power10 = Math.round((Math.log(num) / Math.LN10) * 1e6) / 1e6;\n  let power10ceiling = Math.floor(power10) + 1;\n  // 0 = '', 1 = 'K', 2 = 'M', 3 = 'B', 4 = 'T'\n  let SUFFIXES = [\"\", \"K\", \"M\", \"B\", \"T\"];\n  // 100: power10 = 2, suffixNum = 0, suffix = ''\n  // 1000: power10 = 3, suffixNum = 1, suffix = 'K'\n  let suffixNum = Math.floor(power10 / 3);\n  let suffix = SUFFIXES[suffixNum];\n  // Would be 1 for '', 1000 for 'K', 1000000 for 'M', etc.\n  let suffixPower10 = Math.pow(10, suffixNum * 3);\n  let base = num / suffixPower10;\n  let baseRound = base.toPrecision(sigfigs_opt);\n\n  return baseRound + suffix;\n};\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Box} from \"@material-ui/core\";\nimport {FollowUserButton} from \"../../components/FollowUserButton\";\nimport {AvatarLink} from \"../../components/AvatarLink\";\nimport {ReactComponent as VerificationIcon} from \"../../../assets/icons/ico-verification.svg\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport {t} from \"src/i18n/utils\";\nimport {shortNum} from \"src/util/NumberUtil\";\nimport clsx from \"clsx\";\nimport {useHistory} from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"350px\",\n    background: theme.palette.background.default,\n    borderRadius: \"10px\",\n    border: `1px solid ${theme.palette.grey.A800}`,\n    boxShadow: \"0px 0px 11px rgba(86, 103, 121, 0.19)\",\n    padding: \"12px 20px\",\n    fontSize: \"16px\",\n    fontWeight: 400,\n    whiteSpace: \"normal\",\n  },\n  avatar: {\n    width: \"50px\",\n    height: \"50px\",\n    borderRadius: \"100%\",\n    cursor: \"pointer\",\n  },\n  nickname: {\n    color: theme.palette.text.primary,\n    fontWeight: \"bold\",\n    cursor: \"pointer\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n  },\n  secondaryText: {\n    color: theme.palette.text.secondary,\n  },\n  follow: {\n    marginTop: \"16px\",\n    paddingBottom: \"4px\",\n  },\n  followText: {\n    color: theme.palette.text.primary,\n    fontWeight: \"bold\",\n    marginRight: \"5px\",\n    fontSize: \"14px\",\n    cursor: \"pointer\",\n  },\n  icon: {\n    width: 16,\n    height: 16,\n    margin: theme.spacing(0, 0, 0, 0.5),\n    borderRadius: \"100%\",\n    paddingTop: theme.spacing(0.25),\n  },\n  description: {\n    display: \"-webkit-box\",\n    \"-webkit-line-clamp\": 3,\n    \"-webkit-box-orient\": \"vertical\",\n    overflow: \"hidden\",\n    wordBreak: \"break-word\",\n  },\n  followingName: {\n    cursor: \"pointer\",\n  },\n  followersName: {\n    cursor: \"pointer\",\n  },\n  followAndFollowingContainer: {\n    borderBottom: `1px solid transparent`,\n    \"&:hover\": {\n      borderBottom: `1px solid ${theme.palette.text.primary}`,\n    },\n  },\n}));\n\nconst UserProfilePopup = ({userId, userInfo, getUserStatus = null}) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  if (userInfo === null) return null;\n  const getTotalFollowers = () => {\n    let flg = userInfo.data?.flg ? userInfo.data?.flg : 0;\n    let twitter = userInfo.data?.twt_flg ? userInfo.data?.twt_flg : 0;\n    return shortNum(flg * 1 + twitter * 1);\n  };\n\n  const gotoFollowers = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    history.push(`/user/${userId}/followers`);\n  };\n\n  const gotoFollowing = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    history.push(`/user/${userId}/following`);\n  };\n\n  return (\n    <div\n      className={classes.root}\n      onClick={(e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }}\n    >\n      <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\n        <AvatarLink\n          avatarUrl={userInfo.getAvatarUrl()}\n          styleClasses={classes.avatar}\n          userId={userId}\n          username={userInfo.getNickname()}\n        />\n        <div>\n          <FollowUserButton\n            userId={userId}\n            compName={userId + \"flwg\"}\n            getUserStatus={getUserStatus}\n            username={\n              userInfo.data.nickname ||\n              userInfo.data.ousername ||\n              userInfo.data.username\n            }\n            isPopup={true}\n            scene=\"public-user-view\"\n          />\n        </div>\n      </Box>\n      <Box display=\"flex\" flexDirection=\"column\">\n        <Box display=\"flex\" alignItems=\"center\">\n          <span className={classes.nickname}>\n            <GTwemoji text={userInfo.getNickname()} />\n          </span>\n          {userInfo.isInfluencer && userInfo.isInfluencer() > 0 && (\n            <VerificationIcon className={classes.icon} />\n          )}\n        </Box>\n        <Box display=\"flex\" className={classes.secondaryText}>\n          @{userInfo.data.ousername || userInfo.data.username}\n        </Box>\n      </Box>\n\n      {/* @TODO find out why empty values are the string \"null\" on user object */}\n      {userInfo.getDescription() && userInfo.getDescription() !== \"null\" ? (\n        <Box mt={2} className={classes.description}>\n          <GTwemoji text={userInfo.getDescription()} size={18} />\n        </Box>\n      ) : null}\n\n      <Box className={classes.follow} display=\"flex\">\n        <Box mr={2} className={classes.followAndFollowingContainer}>\n          <span\n            className={classes.followText}\n            onClick={(e) => gotoFollowing(e)}\n          >\n            {shortNum(userInfo.getFollowsCount() || 0)}\n          </span>\n          <span\n            className={clsx(classes.secondaryText, classes.followingName)}\n            onClick={(e) => gotoFollowing(e)}\n          >\n            {t(\"getter_fe.profile.common.following\")}\n          </span>\n        </Box>\n\n        <Box className={classes.followAndFollowingContainer}>\n          <span\n            className={classes.followText}\n            onClick={(e) => gotoFollowers(e)}\n          >\n            {getTotalFollowers()}\n          </span>\n          <span\n            className={clsx(classes.secondaryText, classes.followersName)}\n            onClick={(e) => gotoFollowers(e)}\n          >\n            {t(\"getter_fe.profile.common.followers\")}\n          </span>\n        </Box>\n      </Box>\n    </div>\n  );\n};\n\nexport default UserProfilePopup;\n","import React, {useState, useEffect, useRef} from \"react\";\nimport clsx from \"clsx\";\nimport Popover from \"@material-ui/core/Popover\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport UserProfilePopup from \"../pages/dashboard/UserProfilePopup\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingRight: \"0 !important\",\n    overflow: \"hidden\",\n    display: \"flex\",\n    \"& .MuiPopover-paper\": {\n      transform: \"translate(-50%, 10px) !important\",\n    },\n  },\n  popover: {\n    padding: 0,\n    pointerEvents: \"none\",\n  },\n  paper: {\n    padding: 0,\n    marginTop: theme.spacing(1.25),\n    borderRadius: theme.spacing(1.25),\n    minWidth: 0,\n    minHeight: 0,\n    pointerEvents: \"auto\",\n    \"&.flip\": {\n      marginTop: theme.spacing(-1.5),\n    },\n  },\n}));\n\nconst HoverPopup = ({\n  userId = null,\n  userInfoTemp = null,\n  getUserStatus = null,\n  leftAligned = false,\n  children = null,\n  extraClass,\n}) => {\n  if (userInfoTemp?._id) {\n    userId = userInfoTemp?._id;\n  }\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [hover, setHover] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [userInfo, setUserInfo] = useState(null);\n  const [outOfScreen, setOutOfScreen] = useState(false);\n  const popoverContainer = useRef(null);\n  const postFeedItemContainer = useRef(null);\n\n  const api = Global.GetPortal().getAppService();\n\n  const handlePopoverOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handlePopoverClose = () => {\n    setOpen(false);\n  };\n\n  const keepPopoverOpen = () => {\n    setOpen(true);\n  };\n\n  const mouseEnter = (event) => {\n    setHover(true);\n    let rect = postFeedItemContainer.current?.getBoundingClientRect();\n    if (rect) {\n      if (\n        rect.top < 0 ||\n        rect.left < 0 ||\n        rect.bottom + 230 >\n          (window.innerHeight || document.documentElement.clientHeight) ||\n        rect.right < 0\n      ) {\n        setOutOfScreen(true);\n      } else {\n        setOutOfScreen(false);\n      }\n    }\n    handlePopoverOpen(event);\n  };\n\n  const mouseLeave = () => {\n    setHover(false);\n    // setOutOfScreen(false);\n    handlePopoverClose();\n  };\n\n  const onTimeout = () => {\n    setOpen(true);\n    fetchUserInfo();\n  };\n\n  useEffect(() => {\n    const timer = hover && setTimeout(onTimeout, 500);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [hover]);\n\n  const fetchUserInfo = async () => {\n    if (\n      userInfoTemp &&\n      typeof userInfoTemp.getFollowsCount === \"function\" &&\n      userInfoTemp.getFollowsCount() !== null &&\n      typeof userInfoTemp.getFollowedCount === \"function\" &&\n      userInfoTemp.getFollowedCount() !== null\n    ) {\n      setUserInfo(userInfoTemp);\n    } else {\n      if (isLoading) return;\n      setIsLoading(true);\n\n      try {\n        if (userId && api) {\n          const userRes = await api.fetchUserInfo(userId);\n          userRes && setUserInfo(userRes);\n          setIsLoading(false);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n\n  return (\n    <>\n      <div\n        aria-owns={open ? \"mouse-over-popover\" : \"\"}\n        id=\"hoverPopup\"\n        onMouseEnter={mouseEnter}\n        onMouseLeave={mouseLeave}\n        className={clsx(classes.root, extraClass ? extraClass : \"\")}\n        ref={postFeedItemContainer}\n      >\n        {children}\n      </div>\n      <div ref={popoverContainer}>\n        <Popover\n          id=\"mouse-over-popover\"\n          className={classes.popover}\n          classes={{\n            paper: clsx(classes.paper, outOfScreen ? \"flip\" : \"\"),\n          }}\n          open={open && !isLoading && userInfo}\n          anchorEl={anchorEl}\n          // container={anchorEl}\n          anchorOrigin={{\n            vertical: outOfScreen ? \"top\" : \"bottom\",\n            horizontal: leftAligned ? \"left\" : \"center\",\n          }}\n          transformOrigin={{\n            vertical: outOfScreen ? \"bottom\" : \"top\",\n            horizontal: leftAligned ? \"left\" : \"center\",\n          }}\n          PaperProps={{\n            onMouseEnter: keepPopoverOpen,\n            onMouseLeave: handlePopoverClose,\n          }}\n          onClose={handlePopoverClose}\n          getContentAnchorEl={null}\n          disableRestoreFocus\n        >\n          {userId && userInfo && (\n            <UserProfilePopup\n              userId={userId}\n              userInfo={userInfo}\n              getUserStatus={getUserStatus}\n            />\n          )}\n        </Popover>\n      </div>\n    </>\n  );\n};\n\nexport default HoverPopup;\n","import {Link} from \"react-router-dom\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\n\nexport const UserLabelLink = ({userId, nickname, onClick}) => {\n  return (\n    <Link\n      to={`/user/${userId}`}\n      onClick={(e) => {\n        e.stopPropagation();\n        if (typeof onClick === \"function\") {\n          onClick();\n        }\n      }}\n    >\n      <GTwemoji text={nickname ?? userId} />\n    </Link>\n  );\n};\n","import React, {useEffect, useRef, useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core\";\nimport ResizeObserver from \"resize-observer-polyfill\";\nimport {\n  zoomImage,\n  handleMediaUrl,\n  getTiledImageStyleFromMetadata,\n} from \"src/util/imageUtils\";\n\nconst useStyles = makeStyles((theme) => ({\n  rootTiledImages: {\n    width: \"100%\",\n    display: ({single}) => (single ? \"block\" : \"grid\"),\n    gridTemplateColumns: \"auto auto\",\n    gridGap: \"2px\",\n    maxHeight: \"284px\",\n    overflow: \"hidden\",\n    [theme.breakpoints.down(\"xs\")]: {\n      gridGap: \"5px\",\n    },\n    \"& img\": {\n      width: \"100%\",\n      height: \"auto\",\n      height: ({imgData}) => (imgData ? \"auto\" : \"100%\"),\n      objectFit: \"cover\",\n      position: \"relative\",\n      \"&[alt]:after\": {\n        display: \"block\",\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\",\n        content: \"attr(alt)\",\n        backgroundColor: theme.palette.grey.A300,\n      },\n    },\n    \"& .img_item\": {\n      width: \"100%\",\n      height: \"141px\",\n      position: \"relative\",\n      [theme.breakpoints.down(\"xs\")]: {\n        height: \"75px\",\n      },\n    },\n    \"& .img_1_1\": {\n      height: 284,\n    },\n    \"& .img_1_2, .img_2_2\": {\n      height: \"284px\",\n      [theme.breakpoints.down(\"xs\")]: {\n        height: \"155px !important\",\n      },\n    },\n    \"& .img_1_3\": {\n      height: \"284px\",\n      gridColumn: 1,\n      gridRow: \"1 / span 2\",\n      [theme.breakpoints.down(\"xs\")]: {\n        height: \"155px !important\",\n      },\n    },\n  },\n  extraImgsCount: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: \"#11111199\",\n    fontSize: 20,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: \"#fff\",\n  },\n}));\n\nconst TiledImages = ({imageURLs, handleClick, imgData, noZoom}) => {\n  const [imageContainersDimensions, setImageContainersDimensions] = useState(\n    [],\n  );\n  const rootContainerRef = useRef(null);\n  // filter out falsy URLS\n  const _imageURLs = imageURLs.filter((URL) => URL);\n  const classes = useStyles({single: _imageURLs.length === 1, imgData});\n\n  useEffect(() => {\n    if (!imgData) {\n      return;\n    }\n    const imageContainers = rootContainerRef.current?.querySelectorAll(\n      \".img_item\",\n    );\n    const resizeObserver = new ResizeObserver((entries) => {\n      setImageContainersDimensions(\n        entries.map(({contentRect: {width, height}}) => ({\n          width,\n          height,\n        })),\n      );\n    });\n    setImageContainersDimensions(\n      [...imageContainers].map((imageContainer) => {\n        const {width, height} = imageContainer.getBoundingClientRect();\n        resizeObserver.observe(imageContainer);\n        return {width, height};\n      }),\n    );\n\n    return () =>\n      imageContainers.forEach((imageContainer) =>\n        resizeObserver.unobserve(imageContainer),\n      );\n  }, []);\n\n  const handleClickImage = (e, index) => {\n    e.stopPropagation();\n    if (handleClick) handleClick(index);\n  };\n  return (\n    <div className={classes.rootTiledImages} ref={rootContainerRef}>\n      {[0, 1, 2, 3].map(\n        (index) =>\n          _imageURLs.length > index && (\n            <div\n              key={_imageURLs[index]}\n              className={`img_item img_${index + 1}_${_imageURLs.length}`}\n            >\n              <img\n                src={handleMediaUrl(\n                  process.env.REACT_APP_MEDIA_BASE,\n                  noZoom\n                    ? _imageURLs[index]\n                    : zoomImage(_imageURLs[index], 500, 0),\n                )}\n                onClick={(e) => handleClickImage(e, index)}\n                alt=\"\"\n                style={\n                  imgData\n                    ? getTiledImageStyleFromMetadata(\n                        imgData[index],\n                        imageContainersDimensions[index]?.width,\n                        imageContainersDimensions[index]?.height,\n                      )\n                    : null\n                }\n                onError={(event) => (event.target.style.display = \"none\")}\n              />\n              {index === 3 && _imageURLs.length > 4 ? (\n                <div\n                  className={classes.extraImgsCount}\n                  onClick={(e) => handleClickImage(e, index)}\n                >\n                  <span>+{_imageURLs.length - 4}</span>\n                </div>\n              ) : null}\n            </div>\n          ),\n      )}\n    </div>\n  );\n};\n\nexport default TiledImages;\n","import React from \"react\";\nimport emojiRegex from \"emoji-regex\";\nimport {\n  HASHTAG_SPECIAL_SYMBOL_REG,\n  SPECIAL_SYMBOL,\n} from \"src/styles/components/GMentionsInput\";\nconst NON_SPECIAL_SYMBOL_REG = `[^${SPECIAL_SYMBOL.join(\"|\")}]`;\n\nconst UrlMatchPattern = new RegExp(\n  /(?:(?:https?|ftp|file):\\/\\/|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#\\/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#\\/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#\\/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#\\/%=~_|$])/,\n  \"gi\",\n); // fragment locator\n\n/**\n * Utilities to support Web frontend only\n */\nexport class UIUtil {\n  /**\n   * Give a text composed by user, this utility will wrap\n   * around @hashtags, user @mentions, and url with <a href>\n   * so that they are clickable.\n   * @param {GetterService} api\n   * @param {string} text\n   * @return {*[]} array of components and text\n   */\n  static WrapLinksToText(api, text) {\n    const cleanText = text;\n    let t = cleanText;\n\n    if (!t) {\n      return \"\";\n    }\n\n    t = t\n      .replace(UrlMatchPattern, `<a href=\"$&\" external=\"true\">$&</a>`)\n      .replace(\n        new RegExp(\n          `(\\\\s|${HASHTAG_SPECIAL_SYMBOL_REG}|^)(#${NON_SPECIAL_SYMBOL_REG}{1,100})`,\n          \"g\",\n        ),\n        (hashtag) => {\n          const data = hashtag.split(\"#\");\n          let url = api?.getUrlHashtagPage(data[1]);\n          return `${data[0]}<a href=\"${url}\" value=\"#${data[1]}\">#${data[1]}</a>`;\n        },\n      )\n      .replace(\n        new RegExp(`(\\\\s|^)(@${NON_SPECIAL_SYMBOL_REG}+)`, \"g\"),\n        (mention) => {\n          let url = api?.getUrlUsertagPage(mention.slice(1));\n          return `<a href=\"${url}\" value=\"${mention}\">${mention}</a>`;\n        },\n      );\n\n    return t;\n  } // WrapLinksToTexts\n\n  /**\n   * Replace all white space with &nbsp; if\n   * the input is a string type\n   *\n   * @param {*} str any type, but onl process\n   * if its a string type\n   */\n  static AdjustHTMLEdgeSpace(str) {\n    if (typeof str === \"string\") {\n      if (str.startsWith(\" \")) str = <span>&nbsp;{str.trim()}</span>;\n    }\n    return str;\n  }\n\n  /**\n   * this utility will wrap\n   * around emoji\n   * @param {string} text\n   * @return {*[]} array of components and text\n   */\n  static WrapEmojiToText(text = \"\") {\n    return (\n      text\n        // .replace(/'/g, \"&#39;\")\n        // .replace(/(\\/[a-z]+>)([^<>]+)(<)/g, \"$1<emoji value='$2'>$2</emoji>$3\")\n        // .replace(/^([^<>]+)/g, \"<emoji value='$1'>$1</emoji>\")\n        // .replace(/([^<>]+)$/g, \"<emoji value='$1'>$1</emoji>\")\n        .replace(\n          new RegExp(`(${emojiRegex().source})`, \"g\"),\n          \"<emoji value='$1'>$1</emoji>\",\n        )\n    );\n  }\n\n  static shortenLinkText(content) {\n    const charactersAllowedAfterHostname = 15;\n\n    const shortenElementURL = (element) => {\n      const {props} = element;\n\n      const a = document.createElement(\"a\");\n      a.setAttribute(\"href\", props.href);\n\n      let [preDomainName, afterDomainName] = props.children.split(a.hostname);\n\n      if (!afterDomainName) {\n        return props.children;\n      }\n\n      afterDomainName = afterDomainName.substring(1);\n\n      if (afterDomainName.length <= charactersAllowedAfterHostname) {\n        return props.children;\n      }\n\n      return (\n        preDomainName +\n        a.hostname +\n        \"/\" +\n        afterDomainName.slice(0, charactersAllowedAfterHostname) +\n        \"...\"\n      );\n    };\n\n    if (Array.isArray(content)) {\n      content.forEach((element, idx) => {\n        if (element.type === \"a\") {\n          const children = shortenElementURL(element);\n\n          if (!children) {\n            return;\n          }\n\n          content[idx] = {\n            ...element,\n            props: {\n              ...element.props,\n              children,\n            },\n          };\n        }\n      });\n    } else if (typeof content === \"object\" && content?.type === \"a\") {\n      const children = shortenElementURL(content);\n      if (!children) {\n        return;\n      }\n\n      content = {\n        ...content,\n        props: {\n          ...content.props,\n          children,\n        },\n      };\n    }\n\n    return content;\n  }\n}\n\nexport default UIUtil;\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport parse from \"html-react-parser\";\nimport clsx from \"clsx\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport {youtubeFormat} from \"src/util/TextUtil\";\nimport HoverPopup from \"src/app/components/HoverPopup\";\n\nimport UIUtil from \"../../util/UIUtil\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexWrap: \"wrap\",\n    whiteSpace: \"pre-wrap\",\n    \"&.text-content img\": {\n      fontSize: \"120%\",\n      verticalAlign: \"text-top !important\",\n      margin: \"0 0.15em !important\",\n    },\n  },\n  link: {\n    color: theme.blue.light,\n    fontWeight: 350,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      color: theme.blue.light,\n      textDecoration: \"underline\",\n    },\n  },\n  hide: {\n    display: \"none !important\",\n  },\n  tag: {\n    display: \"inline-block\",\n  },\n}));\n\nconst HighlightLink = ({text, type, previewUrl}) => {\n  if (!text) {\n    return \"\";\n  }\n\n  const api = Global.GetPortal().getAppService();\n\n  const classes = useStyles();\n  const isDetail = type === \"post-detail\" || type === \"comment-detail\";\n  let contentText = UIUtil.WrapEmojiToText(text);\n  contentText = UIUtil.WrapLinksToText(api, contentText);\n  contentText = contentText\n    .replace(/</g, \"\")\n    .replace(/>/g, \"\")\n    .replace(/a ([^]+)([^]+)\\/a/g, \"<a $1>$2</a>\")\n    .replace(/emoji ([^]+)([^]+)\\/emoji/g, \"<emoji $1>$2</emoji>\")\n    .replace(//g, \"&lt;\")\n    .replace(//g, \"&gt;\");\n\n  let content = parse(contentText, {\n    replace: (domNode) => {\n      let previewUrlNew = previewUrl;\n\n      if (domNode?.attribs && youtubeFormat(domNode.attribs.href)) {\n        previewUrlNew = domNode.attribs.href;\n      }\n      if (domNode.name === \"a\") {\n        if (!domNode.attribs.value) {\n          return (\n            <a\n              href={\n                /https?:\\/\\//.test(domNode.attribs.href)\n                  ? domNode.attribs.href\n                  : `http://${domNode.attribs.href}`\n              }\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              rel=\"noopener\"\n              onClick={(e) => {\n                e.stopPropagation();\n              }}\n              className={`${classes.link} ${\n                !domNode.next &&\n                previewUrlNew === domNode.attribs.href &&\n                classes.hide\n              }`}\n            >\n              {domNode.attribs.href}\n            </a>\n          );\n        } else {\n          return (\n            <div className={classes.tag}>\n              <HoverPopup userId={domNode.attribs.value?.split(\"@\")[1]}>\n                <div key=\"popup-handler\">\n                  <Link\n                    to={domNode.attribs.href}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                    }}\n                    className={classes.link}\n                  >\n                    <GTwemoji\n                      text={domNode.attribs.value}\n                      size={isDetail ? 24 : 20}\n                    />\n                  </Link>\n                </div>\n              </HoverPopup>\n            </div>\n          );\n        }\n      } else if (domNode.name === \"emoji\") {\n        return (\n          <GTwemoji text={domNode.attribs.value} size={isDetail ? 24 : 20} />\n        );\n      }\n    },\n  });\n\n  return (\n    <div className={clsx(classes.root, \"text-content\")}>\n      {UIUtil.shortenLinkText(content)}\n    </div>\n  );\n};\n\nexport default HighlightLink;\n","import React, {Fragment, useEffect, useRef, useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxHeight: \"500px !important\",\n  },\n  image: {\n    position: \"relative\",\n    width: \"100%\",\n    objectFit: \"cover\",\n    cursor: \"auto\",\n  },\n  gifBadge: {\n    position: \"absolute\",\n    bottom: 10,\n    left: 10,\n    background: \" rgba(0, 0, 0, 0.5)\",\n    borderRadius: 3,\n    fontSize: 15,\n    fontWeight: 500,\n    padding: \"2px 4px\",\n    textTransform: \"uppercase\",\n    color: theme.palette.text.disabled,\n  },\n}));\n\nconst getRealHeight = (imageWidth, imageHeight, containerWidth) => {\n  if (!imageWidth || !imageHeight || !containerWidth) {\n    return;\n  }\n\n  return (containerWidth / imageWidth) * imageHeight;\n};\n\nexport const GifImage = ({\n  imageUrl,\n  imageClassName,\n  handleClick,\n  height,\n  width,\n}) => {\n  const classes = useStyles();\n  const gifContainerRef = useRef(null);\n  const [containerWidth, setContainerWidth] = useState(null);\n\n  useEffect(() => {\n    setContainerWidth(gifContainerRef.current.getBoundingClientRect().width);\n  }, []);\n\n  return (\n    <Fragment>\n      <div\n        ref={gifContainerRef}\n        className={`${classes.root} main-image`}\n        onClick={(e) => handleClick && handleClick(e)}\n      >\n        <img\n          height={getRealHeight(width, height, containerWidth)}\n          src={imageUrl}\n          alt=\"\"\n          className={`${classes.image} ${imageClassName}`}\n          onError={(event) => (event.target.style.display = \"none\")}\n        />\n        <div className={classes.gifBadge}>gif</div>\n      </div>\n    </Fragment>\n  );\n};\n","import {Avatar, makeStyles} from \"@material-ui/core\";\nimport {useState} from \"react\";\nimport {TimeUtil} from \"src/core/Util\";\nimport {getLang} from \"src/i18n/utils\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport HighlightLink from \"../../HighlightLink\";\nimport {PopupImages} from \"../../PopupImages\";\nimport TiledImages from \"../../TiledImages\";\nimport {VideoPlayer} from \"../../VideoPlayer\";\nimport {ReactComponent as VerificationIcon} from \"src/assets/icons/ico-verification.svg\";\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  headline: {\n    display: \"flex\",\n    alignItems: \"center\",\n    fontSize: 16,\n    color: theme.palette.text.secondary,\n    padding: theme.spacing(1.5),\n  },\n  name: {\n    color: theme.palette.text.primary,\n    fontWeight: 700,\n    fontSize: 15,\n    marginRight: theme.spacing(0.5),\n  },\n  avatar: {\n    width: theme.spacing(3),\n    height: theme.spacing(3),\n    marginRight: theme.spacing(1),\n    [theme.breakpoints.only(\"xs\")]: {\n      width: theme.spacing(2.25),\n      height: theme.spacing(2.25),\n      marginRight: theme.spacing(0.375),\n    },\n  },\n  dot: {\n    color: theme.palette.text.gray,\n    fontSize: 16,\n    marginLeft: theme.spacing(0.875),\n    marginRight: theme.spacing(0.875),\n    [theme.breakpoints.only(\"xs\")]: {\n      marginLeft: theme.spacing(0.375),\n      marginRight: theme.spacing(0.375),\n    },\n  },\n  body: {\n    padding: theme.spacing(1.5),\n    paddingTop: 0,\n    fontSize: ({detail}) => (detail ? 24 : 15),\n    fontWeight: 400,\n  },\n  media: {\n    maxHeight: ({isPostWithPreview}) => (isPostWithPreview ? 500 : 284),\n    display: \"grid\",\n  },\n  image: {\n    width: \"100%\",\n    height: \"100%\",\n    objectFit: \"cover\",\n  },\n  icon: {\n    marginRight: theme.spacing(0.75),\n\n    width: 16,\n    height: 16,\n  },\n}));\n\nexport const TwitterContentView = ({twitterPost, type}) => {\n  const [imagesOpen, setImagesOpen] = useState(false);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const {\n    clean_tweet: cleanTweet,\n    created_at: createdAt,\n    name,\n    photos,\n    profile_image: profileImage,\n    username,\n    video_info: videoInfo,\n    verified,\n  } = twitterPost;\n\n  const isDetail = type === \"post-detail\" || type === \"comment-detail\";\n\n  const classes = useStyles({\n    detail: isDetail,\n    isPostWithPreview: videoInfo?.info || photos.length,\n  });\n\n  const safeDateString = createdAt?.split(\" \").slice(0, -1).join(\" \");\n\n  const sinceTime = TimeUtil.SinceTimeV5(\n    moment(safeDateString).utc(),\n    Date.now(),\n    getLang(),\n    false,\n  );\n\n  let media = null;\n  if (videoInfo?.info) {\n    const {aspect_ratio: aspectRatio, variants} = videoInfo.info;\n\n    const [primaryVideoInfo, fallbackVideoInfo] = variants.sort(\n      (a, b) => a.bitrate ?? 0 - b.bitrate ?? 0,\n    );\n\n    if (\n      (primaryVideoInfo?.url && primaryVideoInfo?.content_type) ||\n      (fallbackVideoInfo?.url && fallbackVideoInfo?.content_type)\n    ) {\n      media = (\n        <VideoPlayer\n          _isVertical={aspectRatio[0] < aspectRatio[1]}\n          options={{\n            autoplay: false,\n            muted: true,\n            controls: true,\n            fluid: true,\n            responsive: true,\n            playbackRates: [1, 1.25, 1.5, 1.75, 2],\n            sources: [\n              {\n                src: primaryVideoInfo?.url,\n                type: primaryVideoInfo?.content_type,\n              },\n              {\n                src: fallbackVideoInfo?.url,\n                type: fallbackVideoInfo?.content_type,\n              },\n            ],\n          }}\n        />\n      );\n    }\n  } else if (photos.length) {\n    if (photos.length === 1) {\n      media = (\n        <img\n          src={photos[0]}\n          className={classes.image}\n          onClick={(e) => {\n            e.stopPropagation();\n            setImagesOpen(true);\n          }}\n        />\n      );\n    } else {\n      media = (\n        <TiledImages\n          imageURLs={photos}\n          handleClick={(index) => {\n            setImagesOpen(true);\n            setCurrentIndex(index);\n          }}\n          noZoom={true}\n        />\n      );\n    }\n  }\n\n  return (\n    <>\n      <div className={classes.headline}>\n        <Avatar src={profileImage} className={classes.avatar} />\n        <h6 className={classes.name}>\n          <GTwemoji text={name} />\n        </h6>\n        {verified ? <VerificationIcon className={classes.icon} /> : null}\n        <span>@{username}</span>\n        <span className={classes.dot}></span>\n        {createdAt ? <span>{sinceTime}</span> : null}\n      </div>\n      <div className={classes.body}>\n        <p>\n          <HighlightLink text={cleanTweet} type={type} />\n        </p>\n      </div>\n      <div className={classes.media} onClick={(e) => e.stopPropagation()}>\n        {media}\n      </div>\n      {photos ? (\n        <PopupImages\n          imageURLs={photos}\n          open={imagesOpen}\n          onClose={() => {\n            setImagesOpen(false);\n          }}\n          currentIndex={currentIndex}\n        />\n      ) : null}\n    </>\n  );\n};\n","import React, {useState, useEffect, Fragment, useRef} from \"react\";\nimport {connect} from \"react-redux\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {Box} from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport URI from \"urijs\";\nimport urlMetadata from \"url-metadata\";\nimport HoverPopup from \"src/app/components/HoverPopup\";\nimport {useHistory} from \"react-router-dom\";\nimport ResizeObserver from \"resize-observer-polyfill\";\nimport Util, {TimeUtil} from \"src/core/Util\";\nimport {getLang, t} from \"src/i18n/utils\";\nimport XUserInfo from \"src/core/model/user/XUserInfo\";\nimport {PopupImages} from \"src/app/components/PopupImages\";\nimport {UserLabelLink} from \"src/app/components/UserLabelLink\";\nimport {PreviewContent} from \"src/app/components/PreviewContent\";\nimport TiledImages from \"src/app/components/TiledImages\";\nimport HighlightLink from \"src/app/components/HighlightLink\";\nimport {\n  zoomImage,\n  handleMediaUrl,\n  getShortUrls,\n  getImageStyleFromMetadata,\n} from \"src/util/imageUtils\";\nimport {VideoPlayer} from \"src/app/components/VideoPlayer\";\nimport {ReactComponent as VerificationIcon} from \"src/assets/icons/ico-verification.svg\";\nimport {AvatarLink} from \"src/app/components/AvatarLink\";\nimport {GifImage} from \"src/app/components/GifImage\";\nimport XObject from \"src/core/model/XObject\";\nimport {TwitterContentView} from \"./TwitterContentView\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    rootContentView: {\n      wordBreak: \"break-word\",\n      fontSize: 15,\n      lineHeight: \"1.3125\",\n\n      letterSpacing: \"0.01em\",\n      \"& .main-content\": {\n        color: theme.palette.text.primary,\n        padding: \"10px 0 16px\",\n        lineHeight: \"140%\",\n      },\n      \"& .main-image\": {\n        padding: 0,\n        position: \"relative\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginTop: theme.spacing(1.25),\n        border: `1px solid ${theme.divider.color}`,\n        maxHeight: theme.spacing(35.5),\n        backgroundColor: theme.palette.background.light,\n        borderRadius: 10,\n        overflow: \"hidden\",\n        \"&.single-image\": {\n          maxHeight: \"500px\",\n        },\n      },\n      \"&.comment\": {\n        marginLeft: theme.spacing(7.625),\n        \"& .main-image\": {\n          border: \"none\",\n          height: \"auto\",\n          color: theme.palette.text.gray,\n          fontSize: \"14px\",\n          overflow: \"visible\",\n        },\n        \"& .comment\": {\n          marginLeft: 0,\n          marginTop: theme.spacing(2),\n        },\n        \"&>div:first-child\": {\n          padding: 0,\n          display: \"-webkit-box\",\n          overflow: \"hidden\",\n          whiteSpace: \"normal !important\",\n          textOverflow: \"ellipsis\",\n          wordWrap: \"break-word\",\n          \"-webkit-line-clamp\": \"4 !important\",\n          \"-webkit-box-orient\": \"vertical\",\n        },\n        \"& .postContentView\": {\n          width: \"100%\",\n          margin: \"10px 0 0\",\n        },\n      },\n      \"&.repost\": {\n        \"& > div\": {\n          marginBottom: 0,\n          display: \"-webkit-box\",\n          overflow: \"hidden\",\n          whiteSpace: \"normal !important\",\n          textOverflow: \"ellipsis\",\n          wordWrap: \"break-word\",\n          \"-webkit-line-clamp\": \"4 !important\",\n          \"-webkit-box-orient\": \"vertical\",\n        },\n      },\n      \"&.timeline, &.profile\": {\n        paddingTop: 3.333,\n        \"& .text-content\": {\n          display: \"-webkit-box\",\n          \"-webkit-line-clamp\": 5,\n          \"-webkit-box-orient\": \"vertical\",\n          overflow: \"hidden\",\n        },\n      },\n    },\n    mainImages: {\n      \"& .main-image\": {\n        border: \"none\",\n      },\n    },\n    originPost: {\n      cursor: \"pointer\",\n      minHeight: 45,\n    },\n    originPostContent: {\n      overflow: \"hidden\",\n      fontSize: 16,\n      fontWeight: theme.typography.fontWeightRegular,\n      borderRadius: 10,\n      border: `1px solid ${theme.divider.color}`,\n      marginTop: theme.spacing(1),\n      \"& > .postContentView.preview-content\": {\n        border: 0,\n        borderRadius: 0,\n        \"& img\": {\n          borderRadius: 0,\n        },\n      },\n      \"& > div.main-image\": {\n        border: \"none\",\n        marginTop: 0,\n        borderRadius: 0,\n      },\n      \"&.comment\": {\n        \"& .main-image\": {\n          padding: theme.spacing(0, 1.25),\n        },\n      },\n      \"& .repost[class*='PostContentView-originTextContent']\": {\n        padding: theme.spacing(1.5),\n      },\n      \"& .comment[class*='PostContentView-originTextContent']\": {\n        marginTop: 0,\n      },\n    },\n    originHeadline: {\n      display: \"flex\",\n      alignItems: \"center\",\n      fontSize: 16,\n      color: theme.palette.text.secondary,\n      padding: theme.spacing(1.5),\n    },\n    originMedia: {\n      paddingLeft: theme.spacing(1.5),\n      paddingBottom: theme.spacing(1.875),\n      paddingRight: theme.spacing(1.5),\n    },\n    originTextContent: {\n      \"& .text-content\": {\n        display: \"-webkit-box\",\n        overflow: \"hidden\",\n        whiteSpace: \"normal !important\",\n        textOverflow: \"ellipsis\",\n        wordWrap: \"break-word\",\n        \"-webkit-line-clamp\": \"4 !important\",\n        \"-webkit-box-orient\": \"vertical\",\n      },\n      \"&.repost\": {\n        padding: 0,\n        \"& .text-content\": {\n          // padding: `0 ${theme.spacing(1.5)}px`,\n          // marginBottom: theme.spacing(1.25),\n        },\n      },\n      \"&.comment, &.repost, &.post-page-view, &.timeline\": {\n        \"& [class*='MuiBox-root']:not(.headline)\": {\n          alignItems: \"flex-start\",\n        },\n      },\n    },\n    originProfileImage: {\n      maxHeight: theme.spacing(35.5),\n      borderRadius: \"0 0 10px 10px\",\n    },\n    commentProfileImage: {\n      maxHeight: theme.spacing(35.5),\n      objectFit: \"contain\",\n      backgroundColor: \"black\",\n    },\n    originSmallImage: {\n      width: theme.spacing(12),\n      height: theme.spacing(12),\n      borderRadius: 10,\n      marginRight: theme.spacing(2),\n      border: `1px solid ${theme.divider.color}`,\n      objectFit: \"cover\",\n      flexShrink: 0,\n      backgroundColor: theme.palette.grey.A300,\n      \"&.noCursor\": {\n        cursor: \"auto\",\n      },\n    },\n    videoWrapper: {\n      borderRadius: 10,\n      overflow: \"hidden\",\n      marginTop: 15,\n      \"& video\": {\n        width: \"100%\",\n        outline: \"none\",\n        height: theme.spacing(35.5),\n      },\n    },\n    repostOriginVideoWrapper: {\n      borderRadius: 0,\n      marginTop: 0,\n    },\n    icon: {\n      width: theme.spacing(1.875),\n      margin: theme.spacing(0, 0, 0, 0.5),\n      height: \"auto\",\n    },\n    omittedWrapper: {\n      display: \"-webkit-box\",\n      overflow: \"hidden\",\n      whiteSpace: \"normal !important\",\n      textOverflow: \"ellipsis\",\n      wordWrap: \"break-word\",\n      \"-webkit-line-clamp\": \"4 !important\",\n      \"-webkit-box-orient\": \"vertical\",\n      \"& .text-content\": {\n        display: \"inline\",\n      },\n    },\n    avatar: {\n      width: theme.spacing(3),\n      height: theme.spacing(3),\n      marginRight: theme.spacing(1),\n      [theme.breakpoints.only(\"xs\")]: {\n        width: theme.spacing(2.25),\n        height: theme.spacing(2.25),\n        marginRight: theme.spacing(0.375),\n      },\n    },\n\n    hoverPopup: {\n      display: \"flex\",\n      flexShrink: 1,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n    },\n    userDisplayName: {\n      width: \"100%\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n    },\n    influencer: {\n      display: \"flex\",\n      flexShrink: 0,\n      marginRight: theme.spacing(0.375),\n      paddingTop: theme.spacing(0.25),\n    },\n    userAtNameShort: {\n      color: theme.palette.text.gray,\n      flexShrink: 99,\n      marginRight: theme.spacing(0.375),\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      fontWeight: \"400\",\n      [theme.breakpoints.down(\"xs\")]: {\n        flexShrink: 99,\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        Display: \"block\",\n      },\n    },\n    userAtName: {\n      color: theme.palette.text.gray,\n      cursor: \"pointer\",\n      marginLeft: theme.spacing(0.375),\n      fontWeight: \"400\",\n    },\n    dot: {\n      color: theme.palette.text.gray,\n      display: \"flex\",\n      fontSize: 16,\n      flexShrink: 0,\n      marginLeft: theme.spacing(0.875),\n      marginRight: theme.spacing(0.875),\n      [theme.breakpoints.only(\"xs\")]: {\n        marginLeft: theme.spacing(0.375),\n        marginRight: theme.spacing(0.375),\n      },\n    },\n    sinceTime: {\n      color: theme.palette.text.gray,\n      display: \"flex\",\n      flexShrink: 0,\n    },\n    unavailablePost: {\n      border: \"1px solid #E0E6EA\",\n      backgroundColor: \"#F3F5F8\",\n      borderRadius: 10,\n      width: \"100%\",\n      padding: theme.spacing(1.75),\n      color: theme.palette.text.gray,\n      lineHeight: \"15px\",\n      marginTop: theme.spacing(1.25),\n    },\n    imageAlt: {\n      position: \"relative\",\n      width: \"100%\",\n      height: \"100%\",\n      minHeight: theme.spacing(35.5),\n      objectFit: \"cover\",\n      [theme.breakpoints.down(\"xs\")]: {\n        minHeight: theme.spacing(19.375),\n      },\n      \"&.noCursor\": {\n        cursor: \"auto\",\n      },\n      \"&[alt]:after\": {\n        display: \"block\",\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\",\n        content: \"attr(alt)\",\n        backgroundColor: theme.palette.grey.A300,\n      },\n      \"&.gif\": {\n        maxHeight: theme.spacing(35.5),\n        objectFit: \"contain\",\n        backgroundColor: \"black\",\n      },\n    },\n    repostTilledImg: {\n      maeginTop: theme.spacing(1.25),\n    },\n    repostHasNoFilesForText: {\n      padding: \"0 12px\",\n    },\n    repostHasNoFilesForImage: {\n      \"&.main-image\": {\n        borderRadius: \"0 0 10px 10px\",\n      },\n    },\n  }),\n);\n\nconst _getSharedPost = (postId, userFeed) => {\n  return userFeed.data.find((xPostItem) => xPostItem?.getPostId() === postId);\n};\n\nconst connector = connect((state) => {\n  return {\n    userInfo: state.auth.session?.userinfo,\n    userFeed: state.timelineNew.userFeed,\n  };\n}, {});\n\nexport const PostContentView = connector(_PostContentView);\nfunction _PostContentView(props) {\n  const {\n    item,\n    scene,\n    objId,\n    obj,\n    originalPosterInfo,\n    pageType,\n    sharedObj,\n    hasMediaRepost,\n    type,\n    userFeed,\n    detailedRepostUserData,\n    hasFiles,\n  } = props;\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [text, setText] = useState(\"\");\n  const [imageURLs, setImageURLs] = useState([]);\n  const [videoURL, setVideoURL] = useState(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const [imagesOpen, setImagesOpen] = useState(false);\n  const [previewMetaData, setPreviewMetaData] = useState(null);\n  const [imageContainerDimensions, setImageContainerDimensions] = useState(\n    null,\n  );\n  const [isErrorVideoImg, setIsErrorVideoImg] = useState(false);\n\n  const imageContainerRef = useRef(null);\n\n  const postObject = XObject.Unwrap(obj);\n  const {meta: imgData} = obj.data;\n  const {twt_rtpst: twitterPost} = postObject ?? {};\n\n  useEffect(() => {\n    if (!imgData) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver((entries) => {\n      const {\n        contentRect: {width, height},\n      } = entries[0];\n      setImageContainerDimensions({width, height});\n    });\n    const imageContainerRect = imageContainerRef.current?.getBoundingClientRect();\n    if (imageContainerRect) {\n      resizeObserver.observe(imageContainerRef.current);\n      const {width, height} = imageContainerRect;\n      setImageContainerDimensions({width, height});\n    }\n\n    return () => {\n      if (imageContainerRef?.current) {\n        resizeObserver.unobserve(imageContainerRef?.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    getMetaData();\n  }, [objId]);\n\n  useEffect(() => {\n    if (obj) {\n      const newText = obj.getText();\n      setText(newText);\n      const newImageURLs =\n        obj && obj.getImageURLs ? obj.getImageURLs() || [] : [];\n      setImageURLs(newImageURLs);\n      let newVideoURL = {\n        m3u8: obj.getVideoUrl ? obj.getVideoUrl() : \"\",\n        ori: obj.getOriginalVideoUrl ? obj.getOriginalVideoUrl() : \"\",\n        screen: obj.getMainImageURL ? obj.getMainImageURL() : \"\",\n      };\n      if (newVideoURL?.ori?.m3u8) {\n        newVideoURL = newVideoURL.ori;\n      }\n      setVideoURL(newVideoURL);\n    }\n  }, [obj]);\n\n  const getMetaData = () => {\n    if (!obj) return;\n\n    if (obj?.data?.prevsrc) {\n      setPreviewMetaData({\n        imageUrl: obj.data.previmg,\n        url: obj.data.prevsrc,\n        title: obj.data.ttl,\n        description: obj.data.dsc,\n      });\n    } else {\n      let corsHostUrl = process.env.REACT_APP_CORS_URL;\n      let siteUrls = [];\n\n      URI.withinString(obj.data?.txt, function (url) {\n        siteUrls.push(url);\n      });\n\n      if (siteUrls.length > 0) {\n        let siteUrl = siteUrls[0];\n        urlMetadata(corsHostUrl + siteUrl).then((metadata) => {\n          const title = metadata[\"og:title\"] || metadata[\"title\"];\n          const image = metadata[\"og:image\"] || metadata[\"twitter:image\"];\n          if (title || image) {\n            setPreviewMetaData({\n              siteName:\n                metadata[\"al:android:app_name\"] || metadata[\"twitter:site\"],\n              title: title,\n              imageUrl: image,\n              description:\n                metadata[\"og:description\"] || metadata[\"twitter:description\"],\n              url: siteUrls[0],\n            });\n          }\n        });\n      } else {\n        return null;\n      }\n    }\n  };\n\n  let textComps = null;\n  let imageComp = null;\n  let videoComp = null;\n\n  if (obj) {\n    const xPostItem = obj.createXPostItem();\n\n    if (obj.getText && obj.getOwnerId) {\n      const posterId = obj.getOwnerId();\n      const posterInfo = xPostItem?.getUserInfo();\n      const displayId =\n        posterInfo?.data?.ousername ||\n        originalPosterInfo?.ousername ||\n        posterInfo?.data?.username ||\n        posterId;\n      const updatedTS = obj.getCreatedTS(null);\n      const lang = getLang();\n      const sinceTime = updatedTS\n        ? TimeUtil.SinceTimeV5(updatedTS, Date.now(), lang, false)\n        : null;\n      const sinceTimeFormat = updatedTS\n        ? TimeUtil.SinceTimeV4(updatedTS, Date.now(), false)\n        : null;\n\n      let displayName = XUserInfo.GetNickname(posterInfo, null);\n      if (!displayName) {\n        displayName = originalPosterInfo?.nickname;\n      }\n\n      let avatarUrl = XUserInfo.GetIconUrl(posterInfo, null);\n      if (!avatarUrl) {\n        avatarUrl = originalPosterInfo?.ico;\n      }\n\n      const textComp = (\n        <HighlightLink\n          text={text}\n          type={type}\n          previewUrl={previewMetaData?.url}\n        />\n      );\n      if (type === \"repostOrigin\" || (/repost/.test(scene) && hasFiles)) {\n        textComps = (\n          <div\n            className={clsx(classes.originTextContent, scene)}\n            style={{\n              marginTop: 0,\n            }}\n          >\n            {type !== \"repostOrigin\" && /repost/.test(scene) ? null : (\n              <div className={classes.originHeadline}>\n                <Box\n                  display=\"flex\"\n                  alignItems=\"center\"\n                  mr={1}\n                  className=\"headline\"\n                  style={{width: \"100%\"}}\n                >\n                  <HoverPopup userId={posterId} userInfoTemp={posterInfo}>\n                    <div key=\"popup-handler\" className=\"user-avatar\">\n                      <AvatarLink\n                        avatarUrl={detailedRepostUserData?.ico ?? avatarUrl}\n                        styleClasses={classes.avatar}\n                        userId={posterId}\n                        username={displayName}\n                      />\n                    </div>\n                  </HoverPopup>\n                  <HoverPopup\n                    userId={posterId}\n                    userInfoTemp={posterInfo}\n                    leftAligned={true}\n                  >\n                    <div\n                      key=\"popup-handler\"\n                      name=\"handler\"\n                      className={classes.hoverPopup}\n                    >\n                      <div className={classes.userDisplayName}>\n                        <UserLabelLink\n                          userId={posterId}\n                          nickname={\n                            detailedRepostUserData?.nickname ?? displayName\n                          }\n                        />\n                      </div>\n                      {posterInfo?.isInfluencer &&\n                        posterInfo?.isInfluencer() > 0 && (\n                          <div className={classes.influencer}>\n                            <VerificationIcon className={classes.icon} />\n                          </div>\n                        )}\n                      <div\n                        className={\n                          sinceTimeFormat\n                            ? classes.userAtNameShort\n                            : classes.userAtName\n                        }\n                      >\n                        @{displayId}\n                      </div>\n                    </div>\n                  </HoverPopup>\n\n                  <div className={classes.dot}></div>\n                  <div className={classes.sinceTime}>{sinceTime}</div>\n                </Box>\n              </div>\n            )}\n            {Util.StringIsEmpty(text) &&\n            !(\n              /comment|repost/.test(scene) ||\n              (/post-page-view|timeline|profile/.test(scene) && hasMediaRepost)\n            ) ? (\n              <div style={{paddingBottom: 3}} />\n            ) : (\n              <Box\n                display=\"flex\"\n                alignItems=\"center\"\n                className={clsx(classes.originMedia)}\n              >\n                {(/comment|repost/.test(scene) ||\n                  (/post-page-view|timeline|profile/.test(scene) &&\n                    hasMediaRepost)) &&\n                imageURLs &&\n                imageURLs.length > 0 ? (\n                  imageURLs[0].startsWith(\"https://\") ||\n                  imageURLs[0].startsWith(\"http://\") ? (\n                    <img\n                      src={imageURLs[0]}\n                      alt=\"\"\n                      className={`${classes.originSmallImage} noCursor`}\n                    />\n                  ) : (\n                    <img\n                      src={handleMediaUrl(\n                        process.env.REACT_APP_MEDIA_BASE,\n                        zoomImage(imageURLs[0], 500, 0),\n                      )}\n                      alt=\"\"\n                      className={`${classes.originSmallImage} noCursor`}\n                    />\n                  )\n                ) : null}\n                {(/comment|repost/.test(scene) ||\n                  (/post-page-view|timeline|profile/.test(scene) &&\n                    hasMediaRepost)) &&\n                videoURL &&\n                videoURL.m3u8 ? (\n                  videoURL.screen && !isErrorVideoImg ? (\n                    <img\n                      src={handleMediaUrl(\n                        process.env.REACT_APP_MEDIA_BASE,\n                        zoomImage(videoURL.screen, 500, 0),\n                      )}\n                      alt=\"img\"\n                      className={classes.originSmallImage}\n                      onError={() => {\n                        setIsErrorVideoImg(true);\n                      }}\n                    />\n                  ) : (\n                    !(isErrorVideoImg && Util.StringIsEmpty(text)) && (\n                      <div className={classes.originSmallImage} />\n                    )\n                  )\n                ) : null}\n                {textComp}\n              </Box>\n            )}\n          </div>\n        );\n      } else if (/comment/.test(scene)) {\n        const allUrl = [\n          ...imageURLs,\n          ...(videoURL && videoURL.m3u8 ? [videoURL.m3u8] : []),\n        ];\n        textComps = (\n          <div className={classes.omittedWrapper}>\n            {textComp}\n            {allUrl.length ? (\n              <span>\n                {text ? \",\" : null}\n                {getShortUrls({urls: allUrl, width: 403}).join(\", \")}\n              </span>\n            ) : null}\n          </div>\n        );\n      } else {\n        textComps = (\n          <div\n            className={\n              /repost/.test(scene) && !hasFiles\n                ? classes.repostHasNoFilesForText\n                : \"\"\n            }\n          >\n            {textComp}\n          </div>\n        );\n      }\n    }\n\n    let imageClassName = \"\";\n    if (type === \"repostOrigin\") {\n      imageClassName = classes.originProfileImage;\n    } else if (pageType === \"comment-detail\") {\n      imageClassName = classes.commentProfileImage;\n    }\n\n    let imageBodyComp = null;\n    if (imageURLs?.length === 1 && imageURLs[0]) {\n      const imageUrl = imageURLs[0];\n      if (scene !== \"comment\" || pageType === \"repostOrigin\") {\n        let formattedUrl = imageUrl;\n        const isAbsolutePath =\n          imageUrl.startsWith(\"https://\") || imageUrl.startsWith(\"http://\");\n\n        if (!isAbsolutePath) {\n          formattedUrl = handleMediaUrl(\n            process.env.REACT_APP_MEDIA_BASE,\n            imageUrl,\n          );\n        }\n        if (imageUrl.includes(\".gif\")) {\n          imageComp = (\n            <GifImage\n              imageUrl={formattedUrl}\n              imageClassName={imageClassName}\n              handleClick={(e) => {\n                e.stopPropagation();\n                setImagesOpen(true);\n              }}\n              height={obj.data?.vid_hgt}\n              width={obj.data?.vid_wid}\n            />\n          );\n        } else {\n          imageBodyComp = (\n            <img\n              src={formattedUrl}\n              onClick={(e) => {\n                if (!isAbsolutePath) {\n                  e.stopPropagation();\n                  setImagesOpen(true);\n                }\n              }}\n              className={`${classes.imageAlt} ${imageClassName}${\n                isAbsolutePath && \" noCursor\"\n              } ${imageUrl.match(/[^\\.]+$/)[0]}`}\n              style={\n                imgData\n                  ? getImageStyleFromMetadata(\n                      imgData[0],\n                      imageContainerDimensions?.width,\n                      imageContainerDimensions?.height,\n                    )\n                  : null\n              }\n              onError={(event) => (event.target.style.display = \"none\")}\n            />\n          );\n        }\n      }\n    } else if (imageURLs?.length > 1) {\n      imageBodyComp =\n        scene !== \"comment\" || pageType === \"repostOrigin\" ? (\n          <TiledImages\n            imageURLs={imageURLs}\n            imageClassName={imageClassName}\n            handleClick={(index) => {\n              setImagesOpen(true);\n              setCurrentIndex(index);\n            }}\n            imgData={imgData}\n          />\n        ) : null;\n    }\n\n    imageComp = imageBodyComp ? (\n      <Fragment>\n        <div\n          className={clsx(\n            \"main-image\",\n            imageURLs.length === 1 && \"single-image\",\n            pageType === \"comment-detail\" && classes.commentProfileImage,\n            /repost/.test(scene) &&\n              !hasFiles &&\n              classes.repostHasNoFilesForImage,\n          )}\n          onClick={(e) => {\n            e.stopPropagation();\n          }}\n          ref={imageContainerRef}\n        >\n          {imageBodyComp}\n        </div>\n      </Fragment>\n    ) : (\n      imageComp\n    );\n\n    videoComp =\n      videoURL?.m3u8 || videoURL?.ori ? (\n        scene !== \"comment\" || pageType === \"repostOrigin\" ? (\n          <div\n            className={clsx(\n              \"main-video\",\n              classes.videoWrapper,\n              type === \"repostOrigin\" && classes.repostOriginVideoWrapper,\n            )}\n            onClick={(e) => {\n              e.stopPropagation();\n            }}\n          >\n            <VideoPlayer\n              postObj={obj}\n              options={{\n                autoplay: false,\n                muted: true,\n                controls: true,\n                fluid: true,\n                responsive: true,\n                playbackRates: [1, 1.25, 1.5, 1.75, 2],\n                sources: [\n                  {\n                    src: handleMediaUrl(\n                      process.env.REACT_APP_MEDIA_BASE,\n                      videoURL.m3u8,\n                    ),\n                    type: \"application/x-mpegurl\",\n                  },\n                  {\n                    src: handleMediaUrl(\n                      process.env.REACT_APP_MEDIA_BASE,\n                      videoURL.ori,\n                    ),\n                    type: \"video/mp4\",\n                  },\n                ],\n              }}\n            />\n          </div>\n        ) : (\n          <span>{videoURL.ori}</span>\n        )\n      ) : null;\n  }\n\n  let originPostComp = null;\n  if (type !== \"repostOrigin\" && scene !== \"repost\") {\n    let _originalPosterInfo = originalPosterInfo;\n    let _sharedObj = sharedObj;\n\n    if (obj.data?.rpstIds?.length && !_sharedObj) {\n      const target = _getSharedPost(obj.data?.rpstIds[0], userFeed);\n      if (!target) {\n        //post is deleted\n        originPostComp = (\n          <div className=\"unavailable-post-container\">\n            <div className={classes.unavailablePost}>\n              {t(\"getter_fe.post.tips.unavailable_post\")}\n            </div>\n          </div>\n        );\n      } else {\n        _sharedObj = target.getPost();\n        //no content repost\n        if (\n          target.isShared() &&\n          target.getPosterId() !== target.getOriginalPosterId()\n        )\n          _originalPosterInfo = target.getOriginalPosterInfo()?.data;\n        else _originalPosterInfo = target.getUserInfo()?.data;\n      }\n    }\n\n    if (_sharedObj) {\n      const origPostId = _sharedObj.getId();\n\n      originPostComp = (\n        <div\n          className={\n            pageType === \"comment-detail\"\n              ? classes.commentTextContent\n              : classes.textContent\n          }\n        >\n          <div className={classes.originPost}>\n            <PostContentView\n              objId={origPostId}\n              obj={_sharedObj}\n              classes={classes}\n              type=\"repostOrigin\"\n              originalPosterInfo={_originalPosterInfo}\n              hasMediaRepost={\n                (imageURLs && imageURLs.length > 0) ||\n                videoURL?.m3u8 ||\n                videoURL?.ori ||\n                previewMetaData\n              }\n              detailedRepostUserData={\n                item.aux?.uinf ? item.aux?.uinf[item.aux?.shrdpst?.uid] : {}\n              }\n              scene={scene}\n            />\n          </div>\n        </div>\n      );\n    }\n  }\n\n  if (\n    text === \"Content Not Found\" &&\n    imageURLs &&\n    !imageURLs.length &&\n    !videoURL.m3u8 &&\n    !videoURL.ori &&\n    !videoURL.screen\n  ) {\n    return (\n      <div className=\"unavailable-post-container\">\n        <div className={classes.unavailablePost}>\n          {t(\"getter_fe.post.tips.unavailable_post\")}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      onClick={(e) => {\n        if (type === \"repostOrigin\") {\n          e.stopPropagation();\n          history.push(`/post/${objId}`);\n        }\n      }}\n    >\n      <Fragment>\n        <div\n          className={clsx(\n            classes.rootContentView,\n            imageURLs && imageURLs.length > 1 && classes.mainImages,\n            \"comment-reposted-post\",\n            scene,\n          )}\n        >\n          {type === \"repostOrigin\" ? (\n            <div className={clsx(classes.originPostContent, scene)}>\n              <div>{textComps}</div>\n              {/post-page-view|timeline|profile/.test(scene) &&\n                !hasMediaRepost &&\n                imageComp}\n              {/post-page-view|timeline|profile/.test(scene) &&\n                ((isErrorVideoImg && Util.StringIsEmpty(text)) ||\n                  !hasMediaRepost) &&\n                videoComp}\n              {/post-page-view|timeline|profile/.test(scene) &&\n              previewMetaData ? (\n                <PreviewContent\n                  previewMetaData={previewMetaData}\n                  scene=\"postContentView\"\n                  hasMediaRepost={Boolean(hasMediaRepost)}\n                  hasImageOrVideo={\n                    imageURLs.length ||\n                    videoURL.m3u8 ||\n                    videoURL.ori ||\n                    videoURL.screen\n                  }\n                  type={type}\n                />\n              ) : null}\n            </div>\n          ) : (\n            <Fragment>\n              <div>{textComps}</div>\n              {(!/comment|repost/.test(scene) ||\n                (/repost/.test(scene) && !hasFiles)) &&\n                imageComp}\n              {(!/comment|repost/.test(scene) ||\n                (/repost/.test(scene) && !hasFiles)) &&\n                videoComp}\n              {previewMetaData?.title || previewMetaData?.imageUrl ? (\n                <PreviewContent\n                  previewMetaData={previewMetaData}\n                  scene={scene}\n                  hasMediaRepost={\n                    /comment|repost/.test(scene) || hasMediaRepost\n                  }\n                  hasImageOrVideo={\n                    imageURLs.length ||\n                    videoURL.m3u8 ||\n                    videoURL.ori ||\n                    videoURL.screen\n                  }\n                  type={type}\n                />\n              ) : null}\n              {originPostComp}\n            </Fragment>\n          )}\n          {/* Shared PopupImages */}\n          {imageURLs && (\n            <PopupImages\n              imageURLs={imageURLs}\n              open={imagesOpen}\n              onClose={() => {\n                setImagesOpen(false);\n              }}\n              currentIndex={currentIndex}\n              item={item}\n              postId={objId}\n            />\n          )}\n        </div>\n        {twitterPost ? (\n          <div className={classes.originPostContent}>\n            <TwitterContentView\n              twitterPost={twitterPost}\n              scene={scene}\n              type={type}\n            />\n          </div>\n        ) : null}\n      </Fragment>\n    </div>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.2078 12.6353V1.6665L9.42139 6.42692\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.35413 6.42676H4.79163V13.5726H9.42184L15.2083 18.333L15.1666 15.3174\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.66663 1.6665L18.3333 18.3332\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoMute(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoMute);\nexport default __webpack_public_path__ + \"static/media/ico-mute.efa7084b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.99996 18.3332C11.6481 18.3332 13.2593 17.8444 14.6297 16.9288C16.0001 16.0131 17.0682 14.7116 17.699 13.1889C18.3297 11.6662 18.4947 9.9906 18.1732 8.37409C17.8516 6.75758 17.0579 5.27272 15.8925 4.10729C14.7271 2.94185 13.2422 2.14817 11.6257 1.82663C10.0092 1.50509 8.33364 1.67011 6.81093 2.30084C5.28821 2.93157 3.98672 3.99968 3.07105 5.37009C2.15537 6.7405 1.66663 8.35166 1.66663 9.99984C1.66663 12.21 2.5446 14.3296 4.1074 15.8924C5.67021 17.4552 7.78982 18.3332 9.99996 18.3332Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.1095 4.10938L15.8907 15.8906\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoBlock(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoBlock);\nexport default __webpack_public_path__ + \"static/media/ico-block.b418b395.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 22V15\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 15C4 15 5.0125 14 8.06249 14C11.1125 14 13.1375 16 16.1875 16C19.2375 16 20.25 15 20.25 15V3C20.25 3 19.2375 4 16.1875 4C13.1375 4 11.1125 2 8.06249 2C5.0125 2 4 3 4 3V15Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoReport(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoReport);\nexport default __webpack_public_path__ + \"static/media/ico-report.83ffdb47.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.0005 8.66162V13.0054\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.833 10.8334H19.1664\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.8335 18.3333C1.28121 18.3333 0.806448 17.8687 1.00597 17.3537C1.78804 15.3351 5.03784 15.1192 6.76858 13.3842C7.75937 12.3934 4.79183 12.3934 4.79183 7.44913C4.79183 4.1481 6.11127 2.5 8.75016 2.5C11.3891 2.5 12.7085 4.1481 12.7085 7.44913C12.7085 12.3983 9.74095 12.3983 10.7317 13.3842C12.4629 15.1154 15.7138 15.3304 16.4949 17.3536C16.6938 17.8688 16.2191 18.3333 15.6668 18.3333H1.8335Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoFollow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoFollow);\nexport default __webpack_public_path__ + \"static/media/ico-follow.3398f4cf.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.4644 10.1309L18.5359 13.2024\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.4675 13.1989L18.5317 10.1347\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.83325 18.3333C1.28097 18.3333 0.806204 17.8687 1.00572 17.3537C1.7878 15.3351 5.03759 15.1192 6.76834 13.3842C7.75913 12.3934 4.79159 12.3934 4.79159 7.44913C4.79159 4.1481 6.11103 2.5 8.74992 2.5C11.3888 2.5 12.7083 4.1481 12.7083 7.44913C12.7083 12.3983 9.74071 12.3983 10.7315 13.3842C12.4626 15.1154 15.7136 15.3304 16.4947 17.3536C16.6936 17.8688 16.2189 18.3333 15.6666 18.3333H1.83325Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoUnfollow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoUnfollow);\nexport default __webpack_public_path__ + \"static/media/ico-unfollow.8a375e1a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.7171 9.02682L16.2699 5.66667H17.9212C18.5056 5.66667 18.9837 5.18854 18.9837 4.60417V1.0625C18.9837 0.478125 18.5056 0 17.9212 0H5.87956C5.29518 0 4.81706 0.478125 4.81706 1.0625V4.60417C4.81706 5.18854 5.29518 5.66667 5.87956 5.66667H7.53086L7.08372 9.02682C4.94544 10.2487 3.40039 12.325 3.40039 14.8396C3.40039 15.2292 3.71914 15.5479 4.10872 15.5479H11.1921V20.8958C11.1921 20.9268 11.1965 20.9534 11.2009 20.9799L11.5551 22.3966C11.6436 22.7508 12.1527 22.7552 12.2413 22.3966L12.5954 20.9799C12.6043 20.9534 12.6043 20.9224 12.6043 20.8958V15.5479H19.6876C20.0772 15.5479 20.396 15.2292 20.396 14.8396C20.4004 12.325 18.8553 10.2487 16.7171 9.02682ZM4.87461 14.1313C5.17565 12.232 6.62773 10.749 8.39414 9.94766L9.06706 4.25H6.23372V1.41667H17.5671V4.25H14.7337L15.4111 9.95208C17.1819 10.7578 18.6296 12.2453 18.9306 14.1357H4.87461V14.1313Z\",\n  fill: \"black\"\n});\n\nfunction SvgIcoPinDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 23,\n    viewBox: \"0 0 23 23\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoPinDown);\nexport default __webpack_public_path__ + \"static/media/ico-pin-down.030bba9a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.4801 6.12439V19.5937C17.4801 19.7456 17.4201 19.8913 17.3134 19.9988C17.2067 20.1062 17.062 20.1666 16.9111 20.1666H5.1051C4.9542 20.1666 4.80947 20.1062 4.70277 19.9988C4.59607 19.8913 4.53613 19.7456 4.53613 19.5937V6.12439\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.75 5.40833H19.25\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.05273 4.80681V2.40629C8.05273 2.25434 8.11267 2.10862 8.21937 2.00118C8.32607 1.89373 8.4708 1.83337 8.6217 1.83337H13.3327C13.4836 1.83337 13.6283 1.89373 13.735 2.00118C13.8417 2.10862 13.9017 2.25434 13.9017 2.40629V4.7839\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.22998 9.87146V15.8241\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.77 9.87146V15.8241\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoDelete(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoDelete);\nexport default __webpack_public_path__ + \"static/media/ico-delete.00f399cc.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nimport {UserLabelLink} from \"../../components/UserLabelLink\";\nimport {AvatarLink} from \"../../components/AvatarLink\";\nimport {ReactComponent as VerificationIcon} from \"src/assets/icons/ico-verification.svg\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"&.post-feed-item\": {\n      display: \"flex\",\n      flexDirection: \"column\",\n      borderBottom: theme.notchedOutline.border,\n      \"&.comment\": {\n        position: \"relative\",\n        zIndex: 1,\n        border: \"none\",\n        \"& .description-header\": {\n          margin: \"0 !important\",\n        },\n        \"& .stats-line, & .dropdown\": {\n          display: \"none\",\n        },\n        \"& .posterInfo_name\": {\n          flexDirection: \"row !important\",\n        },\n        \"& .post-content-view\": {\n          padding: \"0 0 0 66px\",\n        },\n      },\n      \"&.comment-detail\": {\n        border: \"none\",\n      },\n      \"&.repost\": {\n        border: \"none\",\n        \"& .description-header\": {\n          height: \"24px !important\",\n          margin: \"0 12px 15px !important\",\n          \"& .posterInfo_name\": {\n            display: \"flex\",\n            alignItems: \"center\",\n            flexDirection: \"row !important\",\n            // marginTop: \"3px\",\n            \"& .posterInfo-part1\": {\n              display: \"flex\",\n              marginRight: \"6px\",\n              \"& a\": {\n                height: \"auto\",\n                padding: \"0\",\n              },\n            },\n          },\n        },\n        \"& .message\": {\n          marginTop: \"2px !important\",\n          // padding: \"0 12px !important\",\n        },\n        \"& > .feed-item-main\": {\n          marginBottom: 0,\n        },\n      },\n      \"&.post-page-view\": {\n        \"& > .feed-item-main > .content > .description-header\": {\n          marginLeft: \"17px !important\",\n          \"& .posterInfo_name\": {\n            flexDirection: \"column\",\n            paddingTop: \"10px\",\n          },\n        },\n        \"& > .feed-item-main > .content > .message\": {\n          marginTop: \"-6px !important\",\n          padding: \"0 17px !important\",\n          \"& .post-page-view > div\": {\n            marginBottom: 0,\n          },\n        },\n      },\n      \"& .feed-item-main\": {\n        display: \"flex\",\n        flexDirection: \"row\",\n        position: \"relative\",\n        cursor: \"default\",\n        margin: \"15px 0px 20px\",\n        transition: \"all 100ms ease-in\",\n\n        \"& > .content\": {\n          width: \"100%\",\n\n          \"& .description-header\": {\n            display: \"flex\",\n            position: \"relative\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            height: \"56px\",\n            margin: \"0 30px 10px\",\n            \"& .header-msg\": {\n              display: \"flex\",\n              width: \"100%\",\n              cursor: \"default\",\n              whiteSpace: \"nowrap\",\n              \"& .posterInfo_name\": {\n                display: \"flex\",\n                // flexDirection:\"column\",\n                marginLeft: \"10px !important\",\n                fontSize: \"16px\",\n                overflow: \"hidden\",\n                \"& .posterInfo-part1\": {\n                  display: \"flex\",\n                  fontWeight: 700,\n                  lineHeight: \"18px !important\",\n                  marginRight: \"7px\",\n                  width: \"100%\",\n                  \"& a\": {\n                    color: theme.palette.text.primary,\n                  },\n                  \"& svg\": {\n                    marginLeft: \"5px\",\n                    marginTop: \"2px\",\n                    verticalAlign: \"top\",\n                  },\n                },\n                \"& .posterInfo-part2\": {\n                  fontWeight: 400,\n                  color: theme.palette.secondary.light,\n                  textOverflow: \"ellipsis\",\n                  overflow: \"hidden\",\n                },\n              },\n\n              \"& .time-since\": {\n                fontWeight: \"lighter\",\n                padding: \"0px 10px\",\n                fontSize: \"13px\",\n                color: theme.palette.primary.light,\n                marginLeft: \"10px\",\n                borderLeft: `1px solid ${theme.border.lightGray}`,\n              },\n            },\n          },\n\n          \"& .message\": {\n            wordBreak: \"break-word\",\n            lineHeight: \"160%\",\n            paddingBottom: \"0px !important\",\n            marginTop: \"-30px\",\n            minHeight: \"30px\",\n            \"& >.unavailable-post-container\": {\n              marginLeft: 66,\n            },\n          },\n        },\n      },\n    },\n  },\n  avatar: {\n    width: \"50px\",\n    height: \"50px\",\n    borderRadius: \"100%\",\n    \"&.repost\": {\n      width: \"24px\",\n      height: \"24px\",\n    },\n  },\n  icon: {\n    width: 16,\n    height: 16,\n    margin: theme.spacing(0, 0, 0, 0.5),\n    borderRadius: \"100%\",\n  },\n\n  userAvatar: {\n    minWidth: \"25px !important\",\n  },\n  hoverPopup: {\n    display: \"flex\",\n    flexShrink: 1,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    marginRight: \"3px\",\n  },\n  userDisplayName: {\n    width: \"100%\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    height: \"100%\",\n  },\n  influencer: {\n    display: \"flex\",\n    flexShrink: 0,\n    marginRight: \"3px\",\n    paddingTop: theme.spacing(0.25),\n  },\n  userAtNameShort: {\n    color: theme.palette.text.gray,\n    flexShrink: 99,\n    marginRight: \"3px\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    fontWeight: \"400\",\n    [theme.breakpoints.down(\"xs\")]: {\n      flexShrink: 99,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      Display: \"block\",\n    },\n  },\n  userAtName: {\n    color: theme.palette.text.gray,\n    flexShrink: 99,\n    marginLeft: \"3px\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    fontWeight: \"400\",\n    [theme.breakpoints.down(\"xs\")]: {\n      flexShrink: 99,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n    },\n  },\n  dot: {\n    color: theme.palette.text.gray,\n    display: \"flex\",\n    fontSize: 16,\n    flexShrink: 0,\n    marginLeft: 5,\n    marginRight: 5,\n  },\n  sinceTime: {\n    color: theme.palette.text.gray,\n    display: \"flex\",\n    flexShrink: 0,\n    fontWeight: 400,\n  },\n}));\n\n/**\n * A view component for a single item in the popup\n */\nexport const PostFeedItemViewForPopup = ({\n  id,\n  scene,\n  mainContent,\n  postItemRef,\n  avatarUrl,\n  posterId,\n  posterInfo,\n  displayName,\n  username,\n  sinceTime,\n  sinceTimeFormat,\n}) => {\n  const classes = useStyles();\n  const comp = (\n    <div\n      id={id}\n      className={`${classes.root} post-feed-item ${scene}`}\n      ref={postItemRef}\n    >\n      <div className=\"feed-item-main\">\n        <div className=\"content\">\n          <div className=\"description-header\">\n            <div className=\"header-msg\">\n              <div key=\"popup-handler\" className={classes.userAvatar}>\n                <AvatarLink\n                  avatarUrl={avatarUrl}\n                  styleClasses={`${classes.avatar} ${scene}`}\n                  userId={posterId}\n                  username={displayName}\n                />\n              </div>\n              <div className=\"posterInfo_name\">\n                <div\n                  className=\"posterInfo-part1\"\n                  style={{width: \"100%\", display: \"flex\"}}\n                >\n                  <div className={classes.hoverPopup}>\n                    <div\n                      key=\"popup-handler\"\n                      name=\"handler\"\n                      className={classes.userDisplayName}\n                    >\n                      <UserLabelLink\n                        userId={posterId}\n                        nickname={displayName || username}\n                      />\n                    </div>\n                  </div>\n\n                  {posterInfo?.isInfluencer && posterInfo?.isInfluencer() > 0 && (\n                    <div className={classes.influencer}>\n                      <VerificationIcon className={classes.icon} />\n                    </div>\n                  )}\n\n                  <div\n                    className={\n                      sinceTimeFormat\n                        ? classes.userAtNameShort\n                        : classes.userAtName\n                    }\n                  >\n                    @{username}\n                  </div>\n                  <div className={classes.dot}></div>\n                  <div className={classes.sinceTime}>{sinceTime}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"message\">{mainContent}</div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return comp;\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 22C13.9778 22 15.9112 21.4135 17.5557 20.3147C19.2002 19.2159 20.4819 17.6541 21.2388 15.8268C21.9957 13.9996 22.1937 11.9889 21.8078 10.0491C21.422 8.10928 20.4696 6.32746 19.0711 4.92894C17.6725 3.53041 15.8907 2.578 13.9509 2.19215C12.0111 1.8063 10.0004 2.00433 8.17316 2.76121C6.3459 3.51809 4.78412 4.79981 3.6853 6.4443C2.58649 8.08879 2 10.0222 2 12C2 14.6522 3.05357 17.1957 4.92893 19.0711C6.8043 20.9464 9.34783 22 12 22Z\",\n  fill: \"#0F6CF6\",\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.375 8.875L10.5625 15.125L7.625 12.2813\",\n  stroke: \"white\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoSuccessFilled(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoSuccessFilled);\nexport default __webpack_public_path__ + \"static/media/ico-success-filled.3300a50e.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState} from \"react\";\nimport {makeStyles, createStyles, useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport {GButton} from \"../../styles/components/GButton\";\nimport {GTypography} from \"../../styles/components/GTypography\";\nimport {t} from \"../../i18n/utils\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport {ReactComponent as IconCancel} from \"src/assets/icons/icon_close.svg\";\nimport {ReactComponent as SuccessFilledIcon} from \"src/assets/icons/ico-success-filled.svg\";\n\nconst TOTAL_ANSWERS_CNT = 5;\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    dialogContainer: {\n      \"& .MuiPaper-rounded\": {\n        borderRadius: theme.spacing(1.5),\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        \"& .MuiDialog-paperWidthSm\": {\n          maxWidth: 658,\n        },\n      },\n    },\n    header: {\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      padding: \"23px 0 18px 38px\",\n      \"& .MuiTypography-h6\": {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n      },\n    },\n    closeButton: {\n      // position: \"absolute\",\n      // right: 38,\n      // top: 20,\n      cursor: \"pointer\",\n      width: 26,\n      height: 26,\n      background:\n        \"linear-gradient(0deg, rgba(95, 95, 95, 0.5), rgba(95, 95, 95, 0.5))\",\n      opacity: 0.7,\n      borderRadius: \"50%\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      transition: \"all 0.3s ease-in-out\",\n      marginRight: 20,\n      marginTop: 5,\n      \"&:hover\": {\n        background:\n          \"linear-gradient(0deg, rgba(95, 95, 95, 0.7), rgba(95, 95, 95, 0.7))\",\n      },\n      \"& > svg\": {\n        stroke: \"#FFF\",\n      },\n    },\n    title: {\n      fontSize: \"18px\",\n      lineHeight: \"36px\",\n    },\n    description: {\n      fontWeight: 500,\n      fontSize: \"20px\",\n      color: theme.palette.text.secondary,\n      padding: \"24px 38px\",\n      lineHeight: \"130%\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    },\n    dialogContent: {\n      [theme.breakpoints.up(\"md\")]: {\n        width: 658,\n      },\n    },\n    answer: {\n      fontSize: \"16px\",\n      padding: \"15px 37px\",\n      display: \"flex\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      cursor: \"pointer\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      \"&:hover\": {\n        backgroundColor: theme.palette.grey.A300,\n      },\n      \"& .MuiTypography-root\": {\n        lineHeight: \"24px\",\n      },\n    },\n    reportButton: {\n      textTransform: \"capitalize\",\n      height: 36,\n      width: 100,\n      // marginTop: 30,\n      marginRight: 20,\n      borderRadius: \"100px\",\n      \"& > .MuiButton-label\": {\n        fontSize: \"16px\",\n      },\n    },\n    dialogTitleLeft: {\n      display: \"flex\",\n    },\n  }),\n);\n\nexport function ReportContentDialog({isOpen, handleClose, handleSubmit}) {\n  const classes = useStyles();\n  const [selectedAnswerKey, setSelectedAnswerKey] = useState(null);\n  const answerKeys = [...Array(TOTAL_ANSWERS_CNT + 1).keys()].slice(1); // [1,2,3,...]\n\n  const onSubmit = () => {\n    handleSubmit(selectedAnswerKey); // API call\n    handleClose();\n    setSelectedAnswerKey(null); // reset\n  };\n\n  const toggleAnswer = (key) => {\n    if (selectedAnswerKey === key) {\n      setSelectedAnswerKey(null);\n    } else {\n      setSelectedAnswerKey(key);\n    }\n  };\n\n  return (\n    <Dialog\n      fullScreen={useMediaQuery(useTheme().breakpoints.down(\"sm\"))}\n      open={isOpen}\n      onClose={handleClose}\n      className={classes.dialogContainer}\n    >\n      <DialogTitle className={classes.header}>\n        <div className={classes.dialogTitleLeft}>\n          <span className={classes.closeButton} onClick={handleClose}>\n            <IconCancel />\n          </span>\n          <GTypography isBold className={classes.title}>\n            {t(\"getter_fe.common.reportContent.title\")}\n          </GTypography>\n        </div>\n        <GButton\n          fullWidth={false}\n          isBold\n          color=\"primary\"\n          variant=\"contained\"\n          disabled={!selectedAnswerKey}\n          className={classes.reportButton}\n          onClick={onSubmit}\n        >\n          {t(\"getter_fe.common.reportContent.report\")}\n        </GButton>\n      </DialogTitle>\n\n      <div className={classes.dialogContent}>\n        <GTypography className={classes.description}>\n          {t(\"getter_fe.common.reportContent.description\")}\n        </GTypography>\n\n        {answerKeys.map((key) => {\n          return (\n            <div\n              key={key}\n              className={classes.answer}\n              onClick={() => toggleAnswer(key)}\n            >\n              <GTypography>\n                {t(`getter_fe.common.reportContent.answer${key}`)}\n              </GTypography>\n              {selectedAnswerKey === key && <SuccessFilledIcon />}\n            </div>\n          );\n        })}\n      </div>\n    </Dialog>\n  );\n}\n","export const refreshHelper = (() => {\n  const cacheRefreshGroup = {};\n  let timer;\n  return {\n    setup: (viewName, refreshFunc) => {\n      cacheRefreshGroup[viewName] = refreshFunc;\n    },\n    refresh: (viewName, data) => {\n      if (cacheRefreshGroup[viewName]) {\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n          cacheRefreshGroup[viewName](true, data);\n        }, 300);\n      }\n    },\n  };\n})();\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Box} from \"@material-ui/core\";\nimport {UserLabelLink} from \"../../components/UserLabelLink\";\nimport HoverPopup from \"../../components/HoverPopup\";\nimport {PostStatLine} from \"./PostStatLine\";\nimport {ReportContentDialog} from \"../../components/ReportContentDialog\";\nimport {AvatarLink} from \"../../components/AvatarLink\";\nimport {refreshHelper} from \"src/util/refreshHelper\";\nimport {ReactComponent as VerificationIcon} from \"src/assets/icons/ico-verification.svg\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"&.post-feed-item\": {\n      display: \"flex\",\n      flexDirection: \"column\",\n      borderBottom: theme.notchedOutline.border,\n      \"&.comment-detail\": {\n        border: \"none\",\n        \"& .content\": {\n          width: \"calc(100% - 71px)\",\n        },\n      },\n      \"&.post-page-view\": {\n        \"& > .feed-item-main > .content > .description-header\": {\n          marginLeft: \"17px !important\",\n          \"& .posterInfo_name\": {\n            flexDirection: \"column\",\n            paddingTop: \"10px\",\n          },\n          \"& .dropdown\": {\n            marginTop: \"-12px !important\",\n          },\n        },\n        \"& > .feed-item-main > .content > .message\": {\n          marginTop: \"-6px !important\",\n          padding: \"0 17px !important\",\n          \"& .post-page-view > div\": {\n            marginBottom: 0,\n          },\n        },\n      },\n      \"& .feed-item-main\": {\n        display: \"flex\",\n        flexDirection: \"row\",\n        position: \"relative\",\n        cursor: \"pointer\",\n        margin: \"15px 0px 20px\",\n        transition: \"all 100ms ease-in\",\n\n        \"& > .content\": {\n          width: \"100%\",\n\n          \"& .description-header\": {\n            display: \"flex\",\n            position: \"relative\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            height: \"56px\",\n            margin: \"0 30px\",\n            \"& .header-msg\": {\n              display: \"flex\",\n              width: \"100%\",\n              whiteSpace: \"nowrap\",\n              \"& .avatar\": {\n                width: \"56px\",\n                height: \"56px\",\n                borderRadius: \"50%\",\n              },\n              \"& .posterInfo_name\": {\n                display: \"flex\",\n                marginLeft: \"20px\",\n                fontSize: \"16px\",\n                overflow: \"hidden\",\n                \"& .posterInfo-part1\": {\n                  display: \"flex\",\n                  fontWeight: 700,\n                  lineHeight: \"19px\",\n                  marginRight: \"7px\",\n                  \"& a\": {\n                    color: theme.palette.text.primary,\n                  },\n                  \"& svg\": {\n                    marginLeft: \"5px\",\n                    marginTop: \"2px\",\n                    verticalAlign: \"top\",\n                  },\n                },\n              },\n\n              \"& .time-since\": {\n                fontWeight: \"lighter\",\n                padding: \"0px 10px\",\n                fontSize: \"13px\",\n                color: theme.palette.primary.light,\n                marginLeft: \"10px\",\n                borderLeft: `1px solid ${theme.border.lightGray}`,\n              },\n            },\n\n            \"& .dropdown\": {\n              marginRight: \"-22px\",\n              marginTop: \"-30px\",\n              \"& svg\": {\n                fontSize: \"24px\",\n              },\n            },\n          },\n\n          \"& .message\": {\n            wordBreak: \"break-word\",\n            lineHeight: \"160%\",\n            paddingBottom: \"8px\",\n            marginTop: \"-30px\",\n            minHeight: \"30px\",\n          },\n        },\n      },\n    },\n  },\n  posterInfoPart2: {\n    fontWeight: 400,\n    color: theme.palette.secondary.light,\n    textOverflow: \"ellipsis\",\n    overflow: \"hidden\",\n  },\n  feedItemMain: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n    padding: \"15px 0px 12px 15px\",\n    transition: \"all 100ms ease-in\",\n    fontSize: 14,\n    \"& .content\": {\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      \"& .description-header\": {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        fontSize: \"16px\",\n        alignItems: \"center\",\n        \"& > div > div:first-child\": {\n          maxWidth: \"100%\",\n        },\n        \"& > div > div:nth-child(3)\": {\n          maxWidth: \"100%\",\n          minWidth: \"0px\",\n        },\n      },\n    },\n  },\n  description: {\n    paddingRight: \"15px\",\n    paddingTop: \"10px\",\n  },\n  messageContent: {\n    padding: 0,\n    paddingRight: \"15px\",\n  },\n  postDetailMessageContent: {\n    \"& .post-page-view > div > .text-content\": {\n      fontSize: \"24px\",\n      fontWeight: theme.typography.fontWeightRegular,\n    },\n  },\n  dropdownImage: {\n    stroke: theme.palette.text.gray,\n  },\n  dropdownContent: {\n    width: theme.mixins.dropdownMenu.width,\n    position: \"absolute\",\n    right: 10,\n    top: -5,\n    borderRadius: 6,\n\n    \"& .menu-item\": {\n      padding: theme.spacing(1),\n      borderRadius: 6,\n\n      \"&.danger\": {\n        border: \"1px solid white\",\n        color: theme.palette.error.secondary,\n        \"&:hover\": {\n          borderRadius: theme.spacing(0.5),\n          border: \"1px solid red\",\n          backgroundColor: theme.palette.background.red,\n        },\n      },\n\n      \"& .wrapper\": {\n        display: \"flex\",\n      },\n\n      \"& .icon\": {\n        marginRight: theme.spacing(1),\n      },\n\n      \"& .menu-item-name\": {\n        lineHeight: \"31px\",\n      },\n    },\n  },\n  postedTime: {\n    color: theme.palette.text.gray,\n    fontSize: 15,\n    padding: \"20px 0\",\n    borderBottom: `1px solid ${theme.mixins.avatar.borderColor}`,\n    fontWeight: 400,\n  },\n  avatarContent: {\n    marginRight: \"15px\",\n    \"& > div\": {\n      maxWidth: \"100%\",\n    },\n  },\n  avatar: {\n    width: 55,\n    height: 55,\n    borderRadius: \"100%\",\n    border: `1px solid ${theme.mixins.avatar.borderColor}`,\n    cursor: \"pointer\",\n  },\n  commentDetailAvatar: {\n    position: \"relative\",\n    marginRight: \"15px\",\n\n    \"&::after\": {\n      content: \"' '\",\n      position: \"absolute\",\n      top: \"56px\",\n      left: \"27px\",\n      bottom: \"-20px\",\n      width: \"3px\",\n      backgroundColor: \"#d9d9d9\",\n      borderRadius: \"3px\",\n      transform: \"translate(-50%, 0)\",\n    },\n  },\n  commentFeedItemMain: {\n    display: \"flex\",\n    margin: \"16px 30px 0\",\n    position: \"relative\",\n    cursor: \"pointer\",\n    transition: \"all 100ms ease-in\",\n\n    \"& .content\": {\n      width: \"calc(100% - 67px)\",\n      marginBottom: \"20px\",\n\n      \"& .description-header\": {\n        \"& .posterInfo_name\": {\n          display: \"flex\",\n          alignItems: \"center\",\n          fontSize: \"16px\",\n          \"& .posterInfo-part1\": {\n            fontWeight: 700,\n            marginRight: \"12px\",\n            display: \"flex\",\n            alignItems: \"center\",\n\n            \"& a\": {\n              color: theme.palette.text.primary,\n              marginRight: theme.spacing(1),\n            },\n          },\n          \"& .posterInfo-part2\": {\n            fontWeight: 400,\n            color: theme.palette.secondary.light,\n          },\n        },\n      },\n    },\n  },\n  icon: {\n    width: 16,\n    height: 16,\n    margin: theme.spacing(0, 0, 0, 0.5),\n    borderRadius: \"100%\",\n  },\n\n  hoverPopup: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexShrink: 1,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    marginRight: \"3px\",\n    lineHeight: \"19px\",\n  },\n  userDisplayName: {\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    lineHeight: \"19px\",\n  },\n  influencer: {\n    display: \"flex\",\n    flexShrink: 0,\n    marginRight: \"3px\",\n    paddingTop: theme.spacing(0.25),\n  },\n  userAtNameShort: {\n    color: theme.palette.text.gray,\n    flexShrink: 99,\n    marginRight: \"3px\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    lineHeight: \"19px\",\n    marginTop: 1,\n    marginBottom: 1,\n    fontWeight: \"400\",\n    [theme.breakpoints.down(\"xs\")]: {\n      flexShrink: 99,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      Display: \"block\",\n    },\n  },\n  userAtName: {\n    lineHeight: \"19px\",\n    marginTop: 1,\n    marginBottom: 2,\n    cursor: \"pointer\",\n    color: theme.palette.text.gray,\n    fontWeight: \"400\",\n  },\n  dot: {\n    color: theme.palette.text.gray,\n    display: \"flex\",\n    fontSize: 16,\n    flexShrink: 0,\n    marginLeft: 5,\n    marginRight: 5,\n  },\n  sinceTime: {\n    color: theme.palette.text.gray,\n    display: \"flex\",\n    flexShrink: 0,\n  },\n}));\n\n/**\n * A view component for a single item in the popup\n */\nexport const PostFeedItemViewForDetail = ({\n  id,\n  scene,\n  mainContent,\n  postItemRef,\n  avatarUrl,\n  posterId,\n  posterInfo,\n  displayName,\n  username,\n  sinceTime,\n  sinceTimeFormat,\n  headLine,\n  isOpen,\n  handleClose,\n  handleSubmit,\n  menuDropDown,\n  xPostItem,\n  detailLink,\n  type,\n  itemId,\n  postedTime,\n  postId,\n  sharedObj,\n  hideDropdown,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <div\n      id={id}\n      className={`${classes.root} post-feed-item ${scene} ${\n        type === \"comment-detail\" && \"comment-detail\"\n      }`}\n      ref={postItemRef}\n    >\n      {headLine}\n      <div className={classes.feedItemMain}>\n        {type !== \"post-detail\" ? (\n          <div\n            className={\n              type === \"comment-detail\"\n                ? classes.commentDetailAvatar\n                : classes.avatarContent\n            }\n          >\n            <HoverPopup userId={posterId} userInfoTemp={posterInfo}>\n              <div key=\"popup-handler\">\n                <AvatarLink\n                  avatarUrl={avatarUrl}\n                  styleClasses={classes.avatar}\n                  userId={posterId}\n                  username={displayName}\n                />\n              </div>\n            </HoverPopup>\n          </div>\n        ) : null}\n        <div className=\"content\">\n          <div className=\"description-header\">\n            <Box\n              display={type === \"post-detail\" ? \"flex\" : \"\"}\n              alignItems={type === \"post-detail\" ? \"center\" : \"\"}\n              width=\"80%\"\n              flexGrow={1}\n            >\n              {type !== \"post-detail\" ? null : (\n                <HoverPopup userId={posterId} userInfoTemp={posterInfo}>\n                  <div key=\"popup-handler\" className={classes.avatarContent}>\n                    <AvatarLink\n                      avatarUrl={avatarUrl}\n                      styleClasses={classes.avatar}\n                      userId={posterId}\n                      username={displayName}\n                    />\n                  </div>\n                </HoverPopup>\n              )}\n              <Box\n                display=\"flex\"\n                alignItems=\"flex-start\"\n                flexDirection=\"row\"\n                flex=\"1\"\n              >\n                <Box\n                  display={type === \"post-detail\" ? \"block\" : \"flex\"}\n                  flexDirection=\"row\"\n                  alignItems=\"center\"\n                  mr={1}\n                  width=\"100%\"\n                >\n                  <HoverPopup\n                    userId={posterId}\n                    userInfoTemp={posterInfo}\n                    leftAligned={true}\n                  >\n                    <div\n                      key=\"popup-handler\"\n                      name=\"handler\"\n                      className={classes.hoverPopup}\n                    >\n                      <div className={classes.userDisplayName}>\n                        <UserLabelLink\n                          userId={posterId}\n                          nickname={displayName || username}\n                        />\n                      </div>\n                      {posterInfo?.isInfluencer &&\n                        posterInfo?.isInfluencer() > 0 && (\n                          <div className={classes.influencer}>\n                            <VerificationIcon className={classes.icon} />\n                          </div>\n                        )}\n                    </div>\n                  </HoverPopup>\n                  <Box display=\"flex\" alignItems=\"center\" flexShrink=\"0\">\n                    <span\n                      className={\n                        sinceTimeFormat\n                          ? classes.userAtNameShort\n                          : classes.userAtName\n                      }\n                    >\n                      @{username}\n                    </span>\n                    <span className={classes.dot}></span>\n                    <span className={classes.sinceTime}>{sinceTime}</span>\n                  </Box>\n                </Box>\n              </Box>\n            </Box>\n            {menuDropDown}\n          </div>\n          <div className={classes.description}>\n            <div\n              className={\n                type === \"post-detail\"\n                  ? classes.postDetailMessageContent\n                  : classes.messageContent\n              }\n            >\n              {mainContent}\n            </div>\n            {type === \"post-detail\" ? (\n              <div className={classes.postedTime}>{postedTime}</div>\n            ) : null}\n            <PostStatLine\n              item={xPostItem}\n              postId={postId}\n              detailLink={detailLink}\n              type={type}\n              setupRefresh={(refreshFunc) =>\n                refreshHelper.setup(`PostStatLine-${itemId}`, refreshFunc)\n              }\n              sharedObj={sharedObj}\n              scene={scene}\n              hideDropdown={hideDropdown}\n            />\n          </div>\n        </div>\n      </div>\n\n      <ReportContentDialog\n        isOpen={isOpen}\n        handleClose={handleClose}\n        handleSubmit={(reasonId) => handleSubmit(reasonId)}\n      />\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.6667 12.9999V5.6666H16.5833V3.83325H7.41667V5.6666H8.33333V12.9999L6.5 14.8333V16.6666H11.2667L11.5417 22.1666L12 23.0833L12.4583 22.1666L12.7333 16.6666H17.5V14.8333L15.6667 12.9999Z\"\n});\n\nfunction SvgIcoPin(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 15,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoPin);\nexport default __webpack_public_path__ + \"static/media/ico-pin.25bafa86.svg\";\nexport { ForwardRef as ReactComponent };","import React, {Fragment} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Box} from \"@material-ui/core\";\nimport {UserLabelLink} from \"../../components/UserLabelLink\";\nimport HoverPopup from \"../../components/HoverPopup\";\nimport {PostStatLine} from \"./PostStatLine\";\nimport {ReportContentDialog} from \"../../components/ReportContentDialog\";\nimport {AvatarLink} from \"../../components/AvatarLink\";\nimport {useHistory} from \"react-router-dom\";\nimport {ReactComponent as VerificationIcon} from \"src/assets/icons/ico-verification.svg\";\nimport {scrollHelper} from \"src/util/scrollUtils\";\nimport {ReactComponent as PinIcon} from \"src/assets/icons/ico-pin.svg\";\nimport {t} from \"src/i18n/utils\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    cursor: \"pointer\",\n    \"& .posterInfo-part2\": {\n      color: theme.palette.secondary.light,\n    },\n    \"&.post-feed-item\": {\n      display: \"flex\",\n      flexDirection: \"column\",\n      borderBottom: theme.notchedOutline.border,\n\n      \"&.timeline\": {\n        borderTop: \"none\",\n        backgroundColor: \"#fff\",\n\n        \"& > .feed-item-main > .content > .message\": {\n          wordBreak: \"break-word\",\n          lineHeight: \"160%\",\n          paddingBottom: \"8px\",\n          paddingLeft: \"96px\",\n          paddingRight: \"30px\",\n          marginTop: \"-50px\",\n          minHeight: \"30px\",\n        },\n      },\n      \"&:hover\": {\n        backgroundColor: theme.palette.background.dark,\n\n        [theme.breakpoints.down(\"xs\")]: {\n          backgroundColor: \"transparent\",\n        },\n      },\n      \"&.post-page-view\": {\n        \"& > .feed-item-main > .content > .description-header\": {\n          marginLeft: \"17px !important\",\n          \"& .posterInfo_name\": {\n            flexDirection: \"column\",\n            paddingTop: \"10px\",\n          },\n          \"& .dropdown\": {\n            marginTop: \"-12px !important\",\n          },\n        },\n        \"& > .feed-item-main > .content > .message\": {\n          marginTop: \"-6px !important\",\n          padding: \"0 17px !important\",\n          \"& .post-page-view > div\": {\n            marginBottom: 0,\n          },\n        },\n      },\n      \"& .feed-item-main\": {\n        display: \"flex\",\n        flexDirection: \"row\",\n        position: \"relative\",\n        cursor: \"pointer\",\n        margin: \"15px 0px 20px\",\n        transition: \"all 100ms ease-in\",\n\n        \"& > .content\": {\n          width: \"100%\",\n\n          \"& .description-header\": {\n            height: 20,\n            display: \"flex\",\n            position: \"relative\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            height: \"56px\",\n            margin: \"0 30px\",\n            \"& .header-msg\": {\n              display: \"flex\",\n              width: \"100%\",\n              whiteSpace: \"nowrap\",\n              \"& .avatar\": {\n                width: \"56px\",\n                height: \"56px\",\n                borderRadius: \"50%\",\n              },\n              \"& .posterInfo_name\": {\n                display: \"flex\",\n                // flexDirection:\"column\",\n                marginLeft: \"20px\",\n                fontSize: \"15px\",\n                overflow: \"hidden\",\n                \"& .posterInfo-part1\": {\n                  display: \"flex\",\n                  fontWeight: 700,\n                  lineHeight: \"20px\",\n                  marginRight: \"7px\",\n                  \"& a\": {\n                    color: theme.palette.text.primary,\n                  },\n                  \"& svg\": {\n                    marginLeft: \"5px\",\n                    marginTop: \"2px\",\n                    verticalAlign: \"top\",\n                  },\n                },\n                \"& .posterInfo-part2\": {\n                  fontWeight: 400,\n                  color: theme.palette.secondary.light,\n                  textOverflow: \"ellipsis\",\n                  overflow: \"hidden\",\n                },\n              },\n\n              \"& .time-since\": {\n                fontWeight: \"lighter\",\n                padding: \"0px 10px\",\n                fontSize: \"13px\",\n                color: theme.palette.primary.light,\n                marginLeft: \"10px\",\n                borderLeft: `1px solid ${theme.border.lightGray}`,\n              },\n            },\n\n            \"& .dropdown\": {\n              marginRight: \"-22px\",\n              marginTop: \"-30px\",\n              \"& svg\": {\n                fontSize: \"24px\",\n              },\n            },\n          },\n\n          \"& .message\": {\n            wordBreak: \"break-word\",\n            lineHeight: \"160%\",\n            paddingBottom: \"8px\",\n            marginTop: \"-30px\",\n            minHeight: \"30px\",\n          },\n        },\n      },\n      \"& .reposted-info\": {\n        color: theme.palette.text.gray,\n        fontSize: \"13px\",\n        lineHeight: \"13px\",\n        paddingLeft: \"52px\",\n        paddingBottom: \"8px\",\n        marginBottom: \"-20px\",\n        paddingTop: \"14px\",\n        fontWeight: \"700\",\n\n        \"& svg\": {\n          stroke: theme.svg.color,\n          verticalAlign: \"top\",\n          \"& path\": {\n            strokeWidth: \"1.5\",\n          },\n        },\n        \"& a\": {\n          color: theme.palette.text.gray,\n          marginRight: \"10px\",\n        },\n      },\n    },\n  },\n  pinnedLine: {\n    borderBottom: theme.notchedOutline.border,\n    backgroundColor: \"#F2F2F2\",\n    height: theme.spacing(1.25),\n  },\n  repostSpacing: {\n    marginRight: theme.spacing(2),\n  },\n  feedItemMain: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1,\n    padding: \"15px 0px 6px 18px\",\n    transition: \"all 100ms ease-in\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    \"& > .content\": {\n      width: \"calc(100% - 67px)\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      \"& .description-header\": {\n        height: 20,\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        paddingRight: theme.spacing(0.5),\n        fontSize: \"15px\",\n      },\n    },\n  },\n  description: {\n    paddingRight: 0,\n  },\n  messageContent: {\n    padding: 0,\n    paddingRight: \"15px\",\n  },\n  postDetailMessageContent: {\n    padding: 0,\n  },\n  dropdownImage: {\n    stroke: theme.palette.text.gray,\n  },\n  dropdownContent: {\n    width: theme.mixins.dropdownMenu.width,\n    position: \"absolute\",\n    right: 10,\n    top: -5,\n    borderRadius: 6,\n\n    \"& .menu-item\": {\n      padding: theme.spacing(1),\n      borderRadius: 6,\n\n      \"&.danger\": {\n        border: \"1px solid white\",\n        color: theme.palette.error.secondary,\n        \"&:hover\": {\n          borderRadius: theme.spacing(0.5),\n          border: \"1px solid red\",\n          backgroundColor: theme.palette.background.red,\n        },\n      },\n\n      \"& .wrapper\": {\n        display: \"flex\",\n      },\n\n      \"& .icon\": {\n        marginRight: theme.spacing(1),\n      },\n\n      \"& .menu-item-name\": {\n        lineHeight: \"31px\",\n      },\n    },\n  },\n  postedTime: {\n    color: theme.palette.text.secondary,\n    fontSize: \"18px\",\n    padding: \"20px 0\",\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n  },\n  avatarContent: {\n    marginRight: \"15px\",\n    \"& > div\": {\n      maxWidth: \"100%\",\n    },\n  },\n  avatar: {\n    width: \"50px\",\n    height: \"50px\",\n    borderRadius: \"100%\",\n    cursor: \"pointer\",\n  },\n  commentDetailAvatar: {\n    position: \"relative\",\n    marginRight: \"15px\",\n\n    \"&::after\": {\n      content: \"' '\",\n      position: \"absolute\",\n      top: \"85px\",\n      left: \"18px\",\n      bottom: 0,\n      width: \"3px\",\n      backgroundColor: \"#d9d9d9\",\n      borderRadius: \"3px\",\n      transform: \"translate(-50%, 0)\",\n    },\n  },\n  commentFeedItemMain: {\n    display: \"flex\",\n    margin: \"16px 30px 0\",\n    position: \"relative\",\n    cursor: \"pointer\",\n    transition: \"all 100ms ease-in\",\n\n    \"& .content\": {\n      width: \"calc(100% - 67px)\",\n      marginBottom: \"20px\",\n\n      \"& .description-header\": {\n        \"& .posterInfo_name\": {\n          display: \"flex\",\n          alignItems: \"center\",\n          fontSize: \"15px\",\n          \"& .posterInfo-part1\": {\n            fontWeight: 700,\n            marginRight: \"12px\",\n            display: \"flex\",\n            alignItems: \"center\",\n\n            \"& a\": {\n              color: theme.palette.text.primary,\n              marginRight: theme.spacing(1),\n            },\n          },\n          \"& .posterInfo-part2\": {\n            paddingLeft: \"3px\",\n            paddingRight: \"3px\",\n            fontWeight: 400,\n            color: theme.palette.secondary.light,\n          },\n        },\n      },\n    },\n  },\n  icon: {\n    width: 16,\n    height: 16,\n    margin: theme.spacing(0, 0, 0, 0.5),\n    borderRadius: \"100%\",\n  },\n  hoverPopup: {\n    display: \"flex\",\n    flexShrink: 1,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    marginRight: \"3px\",\n    alignItems: \"center\",\n  },\n  userDisplayName: {\n    // width: \"100%\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n  },\n  influencer: {\n    display: \"flex\",\n    flexShrink: 0,\n    marginRight: \"3px\",\n    paddingTop: theme.spacing(0.25),\n  },\n  userAtNameShort: {\n    color: theme.palette.text.gray,\n    flexShrink: 99,\n    marginRight: \"3px\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    fontWeight: \"400\",\n    [theme.breakpoints.down(\"xs\")]: {\n      flexShrink: 99,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      Display: \"block\",\n    },\n  },\n  userAtName: {\n    color: theme.palette.text.gray,\n    cursor: \"pointer\",\n    marginLeft: \"3px\",\n    fontWeight: \"400\",\n  },\n  dot: {\n    color: theme.palette.text.gray,\n    display: \"flex\",\n    fontSize: 15,\n    flexShrink: 0,\n    marginLeft: 5,\n    marginRight: 5,\n  },\n  sinceTime: {\n    color: theme.palette.text.gray,\n    display: \"flex\",\n    flexShrink: 0,\n  },\n  pinIcon: {\n    fill: theme.palette.text.gray,\n  },\n  unavailablePost: {\n    border: \"1px solid #E0E6EA\",\n    backgroundColor: \"#F3F5F8\",\n    borderRadius: 10,\n    width: \"auto\",\n    padding: theme.spacing(1.75),\n    color: theme.palette.text.gray,\n    lineHeight: \"15px\",\n    margin: theme.spacing(2.5),\n  },\n}));\n\n/**\n * A view component for a single item in the popup\n */\nexport const PostFeedItemViewForTimeline = ({\n  id,\n  scene,\n  mainContent,\n  postItemRef,\n  avatarUrl,\n  posterId,\n  posterInfo,\n  displayName,\n  username,\n  sinceTime,\n  sinceTimeFormat,\n  setTimelineId,\n  headLine,\n  isOpen,\n  menuDropDown,\n  xPostItem,\n  detailLink,\n  type,\n  itemId,\n  handleClose,\n  handleSubmit,\n  postId,\n  sharedObj,\n  isPinnedPost,\n  hideDropdown,\n  removePostFromProfile,\n}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const handleContentClick = (e, id) => {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n    const selection = window.getSelection().toString();\n\n    if (selection.length > 0) {\n      return;\n    }\n\n    if (setTimelineId) {\n      setTimelineId(xPostItem.getId());\n    }\n    id && history.push(`/post/${id}`);\n  };\n\n  const isSuspended = posterInfo?.data?.status === \"s\";\n\n  return (\n    <Fragment>\n      <div\n        id={id}\n        className={`${classes.root} post-feed-item ${scene}`}\n        key={itemId}\n        onClick={(e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          if (!isSuspended) {\n            scrollHelper.rememberScrollY(\"post-timeline\");\n            handleContentClick(e, postId);\n          }\n        }}\n        ref={postItemRef}\n      >\n        <div>\n          {headLine}\n\n          {isPinnedPost && (\n            <div className=\"header-msg reposted-info\">\n              <PinIcon className={classes.pinIcon} />\n              <span className={classes.repostSpacing} />\n              {t(\"getter_fe.post.text.pinnedPost\")}\n            </div>\n          )}\n          <div className={classes.feedItemMain}>\n            <div className={classes.avatarContent}>\n              <HoverPopup userId={posterId} userInfoTemp={posterInfo}>\n                <div key=\"popup-handler\">\n                  <AvatarLink\n                    avatarUrl={avatarUrl}\n                    styleClasses={classes.avatar}\n                    userId={posterId}\n                    username={displayName}\n                  />\n                </div>\n              </HoverPopup>\n            </div>\n            <div className=\"content\">\n              <div className=\"description-header\">\n                <Box\n                  alignItems={\"center\"}\n                  flexDirection={\"row\"}\n                  style={{width: \"80%\", flexGrow: 1}}\n                >\n                  <Box\n                    alignItems=\"flex-start\"\n                    mr={0.5}\n                    style={{\n                      width: \"100%\",\n                      display: \"flex\",\n                      lineHeight: \"18px\",\n                    }}\n                  >\n                    <HoverPopup\n                      userId={posterId}\n                      userInfoTemp={posterInfo}\n                      leftAligned={true}\n                    >\n                      <div\n                        key=\"popup-handler\"\n                        name=\"timeline-handler\"\n                        className={classes.hoverPopup}\n                      >\n                        <div className={classes.userDisplayName}>\n                          <UserLabelLink\n                            userId={posterId}\n                            nickname={\n                              posterInfo?.nickname || displayName || username\n                            }\n                          />\n                        </div>\n                        {(posterInfo?.isInfluencer &&\n                          posterInfo?.isInfluencer() > 0) ||\n                        posterInfo?.infl > 0 ? (\n                          <div className={classes.influencer}>\n                            <VerificationIcon className={classes.icon} />\n                          </div>\n                        ) : null}\n                        <div\n                          className={\n                            sinceTimeFormat\n                              ? classes.userAtNameShort\n                              : classes.userAtName\n                          }\n                        >\n                          @{posterInfo?.ousername || username}\n                        </div>\n                      </div>\n                    </HoverPopup>\n\n                    <div className={classes.dot}></div>\n                    <div className={classes.sinceTime}>{sinceTime}</div>\n                  </Box>\n                </Box>\n\n                <div\n                  onClick={(e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                  }}\n                >\n                  {menuDropDown}\n                </div>\n              </div>\n              {isSuspended ? (\n                <div className=\"unavailable-post-container\">\n                  <div className={classes.unavailablePost}>\n                    {t(\"getter_fe.post.tips.unavailable_comment\")}\n                  </div>\n                </div>\n              ) : (\n                <div className={classes.description}>\n                  <div className={classes.messageContent}>{mainContent}</div>\n\n                  <PostStatLine\n                    item={xPostItem}\n                    postId={postId}\n                    detailLink={detailLink}\n                    type={type}\n                    sharedObj={sharedObj}\n                    hideDropdown={hideDropdown}\n                    removePostFromProfile={removePostFromProfile}\n                    isPinnedPost={isPinnedPost}\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n      {isPinnedPost && <div className={classes.pinnedLine}></div>}\n      <ReportContentDialog\n        isOpen={isOpen}\n        handleClose={handleClose}\n        handleSubmit={(reasonId) => handleSubmit(reasonId)}\n      />\n    </Fragment>\n  );\n};\n","import React, {Fragment, useState, useEffect} from \"react\";\nimport {makeStyles} from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport {ModelType} from \"../../../core/model/ModelConsts\";\nimport TiledImages from \"../../components/TiledImages\";\nimport {PopupImages} from \"../../components/PopupImages\";\nimport {PreviewContent} from \"../../components/PreviewContent\";\nimport HighlightLink from \"../../components/HighlightLink\";\nimport {VideoPlayer} from \"../../components/VideoPlayer\";\nimport {handleMediaUrl} from \"src/util/imageUtils\";\nimport {GifImage} from \"src/app/components/GifImage\";\nimport {isObject} from \"lodash-es\";\n\nconst useStyles = makeStyles((theme) => ({\n  rootContentView: {\n    wordBreak: \"break-word\",\n    fontSize: 15,\n    lineHeight: \"1.3125\",\n    letterSpacing: \"0.01em\",\n    \"& .main-content\": {\n      color: theme.palette.text.primary,\n      padding: \"10px 0 16px\",\n      lineHeight: \"140%\",\n    },\n    \"& .main-image\": {\n      padding: 0,\n      position: \"relative\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      marginTop: theme.spacing(1.25),\n      border: `1px solid ${theme.divider.color}`,\n      maxHeight: \"284px\",\n      backgroundColor: \"#F3F5F8\",\n      borderRadius: 10,\n      overflow: \"hidden\",\n      \"&.single-image\": {\n        maxHeight: \"500px\",\n      },\n      \"& img\": {\n        width: \"100%\",\n        height: \"100%\",\n        objectFit: \"cover\",\n        \"&.gif\": {\n          objectFit: \"contain\",\n          backgroundColor: \"black\",\n          maxHeight: \"284px\",\n        },\n      },\n      \"&.repost\": {\n        display: \"block\",\n        border: \"none\",\n        backgroundColor: \"transparent\",\n        marginLeft: -35,\n        \"& img\": {\n          width: theme.spacing(12),\n        },\n      },\n    },\n    \"&.repost\": {\n      \"& .text-content\": {\n        marginLeft: -35,\n      },\n    },\n    // \"&.comment\": {\n    //   marginLeft: \"70px\",\n    //   \"& .main-image\": {\n    //     border: \"none\",\n    //     height: \"auto\",\n    //     color: theme.palette.text.gray,\n    //     fontSize: \"14px\",\n    //     overflow: \"visible\",\n    //   },\n    //   \"& .comment\": {\n    //     marginLeft: 0,\n    //     marginTop: 16,\n    //   },\n    //   \"&>div\": {\n    //     padding: 0,\n    //     display: \"-webkit-box\",\n    //     overflow: \"hidden\",\n    //     whiteSpace: \"normal !important\",\n    //     textOverflow: \"ellipsis\",\n    //     wordWrap: \"break-word\",\n    //     \"-webkit-line-clamp\": \"4 !important\",\n    //     \"-webkit-box-orient\": \"vertical\",\n    //   },\n    //   \"& .postContentView\": {\n    //     width: \"100%\",\n    //     margin: \"10px 0 0\",\n    //   },\n    // },\n    // \"&.repost\": {\n    //   \"& > div\": {\n    //     marginBottom: 0,\n    //     display: \"-webkit-box\",\n    //     overflow: \"hidden\",\n    //     whiteSpace: \"normal !important\",\n    //     textOverflow: \"ellipsis\",\n    //     wordWrap: \"break-word\",\n    //     \"-webkit-line-clamp\": \"4 !important\",\n    //     \"-webkit-box-orient\": \"vertical\",\n    //   },\n    // },\n    // \"&.timeline, &.profile\": {\n    //   \"& .text-content\": {\n    //     display: \"-webkit-box\",\n    //     \"-webkit-line-clamp\": 5,\n    //     \"-webkit-box-orient\": \"vertical\",\n    //     overflow: \"hidden\",\n    //   },\n    // },\n  },\n  mainImages: {\n    \"& .main-image\": {\n      border: \"none\",\n    },\n  },\n  originSmallImage: {\n    width: theme.spacing(12),\n    height: theme.spacing(12),\n    borderRadius: 10,\n    marginRight: theme.spacing(2),\n    border: `1px solid ${theme.divider.color}`,\n    objectFit: \"cover\",\n    flexShrink: 0,\n    backgroundColor: theme.palette.grey.A300,\n    \"&.noCursor\": {\n      cursor: \"auto\",\n    },\n  },\n  originPost: {\n    cursor: \"pointer\",\n    minHeight: \"83px\",\n  },\n  originheadline: {\n    display: \"flex\",\n    alignItems: \"center\",\n    fontSize: \"16px\",\n    color: theme.palette.text.secondary,\n    padding: 12,\n  },\n  originMedia: {\n    paddingLeft: 12,\n    paddingBottom: 12,\n    paddingRight: 12,\n    \"&.repostOriginMedia\": {\n      padding: \"12px 0 0\",\n    },\n  },\n  originTextContent: {\n    \"& .text-content\": {\n      display: \"-webkit-box\",\n      overflow: \"hidden\",\n      whiteSpace: \"normal !important\",\n      textOverflow: \"ellipsis\",\n      wordWrap: \"break-word\",\n      \"-webkit-line-clamp\": \"4 !important\",\n      \"-webkit-box-orient\": \"vertical\",\n    },\n    \"&.repost\": {\n      padding: 0,\n    },\n    \"&.comment, &.repost, &.post-page-view, &.timeline\": {\n      \"& [class*='MuiBox-root']:not(.headline)\": {\n        alignItems: \"flex-start\",\n      },\n    },\n  },\n  originProfileImage: {\n    maxHeight: \"284px\",\n    borderRadius: \"0 0 10px 10px\",\n  },\n  commentProfileImage: {\n    maxHeight: \"284px\",\n    borderRadius: \"10px\",\n  },\n  videoWrapper: {\n    borderRadius: 10,\n    overflow: \"hidden\",\n    marginTop: 15,\n    \"& video\": {\n      width: \"100%\",\n      outline: \"none\",\n      height: \"284px\",\n    },\n  },\n  icon: {\n    width: theme.spacing(1.875),\n    margin: theme.spacing(0, 0, 0, 0.5),\n    height: \"auto\",\n  },\n  omittedWrapper: {\n    display: \"-webkit-box\",\n    overflow: \"hidden\",\n    whiteSpace: \"normal !important\",\n    textOverflow: \"ellipsis\",\n    wordWrap: \"break-word\",\n    \"-webkit-line-clamp\": \"4 !important\",\n    \"-webkit-box-orient\": \"vertical\",\n    \"& .text-content\": {\n      display: \"inline\",\n    },\n  },\n  avatar: {\n    width: \"24px\",\n    height: \"24px\",\n    marginRight: \"8px\",\n  },\n\n  hoverPopup: {\n    display: \"flex\",\n    flexShrink: 1,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n  },\n  userDisplayName: {\n    width: \"100%\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n  },\n  influencer: {\n    display: \"flex\",\n    flexShrink: 0,\n    marginRight: \"3px\",\n    paddingTop: theme.spacing(0.25),\n  },\n  userAtNameShort: {\n    color: theme.palette.text.gray,\n    flexShrink: 99,\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    fontWeight: \"400\",\n    [theme.breakpoints.down(\"xs\")]: {\n      flexShrink: 99,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      Display: \"block\",\n    },\n  },\n  userAtName: {\n    color: theme.palette.text.gray,\n    cursor: \"pointer\",\n    fontWeight: \"400\",\n  },\n  dot: {\n    color: theme.palette.text.gray,\n    display: \"flex\",\n    marginLeft: \"3px\",\n    marginRight: \"3px\",\n    flexShrink: 0,\n  },\n  sinceTime: {\n    color: theme.palette.text.gray,\n    display: \"flex\",\n    paddingLeft: \"3px\",\n    flexShrink: 0,\n  },\n  unavailablePost: {\n    border: \"1px solid #E0E6EA\",\n    backgroundColor: \"#F3F5F8\",\n    borderRadius: 10,\n    width: \"100%\",\n    padding: 14,\n    color: theme.palette.text.gray,\n    lineHeight: \"15px\",\n    marginTop: 10,\n  },\n  imageAlt: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\",\n    minHeight: \"284px\",\n    objectFit: \"cover\",\n    [theme.breakpoints.down(\"xs\")]: {\n      minHeight: \"155px\",\n    },\n    \"&.noCursor\": {\n      cursor: \"auto\",\n    },\n    \"&[alt]:after\": {\n      display: \"block\",\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      content: \"attr(alt)\",\n      backgroundColor: theme.palette.grey.A300,\n    },\n  },\n}));\n\n/**\n * CommentContentView - renders a single comment's content only. No\n * headers. That is job of the parent container\n */\nexport const NewCommentContentView = (props) => {\n  const {objId, obj, comment, stats, scene, pageType} = props;\n  const [metaData, setMetaData] = useState(null);\n  const [canFetchMetaData, setCanFetchMetaData] = useState(false);\n  const [fetchMetadataFunc, setFetchMetadataFunc] = useState(() => () => {});\n\n  const classes = useStyles();\n  const [imageURLsOpen, setImageURLsOpen] = useState(false);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const posts = obj._tp?.aux?.post;\n  let commentObj;\n  let commentId;\n  if (!posts) {\n    commentId = obj.getId();\n    commentObj = obj;\n  } else {\n    commentId = objId;\n    commentObj = obj.getPost();\n  }\n  if (!commentObj) return null;\n\n  useEffect(() => {\n    if (fetchMetadataFunc && !metaData) {\n      const text = commentObj.getText();\n      fetchMetadataFunc &&\n        fetchMetadataFunc(text, (error, result) => {\n          setMetaData(result);\n        });\n    }\n  }, [fetchMetadataFunc]);\n\n  const getImageURLs = () => {\n    let imageURLs = commentObj.getImageURLs\n      ? commentObj.getImageURLs() || []\n      : [];\n    return imageURLs;\n  };\n\n  const renderMainText = () => {\n    const text = commentObj.getText();\n    const previewUrl = commentObj.getPreviewURL && commentObj.getPreviewURL();\n\n    return (\n      <Fragment>\n        <HighlightLink text={text} type={pageType} previewUrl={previewUrl} />\n      </Fragment>\n    );\n  };\n\n  const renderMainImage = () => {\n    let imageCount = commentObj.getImageCount();\n    let imageComp;\n\n    if (imageCount === 1 || (imageCount > 0 && scene === \"repost\")) {\n      let imagePath = commentObj.getImageURLs(null);\n      let imageUrl = null;\n      if (imagePath) {\n        if (\n          imagePath[0].startsWith(\"https://\") ||\n          imagePath[0].startsWith(\"http://\")\n        ) {\n          imageUrl = imagePath[0];\n        } else {\n          imageUrl = handleMediaUrl(\n            process.env.REACT_APP_MEDIA_BASE,\n            imagePath[0],\n          );\n        }\n      }\n      if (imageUrl.includes(\".gif\") && !scene) {\n        // !scene because only use GifImage in comment feed.\n        return (\n          <GifImage\n            imageUrl={imageUrl}\n            imageClassName=\"gif\"\n            handleClick={(e) => {\n              e.stopPropagation();\n              setImageURLsOpen(true);\n            }}\n            height={commentObj?.data?.vid_hgt}\n            width={commentObj?.data?.vid_wid}\n          />\n        );\n      }\n      imageComp = imageUrl ? (\n        <img\n          src={imageUrl}\n          height={\n            commentObj?.data.vid_hgt ? commentObj.data.vid_hgt : undefined\n          }\n          className={\n            scene === \"repost\"\n              ? classes.originSmallImage\n              : `${imageUrl.match(/[^\\.]+$/)[0]}`\n          }\n          alt=\"\"\n          onClick={(e) => {\n            e.stopPropagation();\n            setImageURLsOpen(true);\n          }}\n        />\n      ) : null;\n    } else if (imageCount > 1) {\n      let imagePaths = commentObj.getImageURLs();\n      let imageURLs = [];\n      if (imagePaths) {\n        for (let i = 0; i < imagePaths.length; i++)\n          imageURLs.push(imagePaths[i]);\n      }\n\n      imageComp = (\n        <TiledImages\n          imageURLs={imageURLs}\n          handleClick={(index) => {\n            setImageURLsOpen(true);\n            setCurrentIndex(index);\n          }}\n        />\n      );\n    }\n    return imageComp ? (\n      <Fragment>\n        <div\n          className={`main-image${scene ? \" \" + scene : \"\"} ${\n            imageCount === 1 && \"single-image\"\n          }`}\n          onClick={(e) => e.stopPropagation()}\n        >\n          {imageComp}\n        </div>\n      </Fragment>\n    ) : null;\n  };\n\n  const renderMainVideo = () => {\n    const videoURL = commentObj.getOriginalVideoUrl();\n    let vid = commentObj.data?.vid;\n    let origVid = commentObj.data?.ovid;\n\n    if (isObject(videoURL)) {\n      vid = videoURL.m3u8;\n      origVid = videoURL.vid;\n    }\n\n    return videoURL ? (\n      <div\n        className={(clsx(\"main-video\"), classes.videoWrapper)}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <VideoPlayer\n          vid={new Date().getTime()}\n          options={{\n            autoplay: false,\n            muted: true,\n            controls: true,\n            fluid: true,\n            responsive: true,\n            playbackRates: [1, 1.25, 1.5, 1.75, 2],\n            sources: [\n              {\n                src: handleMediaUrl(process.env.REACT_APP_MEDIA_BASE, vid),\n                type: \"application/x-mpegurl\",\n              },\n              {\n                src: handleMediaUrl(process.env.REACT_APP_MEDIA_BASE, origVid),\n                type: \"video/mp4\",\n              },\n            ],\n          }}\n          postObj={commentObj}\n        />\n      </div>\n    ) : null;\n  };\n\n  const renderMetaData = () => {\n    // let metaData = commentObj?.data?.prevsrc\n    //   ? {\n    //       imageUrl: commentObj.data.previmg,\n    //       url: commentObj.data.prevsrc,\n    //       title: commentObj.data.ttl,\n    //     }\n    //   : null;\n\n    return (\n      <PreviewContent\n        previewMetaData={metaData}\n        scene=\"commentDetail\"\n        setupFetchMetadata={(fetchMetadata) => {\n          setFetchMetadataFunc(() => {\n            return fetchMetadata;\n          });\n        }}\n      />\n    );\n  };\n\n  const renderData = () => {\n    // if (pageType === \"comment-detail\") truncated = 100;\n    let textComps = renderMainText();\n    let imageComp = renderMainImage();\n    let videoComp = renderMainVideo();\n    let metaDataComp = renderMetaData();\n    let imageURLs = getImageURLs();\n    let xComment = comment;\n    let xStats = stats;\n    if (xStats == null)\n      xStats = xComment?.getAuxDataXField(ModelType.COMMENT_STATS);\n\n    let objDetails = (\n      <div className={`${classes.rootContentView}${scene ? \" \" + scene : \"\"}`}>\n        {textComps}\n        {imageComp}\n        {videoComp}\n        {metaDataComp}\n        <PopupImages\n          imageURLs={imageURLs}\n          open={imageURLsOpen}\n          onClose={() => {\n            setImageURLsOpen(false);\n          }}\n          currentIndex={currentIndex}\n          item={xComment}\n          commentId={commentId}\n          xStats={xStats}\n          type=\"comment\"\n        />\n      </div>\n    );\n\n    return objDetails;\n  };\n\n  return renderData();\n};\n","import React, {useEffect, useState, Fragment, useRef} from \"react\";\nimport {connect} from \"react-redux\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport {\n  Collapse,\n  ClickAwayListener,\n  useMediaQuery,\n  useTheme,\n  Tooltip,\n} from \"@material-ui/core\";\nimport {ReactComponent as RepostIcon} from \"src/assets/icons/ico-retweet.svg\";\nimport {ReactComponent as MenuDropDownIcon} from \"src/assets/icons/icon_more_vertical.svg\";\nimport Dropdown, {\n  DropdownTrigger,\n  DropdownContent,\n} from \"react-simple-dropdown\";\nimport {ModelType, ActivityLogProps} from \"src/core/model/ModelConsts\";\nimport {TimeUtil} from \"src/core/Util\";\nimport {PostContentView} from \"src/app/components/post/comps/PostContentView\";\nimport AppConsts, {UIStyleConsts} from \"src/app/AppConsts\";\nimport classnames from \"classnames\";\n\nimport {ReactComponent as MuteIcon} from \"src/assets/icons/ico-mute.svg\";\nimport {ReactComponent as BlockIcon} from \"src/assets/icons/ico-block.svg\";\nimport {ReactComponent as ReportIcon} from \"src/assets/icons/ico-report.svg\";\nimport {ReactComponent as FollowIcon} from \"src/assets/icons/ico-follow.svg\";\nimport {ReactComponent as UnfollowIcon} from \"src/assets/icons/ico-unfollow.svg\";\nimport {ReactComponent as PinIcon} from \"src/assets/icons/ico-pin-down.svg\";\nimport {ReactComponent as DeleteIcon} from \"src/assets/icons/ico-delete.svg\";\nimport {getLang, t} from \"src/i18n/utils\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport XUserInfo from \"src/core/model/user/XUserInfo\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport {GMobileDrawer} from \"src/styles/components/GMobileDrawer\";\nimport {PostFeedItemViewForPopup} from \"src/app/pages/dashboard/PostFeedItemViewForPopup\";\nimport {PostFeedItemViewForDetail} from \"src/app/pages/dashboard/PostFeedItemViewForDetail\";\nimport {PostFeedItemViewForTimeline} from \"src/app/pages/dashboard/PostFeedItemViewForTimeline\";\n\nimport {\n  toggleMute,\n  toggleFollowing,\n  toggleBlock,\n  currentUserMutesUser,\n  currentUserFollowsUser,\n  currentUserBlockedUser,\n} from \"src/store/modules/status\";\nimport {\n  removePost,\n  removePinnedPost,\n  getPinnedPost,\n} from \"../../timeline/store\";\nimport {addPinPost, deletePinPost} from \"../../auth/store\";\nimport Global from \"src/system/Global\";\nimport {NewCommentContentView} from \"src/app/pages/post/NewCommentContentView\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"&.post-feed-item\": {\n        display: \"flex\",\n        flexDirection: \"column\",\n        borderBottom: theme.notchedOutline.border,\n        \"&.comment-detail\": {\n          border: \"none\",\n        },\n        \"&.timeline\": {\n          borderTop: \"none\",\n          backgroundColor: theme.palette.background.default,\n          \"& > .feed-item-main > .content > .message\": {\n            wordBreak: \"break-word\",\n            lineHeight: \"160%\",\n            paddingBottom: theme.spacing(8),\n            paddingLeft: theme.spacing(12),\n            paddingRight: theme.spacing(3.75),\n            marginTop: theme.spacing(-6.25),\n            minHeight: theme.spacing(3.75),\n          },\n        },\n        \"&.post-page-view\": {\n          \"& > .feed-item-main > .content > .description-header\": {\n            height: theme.spacing(2.5),\n            marginLeft: \"17px !important\",\n            \"& .posterInfo_name\": {\n              flexDirection: \"column\",\n              paddingTop: theme.spacing(1.25),\n            },\n            \"& .dropdown\": {\n              marginTop: \"-12px !important\",\n            },\n          },\n          \"& > .feed-item-main > .content > .message\": {\n            marginTop: \"-6px !important\",\n            padding: \"0 17px !important\",\n            \"& .post-page-view > div\": {\n              marginBottom: 0,\n            },\n          },\n        },\n        \"& .feed-item-main\": {\n          display: \"flex\",\n          flexDirection: \"row\",\n          position: \"relative\",\n          cursor: \"pointer\",\n          margin: \"15px 0px 20px\",\n          transition: \"all 100ms ease-in\",\n\n          \"& > .content\": {\n            width: \"100%\",\n\n            \"& .description-header\": {\n              display: \"flex\",\n              position: \"relative\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n              height: theme.spacing(7),\n              margin: theme.spacing(0, 3.75),\n              \"& .header-msg\": {\n                display: \"flex\",\n                \"& > div\": {\n                  maxWidth: \"100%\",\n                },\n                \"& .avatar\": {\n                  width: theme.spacing(7),\n                  height: theme.spacing(7),\n                  borderRadius: \"50%\",\n                },\n                \"& .posterInfo_name\": {\n                  display: \"flex\",\n                  // flexDirection:\"column\",\n                  marginLeft: theme.spacing(2.5),\n                  fontSize: \"15px\",\n                  \"& .posterInfo-part1\": {\n                    display: \"flex\",\n                    fontWeight: 700,\n                    lineHeight: \"20px\",\n                    marginRight: theme.spacing(0.875),\n                    \"& a\": {\n                      color: theme.palette.text.primary,\n                    },\n                    \"& svg\": {\n                      marginLeft: theme.spacing(0.625),\n                      marginTop: theme.spacing(0.25),\n                      verticalAlign: \"top\",\n                    },\n                  },\n                  \"& .posterInfo-part2\": {\n                    fontWeight: 400,\n                    color: theme.palette.secondary.light,\n                  },\n                },\n\n                \"& .time-since\": {\n                  fontWeight: \"lighter\",\n                  padding: theme.spacing(0, 1.25),\n                  fontSize: \"13px\",\n                  color: theme.palette.primary.light,\n                  marginLeft: theme.spacing(1.25),\n                  borderLeft: `1px solid ${theme.border.lightGray}`,\n                },\n              },\n\n              \"& .dropdown\": {\n                marginRight: theme.spacing(-2.75),\n                marginTop: theme.spacing(-3.75),\n                \"& svg\": {\n                  fontSize: \"24px\",\n                },\n              },\n            },\n\n            \"& .message\": {\n              wordBreak: \"break-word\",\n              lineHeight: \"160%\",\n              paddingBottom: theme.spacing(1),\n              marginTop: theme.spacing(-3.75),\n              minHeight: theme.spacing(3.75),\n            },\n          },\n        },\n        \"& .reposted-info\": {\n          color: theme.palette.text.gray,\n          fontSize: \"13px\",\n          lineHeight: \"13px\",\n          paddingLeft: theme.spacing(7.375),\n          paddingBottom: theme.spacing(1),\n          marginBottom: theme.spacing(-2.5),\n          paddingTop: \"14px\",\n          fontWeight: \"700\",\n          \"& svg\": {\n            stroke: theme.svg.color,\n            verticalAlign: \"top\",\n          },\n          \"& a\": {\n            color: theme.palette.text.gray,\n            marginRight: theme.spacing(1.25),\n          },\n        },\n      },\n    },\n    repostSpacing: {\n      marginRight: theme.spacing(2),\n    },\n    feedItemMain: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      padding: theme.spacing(1.875, 0, 2.5, 2.25),\n      transition: \"all 100ms ease-in\",\n      fontSize: 14,\n      \"& .content\": {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"& .description-header\": {\n          height: theme.spacing(2.5),\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          paddingRight: theme.spacing(1),\n        },\n      },\n    },\n    description: {\n      paddingRight: theme.spacing(1.875),\n    },\n    messageContent: {\n      padding: 0,\n      paddingRight: theme.spacing(2.125),\n    },\n    postDetailMessageContent: {\n      padding: 0,\n    },\n    dropdownImageWrapper: {\n      display: \"flex\",\n      width: 30,\n      height: 30,\n      marginTop: -4,\n      marginRight: 6,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      textAlign: \"center\",\n      borderRadius: \"50%\",\n      \"&:hover\": {\n        backgroundColor: theme.palette.background.notif,\n        cursor: \"pointer\",\n\n        \"& svg\": {\n          fill: theme.palette.background.hover,\n        },\n      },\n    },\n    dropdownImage: {\n      // transform: \"scale(.85)\",\n      fill: theme.palette.text.gray,\n    },\n    dotmr: {\n      marginRight: theme.spacing(1.25),\n    },\n    dropdownContent: {\n      width: theme.mixins.dropdownMenu.width,\n      position: \"absolute\",\n      right: theme.spacing(1.375),\n      top: theme.spacing(-0.625),\n      borderRadius: 6,\n      overflow: \"hidden\",\n\n      \"& .menu-item\": {\n        padding: theme.spacing(1),\n        borderRadius: 0,\n\n        \"&.danger\": {\n          color: theme.palette.error.main,\n          transition: \"all .3s ease-in-out\",\n          \"& svg\": {\n            stroke: theme.palette.error.main,\n          },\n          \"&:hover\": {\n            backgroundColor: theme.palette.background.red,\n          },\n        },\n\n        \"& .wrapper\": {\n          display: \"flex\",\n          alignItems: \"center\",\n        },\n\n        \"& .icon\": {\n          width: theme.spacing(2.5),\n          marginRight: theme.spacing(1),\n        },\n      },\n    },\n    postedTime: {\n      color: theme.palette.text.gray,\n      fontSize: \"18px\",\n      padding: theme.spacing(2.5, 0),\n      borderBottom: `1px solid ${theme.palette.grey.A800}`,\n    },\n    avatarContent: {\n      marginRight: theme.spacing(1.25),\n      \"& > div\": {\n        maxWidth: \"100%\",\n      },\n    },\n    avatar: {\n      width: theme.spacing(6.25),\n      height: theme.spacing(6.25),\n      borderRadius: \"100%\",\n      cursor: \"pointer\",\n    },\n    commentDetailAvatar: {\n      position: \"relative\",\n      marginRight: theme.spacing(1.875),\n\n      \"&::after\": {\n        content: \"' '\",\n        position: \"absolute\",\n        top: theme.spacing(10.625),\n        left: theme.spacing(2.25),\n        bottom: 0,\n        width: theme.spacing(0.375),\n        backgroundColor: \"#d9d9d9\",\n        borderRadius: \"3px\",\n        transform: \"translate(-50%, 0)\",\n      },\n    },\n    commentFeedItemMain: {\n      display: \"flex\",\n      margin: \"16px 30px 0\",\n      position: \"relative\",\n      cursor: \"pointer\",\n      transition: \"all 100ms ease-in\",\n\n      \"& .content\": {\n        width: \"calc(100% - 67px)\",\n        marginBottom: \"20px\",\n\n        \"& .description-header\": {\n          \"& .posterInfo_name\": {\n            display: \"flex\",\n            alignItems: \"center\",\n            fontSize: \"15px\",\n            \"& .posterInfo-part1\": {\n              fontWeight: 700,\n              marginRight: \"12px\",\n              display: \"flex\",\n              alignItems: \"center\",\n\n              \"& a\": {\n                color: theme.palette.text.primary,\n                marginRight: theme.spacing(1),\n              },\n            },\n            \"& .posterInfo-part2\": {\n              fontWeight: 400,\n              color: theme.palette.secondary.light,\n            },\n          },\n        },\n      },\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      authenticated: state.auth?.session?.authenticated,\n      loggedinUserId: state.auth.session?.userinfo?._id,\n      loggedinUserInfo: state.auth.session?.userinfo,\n      userFollowing: state.status.following,\n      userMuted: state.status.muted,\n      userBlocked: state.status.blocked,\n      pinnedPostIds: state.auth.session?.userinfo?.pinpsts,\n    };\n  },\n  {\n    currentUserMutesUser,\n    currentUserFollowsUser,\n    currentUserBlockedUser,\n    removePost,\n    addPinPost,\n    deletePinPost,\n    removePinnedPost,\n    getPinnedPost,\n    toggleMute,\n    toggleFollowing,\n    toggleBlock,\n  },\n);\n\nexport const PostFeedItem = connector(_PostFeedItem);\n\nfunction _PostFeedItem(props) {\n  const {\n    currentUserMutesUser,\n    currentUserFollowsUser,\n    currentUserBlockedUser,\n    hasMounted,\n    type,\n    item: postItem,\n    usermap,\n    postId,\n    loggedinUserId,\n    setTimelineId,\n    sharedObj,\n    sharedUser,\n    authenticated,\n    loggedinUserInfo,\n    scene,\n    onDelete,\n    userMuted,\n    userFollowing,\n    userBlocked,\n    timelineId,\n    removePost,\n    isPinnedPost,\n    addPinPost,\n    deletePinPost,\n    pinnedPostIds,\n    updatePinnedPostsIds,\n    removePinnedPost,\n    getPinnedPost,\n    userInfoProfile,\n    removePostFromProfile,\n    toggleMute,\n    toggleFollowing,\n    toggleBlock,\n  } = props;\n\n  if (!postItem.getPost()) return null;\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const mobileMatches = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const [dd, setDd] = useState(null);\n  const [isDeleted, setIsDeleted] = useState(false);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const [canShowMuted, setCanShowMuted] = useState(false);\n  const [canShowFollowing, setCanShowFollowing] = useState(false);\n  const [canShowBlocked, setCanShowBlocked] = useState(false);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const [dropdownTop, setDropdownTop] = useState(-5);\n  const history = useHistory();\n  const api = Global.GetPortal().getAppService();\n\n  const postItemRef = useRef(null);\n\n  const post = postItem.getPost();\n\n  let posterInfo = postItem.getUserInfo(true);\n  // If posterInfo doesn't exist, assume it's the current user.\n  if (posterInfo === null) {\n    posterInfo = api.getXUserInfo();\n  }\n  // If it's still null, don't render at all.\n  if (posterInfo === null) {\n    return null;\n  }\n\n  let posterId = post.getPosterId();\n\n  const isNoContentRepost =\n    (posterId === postItem.getPosterId()\n      ? postItem.isShared()\n      : posterId !== postItem.getPosterId()) && type !== \"for-medias\";\n  const reposterUsername = XUserInfo.GetOriginalUsername(posterInfo, true, \"\");\n  const reposterUserId = posterInfo.getUserId();\n\n  if (isNoContentRepost) {\n    posterInfo = XUserInfo.Wrap(postItem._tp?.aux?.uinf[posterId]);\n  }\n\n  const isMyPost = loggedinUserId === posterInfo.getUserId();\n  const displayName = XUserInfo.GetNickname(posterInfo, null);\n  const username = XUserInfo.GetOriginalUsername(posterInfo, true, \"\");\n  const isAdmin = api.userHasAdminRole();\n  const canDelete = api.canDeleteResource(posterInfo);\n  const deleteMsg = isMyPost\n    ? \"getter_fe.post.tips.delete_getter_tips\"\n    : \"getter_fe.post.tips.delete_getter_tips_admin\";\n\n  let ppIds;\n  try {\n    ppIds = JSON.parse(pinnedPostIds);\n  } catch (error) {\n    ppIds = null;\n  }\n  const isMuted = userMuted[posterId];\n  const isFollowing = userFollowing[posterId];\n  const isBlocked = userBlocked[posterId];\n\n  const pinnedIds = Array.isArray(ppIds) ? ppIds : null;\n  const isPinned = pinnedIds?.includes(postId);\n\n  useEffect(() => {\n    if (typeof hasMounted === \"function\") {\n      hasMounted();\n    }\n\n    if (timelineId === postItem.getId()) {\n      setTimeout(() => {\n        postItemRef.current?.scrollIntoView({\n          block: \"center\",\n          behavior: \"smooth\",\n        });\n      }, 500);\n      setTimelineId(null);\n    }\n  }, []);\n\n  const hideDropdown = () => {\n    if (mobileMatches) {\n      setIsDrawerOpen(false);\n      return;\n    }\n\n    dd?.hide();\n  };\n\n  const removePostItemCallback = async (err, result) => {\n    if (err) {\n      console.log(err);\n      // TODO: error notification or something else\n      return;\n    }\n    toast.info(\n      <NotifMessage message={t(\"getter_fe.post.tips.deleted_post_success\")} />,\n      {\n        type: toast.TYPE.SUCCESS,\n      },\n    );\n    removePost(postId);\n    if (scene === \"timeline\" || scene === \"profile\") {\n      setIsDeleted(true);\n\n      isDeleted && onDelete();\n\n      try {\n        await api.userUnlikesPost(postId, null);\n      } catch (err) {\n        console.log(err);\n      }\n    } else {\n      window.history.go(-1);\n    }\n  };\n\n  const onShow = async () => {\n    if (\n      scene === \"post-page-view\" ||\n      scene === \"profile\" ||\n      scene === \"post-detail\" ||\n      isNoContentRepost\n    ) {\n      if (userFollowing[posterId] === undefined) {\n        await currentUserFollowsUser({\n          userId: loggedinUserId,\n          targetId: posterId,\n        });\n      }\n      if (userMuted[posterId] === undefined) {\n        await currentUserMutesUser({\n          userId: loggedinUserId,\n          targetId: posterId,\n        });\n      }\n      if (userBlocked[posterId] === undefined) {\n        await currentUserBlockedUser({\n          userId: loggedinUserId,\n          targetId: posterId,\n        });\n      }\n      setCanShowMuted(true);\n      setCanShowFollowing(true);\n      setCanShowBlocked(true);\n    }\n\n    if (scene === \"timeline\" && !isNoContentRepost) {\n      setCanShowMuted(true);\n      setCanShowBlocked(true);\n      if (loggedinUserId && userFollowing[posterId] === undefined) {\n        await currentUserFollowsUser({\n          userId: loggedinUserId,\n          targetId: posterId,\n        });\n      }\n\n      setCanShowFollowing(true);\n    }\n  };\n\n  const handlePostDelete = () => {\n    hideDropdown();\n    GConfirmAlert({\n      title: t(\"getter_fe.post.tips.delete_getter\"),\n      text: t(deleteMsg),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: t(\"getter_fe.post.button.delete\"),\n        type: \"danger\",\n        callback: (close) => {\n          const postItemAction = postItem.getAction();\n\n          if (\n            postItemAction === ActivityLogProps.SHARES_POST ||\n            postItemAction === ActivityLogProps.SHARES_COMMENT\n          ) {\n            api.userUnshares(\n              postId,\n              postItemAction === ActivityLogProps.SHARES_POST ? \"p\" : \"c\",\n              removePostItemCallback,\n            );\n          } else {\n            api.deletePost(postId, removePostItemCallback);\n          }\n          close();\n        },\n      },\n    });\n  };\n\n  const handlePinPostStatus = async (status) => {\n    Array.isArray(status) &&\n      toast.info(\n        <NotifMessage\n          message={\n            isMyPost\n              ? t(\"getter_fe.post.text.pinMyPostSuccess\")\n              : t(\"getter_fe.post.text.pinOthersPostSuccess\")\n          }\n        />,\n        {\n          type: toast.TYPE.SUCCESS,\n        },\n      );\n\n    Array.isArray(status) &&\n      updatePinnedPostsIds &&\n      updatePinnedPostsIds(status);\n\n    Array.isArray(status) &&\n      userInfoProfile &&\n      loggedinUserId === userInfoProfile.data._id &&\n      (await getPinnedPost({api, postId}));\n\n    // TODO: addPinnedPost(postId)\n\n    status === null &&\n      toast.info(\n        <NotifMessage message={t(\"getter_fe.post.text.pinPostError\")} />,\n        {\n          type: toast.TYPE.ERROR,\n        },\n      );\n\n    !Array.isArray(status) &&\n      status &&\n      status.length > 0 &&\n      toast.info(<NotifMessage message={status} />, {\n        type: toast.TYPE.ERROR,\n      });\n  };\n\n  const handlePinPost = () => {\n    if (!authenticated) {\n      history.push(AppConsts.URL_LOGIN);\n      return;\n    }\n\n    hideDropdown();\n\n    GConfirmAlert({\n      title: t(\"getter_fe.post.text.pinThisGetter\"),\n      text: t(\"getter_fe.post.text.pinDescrMsg\"),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: t(\"getter_fe.post.button.pin\"),\n        type: \"confirm\",\n        callback: async (close) => {\n          close();\n\n          const res = await addPinPost({\n            userId: loggedinUserId,\n            postId: postId,\n          });\n\n          handlePinPostStatus(res?.payload);\n        },\n      },\n    });\n  };\n\n  const handleUnpinPostStatus = (status) => {\n    Array.isArray(status) &&\n      toast.info(\n        <NotifMessage\n          message={\n            isMyPost\n              ? t(\"getter_fe.post.text.unpinMyPostSuccess\")\n              : t(\"getter_fe.post.text.unpinOthersPostSuccess\")\n          }\n        />,\n        {\n          type: toast.TYPE.SUCCESS,\n        },\n      );\n\n    Array.isArray(status) &&\n      updatePinnedPostsIds &&\n      updatePinnedPostsIds(status);\n\n    Array.isArray(status) && removePinnedPost(postId);\n\n    status === null &&\n      toast.info(\n        <NotifMessage message={t(\"getter_fe.post.text.unpinPostError\")} />,\n        {\n          type: toast.TYPE.ERROR,\n        },\n      );\n\n    !Array.isArray(status) &&\n      status &&\n      status.length > 0 &&\n      toast.info(<NotifMessage message={status} />, {\n        type: toast.TYPE.ERROR,\n      });\n  };\n\n  const handleUnpinPost = () => {\n    if (!authenticated) {\n      history.push(AppConsts.URL_LOGIN);\n      return;\n    }\n    hideDropdown();\n\n    GConfirmAlert({\n      title: t(\"getter_fe.post.text.unpinPostFromProfile\"),\n      text: t(\"getter_fe.post.text.unpinDescrMsg\"),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: t(\"getter_fe.post.button.unpin\"),\n        type: \"danger\",\n        callback: async (close) => {\n          close();\n\n          const res = await deletePinPost({\n            userId: loggedinUserId,\n            postId: postId,\n          });\n\n          handleUnpinPostStatus(res?.payload);\n        },\n      },\n    });\n  };\n\n  const handleMute = () => {\n    if (!authenticated) {\n      history.push(AppConsts.URL_LOGIN);\n      return;\n    }\n    hideDropdown();\n    let title;\n    if (isMuted) {\n      title = t(\"getter_fe.profile.common.unmuteUsername\", {\n        username: username || posterId,\n      });\n    } else {\n      title = t(\"getter_fe.profile.common.muteUsername\", {\n        username: username || posterId,\n      });\n    }\n    if (!isMuted) {\n      GConfirmAlert({\n        title,\n        text: isMuted\n          ? \" \"\n          : t(\"getter_fe.post.tips.mute_getter_tips\", {\n              username: username || posterId,\n            }),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n        },\n        confirm: {\n          text: isMuted\n            ? t(\"getter_fe.profile.common.unmute\")\n            : t(\"getter_fe.profile.common.mute\"),\n          type: \"danger\",\n          callback: (close) => {\n            handleToggleMute(close);\n          },\n        },\n      });\n    } else {\n      handleToggleMute();\n    }\n  };\n\n  const handleToggleMute = (callback) => {\n    toggleMute({\n      api,\n      targetId: posterId,\n      successCallback: (isMuted) => {\n        if (isMuted) {\n          toast.info(\n            <NotifMessage\n              message={t(\"getter_fe.post.tips.unmute_success\", {\n                username: username || posterId,\n              })}\n            />,\n            {\n              type: toast.TYPE.SUCCESS,\n            },\n          );\n        } else {\n          toast.info(\n            <NotifMessage\n              message={t(\"getter_fe.post.tips.mute_success\", {\n                username: username || posterId,\n              })}\n            />,\n            {\n              type: toast.TYPE.SUCCESS,\n            },\n          );\n        }\n        callback && callback();\n        setTimeout(() => {\n          toggleDrawer(false);\n          setDropdownOpen(false);\n        }, 0);\n      },\n      errorCallback: () => {\n        toast(\n          <NotifMessage\n            message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n          />,\n          {\n            position: toast.POSITION.TOP_CENTER,\n            type: toast.TYPE.ERROR,\n          },\n        );\n        callback && callback();\n      },\n    });\n  };\n\n  const handleFollowing = () => {\n    if (!authenticated) {\n      history.push(AppConsts.URL_LOGIN);\n      return;\n    }\n    hideDropdown();\n    let title;\n    if (isFollowing) {\n      title = t(\"getter_fe.profile.common.unfollowUsername\", {\n        username: username || posterId,\n      });\n    } else {\n      title = t(\"getter_fe.profile.common.followUsername\", {\n        username: username || posterId,\n      });\n    }\n    const successCallback = (isFollowing) => {\n      if (isFollowing) {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.unfollow_success\", {\n              username: username || posterId,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      } else {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.follow_success\", {\n              username: username || posterId,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      }\n    };\n\n    const errorCallback = () =>\n      toast(\n        <NotifMessage\n          message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n        />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: toast.TYPE.ERROR,\n        },\n      );\n\n    if (isFollowing) {\n      GConfirmAlert({\n        title,\n        text: t(\"getter_fe.post.tips.unfollow_tips\", {\n          username: username || posterId,\n        }),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n        },\n        confirm: {\n          text: t(\"getter_fe.post.button.confirm\"),\n          type: \"danger\",\n          callback: (close) => {\n            toggleFollowing({\n              api,\n              targetId: posterId,\n              successCallback: (isFollowing) => {\n                successCallback(isFollowing);\n                close();\n              },\n              errorCallback: () => {\n                errorCallback();\n                close();\n              },\n            });\n          },\n        },\n      });\n    } else {\n      toggleFollowing({\n        api,\n        targetId: posterId,\n        successCallback,\n        errorCallback,\n      });\n    }\n  };\n\n  const handleBlock = () => {\n    if (!authenticated) {\n      history.push(AppConsts.URL_LOGIN);\n      return;\n    }\n    hideDropdown();\n\n    let title;\n    if (isBlocked) {\n      title = t(\"getter_fe.profile.common.unblockUsername\", {\n        username: username || posterId,\n      });\n    } else {\n      title = t(\"getter_fe.profile.common.blockUsername\", {\n        username: username || posterId,\n      });\n    }\n\n    if (!isBlocked) {\n      GConfirmAlert({\n        title,\n        text: isBlocked\n          ? \" \"\n          : t(\"getter_fe.post.tips.block_getter_tips\", {\n              username: username || posterId,\n            }),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n        },\n        confirm: {\n          text: isBlocked\n            ? t(\"getter_fe.profile.common.unblock\")\n            : t(\"getter_fe.profile.common.block\"),\n          type: \"danger\",\n          callback: (close) => {\n            handleToggleBlock(close);\n          },\n        },\n      });\n    } else {\n      handleToggleBlock();\n    }\n  };\n\n  const handleToggleBlock = (callback) => {\n    toggleBlock({\n      api,\n      targetId: posterId,\n      successCallback: (isBlocked) => {\n        if (isBlocked) {\n          toast.info(\n            <NotifMessage\n              message={t(\"getter_fe.post.tips.unblock_success\", {\n                username: username || posterId,\n              })}\n            />,\n            {\n              type: toast.TYPE.SUCCESS,\n            },\n          );\n        } else {\n          toast.info(\n            <NotifMessage\n              message={t(\"getter_fe.post.tips.block_success\", {\n                username: username || posterId,\n              })}\n            />,\n            {\n              type: toast.TYPE.SUCCESS,\n            },\n          );\n        }\n        callback && callback();\n        setTimeout(() => {\n          toggleDrawer(false);\n          setDropdownOpen(false);\n        }, 0);\n      },\n      errorCallback: () => {\n        toast(\n          <NotifMessage\n            message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n          />,\n          {\n            position: toast.POSITION.TOP_CENTER,\n            type: toast.TYPE.ERROR,\n          },\n        );\n        callback && callback();\n      },\n    });\n  };\n\n  const toggleDrawer = (open) => async () => {\n    setIsDrawerOpen(open);\n\n    if (open) {\n      onShow();\n    }\n  };\n\n  const pinMenuItem = (\n    <div\n      className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n      onClick={isPinned ? handleUnpinPost : handlePinPost}\n    >\n      <div className=\"wrapper\">\n        <div className=\"icon\">\n          <PinIcon />\n        </div>\n        <div className=\"menu-item-name\">\n          {isPinned\n            ? t(\"getter_fe.profile.common.unpinFromProfile\")\n            : t(\"getter_fe.profile.common.pinToYourProfile\")}\n        </div>\n      </div>\n    </div>\n  );\n\n  let menuItems;\n  if (isMyPost) {\n    menuItems = (\n      <Fragment>\n        {pinMenuItem}\n\n        <div\n          className={classnames(UIStyleConsts.DROPDOWN_MENU_ITEM, \"danger\")}\n          onClick={handlePostDelete}\n        >\n          <div className=\"wrapper\">\n            <div className=\"icon\">\n              <DeleteIcon style={{stroke: theme.palette.error.main}} />\n            </div>\n            <div className=\"menu-item-name\">\n              {t(\"getter_fe.profile.common.delete\")}\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  } else {\n    menuItems = (\n      <Fragment>\n        {loggedinUserInfo ? pinMenuItem : null}\n\n        {loggedinUserInfo &&\n          canShowFollowing &&\n          (isFollowing ? (\n            <div\n              className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n              onClick={handleFollowing}\n            >\n              <div className=\"wrapper\">\n                <div className=\"icon\">\n                  <UnfollowIcon />\n                </div>\n                <div className=\"menu-item-name\">\n                  {t(\"getter_fe.profile.common.unfollowUsername\", {\n                    username,\n                  })}\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div\n              className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n              onClick={handleFollowing}\n            >\n              <div className=\"wrapper\">\n                <div className=\"icon\">\n                  <FollowIcon />\n                </div>\n                <div className=\"menu-item-name\">\n                  {t(\"getter_fe.profile.common.followUsername\", {\n                    username,\n                  })}\n                </div>\n              </div>\n            </div>\n          ))}\n\n        {loggedinUserInfo &&\n          canShowMuted &&\n          (isMuted ? (\n            <div\n              className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n              onClick={handleMute}\n            >\n              <div className=\"wrapper\">\n                <div className=\"icon\">\n                  <MuteIcon />\n                </div>\n                <div className=\"menu-item-name\">\n                  {t(\"getter_fe.profile.common.unmuteUsername\", {\n                    username,\n                  })}\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div\n              className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n              onClick={handleMute}\n            >\n              <div className=\"wrapper\">\n                <div className=\"icon\">\n                  <MuteIcon />\n                </div>\n                <div className=\"menu-item-name\">\n                  {t(\"getter_fe.profile.common.muteUsername\", {\n                    username,\n                  })}\n                </div>\n              </div>\n            </div>\n          ))}\n        {loggedinUserInfo &&\n          canShowBlocked &&\n          (isBlocked ? (\n            <div\n              className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n              onClick={handleBlock}\n            >\n              <div className=\"wrapper\">\n                <div className=\"icon\">\n                  <BlockIcon />\n                </div>\n                <div className=\"menu-item-name\">\n                  {t(\"getter_fe.profile.common.unblockUsername\", {\n                    username,\n                  })}\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div\n              className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n              onClick={handleBlock}\n            >\n              <div className=\"wrapper\">\n                <div className=\"icon\">\n                  <BlockIcon />\n                </div>\n                <div className=\"menu-item-name\">\n                  {t(\"getter_fe.profile.common.blockUsername\", {\n                    username,\n                  })}\n                </div>\n              </div>\n            </div>\n          ))}\n\n        <div\n          className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n          onClick={() => {\n            if (!authenticated) {\n              history.push(AppConsts.URL_LOGIN);\n            } else {\n              setIsDialogOpen(true);\n              hideDropdown();\n            }\n          }}\n        >\n          <div className=\"wrapper\">\n            <div className=\"icon\">\n              <ReportIcon />\n            </div>\n            <div className=\"menu-item-name\">\n              {t(\"getter_fe.profile.common.reportPost\")}\n            </div>\n          </div>\n        </div>\n\n        {canDelete || isAdmin ? (\n          <div\n            className={classnames(UIStyleConsts.DROPDOWN_MENU_ITEM, \"danger\")}\n            onClick={handlePostDelete}\n          >\n            <div className=\"wrapper\">\n              <div className=\"icon\">\n                <DeleteIcon />\n              </div>\n              <div className=\"menu-item-name\">\n                {t(\"getter_fe.profile.common.removePost\")}\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </Fragment>\n    );\n  }\n\n  const menuDropDown = mobileMatches ? (\n    <>\n      <MenuDropDownIcon\n        className={classes.dropdownImage}\n        onClick={toggleDrawer(true)}\n      />\n\n      <GMobileDrawer open={isDrawerOpen} toggleDrawer={toggleDrawer}>\n        {menuItems}\n      </GMobileDrawer>\n    </>\n  ) : (\n    <ClickAwayListener\n      onClickAway={(e) => {\n        e.stopPropagation();\n        setDropdownOpen(false);\n      }}\n    >\n      <Dropdown\n        active={dropdownOpen}\n        removeElement={true}\n        ref={(dd) => {\n          setDd(dd);\n        }}\n        onClick={(e) => {\n          e.stopPropagation();\n          setDropdownOpen(true);\n          document.body.click();\n          const DEFAULT_TOP = -5;\n          const countedTop =\n            window.innerHeight -\n            e.target.getBoundingClientRect().y -\n            menuItems.props.children.length * 50 -\n            10;\n          setDropdownTop(Math.min(DEFAULT_TOP, countedTop));\n        }}\n        onShow={onShow}\n      >\n        <DropdownTrigger>\n          <div\n            className={classnames(\n              classes.dropdownImageWrapper,\n              scene === \"post-page-view\" ? classes.dotmr : \"\",\n            )}\n          >\n            <Tooltip\n              title={t(\"getter_fe.post.button.hoverMore\")}\n              aria-label={t(\"getter_fe.post.button.hoverMore\")}\n            >\n              <MenuDropDownIcon className={classes.dropdownImage} />\n            </Tooltip>\n          </div>\n        </DropdownTrigger>\n        <DropdownContent\n          className={classes.dropdownContent}\n          style={{top: `${dropdownTop}px`}}\n        >\n          {menuItems}\n        </DropdownContent>\n      </Dropdown>\n    </ClickAwayListener>\n  );\n\n  let headLine = null;\n  let postObj = post;\n  let itemId = postItem.getId();\n\n  // Replace if it's a repost\n  // todo: It's a bug cause the backend api make the repost action as a post\n  //        so it's always return false.(USER_PUB_POST/SHARES_POST)\n  // 1 in the timeline page\n  //    1.1 isRepost\n  //    1.2 isNoContentRepost\n  // 2 in the profile like tab page\n  //    2.1 like a post\n  //    2.2 like a repost\n  //    2.3 like a noContentRepost\n  // 3 in the post detail page\n  const isRepost = post.isPost() && post.isRepost();\n  const isLikedAPost = postItem?.getAction() === ActivityLogProps.LIKES_POST;\n\n  let originalPosterInfo = null;\n  let originalUserId = null;\n  let originalPost = null;\n\n  if (isRepost) {\n    originalPost = postItem.getSharedPost();\n    if (!originalPost) {\n      originalPost = postItem.getLikedSharedPost();\n    }\n    if (originalPost) {\n      originalPosterInfo = postItem\n        .getTParent()\n        .getAuxDataXField(ModelType.USER_INFO);\n      originalUserId = originalPost.createXPostItem().getPosterId();\n      originalPosterInfo = originalPosterInfo[originalUserId];\n    }\n  }\n\n  //in the profile like tab\n  // the post is a repost and the user liked the post\n  if (isLikedAPost && isRepost && !originalPosterInfo) {\n    originalPost = postItem._tp?.aux?.post;\n\n    originalPosterInfo = postItem._tp?.aux?.uinf;\n    let originalPostId = postItem?.getPost()?.data?.rpstIds[0];\n    originalUserId = postItem?.getPost()?.data?.rusrIds[0];\n    originalPosterInfo = originalPosterInfo[originalUserId];\n    originalPost = originalPost[originalPostId];\n  }\n\n  if (sharedUser) {\n    originalPosterInfo = sharedUser;\n  }\n\n  if (isNoContentRepost) {\n    headLine = (\n      <>\n        <Link\n          className=\"header-msg reposted-info\"\n          style={{display: \"block\"}}\n          onClick={(e) => e.stopPropagation()}\n          to={`/user/${reposterUserId}`}\n        >\n          <RepostIcon />\n          <span className={classes.repostSpacing} />\n          {reposterUserId === loggedinUserId\n            ? t(\"getter_fe.post.text.you_reposted\")\n            : t(\"getter_fe.post.text.reposted\", {username: reposterUsername})}\n        </Link>\n      </>\n    );\n  }\n\n  if (isLikedAPost) {\n    headLine = null;\n  }\n\n  if (scene === \"post-page-view\") {\n    headLine = null;\n    originalUserId = post.getOriginalPosterId();\n    originalPosterInfo =\n      postItem.aux?.uinf && postItem.aux?.uinf[originalUserId];\n  }\n\n  const timeStamp =\n    postItem.data?.activity?.cdate ?? postItem.aux?.post[postId]?.cdate;\n\n  const sinceTime = TimeUtil.SinceTimeV5(\n    timeStamp,\n    Date.now(),\n    getLang(),\n    false,\n  );\n  const sinceTimeFormat = TimeUtil.SinceTimeV4(timeStamp, Date.now(), false);\n  const postedTime = TimeUtil.Ts2hh_mm_MM_DD_YYYY(timeStamp, getLang());\n\n  const detailLink = window.location.origin + api.getUrlPostPage(postId);\n\n  if (posterInfo === null) {\n    if (usermap) {\n      posterInfo = usermap[posterId];\n    } else {\n      // this is what's causing the username to be current signed in user...\n      posterInfo = api.getUserInfo();\n    }\n  }\n\n  const contentType = postItem.getXMActivityLog().getContentType();\n  let mainContent = null;\n  if (contentType === ModelType.POST) {\n    mainContent = (\n      <PostContentView\n        setTimelineId={setTimelineId}\n        objId={postId}\n        obj={post}\n        pageType={type}\n        sharedObj={sharedObj}\n        originalPosterInfo={originalPosterInfo}\n        {...props}\n      />\n    );\n  } else if (contentType === ModelType.COMMENT) {\n    mainContent = (\n      <NewCommentContentView\n        objId={postId}\n        obj={postItem}\n        pageType={type}\n        {...props}\n      />\n    );\n  }\n\n  let avatarUrl = XUserInfo.GetIconUrl(posterInfo, null);\n\n  let comp = null;\n  const allProps = {\n    id: \"cid_\" + postId,\n    scene: scene,\n    mainContent,\n    postItemRef,\n    avatarUrl,\n    api,\n    posterId,\n    posterInfo,\n    originalPosterInfo,\n    displayName,\n    username,\n    sinceTime,\n    sinceTimeFormat,\n    setTimelineId,\n    headLine,\n    menuDropDown,\n    isOpen: isDialogOpen,\n    xPostItem: postItem,\n    detailLink,\n    type,\n    itemId,\n    postedTime,\n    postId,\n    sharedObj: sharedObj,\n    isPinnedPost,\n    hideDropdown,\n    removePostFromProfile,\n    handleClose: () => {\n      setIsDialogOpen(false);\n    },\n    handleSubmit: (reasonId) => {\n      api.reportPost(postId, reasonId, (result) => {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.common.reportContent.reportSuccessMessage\")}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    },\n  };\n\n  if (/comment|repost/.test(scene)) {\n    comp = <PostFeedItemViewForPopup {...allProps} />;\n  } else if (/post-detail|comment-detail/.test(type)) {\n    comp = <PostFeedItemViewForDetail {...allProps} />;\n  } else {\n    comp = <PostFeedItemViewForTimeline {...allProps} />;\n  }\n\n  return <Collapse in={!isDeleted}>{comp}</Collapse>;\n}\n","export const APP = \"app\";\nexport function whereIAM() {\n  const url = window.location.href;\n  const ua = navigator.userAgent;\n  const result = (`${url}+${ua}`.match(/whereiam=([a-z]+)/) || [])[1];\n  return result;\n}\nexport function isInApp() {\n  return whereIAM() === APP;\n}\n\nexport function breakpoints(width) {\n  return window.matchMedia(`(max-width: ${width}px)`).matches;\n}\n","import React, {useEffect, useRef, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {\n  createStyles,\n  makeStyles,\n  useMediaQuery,\n  useTheme,\n} from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport {GTypography} from \"./GTypography\";\nimport {resetTimeline} from \"src/store/modules/timeline\";\nimport icon_back from \"src/assets/icons/icon_back.svg\";\nimport {useHistory} from \"react-router-dom\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport {GButton} from \"./GButton\";\n\nconst HEIGHT = 58;\nconst SCROLL_TRANSITION = \"top 0.3s\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      borderBottom: `1px solid ${theme.palette.grey.A800}`,\n      paddingLeft: \"12px\",\n      height: HEIGHT,\n      lineHeight: \"58px\",\n      position: \"sticky\",\n      width: \"100%\",\n      top: 0,\n      zIndex: 2,\n      background: theme.palette.background.default,\n      transition: SCROLL_TRANSITION,\n    },\n    backBtn: {\n      marginRight: \"15px\",\n      cursor: \"pointer\",\n      lineHeight: 0,\n      \"& img\": {\n        verticalAlign: \"middle\",\n        borderRadius: \"50%\",\n        padding: \"3px\",\n        \"-webkit-transition\": \"background-color 300ms ease\",\n        \"-moz-transition\": \"background-color 300ms ease\",\n        \"-ms-transition\": \"background-color 300ms ease\",\n        \"-o-transition\": \"background-color 300ms ease\",\n        transition: \"background-color 300ms ease\",\n        backgroundColor: \"transparent\",\n      },\n      \"&:hover img\": {\n        backgroundColor: theme.palette.background.notif,\n      },\n    },\n    backTitleWrapper: {\n      width: `calc(100% - 45px)`,\n      \"&.spacing\": {\n        marginLeft: theme.spacing(1),\n      },\n    },\n    backTitle: {\n      fontSize: 20,\n      fontWeight: 800,\n      color: theme.palette.text.primary,\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n      height: \"27.25px\",\n      marginTop: \"2px\",\n      cursor: ({titleHasClick}) => titleHasClick && \"pointer\",\n    },\n    backSubTitle: {\n      fontSize: 15,\n\n      color: theme.palette.text.gray,\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n      height: \"27.25px\",\n      marginTop: \"-4px\",\n    },\n    mobileAuthBar: {\n      [theme.breakpoints.up(\"sm\")]: {\n        display: \"none\",\n      },\n      position: \"sticky\",\n      display: \"flex\",\n      borderBottom: `1px solid ${theme.palette.grey.A800}`,\n      top: 58,\n      zIndex: 2,\n      background: theme.palette.background.default,\n      padding: `${theme.spacing(1.5)}px ${theme.spacing(1)}px`,\n      transition: SCROLL_TRANSITION,\n    },\n    authButton: {\n      height: 26,\n      \"&:not(:last-child)\": {\n        marginRight: theme.spacing(1),\n      },\n      \"& .MuiButton-label\": {\n        fontSize: 12,\n      },\n    },\n  }),\n);\n\nexport const GBackTitle = ({\n  title,\n  subTitle,\n  handleClick,\n  className,\n  children,\n  rightPart,\n  hideBackLink = false,\n}) => {\n  const titleHasClick = handleClick && hideBackLink;\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const classes = useStyles({subTitle, titleHasClick});\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {authenticated} = useSelector((state) => state.auth.session);\n\n  const prevScrollPosRef = useRef(0);\n  const setPrevScrollPos = (pos) => {\n    prevScrollPosRef.current = pos;\n  };\n  const [visible, setVisible] = useState(true);\n\n  const handleMobileScroll = () => {\n    const currentScrollPos = window.pageYOffset;\n    const visible = prevScrollPosRef.current > currentScrollPos;\n\n    setPrevScrollPos(currentScrollPos);\n    setVisible(visible);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (window.location.pathname !== \"/\") {\n        dispatch(\n          resetTimeline({\n            field: \"postTimeline\",\n          }),\n        );\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMobile) {\n      window.addEventListener(\"scroll\", handleMobileScroll);\n    }\n\n    return () => {\n      if (isMobile) {\n        window.removeEventListener(\"scroll\", handleMobileScroll);\n      }\n    };\n  }, [isMobile]);\n\n  const _handleClick =\n    handleClick ||\n    (() => {\n      if (history.length > 2) {\n        history.goBack();\n      } else {\n        history.push(`/`);\n      }\n    });\n\n  return (\n    <>\n      <div\n        className={clsx(classes.root, className)}\n        style={{top: visible ? 0 : HEIGHT * -1}}\n      >\n        {!hideBackLink && (\n          <div\n            className={clsx(classes.backBtn, className)}\n            onClick={_handleClick}\n          >\n            <img src={icon_back} alt=\"back\" />\n          </div>\n        )}\n        <div\n          className={clsx(\n            classes.backTitleWrapper,\n            hideBackLink ? \"spacing\" : \"\",\n          )}\n        >\n          {title && (\n            <GTypography\n              variant=\"h1\"\n              className={classes.backTitle}\n              title={title}\n              onClick={() => {\n                if (titleHasClick) {\n                  handleClick();\n                }\n              }}\n            >\n              {children ? children : <GTwemoji text={title} />}\n            </GTypography>\n          )}\n        </div>\n        {rightPart}\n      </div>\n      {authenticated ? null : (\n        <div\n          className={classes.mobileAuthBar}\n          style={{top: visible ? HEIGHT : 0}}\n        >\n          <GButton\n            variant=\"outlined\"\n            className={classes.authButton}\n            onClick={() => history.push(\"/login\")}\n          >\n            Log In\n          </GButton>\n          <GButton\n            className={classes.authButton}\n            onClick={() => history.push(\"/signup\")}\n          >\n            Create Account\n          </GButton>\n        </div>\n      )}\n    </>\n  );\n};\n","import React, {useState, useRef, useEffect} from \"react\";\nimport {connect} from \"react-redux\";\nimport {postConstants} from \"../_constants\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport Util from \"src/core/Util\";\nimport {toast} from \"react-toastify\";\nimport {Link} from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport Global from \"src/system/Global\";\nimport GMentionsInput from \"src/styles/components/GMentionsInput\";\nimport {GDisplayFiles} from \"src/styles/components/GDisplayFiles\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport {PostToolsGroup} from \"src/app/pages/post/PostToolsGroup\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {PreviewContent} from \"src/app/components/PreviewContent\";\nimport {AvatarLink} from \"src/app/components/AvatarLink\";\nimport XObject from \"src/core/model/XObject\";\nimport {PopupDialogNew} from \"src/app/components/PopupDialogNew\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport XMComment from \"src/core/model/social/XMComment\";\nimport {PostFeedItem} from \"src/app/components/post/comps/PostFeedItem\";\nimport {t} from \"src/i18n/utils\";\nimport eventBus from \"src/util/EventUtils\";\nimport {refreshHelper} from \"src/util/refreshHelper\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {scrollHelper} from \"src/util/scrollUtils\";\nimport {breakpoints} from \"src/util/BrowserUtils\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport {commentSubmit} from \"../store\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      padding: 0,\n      textAlign: \"left\",\n      \"&.comment-wrapper\": {\n        \"& .comment-composer.post-composer\": {\n          paddingTop: theme.spacing(0.75),\n          paddingLeft: 0,\n          paddingRight: 0,\n          border: \"none\",\n          \"& .post-box\": {\n            paddingLeft: theme.spacing(1.5),\n            minHeight: \"auto\",\n            width: theme.spacing(1.25), // setting width to small value seems to prevent overflowing\n          },\n        },\n        \"& > .comment-replied-post\": {\n          position: \"relative\",\n          \"& .after\": {\n            position: \"absolute\",\n            top: theme.spacing(9.75),\n            left: theme.spacing(3),\n            bottom: 0,\n            width: theme.spacing(0.25),\n            backgroundColor: theme.palette.text.gray,\n            opacity: 0.4,\n            borderRadius: theme.spacing(0.5),\n          },\n          \"& .reply-to\": {\n            paddingLeft: theme.spacing(7.625),\n            fontSize: \"15px\",\n            color: theme.palette.text.gray,\n            paddingBottom: theme.spacing(2.5),\n            marginTop: theme.spacing(-1),\n            fontWeight: 400,\n            \"& a\": {\n              color: theme.palette.text.gray,\n              fontWeight: 400,\n              \"&:hover\": {\n                textDecoration: \"underline\",\n              },\n            },\n          },\n        },\n      },\n    },\n    avatar: {\n      width: theme.spacing(6.25),\n      height: theme.spacing(6.25),\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      userInfo: state.auth.session?.userinfo,\n    };\n  },\n  {commentSubmit},\n);\n\nexport const CommentComposer = connector(_CommentComposer);\n\nfunction _CommentComposer({\n  userInfo,\n  item,\n  isPopup,\n  trigger,\n  postId,\n  commentId,\n  handleStats,\n  sharedObj,\n  hideDropdown,\n}) {\n  const [text, setText] = useState(\"\");\n  const [gifFile, setGifFile] = useState(null);\n  const [metaData, setMetaData] = useState(null);\n  const [acceptType, setAcceptType] = useState(\"\");\n  const [allFiles, setAllFiles] = useState([]);\n  const [filesToRestore, setFilesToRestore] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [progress, setProgress] = useState(-1);\n  const [metaDataLoading, setMetaDataLoading] = useState(false);\n  const [textareaMaxHeight, setTextareaMaxHeight] = useState(500);\n\n  const fn = () => () => {};\n  const [removeFileFunc, setRemoveFileFunc] = useState(fn);\n  const [insertEmojiFunc, setInsertEmojiFunc] = useState(fn);\n  const [fetchMetadataFunc, setFetchMetadataFunc] = useState(fn);\n  const [uploadFilesFunc, setUploadFilesFunc] = useState(fn);\n\n  const [popupDialogOpen, setPopupDialogOpen] = useState(false);\n  const [isWaiting, setIsWaiting] = useState(false);\n\n  const [closeFunc, setCloseFunc] = useState(null);\n\n  const textLengthLimit = postConstants.COMPOSER_MAX_TEXT_LENGTH;\n\n  const classes = useStyles();\n\n  const resetAll = () => {\n    setText(\"\");\n\n    setAllFiles([]);\n    setFilesToRestore([]);\n    removeFileFunc && removeFileFunc(\"all\", acceptType);\n\n    setMetaData(null);\n    setGifFile(null);\n    setAcceptType(\"\");\n  };\n\n  const onCancel = () => {\n    if (typeof closeFunc !== \"function\") {\n      return;\n    }\n\n    if (isEmpty()) {\n      resetAll();\n      setPopupDialogOpen(false);\n      closeFunc();\n    } else {\n      GConfirmAlert({\n        title: t(\"getter_fe.post.tips.discard_getter\"),\n        text: t(\"getter_fe.post.tips.can_not_be_undone\"),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n          callback: (close) => {\n            setPopupDialogOpen(true);\n            close();\n          },\n        },\n        confirm: {\n          text: t(\"getter_fe.post.button.discard\"),\n          type: \"danger\",\n          callback: (close) => {\n            resetAll();\n            setTimeout(() => {\n              setPopupDialogOpen(false);\n              closeFunc();\n              close();\n            }, 64);\n            scrollHelper.unlock();\n          },\n        },\n      });\n    }\n  };\n\n  const handleSubmit = async (filesUploaded) => {\n    if (metaDataLoading) {\n      setIsWaiting(true);\n      return;\n    } // waiting metadata return result\n\n    /**\n     * TODO: Code below will be used when the timeline uses redux\n     */\n\n    // let data = {\n    //   txt: text,\n    //   udate: Date.now(),\n    //   cdate: Date.now(),\n    //   uid: userInfo ? userInfo._id : \"\",\n    //   pid: postId,\n    // };\n\n    // if (filesUploaded && acceptType === postConstants.FILE_TYPE_IMAGE) {\n    //   let imgUrls = [];\n\n    //   for (let i = 0; i < filesUploaded.length; i++) {\n    //     const imgUrl = filesUploaded[i].ori;\n\n    //     imgUrls.push(imgUrl);\n    //   }\n\n    //   data = {...data, imgs: imgUrls};\n    // }\n\n    // if (filesUploaded && acceptType === postConstants.FILE_TYPE_VIDEO) {\n    //   data = {\n    //     ...data,\n    //     vid: filesUploaded[0].m3u8,\n    //     ovid: filesUploaded[0].ori,\n    //     main: filesUploaded[0].screen,\n    //     vid_dur: filesUploaded[0].duration,\n    //     vid_wid: filesUploaded[0].width,\n    //     vid_hgt: filesUploaded[0].height,\n    //   };\n    // }\n\n    // await commentSubmit(data);\n\n    const {title, imageUrl, url, description} = metaData || {};\n\n    let xComment = XMComment.CreateNew(commentId, postId);\n    xComment.setText(text);\n    if (title || imageUrl) {\n      title && xComment.setPreviewTitle(title);\n      imageUrl && xComment.setPreviewImageURL(imageUrl);\n      url && xComment.setPreviewURL(url);\n      description && xComment.setPreviewDescription(description);\n    }\n\n    if (\n      filesUploaded &&\n      filesUploaded.length === 1 &&\n      /gif|png|jpg|jpeg/.test(filesUploaded[0].ori)\n    ) {\n      xComment.setVideoWidth(filesUploaded[0].width);\n      xComment.setVideoHeight(filesUploaded[0].height);\n    }\n\n    const appService = Global.GetPortal().getAppService();\n    appService.submitComment(\n      postId,\n      xComment,\n      filesUploaded,\n      null,\n      (err, result) => {\n        setIsLoading(false);\n        setProgress(-1);\n\n        if (err) {\n          if (err.data.emsg?.includes(\"limit\")) {\n            toast.info(\n              <NotifMessage message={t(\"getter_fe.post.errors.maxLimit\")} />,\n              {\n                type: toast.TYPE.ERROR,\n              },\n            );\n          } else {\n            toast.info(\n              <NotifMessage message={t(\"getter_fe.post.errors.submitPost\")} />,\n              {\n                type: toast.TYPE.ERROR,\n              },\n            );\n          }\n          return;\n        }\n\n        resetAll();\n\n        closeFunc();\n\n        let userFeed = userInfo\n          ? {\n              [userInfo._id]: userInfo,\n            }\n          : null;\n        let newFeed = {result, userFeed};\n        eventBus.emit(\"commentPublish_\" + postId, newFeed);\n\n        refreshHelper.refresh(`PostCommentFeed`, result);\n        const _id = XObject.GetId(result);\n        handleStats();\n        toast.info(\n          <NotifMessage\n            message={\n              <div className={\"notifmesage-with-link\"}>\n                <span>{t(\"getter_fe.post.tips.reply_was_send\")}</span>\n                {_id ? (\n                  <Link\n                    className={clsx(\"toastlink\", \"text-link\")}\n                    to={`/comment/${_id}`}\n                  >\n                    {t(\"getter_fe.post.button.read_it\")}\n                  </Link>\n                ) : null}\n              </div>\n            }\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      },\n    );\n  };\n\n  const onSubmit = () => {\n    setIsLoading(true);\n\n    if (acceptType === \"\") {\n      let gifUrl = null;\n\n      if (gifFile) {\n        gifUrl = [\n          {\n            ori: gifFile?.images?.original?.url,\n            width: gifFile?.images?.original?.width,\n            height: gifFile?.images?.original?.height,\n          },\n        ];\n      }\n      handleSubmit(gifUrl);\n    } else {\n      setProgress(0);\n      uploadFilesFunc &&\n        uploadFilesFunc((realUrls, progress, error) => {\n          if (error) {\n            setIsLoading(false);\n            return;\n          }\n\n          setProgress(progress || 99);\n\n          if (realUrls && realUrls[0]?.ori) {\n            handleSubmit(realUrls);\n          } else if (realUrls && realUrls[0]) {\n            setIsLoading(false);\n            handleSubmitError(onSubmit, realUrls[0]);\n          }\n        });\n    }\n  };\n\n  const onTextChange = (e) => {\n    let text = e.target.value;\n\n    setText(text);\n\n    setMetaDataLoading(true);\n\n    fetchMetadataFunc &&\n      fetchMetadataFunc(text, (error, result) => {\n        setMetaData(result);\n        setMetaDataLoading(false);\n      });\n  };\n\n  /**\n   * Answers the question whether there is enough input\n   * to allow user to post (enble post button)\n   *\n   * @return {boolean} true if can post\n   */\n  const canPost = () => {\n    let currentText = text || \"\";\n    let noData = Util.StringIsEmpty(currentText, true);\n    let cleanedData = currentText.trim();\n    return allFiles.length ||\n      gifFile ||\n      (!noData &&\n        cleanedData.length > 0 &&\n        cleanedData.length <= textLengthLimit)\n      ? true\n      : false;\n  };\n\n  /**\n   * Check if there is no text input\n   *\n   * @return {boolean}\n   */\n  const isEmpty = () => {\n    return Util.StringIsEmpty(text) === true && !canPost();\n  };\n\n  /**\n   * Callback from FileUploader whenever file selection\n   * has changed. This is used when submitting\n   *\n   * @param {Files[]} files\n   */\n  const updateFilesSelected = (fileHandles, displayFiles, type) => {\n    setFilesToRestore(fileHandles);\n    setAllFiles(displayFiles);\n    setAcceptType(type);\n  };\n\n  const getActionButtons = () => {\n    let submitButton = (\n      <GButton\n        onClick={onSubmit}\n        disabled={\n          text.trim().length > textLengthLimit || !canPost() || isLoading\n        }\n      >\n        {t(\"getter_fe.post.button.reply\")}\n      </GButton>\n    );\n    let actionButtons = <div className=\"action-buttons\">{submitButton}</div>;\n\n    return actionButtons;\n  };\n\n  const getTextareaMaxHeight = () => {\n    let maxHeight;\n    /**\n     * TODO: remove setTimeout and move getTextareaMaxHeight to upper comp\n     */\n    setTimeout(() => {\n      const commentRepliedPost = window.document.getElementById(\n        \"commentRepliedPost\",\n      );\n      if (commentRepliedPost) {\n        maxHeight =\n          window.document.body.offsetHeight * 0.8 -\n          commentRepliedPost?.offsetHeight -\n          180;\n\n        setTextareaMaxHeight(Math.max(maxHeight, 120));\n      }\n    }, 700);\n  };\n\n  useEffect(() => {\n    if (isLoading && !metaDataLoading && isWaiting) {\n      handleSubmit();\n      setIsWaiting(false);\n    }\n  }, [isLoading, metaDataLoading, isWaiting]);\n\n  let commentBox = (\n    <GMentionsInput\n      value={text}\n      onChange={onTextChange}\n      placeholder={t(\"getter_fe.post.placeholder.reply_here\")}\n      style={{\n        maxHeight: Math.max(textareaMaxHeight, 100),\n        minHeight: Math.min(textareaMaxHeight, 50),\n      }}\n      setupInsertEmoji={(insertEmoji) => {\n        setInsertEmojiFunc(() => {\n          return insertEmoji;\n        });\n      }}\n      id=\"textarea-comment\"\n    />\n  );\n\n  let avatarUrl = userInfo ? userInfo.ico : null;\n\n  let comp = (\n    <div className={clsx(classes.root, \"comment-wrapper\")}>\n      {isLoading && <GLoader progress={progress} withBorderRadius />}\n      <div className=\"comment-replied-post\" id=\"commentRepliedPost\">\n        <PostFeedItem\n          item={item}\n          scene=\"comment\"\n          type=\"in-composer\"\n          hasMounted={getTextareaMaxHeight}\n          sharedObj={sharedObj}\n          userId={item.getTargetId()}\n          postId={item.getPostId()}\n        />\n        <div className=\"reply-to\">\n          {t(\"getter_fe.post.tips.replying_to\")}{\" \"}\n          <span>\n            @\n            {item.getUserInfo()\n              ? item.getUserInfo().ousername ||\n                item.getUserInfo().data.ousername\n              : userInfo?.ousername}\n          </span>\n        </div>\n        <span className=\"after\" />\n      </div>\n      <div className=\"post-composer comment-composer\">\n        <AvatarLink\n          avatarUrl={userInfo && avatarUrl}\n          styleClasses={classes.avatar}\n          userId={userInfo?._id}\n          username={userInfo?.nickname}\n        />\n        <div className=\"post-box comment-box\">\n          {commentBox}\n\n          <GDisplayFiles\n            files={allFiles}\n            type={acceptType}\n            onDelete={removeFileFunc}\n            gif={gifFile}\n            onGifDelete={() => setGifFile(null)}\n          />\n\n          <PreviewContent\n            previewMetaData={metaData}\n            setupFetchMetadata={(fetchMetadata) => {\n              setFetchMetadataFunc(() => {\n                return fetchMetadata;\n              });\n            }}\n            scene=\"post\"\n          />\n\n          <div className=\"action-bar\">\n            <PostToolsGroup\n              onSelectFiles={updateFilesSelected}\n              onSelectGiphy={(gif) => {\n                setGifFile(gif);\n              }}\n              onSelectEmoji={(e, {emoji}) => {\n                insertEmojiFunc(emoji);\n              }}\n              setupDeleteFile={(removeFile) => {\n                setRemoveFileFunc(() => {\n                  return removeFile;\n                });\n              }}\n              setupUploadFiles={(uploadFiles) =>\n                setUploadFilesFunc(() => {\n                  return uploadFiles;\n                })\n              }\n              gif={gifFile}\n              filesToRestore={filesToRestore}\n            />\n            <div\n              style={{whiteSpace: \"nowrap\"}}\n              className={`text-length-limit ${\n                !isEmpty() && !canPost() && \"is-exceed\"\n              }`}\n            >\n              {!isEmpty() && !canPost()\n                ? `${textLengthLimit - (text || \"\").trim().length}`\n                : `${(text || \"\").trim().length} / ${textLengthLimit}`}\n            </div>\n            {!breakpoints(600) && getActionButtons()}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (isPopup) {\n    comp = (\n      <div onClick={onCancel}>\n        <PopupDialogNew\n          nested={true}\n          open={popupDialogOpen}\n          trigger={trigger}\n          headerContent={t(\"getter_fe.post.button.reply\")}\n          onCancel={onCancel}\n          contentStyle={{marginTop: \"max(15px, 5vh)\"}}\n          className=\"popup-reply\"\n          onOpen={() => {\n            if (hideDropdown) {\n              hideDropdown();\n            }\n\n            scrollHelper.lock();\n          }}\n          showCloseIcon\n          setCloseFunc={setCloseFunc}\n          customHeader={\n            breakpoints(600) ? (\n              <GBackTitle\n                className=\"mobile-GBackTitle-with-post\"\n                handleClick={onCancel}\n                rightPart={getActionButtons()}\n              />\n            ) : null\n          }\n        >\n          {comp}\n        </PopupDialogNew>\n      </div>\n    );\n  }\n\n  return comp;\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.4056 17.0891C10.6036 17.7758 9.39921 17.7734 8.59821 17.0856C5.58105 14.4949 1.66699 11.4191 1.66699 7.5C1.66699 4.84242 3.26699 2.5 5.83366 2.5C7.23602 2.5 9.04371 3.66921 9.91484 4.87684C9.95659 4.93471 10.0441 4.93471 10.0858 4.87684C10.9569 3.66921 12.7646 2.5 14.167 2.5C16.7337 2.5 18.3337 4.84242 18.3337 7.5C18.3337 11.4122 14.4256 14.5034 11.4056 17.0891Z\",\n  strokeWidth: 1.2\n});\n\nfunction SvgIcoLike(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoLike);\nexport default __webpack_public_path__ + \"static/media/ico-like.01231fd7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.2743 18.91C10.1201 19.0542 9.88029 19.0538 9.72664 18.909L8.79163 18.0276C4.49996 13.9981 1.66663 11.5948 1.66663 8.33325C1.66663 5.67567 3.26663 3.33325 5.83329 3.33325C7.23565 3.33325 9.04334 4.50246 9.91447 5.71009C9.95622 5.76796 10.0437 5.76796 10.0854 5.71009C10.9566 4.50246 12.7643 3.33325 14.1666 3.33325C16.7333 3.33325 18.3333 5.67567 18.3333 8.33325C18.3333 11.5948 15.5 13.9981 11.2083 18.0362L10.2743 18.91Z\",\n  fill: \"#F34545\",\n  stroke: \"#F34545\",\n  strokeWidth: 1.2\n});\n\nfunction SvgIcoLiked(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoLiked);\nexport default __webpack_public_path__ + \"static/media/ico-liked.ad2b3034.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core\";\nimport {ReactComponent as LikeIcon} from \"src/assets/icons/ico-like.svg\";\nimport {ReactComponent as LikeActiveIcon} from \"src/assets/icons/ico-liked.svg\";\nimport AppConsts, {UIStyleConsts} from \"../../AppConsts\";\nimport classnames from \"classnames\";\nimport {t} from \"../../../i18n/utils\";\nimport {formatLongNumber} from \"src/util/NumberUtil\";\nimport {useHistory} from \"react-router\";\nimport Global from \"src/system/Global\";\n\nconst STATUS_LIKE = \"y\";\nconst STATUS_UNKNOWN = \"u\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& .icon\": {\n      position: \"relative\",\n      \"& svg\": {\n        width: 18,\n        height: 18,\n        fill: \"transparent\",\n        stroke: theme.palette.text.gray,\n      },\n      \"& .tooltiptext\": {\n        position: \"absolute\",\n        padding: \"6px\",\n        background: theme.palette.background.gray,\n        borderRadius: \"2px\",\n        fontSize: \"11px\",\n        color: theme.palette.text.disabled,\n        visibility: \"hidden\",\n        lineHeight: \"8px\",\n        zIndex: 1,\n        top: \"100%\",\n        left: \"50%\",\n        transform: \"translate(-50%, 2px)\",\n        whiteSpace: \"nowrap\",\n        \"&.top\": {\n          transform: \"translate(-50%, -52px)\",\n        },\n      },\n    },\n    \"& .count\": {\n      color: theme.palette.text.gray,\n      fontWeight: 350,\n      fontSize: 13,\n      \"&.active\": {\n        color: theme.palette.error.light,\n      },\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: 11,\n      },\n    },\n    \"&:hover\": {\n      \"& .icon\": {\n        borderRadius: \"100%\",\n        backgroundColor: \"#DD18180F\",\n        \"& svg\": {\n          animation: \"$fadeIn ease 0.3s\",\n          stroke: `${theme.palette.error.light} !important`,\n        },\n        \"& .tooltiptext\": {\n          visibility: \"visible\",\n        },\n      },\n      \"& .count\": {\n        color: `${theme.palette.error.light} !important`,\n      },\n    },\n    \"&.white:hover\": {\n      \"& .icon\": {\n        backgroundColor: \"rgba(255,255,255,.2)\",\n        \"& svg\": {\n          stroke: `#fff !important`,\n        },\n      },\n      \"& .count\": {\n        color: `#fff !important`,\n      },\n    },\n  },\n  \"@keyframes fadeIn\": {\n    \"0%\": {\n      stroke: theme.palette.text.gray,\n    },\n    \"100%\": {\n      stroke: theme.palette.error.light,\n    },\n  },\n}));\n\nexport const LikeButton = ({\n  isPostDetail,\n  likeStatus,\n  count,\n  objId,\n  loading,\n  loggedIn,\n  tooltip,\n  isComment,\n  hideDropdown,\n  setLikedCount,\n  updateLikeStatus,\n  updateCommentLikeStatus,\n  skin,\n}) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const isDisabled = loading || likeStatus === STATUS_UNKNOWN || !likeStatus;\n  const isActive = likeStatus === STATUS_LIKE;\n\n  const api = Global.GetPortal().getAppService();\n\n  const onClick = async (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (loading) {\n      return;\n    }\n\n    if (!loggedIn) {\n      history.push(AppConsts.URL_LOGIN);\n      return;\n    }\n\n    if (hideDropdown) {\n      hideDropdown();\n    }\n\n    if (isActive) {\n      // handle unlike\n\n      setLikedCount(count - 1);\n\n      try {\n        if (isComment) {\n          updateCommentLikeStatus(\"n\");\n          await api.userUnlikesComment(objId, null);\n        } else {\n          updateLikeStatus(\"n\");\n          await api.userUnlikesPost(objId, null);\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    } else {\n      // handle like\n\n      setLikedCount(count + 1);\n\n      try {\n        if (isComment) {\n          updateCommentLikeStatus(\"y\");\n          await api.userLikesComment(objId, null);\n        } else {\n          updateLikeStatus(\"y\");\n          await api.userLikesPost(objId, null);\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  return (\n    <div\n      onClick={onClick}\n      disabled={isDisabled}\n      className={classnames(\n        classes.root,\n        \"like-post-button\",\n        UIStyleConsts.POST_FEED_ITEM_BUTTON,\n        {active: isActive},\n        skin,\n      )}\n    >\n      {isActive ? (\n        <div className=\"icon\">\n          <LikeActiveIcon className={classes.likeActiveImage} />\n          <span className={`tooltiptext ${tooltip}`}>\n            {t(\"getter_fe.post.button.unlike\")}\n          </span>\n        </div>\n      ) : (\n        <div className=\"icon\">\n          <LikeIcon className=\"hollow\" />\n          <span className={`tooltiptext ${tooltip}`}>\n            {t(\"getter_fe.post.button.like\")}\n          </span>\n        </div>\n      )}\n\n      <div className=\"text\">\n        {!isPostDetail && (\n          <div className={classnames(\"count\", isActive && \"active\")}>\n            <span>{formatLongNumber(count || 0)}</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.7645 2.82642C12.1449 2.32158 12.7103 1.98853 13.3363 1.90056C13.6462 1.857 13.9617 1.87491 14.2648 1.95328C14.5678 2.03165 14.8524 2.16894 15.1024 2.35731C15.3524 2.54568 15.5628 2.78144 15.7217 3.05113C15.8805 3.32082 15.9847 3.61916 16.0283 3.92912C16.0718 4.23907 16.0539 4.55457 15.9755 4.85761C15.8972 5.16064 15.7599 5.44527 15.5715 5.69524L7.99525 16.2353L3.70104 17.9734L4.18819 13.3665L11.7645 2.82642Z\",\n  strokeWidth: 1.4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.58331 13L8.33331 15.8333\",\n  strokeWidth: 1.4\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.4167 4.66675L14.0821 7.32059\",\n  strokeWidth: 1.4\n});\n\nfunction SvgIcoQuote(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoQuote);\nexport default __webpack_public_path__ + \"static/media/ico-quote.3022dc70.svg\";\nexport { ForwardRef as ReactComponent };","import XMObject from '../XMObject';\n\nimport { ModelType, ModelFolder, SocialProps } from '../../../core/model/ModelConsts';\n\nexport const STATUS_SHARED = 'y';\nexport const STATUS_NOT_SHARED = 'n';\nexport const STATUS_UNKNOWN = 'u';\n\nexport const STATUS_SHARE = [STATUS_NOT_SHARED, STATUS_SHARED];\n\nconst _CLSNAME_SHARES = 'XMShares';\nconst _CLSNAME_SHARED = 'XMShared';\n\n\n/**\n * Abstract model of sharing, covering both directions\n * of relationshp between user and object. Subclasses\n * implement shares and shared-by, as well as target/source\n * object.\n *\n */\nclass XMShareBase extends XMObject {\n  static get STATUS_SHARED() { return STATUS_SHARED; }\n  static get STATUS_NOT_SHARED() { return STATUS_NOT_SHARED; }\n  static get STATUS_UNKNOWN() { return STATUS_UNKNOWN; }\n  static get PROP_SHARE() { return SocialProps.SHARE; }\n\n  /**\n     * Do not instantiate at this level as an abstract\n     * class.\n     *\n     * @param {string} clsname passed from subclass\n     * @param {*} props\n     * @see #CreateNew\n     */\n  constructor(clsname, props) {\n    super(clsname, props);\n    this.class = XMShareBase;\n  }\n\n  /**\n     * Add an target object Id to this object to like\n     *\n     * @param {string} targetId object to like (like type specified)\n     * @return {boolean} true if added\n     */\n  addShare(targetId) {\n    return this.addWord(XMShareBase.PROP_SHARE, targetId);\n  }\n\n  /**\n     * Return all objectIds of \"shares\"\n     *\n     * @param {*} defaultVal\n     *\n     * @return {[]} identifers of target objects being followed by this\n     */\n  getShares(defaultVal = []) {\n    const data = this.getData(false);\n    return data ? XMShareBase.GetShares(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Determine of this object has a share for the given target Id\n     *\n     * @param {string} userId target identifier to check if following\n     * @return {boolean} true if following target, false if not found\n     */\n  hasShare(targetId) {\n    return this.hasWord(SocialProps.SHARE, targetId);\n  }\n\n  /**\n     * Report on whether there are any shares stored in this instance.\n     *\n     * @return {boolean} true if there are shares\n     * @see ~countLikes\n     */\n  hasShares() {\n    return this.countShares() > 0;\n  }\n\n  /**\n     * Report on whether the given userId is in the tracking list.\n     *\n     * @param {string} userId\n     * @return {string} either STATUS_NOT_SHARED, STATUS_SHARED\n     */\n  getShareStatus(targetId) {\n    const data = this.getData(false);\n    return data ? XMShareBase.GetShareStatus(data, targetId) : STATUS_NOT_SHARED;\n  }\n\n  /**\n     * Remove a like\n     *\n     * @param {string} targetId target identifier to unfollow\n     * @return {boolean} true if removed, false if not found\n     *\n     * @return {boolean} true if removed\n     */\n  removeShare(targetId) {\n    return this.removeWord(SocialProps.SHARE, targetId);\n  }\n\n  /**\n     * Remove all targets within following following list\n     *\n     * @return {boolean} true if removed, false if not found\n     *\n     * @see #removeUser\n     */\n  removeAllShares() {\n    return this.removeAllWords(SocialProps.SHARE);\n  }\n\n  /**\n     * Return number of targets that this object is following\n     *\n     * @return {number}\n     * @see ~hasLikes\n     */\n  countShares() {\n    return this.countWords(SocialProps.SHARE);\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n     * Convenient method to check if the given object\n     * is an instance of this class (XMUser)\n     */\n  static IsInstance(obj) {\n    return obj instanceof XMShareBase;\n  }\n\n  /**\n     * Add a like\n     *\n     * @param {{}} jsonObj\n     * @param {string} targetId to like\n     */\n  static AddShares(jsonObj, targetId) {\n    return XMObject.AddWord(jsonObj, SocialProps.SHARE, targetId);\n  }\n\n  /**\n     * Set a given list of targetIds as \"like\"\n     *\n     * @param {{}} jsonObj\n     * @param {string[]} array of words or userIds\n     * @return {string[]} previous set of follows that this is replacing\n     */\n  static SetShares(jsonObj, targetIds) {\n    return XMObject.SetWords(jsonObj, SocialProps.SHARE, targetIds);\n  }\n\n  /**\n     * Return all shares of this object (user)\n     *\n     * @param {{}} jsonObj\n     * @param {*} defaultVal\n     *\n     * @return {[]} identifers of users being followed by this\n     */\n  static GetShares(jsonObj, defaultVal = []) {\n    return XMObject.GetWords(jsonObj, SocialProps.SHARE, defaultVal);\n  }\n\n  /**\n     * Determine of this object has a share from the given userId\n     *\n     * @param {{}} jsonObj this object\n     * @param {string} userId target identifier to check if following\n     * @return {boolean} true if following target, false if not found\n     */\n  static HasShare(jsonObj, userId) {\n    return XMObject.HasWord(jsonObj, SocialProps.SHARE, userId);\n  }\n\n  /**\n     * Return status after checking if the target user ID is in the list.\n     *\n     * @param {{}} jsonObj\n     * @param {*} targetId targetId to check\n     * @return {string} one of STATUS_*\n     */\n  static GetShareStatus(jsonObj, targetId) {\n    const verdict = XMShareBase.HasShare(jsonObj, targetId);\n    if (verdict === true) { return STATUS_SHARED; }\n\n    return STATUS_NOT_SHARED;\n  }\n\n  /**\n     * Remove a share\n     *\n     * @param {{}} jsonObj\n     * @param {string} targetId target identifier to unfollow\n     * @return {boolean} true if removed, false if not found\n     *\n     */\n  static RemoveShare(jsonObj, targetId) {\n    return XMObject.RemoveWord(jsonObj, SocialProps.SHARE, targetId);\n  }\n\n  /**\n     * Remove all targets within shard list\n     *\n     * @param {{}} jsonObj\n     * @return {boolean} true if removed, false if not found\n     *\n     * @see #RemoveFollowing\n     */\n  static RemoveAllShares(jsonObj) {\n    return XMObject.RemoveAllWords(jsonObj, SocialProps.SHARE);\n  }\n\n  /**\n     * Return number of targets that this object is following\n     * @param {{}} jsonObj\n     * @return {number}\n     */\n  static CountShares(jsonObj) {\n    return XMObject.CountWords(jsonObj, SocialProps.SHARE);\n  }\n\n} // class XMShareBase\n\n/**\n * Base class for user sharing an object. Subclass\n * will implement the object type\n */\nexport class XMShares extends XMShareBase {\n\n  /**\n     *\n     * @param {string} clsname\n     * @param {*} props\n     * @see #CreateNew\n     */\n  constructor(clsname = _CLSNAME_SHARES, props) {\n    super(clsname, props);\n    this.class = XMShares;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n     * Convenient method to check if the given object\n     * is an instance of this class (XMUser)\n     */\n  static IsInstance(obj) {\n    return obj instanceof XMShares;\n  }\n\n  /**\n     * Return the default folder/table/collection name used\n     * for storing stats\n     */\n  static GetFolderName() {\n    return ModelFolder.SHARES;  // should be none if enforce subclass\n  }\n\n  static GetName() {\n    return _CLSNAME_SHARES;\n  }\n\n  static GetTypeID() {\n    return ModelType.SHARES;\n  }\n\n  /**\n     * Create a new instance\n     *\n     * @param {string} userId User ID, which is also the ID of this object\n     * @param {string} title category title, optional\n     * @param {string} desc optional\n     */\n  static CreateNew(userId, tracking = false) {\n    const newObj = new XMShares();\n    newObj.initNew();\n    newObj._setId(userId);   //\n\n    if (tracking) { newObj.enableTrackingNew(); }\n\n    return newObj;\n  }\n\n} // class XMShares\n\n/**\n * Base class for inverse relationship of object\n * shared by.\n */\nexport class XMShared extends XMShareBase {\n\n  /**\n     *\n     * @param {string} clsname\n     * @param {*} props\n     * @see #CreateNew\n     */\n  constructor(clsname = _CLSNAME_SHARED, props) {\n    super(clsname, props);\n    this.class = XMShared;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n     * Convenient method to check if the given object\n     * is an instance of this class (XMUser)\n     */\n  static IsInstance(obj) {\n    return obj instanceof XMShared;\n  }\n\n  /**\n     * Return the default folder/table/collection name used\n     * for storing stats\n     */\n  static GetFolderName() {\n    return ModelFolder.SHARED;\n  }\n\n  static GetName() {\n    return _CLSNAME_SHARED;\n  }\n\n  static GetTypeID() {\n    return ModelType.SHARED;\n  }\n\n  /**\n     * Create a new instance\n     *\n     * @param {string} userId User ID, which is also the ID of this object\n     * @param {string} title category title, optional\n     * @param {string} desc optional\n     */\n  static CreateNew(userId, tracking = false) {\n    const newObj = new XMShared();\n    newObj.initNew();\n    newObj._setId(userId);   //\n\n    if (tracking) { newObj.enableTrackingNew(); }\n\n    return newObj;\n  }\n} // class XMShared\n\n// Can comment out if enforcing subclassing only\nXMShares.RegisterType(XMShares);\nXMShares.RegisterType(XMShared);\n\nexport default XMShares;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M10.4428 2.30766C10.6977 2.06581 11.1182 2.24647 11.1182 2.59781L11.1182 17.4464C11.1182 17.7909 10.7116 17.9743 10.4534 17.7462L5.50867 13.3784H1.83408C1.2818 13.3784 0.834083 12.9307 0.834083 12.3784V7.99024C0.834083 7.43795 1.2818 6.99024 1.83408 6.99024L5.50867 6.99024L10.4428 2.30766Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.9229 13.7684C15.8729 11.8183 15.8729 8.23913 13.9229 6.28906\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.7275 16.5732C20.4537 12.8471 20.4744 7.23122 16.7275 3.48438\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoUnmute(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoUnmute);\nexport default __webpack_public_path__ + \"static/media/ico-unmute.829a3b8d.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState, useEffect} from \"react\";\nimport {connect} from \"react-redux\";\nimport {postConstants} from \"../_constants\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport Util from \"src/core/Util\";\nimport {toast} from \"react-toastify\";\nimport {Link} from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport Global from \"src/system/Global\";\nimport GMentionsInput from \"src/styles/components/GMentionsInput\";\nimport {GDisplayFiles} from \"src/styles/components/GDisplayFiles\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport {PostToolsGroup} from \"src/app/pages/post/PostToolsGroup\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {PreviewContent} from \"src/app/components/PreviewContent\";\nimport {AvatarLink} from \"src/app/components/AvatarLink\";\nimport XObject from \"src/core/model/XObject\";\nimport {PopupDialogNew} from \"src/app/components/PopupDialogNew\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport XMComment from \"src/core/model/social/XMComment\";\nimport {CommentFeedItem} from \"src/app/components/post/comps/CommentFeedItem\";\nimport {t} from \"src/i18n/utils\";\nimport eventBus from \"src/util/EventUtils\";\nimport {refreshHelper} from \"src/util/refreshHelper\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {scrollHelper} from \"src/util/scrollUtils\";\nimport {breakpoints} from \"src/util/BrowserUtils\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport {commentSubmit} from \"../store\";\nimport XUserInfo from \"src/core/model/user/XUserInfo\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      padding: 0,\n      textAlign: \"left\",\n      \"&.comment-wrapper\": {\n        marginLeft: -15,\n        \"& .comment-composer.post-composer\": {\n          paddingTop: theme.spacing(0.75),\n          paddingLeft: 15,\n          paddingRight: 0,\n          border: \"none\",\n          \"& .post-box\": {\n            paddingLeft: theme.spacing(1.25),\n            minHeight: \"auto\",\n            width: theme.spacing(1.25), // setting width to small value seems to prevent overflowing\n          },\n        },\n        \"& > .comment-replied-post\": {\n          position: \"relative\",\n          \"& .after\": {\n            position: \"absolute\",\n            top: theme.spacing(9),\n            left: theme.spacing(4.75),\n            bottom: theme.spacing(-4),\n            width: theme.spacing(0.25),\n            backgroundColor: theme.palette.text.gray,\n            borderRadius: theme.spacing(0.5),\n            opacity: 0.4,\n          },\n          \"& .reply-to\": {\n            paddingLeft: theme.spacing(9.375),\n            fontSize: \"15px\",\n            color: theme.palette.text.gray,\n            paddingBottom: theme.spacing(2.5),\n            fontWeight: 400,\n            \"& a\": {\n              color: theme.palette.text.gray,\n              fontWeight: 400,\n              \"&:hover\": {\n                textDecoration: \"underline\",\n              },\n            },\n          },\n        },\n      },\n    },\n    avatar: {\n      width: theme.spacing(6.25),\n      height: theme.spacing(6.25),\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      userInfo: state.auth.session?.userinfo,\n    };\n  },\n  {commentSubmit},\n);\n\nexport const CommentCommentComposer = connector(_CommentCommentComposer);\n\nfunction _CommentCommentComposer({\n  userInfo,\n  item,\n  isPopup,\n  trigger,\n  postId,\n  usermap,\n  commentId,\n  handleStats,\n}) {\n  const [text, setText] = useState(\"\");\n  const [gifFile, setGifFile] = useState(null);\n  const [metaData, setMetaData] = useState(null);\n  const [acceptType, setAcceptType] = useState(\"\");\n  const [allFiles, setAllFiles] = useState([]);\n  const [filesToRestore, setFilesToRestore] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [progress, setProgress] = useState(-1);\n  const [metaDataLoading, setMetaDataLoading] = useState(false);\n  const [textareaMaxHeight, setTextareaMaxHeight] = useState(500);\n\n  const fn = () => () => {};\n  const [removeFileFunc, setRemoveFileFunc] = useState(fn);\n  const [insertEmojiFunc, setInsertEmojiFunc] = useState(fn);\n  const [fetchMetadataFunc, setFetchMetadataFunc] = useState(fn);\n  const [uploadFilesFunc, setUploadFilesFunc] = useState(fn);\n\n  const [popupDialogOpen, setPopupDialogOpen] = useState(false);\n  const [isWaiting, setIsWaiting] = useState(false);\n\n  const [closeFunc, setCloseFunc] = useState(null);\n\n  const classes = useStyles();\n\n  const textLengthLimit = postConstants.COMPOSER_MAX_TEXT_LENGTH;\n\n  // debugger\n  let posterId = item.getPosterId();\n\n  let ousername =\n    item._tp?.aux?.uinf[posterId].ousername ||\n    item.aux?.uinf[posterId].ousername ||\n    userInfo.ousername;\n  const resetAll = () => {\n    setText(\"\");\n\n    setAllFiles([]);\n    setFilesToRestore([]);\n    removeFileFunc && removeFileFunc(\"all\", acceptType);\n\n    setMetaData(null);\n    setGifFile(null);\n    setAcceptType(\"\");\n  };\n\n  const onCancel = () => {\n    if (typeof closeFunc !== \"function\") {\n      return;\n    }\n\n    if (isEmpty()) {\n      resetAll();\n      setPopupDialogOpen(false);\n      closeFunc();\n    } else {\n      GConfirmAlert({\n        title: t(\"getter_fe.post.tips.discard_getter\"),\n        text: t(\"getter_fe.post.tips.can_not_be_undone\"),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n          callback: (close) => {\n            setPopupDialogOpen(true);\n            close();\n          },\n        },\n        confirm: {\n          text: t(\"getter_fe.post.button.discard\"),\n          type: \"danger\",\n          callback: (close) => {\n            resetAll();\n            setTimeout(() => {\n              setPopupDialogOpen(false);\n              closeFunc();\n              close();\n            }, 64);\n            scrollHelper.unlock();\n          },\n        },\n      });\n    }\n  };\n\n  const handleSubmit = async (filesUploaded) => {\n    if (metaDataLoading) {\n      setIsWaiting(true);\n      return;\n    } // waiting metadata return result\n\n    /**\n     * TODO: Code below will be used when the timeline uses redux\n     */\n\n    // let data = {\n    //   txt: text,\n    //   udate: Date.now(),\n    //   cdate: Date.now(),\n    //   uid: userInfo ? userInfo._id : \"\",\n    //   pid: postId,\n    // };\n\n    // if (filesUploaded && acceptType === postConstants.FILE_TYPE_IMAGE) {\n    //   let imgUrls = [];\n\n    //   for (let i = 0; i < filesUploaded.length; i++) {\n    //     const imgUrl = filesUploaded[i].ori;\n\n    //     imgUrls.push(imgUrl);\n    //   }\n\n    //   data = {...data, imgs: imgUrls};\n    // }\n\n    // if (filesUploaded && acceptType === postConstants.FILE_TYPE_VIDEO) {\n    //   data = {\n    //     ...data,\n    //     vid: filesUploaded[0].m3u8,\n    //     ovid: filesUploaded[0].ori,\n    //     main: filesUploaded[0].screen,\n    //     vid_dur: filesUploaded[0].duration,\n    //     vid_wid: filesUploaded[0].width,\n    //     vid_hgt: filesUploaded[0].height,\n    //   };\n    // }\n\n    // await commentSubmit(data);\n\n    const {title, imageUrl, url, description} = metaData || {};\n\n    let xComment = XMComment.CreateNew(commentId, postId);\n    xComment.setText(text);\n    if (title || imageUrl) {\n      title && xComment.setPreviewTitle(title);\n      imageUrl && xComment.setPreviewImageURL(imageUrl);\n      url && xComment.setPreviewURL(url);\n      description && xComment.setPreviewDescription(description);\n    }\n\n    if (\n      filesUploaded &&\n      filesUploaded.length === 1 &&\n      /gif|png|jpg|jpeg/.test(filesUploaded[0].ori)\n    ) {\n      xComment.setVideoWidth(filesUploaded[0].width);\n      xComment.setVideoHeight(filesUploaded[0].height);\n    }\n\n    const appService = Global.GetPortal().getAppService();\n\n    appService.submitComment(\n      postId,\n      xComment,\n      filesUploaded,\n      null,\n      (err, result) => {\n        setIsLoading(false);\n        setProgress(-1);\n\n        if (err) {\n          if (err.data.emsg?.includes(\"limit\")) {\n            toast.info(\n              <NotifMessage message={t(\"getter_fe.post.errors.maxLimit\")} />,\n              {\n                type: toast.TYPE.ERROR,\n              },\n            );\n          } else {\n            toast.info(\n              <NotifMessage message={t(\"getter_fe.post.errors.submitPost\")} />,\n              {\n                type: toast.TYPE.ERROR,\n              },\n            );\n          }\n          return;\n        }\n\n        resetAll();\n\n        closeFunc();\n\n        let userFeed = userInfo\n          ? {\n              [userInfo._id]: userInfo,\n            }\n          : null;\n        let newFeed = {result, userFeed};\n        eventBus.emit(\"commentPublish_\" + postId, newFeed);\n\n        refreshHelper.refresh(`PostCommentFeed`, result);\n        const _id = XObject.GetId(result);\n        handleStats();\n        toast.info(\n          <NotifMessage\n            message={\n              <div className={\"notifmesage-with-link\"}>\n                <span>{t(\"getter_fe.post.tips.reply_was_send\")}</span>\n                {_id ? (\n                  <Link\n                    className={clsx(\"toastlink\", \"text-link\")}\n                    to={`/comment/${_id}`}\n                  >\n                    {t(\"getter_fe.post.button.read_it\")}\n                  </Link>\n                ) : null}\n              </div>\n            }\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      },\n    );\n  };\n\n  const onSubmit = () => {\n    setIsLoading(true);\n\n    if (acceptType === \"\") {\n      let gifUrl = null;\n\n      if (gifFile) {\n        gifUrl = [\n          {\n            ori: gifFile?.images?.original?.url,\n            width: gifFile?.images?.original?.width,\n            height: gifFile?.images?.original?.height,\n          },\n        ];\n      }\n      handleSubmit(gifUrl);\n    } else {\n      setProgress(0);\n      uploadFilesFunc &&\n        uploadFilesFunc((realUrls, progress, error) => {\n          if (error) {\n            setIsLoading(false);\n            return;\n          }\n\n          setProgress(progress || 99);\n\n          if (realUrls && realUrls[0]?.ori) {\n            handleSubmit(realUrls);\n          } else if (realUrls && realUrls[0]) {\n            setIsLoading(false);\n            handleSubmitError(onSubmit, realUrls[0]);\n          }\n        });\n    }\n  };\n\n  const onTextChange = (e) => {\n    let text = e.target.value;\n\n    setText(text);\n\n    setMetaDataLoading(true);\n\n    fetchMetadataFunc &&\n      fetchMetadataFunc(text, (error, result) => {\n        setMetaData(result);\n        setMetaDataLoading(false);\n      });\n  };\n\n  /**\n   * Answers the question whether there is enough input\n   * to allow user to post (enble post button)\n   *\n   * @return {boolean} true if can post\n   */\n  const canPost = () => {\n    let currentText = text || \"\";\n    let noData = Util.StringIsEmpty(currentText, true);\n    let cleanedData = currentText.trim();\n    return allFiles.length ||\n      gifFile ||\n      (!noData &&\n        cleanedData.length > 0 &&\n        cleanedData.length <= textLengthLimit)\n      ? true\n      : false;\n  };\n\n  /**\n   * Check if there is no text input\n   *\n   * @return {boolean}\n   */\n  const isEmpty = () => {\n    return Util.StringIsEmpty(text) === true && !canPost();\n  };\n\n  /**\n   * Callback from FileUploader whenever file selection\n   * has changed. This is used when submitting\n   *\n   * @param {Files[]} files\n   */\n  const updateFilesSelected = (fileHandles, displayFiles, type) => {\n    setFilesToRestore(fileHandles);\n    setAllFiles(displayFiles);\n    setAcceptType(type);\n  };\n\n  const getActionButtons = () => {\n    let submitButton = (\n      <GButton\n        onClick={onSubmit}\n        disabled={\n          text.trim().length > textLengthLimit || !canPost() || isLoading\n        }\n      >\n        {t(\"getter_fe.post.button.reply\")}\n      </GButton>\n    );\n    let actionButtons = <div className=\"action-buttons\">{submitButton}</div>;\n\n    return actionButtons;\n  };\n\n  const getTextareaMaxHeight = () => {\n    let maxHeight;\n    /**\n     * TODO: remove setTimeout and move getTextareaMaxHeight to upper comp\n     */\n    setTimeout(() => {\n      const commentRepliedPost = window.document.getElementById(\n        \"commentRepliedPost\",\n      );\n      if (commentRepliedPost) {\n        maxHeight =\n          window.document.body.offsetHeight * 0.8 -\n          commentRepliedPost?.offsetHeight -\n          180;\n\n        setTextareaMaxHeight(Math.max(maxHeight, 120));\n      }\n    }, 700);\n  };\n\n  useEffect(() => {\n    if (isLoading && !metaDataLoading && isWaiting) {\n      handleSubmit();\n      setIsWaiting(false);\n    }\n  }, [isLoading, metaDataLoading, isWaiting]);\n\n  let commentBox = (\n    <GMentionsInput\n      value={text}\n      onChange={onTextChange}\n      placeholder={t(\"getter_fe.post.placeholder.reply_here\")}\n      style={{\n        maxHeight: Math.max(textareaMaxHeight, 100),\n        minHeight: Math.min(textareaMaxHeight, 50),\n      }}\n      setupInsertEmoji={(insertEmoji) => {\n        setInsertEmojiFunc(() => {\n          return insertEmoji;\n        });\n      }}\n      id=\"textarea-comment\"\n    />\n  );\n\n  let avatarUrl = userInfo ? userInfo.ico : null;\n  //the new comment does not have the uinfo data(backend api response data)\n  //so the new comment uinfo must be the current user.\n  if (item.getPosterId() === userInfo._id) {\n    usermap = XUserInfo.WrapXObject(userInfo, XUserInfo);\n  }\n\n  let comp = (\n    <div className={clsx(classes.root, \"comment-wrapper\")}>\n      {isLoading && <GLoader progress={progress} withBorderRadius />}\n      <div className=\"comment-replied-post\" id=\"commentRepliedPost\">\n        <CommentFeedItem\n          comment={item}\n          scene=\"comment-composer\"\n          postPosterInfo={usermap}\n          showMenuDropDown=\"no\"\n          type=\"comment-comment-detail\"\n          ousername={ousername}\n        />\n        <div className=\"reply-to\">\n          {t(\"getter_fe.post.tips.replying_to\")}{\" \"}\n          <span>@{ousername || posterId}</span>\n        </div>\n        <span className=\"after\" />\n      </div>\n      <div className=\"post-composer comment-composer\">\n        <AvatarLink\n          avatarUrl={userInfo && avatarUrl}\n          styleClasses={classes.avatar}\n          userId={userInfo?._id}\n          username={userInfo?.nickname}\n        />\n        <div className=\"post-box comment-box\">\n          {commentBox}\n\n          <GDisplayFiles\n            files={allFiles}\n            type={acceptType}\n            onDelete={removeFileFunc}\n            gif={gifFile}\n            onGifDelete={() => setGifFile(null)}\n          />\n\n          <PreviewContent\n            previewMetaData={metaData}\n            setupFetchMetadata={(fetchMetadata) => {\n              setFetchMetadataFunc(() => {\n                return fetchMetadata;\n              });\n            }}\n            scene=\"post\"\n          />\n          <div className=\"action-bar\">\n            <PostToolsGroup\n              onSelectFiles={updateFilesSelected}\n              onSelectGiphy={(gif) => {\n                setGifFile(gif);\n              }}\n              onSelectEmoji={(e, {emoji}) => {\n                insertEmojiFunc(emoji);\n              }}\n              setupDeleteFile={(removeFile) => {\n                setRemoveFileFunc(() => {\n                  return removeFile;\n                });\n              }}\n              setupUploadFiles={(uploadFiles) =>\n                setUploadFilesFunc(() => {\n                  return uploadFiles;\n                })\n              }\n              gif={gifFile}\n              filesToRestore={filesToRestore}\n            />\n            <div\n              style={{whiteSpace: \"nowrap\"}}\n              className={`text-length-limit ${\n                !isEmpty() && !canPost() && \"is-exceed\"\n              }`}\n            >\n              {!isEmpty() && !canPost()\n                ? `${textLengthLimit - (text || \"\").trim().length}`\n                : `${(text || \"\").trim().length} / ${textLengthLimit}`}\n            </div>\n            {!breakpoints(600) && getActionButtons()}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (isPopup) {\n    comp = (\n      <div onClick={onCancel}>\n        <PopupDialogNew\n          nested={true}\n          open={popupDialogOpen}\n          trigger={trigger}\n          headerContent={t(\"getter_fe.post.button.reply\")}\n          contentStyle={{marginTop: \"max(15px, 5vh)\"}}\n          className=\"popup-reply\"\n          onOpen={() => scrollHelper.lock()}\n          showCloseIcon={true}\n          onCancel={onCancel}\n          setCloseFunc={setCloseFunc}\n          customHeader={\n            breakpoints(600) ? (\n              <GBackTitle\n                className=\"mobile-GBackTitle-with-post\"\n                handleClick={onCancel}\n                rightPart={getActionButtons()}\n              />\n            ) : null\n          }\n        >\n          {comp}\n        </PopupDialogNew>\n      </div>\n    );\n  }\n\n  return comp;\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.09967 14.9997C8.09967 14.6683 7.83104 14.3997 7.49967 14.3997H5.83301C3.40295 14.3997 1.43301 12.4297 1.43301 9.99967V5.83301C1.43301 3.40295 3.40295 1.43301 5.83301 1.43301H14.1663C16.5964 1.43301 18.5663 3.40295 18.5663 5.83301V9.99967C18.5663 12.4297 16.5964 14.3997 14.1663 14.3997H13.333C13.208 14.3997 13.086 14.4387 12.9843 14.5114L8.09967 18.0004V14.9997Z\",\n  strokeWidth: 1.2,\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoComment(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoComment);\nexport default __webpack_public_path__ + \"static/media/ico-comment.4ee42b93.svg\";\nexport { ForwardRef as ReactComponent };","import {makeStyles} from \"@material-ui/core\";\nimport {ReactComponent as CommentIcon} from \"src/assets/icons/ico-comment.svg\";\nimport AppConsts, {UIStyleConsts} from \"../../AppConsts\";\nimport classnames from \"classnames\";\nimport {formatLongNumber} from \"src/util/NumberUtil\";\nimport {t} from \"../../../i18n/utils\";\nimport {useHistory} from \"react-router\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& .icon\": {\n      position: \"relative\",\n      \"& svg\": {\n        width: 18,\n        height: 18,\n        stroke: theme.palette.text.gray,\n      },\n      \"& .tooltiptext\": {\n        position: \"absolute\",\n        padding: \"6px\",\n        background: theme.palette.background.gray,\n        borderRadius: \"2px\",\n        fontSize: \"11px\",\n        color: theme.palette.text.disabled,\n        visibility: \"hidden\",\n        lineHeight: \"8px\",\n        zIndex: 1,\n        top: \"100%\",\n        left: \"50%\",\n        transform: \"translate(-50%, 2px)\",\n        whiteSpace: \"nowrap\",\n        \"&.top\": {\n          transform: \"translate(-50%, -52px)\",\n        },\n      },\n    },\n    \"& .count\": {\n      color: theme.palette.text.gray,\n      fontWeight: 350,\n      fontSize: \"13px\",\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: \"11px\",\n      },\n    },\n    \"&:hover\": {\n      \"& .icon\": {\n        borderRadius: \"100%\",\n        backgroundColor: \"#EDF7FF\",\n        \"& svg\": {\n          animation: \"$fadeIn ease 0.3s\",\n          stroke: `${theme.palette.primary.main} !important`,\n        },\n        \"& .tooltiptext\": {\n          visibility: \"visible\",\n        },\n      },\n      \"& .count\": {\n        color: `${theme.palette.primary.main} !important`,\n      },\n    },\n    \"&.white:hover\": {\n      \"& .icon\": {\n        backgroundColor: \"rgba(255,255,255,.2)\",\n        \"& svg\": {\n          stroke: `#fff !important`,\n        },\n      },\n      \"& .count\": {\n        color: `#fff !important`,\n      },\n    },\n  },\n  \"@keyframes fadeIn\": {\n    \"0%\": {\n      stroke: theme.palette.text.secondary,\n    },\n    \"100%\": {\n      stroke: theme.palette.primary.main,\n    },\n  },\n}));\n\nexport const CommentPostButton = ({\n  isPostDetail,\n  count,\n  tooltip,\n  loggedIn,\n  skin,\n}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  loggedIn = !!Global.GetPortal().getAppService().getUserId();\n\n  return (\n    <div\n      onClick={(e) => {\n        if (!loggedIn) {\n          e.stopPropagation();\n          history.push(AppConsts.URL_LOGIN);\n        }\n      }}\n      className={classnames(\n        \"comment-post-button\",\n        UIStyleConsts.POST_FEED_ITEM_BUTTON,\n        classes.root,\n        skin,\n      )}\n    >\n      <div className=\"icon\">\n        <CommentIcon className=\"hollow\" />\n        <span className={`tooltiptext ${tooltip}`}>\n          {t(\"getter_fe.post.button.reply\")}\n        </span>\n      </div>\n\n      <div className=\"text\">\n        {!isPostDetail && (\n          <div className=\"count\">{formatLongNumber(count || 0)}</div>\n        )}\n      </div>\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.60742 11.8945V2.08328\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.33398 5.94043L9.46607 1.80835C9.54417 1.73024 9.6708 1.73024 9.74891 1.80835L13.881 5.94043\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.5 11.2109V16.3334C2.5 17.438 3.39543 18.3334 4.5 18.3334H14.7138C15.8184 18.3334 16.7138 17.438 16.7138 16.3334V11.2109\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoShare(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoShare);\nexport default __webpack_public_path__ + \"static/media/ico-share.a709cff4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 20,\n  height: 20,\n  rx: 10,\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.364 6.63841C15.8907 6.83917 15.3864 6.97225 14.8606 7.03687C15.4015 6.72456 15.8143 6.23379 16.0084 5.64225C15.5041 5.93302 14.9473 6.13841 14.3539 6.25302C13.875 5.75994 13.1925 5.45456 12.448 5.45456C11.0034 5.45456 9.84047 6.58841 9.84047 7.97841C9.84047 8.17841 9.85797 8.37071 9.90092 8.55379C7.73172 8.45148 5.81229 7.4461 4.52286 5.91456C4.29774 6.29225 4.1657 6.72456 4.1657 7.18994C4.1657 8.06379 4.63104 8.83841 5.32467 9.28687C4.90547 9.27917 4.49422 9.16148 4.14581 8.9761C4.14581 8.98379 4.14581 8.99379 4.14581 9.00379C4.14581 10.2299 5.05024 11.2484 6.23626 11.483C6.02388 11.5392 5.7924 11.5661 5.55217 11.5661C5.38513 11.5661 5.21649 11.5569 5.0582 11.523C5.39626 12.5223 6.35558 13.2569 7.49626 13.2807C6.60854 13.9523 5.48138 14.3569 4.26115 14.3569C4.04717 14.3569 3.84195 14.3476 3.63672 14.3223C4.79251 15.043 6.16229 15.4546 7.63945 15.4546C12.4408 15.4546 15.0658 11.6084 15.0658 8.27456C15.0658 8.16302 15.0618 8.05533 15.0563 7.94841C15.5741 7.59302 16.0092 7.14917 16.364 6.63841Z\",\n  fill: \"white\"\n});\n\nfunction SvgIconTwitter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconTwitter);\nexport default __webpack_public_path__ + \"static/media/icon_twitter.b420a7bd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 0C15.5231 0 20 4.49429 20 10.0389C20 15.1581 16.1831 19.3826 11.25 20V12.5486H14.6875L15 10.0389H11.25V8.78404C11.25 8.09073 11.8094 7.52918 12.5 7.52918H15V5.01945H12.5C10.4288 5.01945 8.75 6.70473 8.75 8.78404V10.0389H6.875V12.5486H8.75V17.5091V19.7616V20C3.81687 19.3826 0 15.1581 0 10.0389C0 4.49429 4.47688 0 10 0Z\",\n  fill: \"black\"\n});\n\nfunction SvgIconFacebook(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconFacebook);\nexport default __webpack_public_path__ + \"static/media/icon_facebook.34f23472.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 20,\n  height: 20,\n  rx: 10,\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.62485 11.0334L5.87489 10.2834C4.63231 9.04085 4.63231 7.02623 5.87489 5.78365V5.78365C7.11746 4.54108 9.13208 4.54108 10.3747 5.78365L11.1246 6.53361\",\n  stroke: \"white\",\n  strokeWidth: 1.09091,\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.0614 11.8957L8.76157 8.59586\",\n  stroke: \"white\",\n  strokeWidth: 1.09091,\n  strokeLinecap: \"round\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.87466 13.2833L9.62463 14.0332C10.8672 15.2758 12.8818 15.2758 14.1244 14.0332V14.0332C15.367 12.7906 15.367 10.776 14.1244 9.53346L13.3744 8.78349\",\n  stroke: \"white\",\n  strokeWidth: 1.09091,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIconLink(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconLink);\nexport default __webpack_public_path__ + \"static/media/icon_link.fe6b55c0.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useEffect, useState, useRef} from \"react\";\nimport {\n  makeStyles,\n  useMediaQuery,\n  useTheme,\n  Button,\n  MenuItem,\n  ClickAwayListener,\n} from \"@material-ui/core\";\nimport Dropdown, {\n  DropdownTrigger,\n  DropdownContent,\n} from \"react-simple-dropdown\";\nimport classnames from \"classnames\";\nimport {CopyToClipboard} from \"react-copy-to-clipboard\";\nimport {NotifMessage} from \"../../components/notifications/NotifMessage\";\nimport {GMobileDrawer} from \"src/styles/components/GMobileDrawer\";\nimport {t} from \"../../../i18n/utils\";\nimport {toast} from \"react-toastify\";\nimport {ReactComponent as IconShare} from \"src/assets/icons/ico-share.svg\";\nimport {ReactComponent as IconTwitter} from \"src/assets/icons/icon_twitter.svg\";\nimport {ReactComponent as IconFacebook} from \"src/assets/icons/icon_facebook.svg\";\nimport {ReactComponent as IconLink} from \"src/assets/icons/icon_link.svg\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  \"@keyframes fadeIn\": {\n    \"0%\": {\n      stroke: theme.palette.text.gray,\n    },\n    \"100%\": {\n      stroke: theme.palette.primary.main,\n    },\n  },\n  menuButton: {\n    padding: 0,\n    minWidth: \"auto\",\n    \"& .icon\": {\n      position: \"relative\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      borderRadius: \"100%\",\n      \"& svg\": {\n        width: 18,\n        height: 18,\n        fill: \"transparent\",\n        stroke: theme.palette.text.gray,\n        \"&.active\": {\n          stroke: theme.palette.primary.main,\n        },\n      },\n      \"& .tooltiptext\": {\n        position: \"absolute\",\n        padding: \"6px\",\n        background: theme.palette.background.gray,\n        borderRadius: \"2px\",\n        fontSize: \"11px\",\n        color: theme.palette.text.disabled,\n        visibility: \"hidden\",\n        fontWeight: \"400\",\n        textTransform: \"capitalize\",\n        lineHeight: \"8px\",\n        zIndex: 1,\n        top: \"100%\",\n        left: \"50%\",\n        transform: \"translate(-50%, 2px)\",\n        whiteSpace: \"nowrap\",\n        \"&.top\": {\n          transform: \"translate(-50%, -52px)\",\n        },\n      },\n    },\n    \"&:hover\": {\n      background: \"none\",\n\n      \"& .icon\": {\n        \"& svg\": {\n          animation: \"$fadeIn ease 0.3s\",\n          stroke: `${theme.palette.primary.main} !important`,\n        },\n        \"& .tooltiptext\": {\n          visibility: \"visible\",\n        },\n      },\n      \"& .regular-hover\": {\n        backgroundColor: \"#EDF7FF\",\n      },\n    },\n    \"&.white:hover\": {\n      \"& .icon\": {\n        backgroundColor: \"rgba(255,255,255,.2)\",\n        \"& svg\": {\n          stroke: `#fff !important`,\n        },\n      },\n    },\n  },\n  menuItem: {\n    padding: 0,\n  },\n  menuInner: {\n    display: \"block\",\n    height: \"50px\",\n    width: \"100%\",\n    lineHeight: \"20px\",\n    padding: \"15px 0\",\n    color: \"#000\",\n    fontSize: \"14px\",\n    fontWeight: 400,\n    \"& svg\": {\n      margin: \"0 11px 0 14px\",\n      verticalAlign: \"top\",\n    },\n  },\n  dropdownShare: {\n    borderRadius: \"6px\",\n    top: ({isImagePopup}) => (isImagePopup ? -150 : null),\n\n    right: ({isImagePopup}) => (isImagePopup ? null : 0),\n    left: ({isImagePopup}) => (isImagePopup ? -6 : null),\n    width: \"auto\",\n    \"& li\": {\n      paddingRight: \"10px\",\n    },\n  },\n  outOfScreen: {\n    bottom: \"100%\",\n  },\n}));\n\nexport const ShareButton = ({detailLink, tooltip, isImagePopup, skin}) => {\n  const classes = useStyles({isImagePopup});\n  const theme = useTheme();\n  const mobileMatches = useMediaQuery(theme.breakpoints.only(\"xs\"));\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const [outOfScreen, setOutOfScreen] = useState(false);\n  const dropdownRef = useRef(null);\n\n  useEffect(() => {\n    let rect = dropdownRef.current?.getBoundingClientRect();\n    if (rect) {\n      if (\n        rect.bottom + 150 >\n        (window.innerHeight || document.documentElement.clientHeight)\n      ) {\n        setOutOfScreen(true);\n      } else {\n        setOutOfScreen(false);\n      }\n    }\n  }, []);\n\n  const menuItems = (\n    <>\n      <MenuItem\n        className={classes.menuItem}\n        onClick={() => {\n          setDrawerOpen(false);\n          window.open(\n            `https://twitter.com/intent/tweet?url=${detailLink}`,\n            \"_blank\",\n          );\n        }}\n      >\n        <div className={classes.menuInner}>\n          <IconTwitter />\n          <span>\n            {t(\"getter_fe.post.button.share_on\", {platform: \"Twitter\"})}\n          </span>\n        </div>\n      </MenuItem>\n      <MenuItem\n        className={classes.menuItem}\n        onClick={() => {\n          setDrawerOpen(false);\n          window.open(\n            `https://www.facebook.com/sharer/sharer.php?u=${detailLink}`,\n            \"_blank\",\n          );\n        }}\n      >\n        <div className={classes.menuInner}>\n          <IconFacebook />\n          <span>\n            {t(\"getter_fe.post.button.share_on\", {platform: \"Facebook\"})}\n          </span>\n        </div>\n      </MenuItem>\n      <MenuItem\n        className={classes.menuItem}\n        onClick={() => setDrawerOpen(false)}\n      >\n        <CopyToClipboard\n          text={detailLink}\n          onCopy={() => {\n            toast.info(\n              <NotifMessage\n                message={t(\"getter_fe.post.tips.link_has_been_copied\")}\n              />,\n              {\n                type: toast.TYPE.SUCCESS,\n              },\n            );\n          }}\n        >\n          <div className={classes.menuInner}>\n            <IconLink />\n            <span>{t(\"getter_fe.post.button.copy_link\")}</span>\n          </div>\n        </CopyToClipboard>\n      </MenuItem>\n    </>\n  );\n\n  return mobileMatches ? (\n    <>\n      <Button\n        onClick={() => setDrawerOpen(true)}\n        className={classes.menuButton}\n        disableRipple={true}\n      >\n        <div className=\"icon\">\n          <IconShare className=\"hollow\" />\n          <span className=\"tooltiptext\">\n            {t(\"getter_fe.post.button.share\")}\n          </span>\n        </div>\n      </Button>\n      <GMobileDrawer\n        open={drawerOpen}\n        toggleDrawer={(open) => () => setDrawerOpen(open)}\n        disableSwipeToOpen\n      >\n        <div style={{padding: \"0 12px\"}}>{menuItems}</div>\n      </GMobileDrawer>\n    </>\n  ) : (\n    <ClickAwayListener\n      onClickAway={(e) => {\n        e.stopPropagation();\n        setDropdownOpen(false);\n      }}\n    >\n      <Dropdown\n        active={dropdownOpen}\n        onClick={(e) => {\n          e.stopPropagation();\n          setDropdownOpen(!dropdownOpen);\n          document.body.click();\n        }}\n      >\n        <DropdownTrigger>\n          <div\n            aria-controls=\"simple-menu\"\n            aria-haspopup=\"true\"\n            className={classnames(classes.menuButton, skin)}\n            ref={dropdownRef}\n          >\n            <div className=\"icon regular-hover\">\n              <IconShare className=\"hollow\" />\n              <span className={`tooltiptext ${tooltip}`}>\n                {t(\"getter_fe.post.button.share\")}\n              </span>\n            </div>\n          </div>\n        </DropdownTrigger>\n        <DropdownContent\n          className={classnames(\n            classes.dropdownShare,\n            outOfScreen && classes.outOfScreen,\n          )}\n        >\n          {menuItems}\n        </DropdownContent>\n      </Dropdown>\n    </ClickAwayListener>\n  );\n};\n","import {useEffect, useState} from \"react\";\nimport {useDispatch, connect} from \"react-redux\";\nimport {useHistory} from \"react-router\";\nimport {CommentCommentComposer} from \"src/app/components/post/comps/CommentCommentComposer\";\nimport {CommentPostButton} from \"../post/CommentPostButton\";\nimport {LikeButton} from \"../post/LikeButton\";\nimport {ShareButton} from \"../post/ShareButton\";\nimport {RepostButton} from \"../post/RepostButton\";\nimport {\n  changeFollowingStatus,\n  changeMutedStatus,\n  changeBlockedStatus,\n  changeCommentStats,\n} from \"src/store/modules/status\";\nimport {addLikedPost, removeLikedPost} from \"src/app/components/timeline/store\";\nimport Global from \"src/system/Global\";\n\nconst connector = connect(\n  (state) => {\n    return {\n      commentStats: state.status.commentStats,\n      likedComments: state.userComments.commentFeed.likedComments,\n      sharedComments: state.userComments.commentFeed.sharedComments,\n    };\n  },\n  {\n    changeFollowingStatus,\n    changeMutedStatus,\n    changeBlockedStatus,\n    changeCommentStats,\n    addLikedPost,\n    removeLikedPost,\n  },\n);\n\nexport const CommentStatLine = connector(_CommentStatLine);\n\nfunction _CommentStatLine(props) {\n  const {\n    scene,\n    item,\n    xStats,\n    commentStats,\n    changeFollowingStatus,\n    changeMutedStatus,\n    changeBlockedStatus,\n    changeCommentStats,\n    addLikedPost,\n    removeLikedPost,\n    tooltip = \"top\",\n    skin = \"white\",\n  } = props;\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const api = Global.GetPortal().getAppService();\n\n  const posts = item._tp?.aux?.post;\n  let commentId;\n  if (!posts) {\n    commentId = item.getId();\n  } else {\n    commentId = item.getPostId();\n  }\n  const loggedIn = !!api.getUserId();\n  const detailLink = window.location.origin + api.getUrlCommentPage(commentId);\n\n  const changeStats = (val) => {\n    dispatch(changeCommentStats(val));\n  };\n\n  useEffect(() => {\n    const fetchLikeStatus = async () => {\n      try {\n        const res = await api.userLikeCommentStatus(commentId);\n        changeStats({\n          commentId,\n          stats: {\n            likeStatus: res,\n          },\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    const fetchRepostStatus = async () => {\n      try {\n        const res = await api.userShareCommentStatus(commentId);\n        if (res === null) {\n          // for some reason null is returned if the comment has been reposted\n          changeStats({commentId, stats: {repostStatus: \"y\"}});\n        } else {\n          changeStats({commentId, stats: {repostStatus: res}});\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    if (loggedIn) {\n      (async () => {\n        setLoading(true);\n        // await fetchLikeStatus();\n        // await fetchRepostStatus();\n        setLoading(false);\n      })();\n    }\n  }, []);\n\n  const {\n    num_likes: likes = 0,\n    num_comment: comments = 0,\n    num_reposts: reposts = 0,\n    likeStatus,\n    repostStatus,\n  } = commentStats[commentId] || {};\n\n  const commentButton = (\n    <span>\n      <CommentPostButton\n        count={comments}\n        loggedIn={loggedIn}\n        tooltip={tooltip}\n        skin={skin}\n      />\n    </span>\n  );\n\n  return scene === \"comment-composer\" ? null : (\n    <>\n      <div>\n        <CommentCommentComposer\n          history={history}\n          postId={commentId}\n          item={item}\n          isPopup={true}\n          usermap={null}\n          trigger={commentButton}\n          handleStats={() => {\n            xStats?.setCommentCount(comments + 1);\n            changeStats({\n              commentId,\n              stats: {\n                num_comment: comments + 1,\n              },\n            });\n          }}\n        />\n      </div>\n      <div>\n        <LikeButton\n          isComment\n          loading={loading}\n          loggedIn={loggedIn}\n          objId={commentId}\n          item={item}\n          count={likes}\n          setLikedCount={(newCount) => {\n            xStats?.setLikedCommentCount(newCount);\n            changeStats({\n              commentId,\n              stats: {\n                likeStatus: newCount > likes ? \"y\" : \"n\",\n                num_likes: newCount,\n              },\n            });\n          }}\n          updateCommentLikeStatus={(newValue) => {\n            newValue === \"y\"\n              ? addLikedPost(commentId)\n              : removeLikedPost(commentId);\n          }}\n          likeStatus={likeStatus}\n          tooltip={tooltip}\n          skin={skin}\n        />\n      </div>\n      <div>\n        <RepostButton\n          loggedIn={loggedIn}\n          loading={loading}\n          objId={commentId}\n          item={item}\n          repostStatus={repostStatus}\n          count={reposts}\n          setRepostCount={(newCount) => {\n            changeStats({commentId, stats: {num_reposts: newCount}});\n          }}\n          updateRepostStatus={(newValue) =>\n            changeStats({commentId, stats: {repostStatus: newValue}})\n          }\n          tooltip={tooltip}\n          skin={skin}\n        />\n      </div>\n      <div>\n        <ShareButton detailLink={detailLink} tooltip={tooltip} skin={skin} />\n      </div>\n    </>\n  );\n}\n","import React, {Fragment, useState, useEffect, useRef} from \"react\";\nimport {connect} from \"react-redux\";\nimport classnames from \"classnames\";\nimport {useHistory} from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport Dropdown, {\n  DropdownTrigger,\n  DropdownContent,\n} from \"react-simple-dropdown\";\nimport {\n  Collapse,\n  ClickAwayListener,\n  Tooltip,\n  useMediaQuery,\n  useTheme,\n} from \"@material-ui/core\";\nimport {Box} from \"@material-ui/core\";\nimport {ModelType} from \"src/core/model/ModelConsts\";\nimport {NewCommentContentView} from \"src/app/pages/post/NewCommentContentView\";\nimport AppConsts, {UIStyleConsts} from \"src/app/AppConsts\";\nimport {UserLabelLink} from \"src/app/components/UserLabelLink\";\nimport XUserInfo from \"src/core/model/user/XUserInfo\";\nimport {TimeUtil} from \"src/core/Util\";\nimport {getLang, t} from \"src/i18n/utils\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport {GMobileDrawer} from \"src/styles/components/GMobileDrawer\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport HoverPopup from \"src/app/components/HoverPopup\";\nimport {AvatarLink} from \"src/app/components/AvatarLink\";\nimport {ReportContentDialog} from \"src/app/components/ReportContentDialog\";\nimport {ReactComponent as MenuDropDownIcon} from \"src/assets/icons/icon_more_vertical.svg\";\nimport {ReactComponent as MuteIcon} from \"src/assets/icons/ico-mute.svg\";\nimport {ReactComponent as UnmuteIcon} from \"src/assets/icons/ico-unmute.svg\";\nimport {ReactComponent as BlockIcon} from \"src/assets/icons/ico-block.svg\";\nimport {ReactComponent as ReportIcon} from \"src/assets/icons/ico-report.svg\";\nimport {ReactComponent as FollowIcon} from \"src/assets/icons/ico-follow.svg\";\nimport {ReactComponent as UnfollowIcon} from \"src/assets/icons/ico-unfollow.svg\";\nimport {ReactComponent as DeleteIcon} from \"src/assets/icons/ico-delete.svg\";\nimport {ReactComponent as VerificationIcon} from \"src/assets/icons/ico-verification.svg\";\nimport {\n  changeCommentStats,\n  currentUserFollowsUser,\n  toggleFollowing,\n  currentUserMutesUser,\n  toggleMute,\n  currentUserBlockedUser,\n  toggleBlock,\n} from \"src/store/modules/status\";\nimport {CommentStatLine} from \"src/app/pages/dashboard/CommentStatLine\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport Global from \"src/system/Global\";\nimport {postConstants} from \"../_constants\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      position: \"relative\",\n      cursor: \"pointer\",\n      \"&.repost\": {\n        padding: \"0 15px 15px 0\",\n      },\n      \"&:hover .header-msg\": {\n        backgroundColor: theme.palette.background.dark,\n      },\n    },\n    repostSpacing: {\n      marginRight: theme.spacing(2),\n    },\n    content: {\n      width: \"100%\",\n      padding: \"15px 0px 0 15px\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      fontSize: \"15px\",\n      \"& > div > div\": {\n        maxWidth: \"100%\",\n      },\n    },\n    commentDetailContent: {},\n    mainContent: {\n      width: \"calc(100% - 66px)\",\n    },\n    commentDetail: {\n      width: \"100%\",\n    },\n    commentDetailAvatar: {\n      position: \"relative\",\n      // marginRight: \"15px\",\n\n      \"&::after\": {\n        content: \"' '\",\n        position: \"absolute\",\n        top: \"56px\",\n        left: \"27px\",\n        bottom: \"-30px\",\n        width: \"3px\",\n        backgroundColor: \"#d9d9d9\",\n        borderRadius: \"3px\",\n        transform: \"translate(-50%, 0)\",\n      },\n    },\n    avatar: {\n      width: \"50px\",\n      height: \"50px\",\n      borderRadius: \"100%\",\n      marginRight: \"10px\",\n      \"&.repost\": {\n        width: 25,\n        height: 25,\n      },\n      \"&.feed\": {\n        marginRight: theme.spacing(1.875),\n      },\n    },\n    header: {\n      fontSize: 14,\n      paddingRight: \"4px\",\n      \"& > div > div:first-child\": {\n        minWidth: \"66px\",\n      },\n      \"& > div > div:nth-child(3)\": {\n        minWidth: \"0px\",\n      },\n    },\n    headerDescription: {\n      fontSize: \"15px\",\n    },\n    description: {\n      paddingRight: \"15px\",\n\n      marginTop: 8,\n    },\n    verification: {\n      margin: \"0 8px 0\",\n    },\n    secondFont: {\n      color: \"#5C6872\",\n      width: \"100%\",\n      \"& a\": {\n        fontWeight: \"normal\",\n        \"&:hover\": {\n          textDecoration: \"underline\",\n        },\n      },\n    },\n    replyingContent: {\n      padding: \"15px 0 16px 0\",\n    },\n    dropdownImageWrapper: {\n      display: \"flex\",\n      width: 34,\n      height: 34,\n      marginTop: -6,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      textAlign: \"center\",\n      borderRadius: \"50%\",\n      \"&:hover\": {\n        backgroundColor: theme.palette.background.notif,\n        cursor: \"pointer\",\n\n        \"& svg\": {\n          fill: theme.palette.background.hover,\n        },\n      },\n    },\n    dropdownImage: {\n      fill: theme.palette.text.gray,\n      \"&:hover\": {\n        backgroundColor: theme.palette.background.notif,\n        cursor: \"pointer\",\n      },\n    },\n    dotmr: {\n      marginRight: theme.spacing(1.25),\n    },\n    dropdownContent: {\n      width: theme.mixins.dropdownMenu.width,\n      position: \"absolute\",\n      right: 10,\n      top: -5,\n      borderRadius: 6,\n\n      \"& .menu-item\": {\n        padding: theme.spacing(1),\n        borderRadius: 0,\n\n        \"&.danger\": {\n          border: \"1px solid white\",\n          color: theme.palette.error.secondary,\n          transition: \"all .3s ease-in-out\",\n          \"& svg\": {\n            stroke: theme.palette.error.main,\n          },\n          \"&:hover\": {\n            borderRadius: theme.spacing(0.5),\n            border: \"1px solid red\",\n            backgroundColor: theme.palette.background.red,\n          },\n        },\n\n        \"& .wrapper\": {\n          display: \"flex\",\n        },\n\n        \"& .icon\": {\n          marginRight: theme.spacing(1),\n        },\n\n        \"& .menu-item-name\": {\n          lineHeight: \"31px\",\n        },\n      },\n    },\n    statsLine: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      paddingRight: \"10px\",\n      paddingTop: \"6px\",\n    },\n    usernameLinkHover: {\n      display: \"inline\",\n    },\n    usernameLink: {\n      \"& a\": {\n        color: theme.palette.text.link,\n      },\n    },\n    statsCounts: {\n      fontSize: \"17px\",\n      color: theme.palette.text.gray,\n      paddingBottom: \"20px\",\n      margin: \"20px 0\",\n      borderBottom: `1px solid ${theme.palette.grey.A800}`,\n      display: \"flex\",\n    },\n    countItem: {\n      marginRight: \"16px\",\n    },\n    countLabel: {\n      fontWeight: \"700\",\n      color: theme.palette.text.primary,\n    },\n    message: {\n      wordBreak: \"break-word\",\n      cursor: \"pointer\",\n      \"& .text-content\": {\n        display: \"-webkit-box\",\n        \"-webkit-line-clamp\": 5,\n        \"-webkit-box-orient\": \"vertical\",\n        overflow: \"hidden\",\n      },\n      \"&.c-detail > div > .text-content\": {\n        fontSize: 23,\n        \"-webkit-line-clamp\": \"unset\",\n        overflow: \"unset\",\n      },\n      \"&.c-detail .main-image\": {\n        marginTop: 4,\n        marginBottom: 4,\n      },\n    },\n    postedTime: {\n      color: theme.palette.text.secondary,\n      fontSize: 15,\n      fontWeight: 400,\n      padding: \"16px 0 20px 0\",\n      borderBottom: `1px solid ${theme.palette.grey.A800}`,\n    },\n    commentDetailStatLine: {\n      display: \"flex\",\n      padding: \"6.5px 50px 6.5px 60px\",\n      borderBottom: `1px solid ${theme.palette.grey.A800}`,\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      [theme.breakpoints.only(\"xs\")]: {\n        paddingBottom: \"70px\",\n      },\n    },\n    icon: {\n      width: 16,\n      height: 16,\n      margin: theme.spacing(0, 0, 0, 0.5),\n      borderRadius: \"100%\",\n    },\n    hoverPopup: {\n      display: \"flex\",\n      flexShrink: 1,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      marginRight: \"3px\",\n    },\n    userDisplayName: {\n      width: \"100%\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n    },\n    influencer: {\n      display: \"flex\",\n      flexShrink: 0,\n      marginRight: \"3px\",\n      paddingTop: theme.spacing(0.25),\n    },\n    userAtNameShort: {\n      flexShrink: 99,\n      marginRight: \"3px\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      fontWeight: \"400\",\n      [theme.breakpoints.down(\"xs\")]: {\n        flexShrink: 99,\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        Display: \"block\",\n      },\n    },\n    userAtName: {\n      color: theme.palette.text.gray,\n      cursor: \"pointer\",\n      fontWeight: \"400\",\n    },\n    dot: {\n      color: theme.palette.text.gray,\n      display: \"flex\",\n      fontSize: 15,\n      flexShrink: 0,\n      marginLeft: 5,\n      marginRight: 5,\n    },\n    sinceTime: {\n      display: \"flex\",\n      flexShrink: 0,\n      color: theme.palette.text.gray,\n      fontWeight: 400,\n    },\n    unavailablePost: {\n      border: \"1px solid #E0E6EA\",\n      backgroundColor: \"#F3F5F8\",\n      borderRadius: 10,\n      width: \"auto\",\n      padding: theme.spacing(1.75),\n      color: theme.palette.text.gray,\n      lineHeight: \"15px\",\n      margin: theme.spacing(2.5),\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      authenticated: state.auth?.session?.authenticated,\n      loggedInUserId: state.auth.session?.userinfo?._id,\n      token: state.auth.session?.userinfo?.token,\n      userFollowing: state.status.following,\n      userMuted: state.status.muted,\n      userBlocked: state.status.blocked,\n      commentStats: state.status.commentStats,\n      likedComments: state.userComments.commentFeed?.likedComments,\n      sharedComments: state.userComments.commentFeed?.sharedComments,\n    };\n  },\n  {\n    changeCommentStats,\n    currentUserFollowsUser,\n    currentUserMutesUser,\n    currentUserBlockedUser,\n    toggleFollowing,\n    toggleMute,\n    toggleBlock,\n  },\n);\n\nexport const CommentFeedItem = connector(_CommentFeedItem);\n\nfunction _CommentFeedItem(props) {\n  const {\n    changeCommentStats,\n    currentUserFollowsUser,\n    currentUserMutesUser,\n    currentUserBlockedUser,\n    comment: xComment,\n    usermap,\n    authenticated,\n    userFollowing,\n    userMuted,\n    userBlocked,\n    commentStats,\n    type,\n    showMenuDropDown,\n    scene,\n    loggedInUserId,\n    deleteComment,\n    ousername,\n    toggleFollowing,\n    toggleMute,\n    toggleBlock,\n  } = props;\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const [isDeleted, setIsDeleted] = useState(false);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const [canShowFollowing, setCanShowFollowing] = useState(false);\n  const [canShowMuted, setCanShowMuted] = useState(false);\n  const [canShowBlocked, setCanShowBlocked] = useState(false);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [dropdownTop, setDropdownTop] = useState(-5);\n  const history = useHistory();\n\n  const ddRef = useRef(null);\n\n  const portal = Global.GetPortal();\n  const api = portal.getAppService();\n\n  const posts = xComment._tp?.aux?.post;\n  const isNotProfilePage = !posts;\n  const xStats = xComment.getAuxDataXField(ModelType.COMMENT_STATS);\n\n  let commentId;\n  if (isNotProfilePage) {\n    commentId = xComment.getId();\n  } else {\n    commentId = xComment.getPostId();\n  }\n\n  let userInfoMap = usermap;\n  if (userInfoMap == null)\n    userInfoMap = xComment.getAuxDataField(ModelType.USER_INFO);\n  if (!userInfoMap) {\n    userInfoMap = xComment.getTParent()?.getXUserInfoMap();\n  }\n\n  const posterId = xComment.getCommentPosterId\n    ? xComment.getCommentPosterId()\n    : xComment.getPosterId();\n\n  const isFollowing = userFollowing[posterId];\n  const isMuted = userMuted[posterId];\n  const isBlocked = userBlocked[posterId];\n\n  let originPosterId;\n  if (isNotProfilePage) {\n    originPosterId = xComment.data.puid;\n  } else {\n    originPosterId = xComment.getOriginalPosterId();\n    if (!originPosterId) originPosterId = xComment?.data?.activity?.uid;\n  }\n\n  let posterInfo = userInfoMap ? userInfoMap[posterId] : null;\n  if (posterInfo) {\n    posterInfo = XUserInfo.WrapXObject(posterInfo, XUserInfo);\n  }\n\n  let originPosterInfo = userInfoMap ? userInfoMap[originPosterId] : null;\n  if (originPosterInfo) {\n    originPosterInfo = XUserInfo.WrapXObject(originPosterInfo, XUserInfo);\n  }\n\n  const nickname = posterInfo?.getNickname() ?? posterId;\n  const username = posterInfo?.getUsername() ?? posterId;\n  const upperCaseId =\n    posterInfo?.getOriginalUsername() || ousername || posterId;\n\n  const postUsername =\n    AppConsts.CHAR_AROBASE +\n    (originPosterInfo?.getOriginalUsername\n      ? originPosterInfo?.getOriginalUsername()\n      : originPosterInfo?.getUsername()\n      ? originPosterInfo?.getUsername()\n      : originPosterId);\n\n  const avatarUrl = posterInfo?.getIconUrl(null) ?? null;\n  const sinceTime = TimeUtil.SinceTimeV5(\n    xComment.getCreatedTS(null),\n    Date.now(),\n    getLang(),\n    false,\n  );\n  const sinceTimeFormat = TimeUtil.SinceTimeV4(\n    xComment.getCreatedTS(null),\n    Date.now(),\n    false,\n  );\n  const postedTime = TimeUtil.Ts2hh_mm_MM_DD_YYYY(\n    xComment.getCreatedTS(null),\n    getLang(),\n  );\n  const isSuspended = posterInfo?.isSuspended();\n  const isMyPost = loggedInUserId === posterInfo?.getUserId();\n  const userHasModeratorRole = portal.userHasModeratorRole();\n\n  useEffect(() => {\n    if (/repost|comment-composer/.test(scene)) {\n      return;\n    }\n\n    let num_comment;\n    let num_likes;\n    let num_reposts;\n    let likeStatus;\n    let repostStatus;\n    if (/comment-detail|comment-comment-detail/.test(type)) {\n      num_comment = xComment.aux?.s_cmst?.cm;\n      num_likes = xComment.aux?.s_cmst?.lkbcm;\n      num_reposts = xComment.aux?.s_cmst?.shbcm;\n    } else if (!posts) {\n      num_comment = xComment._tp?.aux?.s_cmst[commentId]?.cm;\n      num_likes = xComment._tp?.aux?.s_cmst[commentId]?.lkbcm;\n      num_reposts = xComment._tp?.aux?.s_cmst[commentId]?.shbcm;\n    } else {\n      num_comment = xComment._tp?.aux?.s_pst[commentId]?.cm;\n      num_likes = xComment._tp?.aux?.s_pst[commentId]?.lkbcm;\n      num_reposts = xComment._tp?.aux?.s_pst[commentId]?.shbcm;\n    }\n\n    if (commentStats[commentId]?.likeStatus) {\n      likeStatus = commentStats[commentId].likeStatus;\n    } else {\n      likeStatus = xComment._tp?.aux?.lks.includes(commentId) ? \"y\" : \"n\";\n    }\n\n    if (commentStats[commentId]?.repostStatus) {\n      repostStatus = commentStats[commentId].repostStatus;\n    } else {\n      repostStatus = xComment._tp?.aux?.shrs.includes(commentId) ? \"y\" : \"n\";\n    }\n\n    num_comment = parseInt(num_comment);\n    num_likes = parseInt(num_likes);\n    num_reposts = parseInt(num_reposts);\n\n    if (num_reposts < 0 || num_reposts === undefined || isNaN(num_reposts)) {\n      num_reposts = 0;\n    }\n\n    if (num_comment < 0 || num_comment === undefined || isNaN(num_comment)) {\n      num_comment = 0;\n    }\n\n    if (num_likes < 0 || num_likes === undefined || isNaN(num_likes)) {\n      num_likes = 0;\n    }\n\n    changeCommentStats({\n      commentId,\n      stats: {\n        num_comment,\n        num_likes,\n        num_reposts,\n        likeStatus,\n        repostStatus,\n      },\n    });\n  }, []);\n\n  const onClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const selection = window.getSelection().toString();\n\n    if (selection.length > 0) {\n      return;\n    }\n\n    history.push(`/comment/${commentId}`);\n  };\n\n  const hideDropdown = () => {\n    if (ddRef.current) {\n      ddRef.current.hide();\n    }\n  };\n\n  const goToLoginPage = () => {\n    history.push(AppConsts.URL_LOGIN);\n  };\n\n  const handlePostCommentDelete = (e) => {\n    e.stopPropagation();\n    GConfirmAlert({\n      confirmType: postConstants.DELETEPOST,\n      title: t(\"getter_fe.post.tips.delete_comment_title\"),\n      text: t(\"getter_fe.post.tips.delete_comment_text\"),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: t(\"getter_fe.post.button.delete\"),\n        type: \"danger\",\n        callback: (close) => {\n          api.deletePostComment(commentId, (err, result) => {\n            if (err) {\n              console.log(err);\n              toast.info(\n                <NotifMessage message={\"ERROR CODE: \" + err.data.code} />,\n                {\n                  type: toast.TYPE.WARNING,\n                },\n              );\n              return;\n            }\n            if (result) {\n              toast.info(\n                <NotifMessage\n                  message={t(\"getter_fe.post.tips.deleted_comment_success\")}\n                />,\n                {\n                  type: toast.TYPE.SUCCESS,\n                },\n              );\n              setIsDeleted(true);\n              deleteComment && deleteComment(commentId);\n            }\n          });\n          close();\n          toggleDrawer(false)();\n        },\n      },\n    });\n  };\n\n  const handleMute = (e) => {\n    if (!authenticated) {\n      goToLoginPage();\n      return;\n    }\n    e.stopPropagation();\n    hideDropdown();\n    let title;\n    if (isMuted) {\n      title = t(\"getter_fe.profile.common.unmuteUsername\", {\n        username: upperCaseId || posterId,\n      });\n    } else {\n      title = t(\"getter_fe.profile.common.muteUsername\", {\n        username: upperCaseId || posterId,\n      });\n    }\n    GConfirmAlert({\n      title,\n      text: isMuted\n        ? \" \"\n        : t(\"getter_fe.post.tips.mute_getter_tips\", {\n            username: upperCaseId || posterId,\n          }),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: isMuted\n          ? t(\"getter_fe.profile.common.unmute\")\n          : t(\"getter_fe.profile.common.mute\"),\n        type: \"danger\",\n        callback: (close) => {\n          toggleMute({\n            api,\n            targetId: posterId,\n            successCallback: (isMuted) => {\n              if (isMuted) {\n                toast.info(\n                  <NotifMessage\n                    message={t(\"getter_fe.post.tips.unmute_success\", {\n                      username: username || posterId,\n                    })}\n                  />,\n                  {\n                    type: toast.TYPE.SUCCESS,\n                  },\n                );\n              } else {\n                toast.info(\n                  <NotifMessage\n                    message={t(\"getter_fe.post.tips.mute_success\", {\n                      username: username || posterId,\n                    })}\n                  />,\n                  {\n                    type: toast.TYPE.SUCCESS,\n                  },\n                );\n              }\n              close();\n            },\n            errorCallback: () => {\n              toast(\n                <NotifMessage\n                  message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n                />,\n                {\n                  position: toast.POSITION.TOP_CENTER,\n                  type: toast.TYPE.ERROR,\n                },\n              );\n              close();\n            },\n          });\n          toggleDrawer(false)();\n        },\n      },\n    });\n  };\n\n  const handleFollowing = (e) => {\n    if (!authenticated) {\n      goToLoginPage();\n      return;\n    }\n    e.stopPropagation();\n    hideDropdown();\n    const successCallback = (isFollowing) => {\n      if (isFollowing) {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.unfollow_success\", {\n              username: username || posterId,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      } else {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.follow_success\", {\n              username: username || posterId,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      }\n    };\n\n    const errorCallback = () =>\n      toast(\n        <NotifMessage\n          message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n        />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: toast.TYPE.ERROR,\n        },\n      );\n    if (isFollowing) {\n      GConfirmAlert({\n        title: t(\"getter_fe.profile.common.unfollowUsername\", {\n          username: upperCaseId || posterId,\n        }),\n        text: t(\"getter_fe.post.tips.unfollow_tips\", {\n          username: upperCaseId || posterId,\n        }),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n        },\n        confirm: {\n          text: t(\"getter_fe.post.button.confirm\"),\n          type: \"danger\",\n          callback: (close) => {\n            toggleFollowing({\n              api,\n              targetId: posterId,\n              successCallback: (isFollowing) => {\n                successCallback(isFollowing);\n                close();\n              },\n              errorCallback: () => {\n                errorCallback();\n                close();\n              },\n            });\n            toggleDrawer(false)();\n          },\n        },\n      });\n    } else {\n      toggleFollowing({\n        api,\n        targetId: posterId,\n        successCallback,\n        errorCallback,\n      });\n    }\n  };\n\n  const handleBlock = (e) => {\n    if (!authenticated) {\n      goToLoginPage();\n      return;\n    }\n    e.stopPropagation();\n    hideDropdown();\n    let title;\n    if (isBlocked) {\n      title = t(\"getter_fe.profile.common.unblockUsername\", {\n        username: upperCaseId || posterId,\n      });\n    } else {\n      title = t(\"getter_fe.profile.common.blockUsername\", {\n        username: upperCaseId || posterId,\n      });\n    }\n    GConfirmAlert({\n      title,\n      text: isBlocked\n        ? \" \"\n        : t(\"getter_fe.post.tips.block_getter_tips\", {\n            username: upperCaseId || posterId,\n          }),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: isBlocked\n          ? t(\"getter_fe.profile.common.unblock\")\n          : t(\"getter_fe.profile.common.block\"),\n        type: \"danger\",\n        callback: (close) => {\n          toggleBlock({\n            api,\n            targetId: posterId,\n            successCallback: (isBlocked) => {\n              if (isBlocked) {\n                toast.info(\n                  <NotifMessage\n                    message={t(\"getter_fe.post.tips.unblock_success\", {\n                      username: username || posterId,\n                    })}\n                  />,\n                  {\n                    type: toast.TYPE.SUCCESS,\n                  },\n                );\n              } else {\n                toast.info(\n                  <NotifMessage\n                    message={t(\"getter_fe.post.tips.block_success\", {\n                      username: username || posterId,\n                    })}\n                  />,\n                  {\n                    type: toast.TYPE.SUCCESS,\n                  },\n                );\n              }\n              close();\n            },\n            errorCallback: () => {\n              toast(\n                <NotifMessage\n                  message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n                />,\n                {\n                  position: toast.POSITION.TOP_CENTER,\n                  type: toast.TYPE.ERROR,\n                },\n              );\n              close();\n            },\n          });\n          toggleDrawer(false)();\n        },\n      },\n    });\n  };\n\n  const onShowDrawerOrMenu = async () => {\n    const userId = loggedInUserId;\n    const targetId = posterInfo.getUserId();\n\n    if (userFollowing[targetId] === undefined) {\n      await currentUserFollowsUser({userId, targetId});\n    }\n    if (userMuted[targetId] === undefined) {\n      await currentUserMutesUser({userId, targetId});\n    }\n    if (userBlocked[targetId] === undefined) {\n      await currentUserBlockedUser({userId, targetId});\n    }\n\n    setCanShowMuted(true);\n    setCanShowFollowing(true);\n    setCanShowBlocked(true);\n  };\n\n  const toggleDrawer = (open) => async () => {\n    setIsDrawerOpen(open);\n\n    if (open) {\n      onShowDrawerOrMenu();\n    }\n  };\n\n  let menuDropDown = null;\n  if (scene !== \"repost\") {\n    let menuItems;\n\n    if (posterInfo && !isMyPost) {\n      menuItems = (\n        <Fragment>\n          {canShowFollowing &&\n            (isFollowing ? (\n              <div\n                className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n                onClick={handleFollowing}\n              >\n                <div className=\"wrapper\">\n                  <div className=\"icon\">\n                    <UnfollowIcon />\n                  </div>\n                  <div className=\"menu-item-name\">\n                    {t(\"getter_fe.profile.common.unfollowUsername\", {\n                      username,\n                    })}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div\n                className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n                onClick={handleFollowing}\n              >\n                <div className=\"wrapper\">\n                  <div className=\"icon\">\n                    <FollowIcon />\n                  </div>\n                  <div className=\"menu-item-name\">\n                    {t(\"getter_fe.profile.common.followUsername\", {\n                      username,\n                    })}\n                  </div>\n                </div>\n              </div>\n            ))}\n\n          {canShowMuted &&\n            (isMuted ? (\n              <div\n                className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n                onClick={handleMute}\n              >\n                <div className=\"wrapper\">\n                  <div className=\"icon\">\n                    <UnmuteIcon />\n                  </div>\n                  <div className=\"menu-item-name\">\n                    {t(\"getter_fe.profile.common.unmuteUsername\", {\n                      username,\n                    })}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div\n                className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n                onClick={handleMute}\n              >\n                <div className=\"wrapper\">\n                  <div className=\"icon\">\n                    <MuteIcon />\n                  </div>\n                  <div className=\"menu-item-name\">\n                    {t(\"getter_fe.profile.common.muteUsername\", {\n                      username,\n                    })}\n                  </div>\n                </div>\n              </div>\n            ))}\n          {canShowBlocked &&\n            (isBlocked ? (\n              <div\n                className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n                onClick={handleBlock}\n              >\n                <div className=\"wrapper\">\n                  <div className=\"icon\">\n                    <BlockIcon />\n                  </div>\n                  <div className=\"menu-item-name\">\n                    {t(\"getter_fe.profile.common.unblockUsername\", {\n                      username,\n                    })}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div\n                className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n                onClick={handleBlock}\n              >\n                <div className=\"wrapper\">\n                  <div className=\"icon\">\n                    <BlockIcon />\n                  </div>\n                  <div className=\"menu-item-name\">\n                    {t(\"getter_fe.profile.common.blockUsername\", {\n                      username,\n                    })}\n                  </div>\n                </div>\n              </div>\n            ))}\n          <div\n            className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n            onClick={(e) => {\n              e.stopPropagation();\n              if (!authenticated) {\n                goToLoginPage();\n              } else {\n                setIsDialogOpen(true);\n                hideDropdown();\n              }\n            }}\n          >\n            <div className=\"wrapper\">\n              <div className=\"icon\">\n                <ReportIcon />\n              </div>\n              <div className=\"menu-item-name\">\n                {t(\"getter_fe.profile.common.reportPost\")}\n              </div>\n            </div>\n          </div>\n          {userHasModeratorRole ? (\n            <div\n              className={classnames(UIStyleConsts.DROPDOWN_MENU_ITEM, \"danger\")}\n              onClick={handlePostCommentDelete}\n            >\n              <div className=\"wrapper\">\n                <div className=\"icon\">\n                  <DeleteIcon />\n                </div>\n                <div className=\"menu-item-name\">\n                  {t(\"getter_fe.profile.common.removeComment\")}\n                </div>\n              </div>\n            </div>\n          ) : null}\n        </Fragment>\n      );\n    } else {\n      menuItems = (\n        <div\n          className={classnames(UIStyleConsts.DROPDOWN_MENU_ITEM, \"danger\")}\n          onClick={handlePostCommentDelete}\n        >\n          <div className=\"wrapper\">\n            <div className=\"icon\">\n              <DeleteIcon />\n            </div>\n            <div className=\"menu-item-name\">\n              {t(\"getter_fe.profile.common.removeComment\")}\n            </div>\n          </div>\n        </div>\n      );\n    }\n    menuDropDown = isMobile ? (\n      <Fragment>\n        <MenuDropDownIcon\n          className={classes.dropdownImage}\n          onClick={(e) => {\n            e.stopPropagation();\n            toggleDrawer(true)();\n          }}\n        />\n        <GMobileDrawer open={isDrawerOpen} toggleDrawer={toggleDrawer}>\n          {menuItems}\n        </GMobileDrawer>\n      </Fragment>\n    ) : (\n      <ClickAwayListener\n        onClickAway={(e) => {\n          e.stopPropagation();\n          setIsDropdownOpen(false);\n        }}\n      >\n        <Dropdown\n          active={isDropdownOpen}\n          removeElement={true}\n          onClick={(e) => {\n            e.stopPropagation();\n            setIsDropdownOpen(!isDropdownOpen);\n            document.body.click();\n            const DEFAULT_TOP = -5;\n            const countedTop =\n              window.innerHeight -\n              e.target.getBoundingClientRect().y -\n              (menuItems.props.children.length || 1) * 52 -\n              10;\n            setDropdownTop(Math.min(DEFAULT_TOP, countedTop));\n          }}\n          ref={ddRef}\n          onShow={onShowDrawerOrMenu}\n        >\n          <DropdownTrigger onClick={() => {}}>\n            <div\n              className={classnames(\n                classes.dropdownImageWrapper,\n                scene === \"comment-detail\" ? classes.dotmr : \"\",\n              )}\n            >\n              <Tooltip\n                title={t(\"getter_fe.post.button.hoverMore\")}\n                aria-label={t(\"getter_fe.post.button.hoverMore\")}\n              >\n                <MenuDropDownIcon className={classes.dropdownImage} />\n              </Tooltip>\n            </div>\n          </DropdownTrigger>\n          <DropdownContent\n            className={classes.dropdownContent}\n            style={{top: `${dropdownTop}px`}}\n          >\n            {menuItems}\n          </DropdownContent>\n        </Dropdown>\n      </ClickAwayListener>\n    );\n  }\n\n  return (\n    <Collapse in={!isDeleted}>\n      <div className={`post-feed-item ${scene}`} key={commentId}>\n        <div className={`${classes.root} ${scene}`} onClick={onClick}>\n          <div\n            className={classnames(\n              classes.content,\n              type === \"comment-detail\" && classes.commentDetailContent,\n            )}\n          >\n            {type === \"comment-detail\" ? null : (\n              <div\n                className={\n                  type === \"comment-comment-detail\" &&\n                  !(showMenuDropDown === \"no\")\n                    ? classes.commentDetailAvatar\n                    : \"\"\n                }\n              >\n                {scene === \"repost\" ? (\n                  <AvatarLink\n                    avatarUrl={avatarUrl}\n                    styleClasses={`${classes.avatar} ${scene}`}\n                    userId={posterId}\n                    username={nickname}\n                  />\n                ) : (\n                  <HoverPopup userId={posterId} userInfoTemp={posterInfo}>\n                    <div key=\"popup-handler \">\n                      <AvatarLink\n                        avatarUrl={avatarUrl}\n                        styleClasses={`${classes.avatar} ${scene}`}\n                        userId={posterId}\n                        username={nickname}\n                      />\n                    </div>\n                  </HoverPopup>\n                )}\n              </div>\n            )}\n            <Box\n              className={\n                type === \"comment-detail\"\n                  ? classes.commentDetail\n                  : classes.mainContent\n              }\n            >\n              <Box\n                display=\"flex\"\n                flexDirection=\"row\"\n                justifyContent=\"space-between\"\n                className={classes.header}\n              >\n                <Box\n                  width=\"80%\"\n                  display=\"flex\"\n                  flexGrow={1}\n                  flexDirection={type === \"comment-detail\" ? \"row\" : \"column\"}\n                  alignItems={type === \"comment-detail\" ? \"center\" : \"\"}\n                  className={classes.headerDescription}\n                >\n                  {type === \"comment-detail\" ? (\n                    <HoverPopup userId={posterId} userInfoTemp={posterInfo}>\n                      <div\n                        key=\"popup-handler\"\n                        className={classes.avatarContent}\n                      >\n                        <AvatarLink\n                          avatarUrl={avatarUrl}\n                          styleClasses={classes.avatar}\n                          userId={posterId}\n                          username={nickname}\n                        />\n                      </div>\n                    </HoverPopup>\n                  ) : null}\n                  <Box display=\"flex\" flexDirection=\"row\" flex=\"1\">\n                    <Box\n                      display={type === \"comment-detail\" ? \"block\" : \"flex\"}\n                      width=\"80%\"\n                      flexGrow={1}\n                      flexDirection=\"row\"\n                      alignItems=\"center\"\n                      mr={1}\n                    >\n                      <HoverPopup\n                        userId={posterId}\n                        userInfoTemp={posterInfo}\n                        leftAligned={true}\n                      >\n                        <div\n                          key=\"popup-handler\"\n                          name=\"handler\"\n                          className={classes.hoverPopup}\n                        >\n                          <div className={classes.userDisplayName}>\n                            <UserLabelLink\n                              userId={posterId}\n                              nickname={nickname}\n                            />\n                          </div>\n                          {posterInfo?.isInfluencer &&\n                            posterInfo?.isInfluencer() > 0 && (\n                              <div className={classes.influencer}>\n                                <VerificationIcon className={classes.icon} />\n                              </div>\n                            )}\n                        </div>\n                      </HoverPopup>\n                      <Box display=\"flex\" alignItems=\"center\" flexShrink=\"0\">\n                        {scene === \"repost\" ? null : (\n                          <div\n                            className={\n                              sinceTimeFormat\n                                ? classes.userAtNameShort\n                                : classes.userAtName\n                            }\n                          >\n                            {AppConsts.CHAR_AROBASE}\n                            {upperCaseId || username}\n                          </div>\n                        )}\n\n                        <div className={classes.dot}></div>\n                        <div className={classes.sinceTime}>{sinceTime}</div>\n                      </Box>\n                    </Box>\n                  </Box>\n                  {type === \"comment-detail\" ||\n                  scene === \"comment-detail\" ||\n                  scene === \"repost\" ||\n                  showMenuDropDown === \"no\" ? null : (\n                    <Box mt={1}>\n                      <span className={classes.secondFont}>\n                        {t(\"getter_fe.post.text.reply_to\")}{\" \"}\n                        <HoverPopup\n                          userId={originPosterId}\n                          userInfoTemp={posterInfo}\n                          extraClass={classes.usernameLinkHover}\n                        >\n                          <span className={classes.usernameLink}>\n                            <UserLabelLink\n                              userId={originPosterId}\n                              nickname={postUsername}\n                            />\n                          </span>\n                        </HoverPopup>\n                      </span>\n                    </Box>\n                  )}\n                </Box>\n                {!(showMenuDropDown === \"no\") && menuDropDown}\n              </Box>\n              {type === \"comment-detail\" ? (\n                <div\n                  className={`${classes.secondFont} ${classes.replyingContent}`}\n                >\n                  {t(\"getter_fe.post.text.reply_to\")}{\" \"}\n                  <HoverPopup\n                    userId={originPosterId}\n                    userInfoTemp={posterInfo}\n                    extraClass={classes.usernameLinkHover}\n                  >\n                    <span className={classes.usernameLink}>\n                      <UserLabelLink\n                        userId={originPosterId}\n                        nickname={postUsername}\n                      />\n                    </span>\n                  </HoverPopup>\n                </div>\n              ) : null}\n              {isSuspended ? (\n                <div className=\"unavailable-post-container\" key={commentId}>\n                  <div className={classes.unavailablePost}>\n                    {t(\"getter_fe.post.tips.unavailable_comment\")}\n                  </div>\n                </div>\n              ) : (\n                <div\n                  className={classes.description}\n                  style={{marginTop: type === \"comment-detail\" ? 0 : 8}}\n                >\n                  <div\n                    className={clsx(\n                      classes.message,\n                      type === \"comment-detail\" ? \"c-detail\" : null,\n                    )}\n                  >\n                    <NewCommentContentView\n                      objId={commentId}\n                      obj={xComment}\n                      pageType={type}\n                      {...props}\n                    />\n                  </div>\n                  {type === \"comment-detail\" ||\n                  (scene !== \"comment\" && scene !== \"repost\") ? (\n                    <>\n                      {type === \"comment-detail\" ? (\n                        <div className={classes.postedTime}>{postedTime}</div>\n                      ) : null}\n                      <div\n                        className={\n                          type === \"comment-detail\"\n                            ? classes.commentDetailStatLine\n                            : classes.statsLine\n                        }\n                        onClick={(e) => {\n                          e.preventDefault();\n                          e.stopPropagation();\n                        }}\n                      >\n                        <CommentStatLine\n                          item={xComment}\n                          classes={classes}\n                          type={type}\n                          scene={scene}\n                          xStats={xStats}\n                          skin=\"none\"\n                        />\n                      </div>\n                    </>\n                  ) : null}\n                </div>\n              )}\n            </Box>\n          </div>\n        </div>\n        <ReportContentDialog\n          isOpen={isDialogOpen}\n          handleClose={() => {\n            setIsDialogOpen(false);\n          }}\n          handleSubmit={(reasonId) => {\n            const postId = xComment.getPostId();\n\n            api.reportPost(postId, reasonId, () => {\n              toast.info(\n                <NotifMessage\n                  message={t(\n                    \"getter_fe.common.reportContent.reportSuccessMessage\",\n                  )}\n                />,\n                {\n                  type: toast.TYPE.SUCCESS,\n                },\n              );\n            });\n          }}\n        />\n      </div>\n    </Collapse>\n  );\n}\n","import React, {useState, useEffect} from \"react\";\nimport {connect} from \"react-redux\";\nimport {postConstants} from \"../_constants\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport Util from \"src/core/Util\";\nimport {toast} from \"react-toastify\";\nimport {Link} from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport Global from \"src/system/Global\";\nimport GMentionsInput from \"src/styles/components/GMentionsInput\";\nimport {GDisplayFiles} from \"src/styles/components/GDisplayFiles\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport {PostToolsGroup} from \"src/app/pages/post/PostToolsGroup\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {PreviewContent} from \"src/app/components/PreviewContent\";\nimport {AvatarLink} from \"src/app/components/AvatarLink\";\nimport {repostSubmit} from \"../store\";\nimport XObject from \"src/core/model/XObject\";\nimport {PopupDialogNew} from \"src/app/components/PopupDialogNew\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport {PostFeedItem} from \"src/app/components/post/comps/PostFeedItem\";\nimport {t} from \"src/i18n/utils\";\nimport XMPost from \"src/core/model/post/XMPost\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {scrollHelper} from \"src/util/scrollUtils\";\nimport {breakpoints} from \"src/util/BrowserUtils\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport {addPost} from \"../../timeline/store\";\nimport {CommentFeedItem} from \"src/app/components/post/comps/CommentFeedItem\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      padding: 0,\n      textAlign: \"left\",\n      \"&.comment-wrapper\": {\n        \"& .post-composer\": {\n          border: \"none\",\n          width: \"100%\",\n          display: \"flex\",\n          paddingLeft: 0,\n          paddingRight: 0,\n          paddingTop: theme.spacing(1.875),\n          paddingBottom: theme.spacing(2.25),\n          position: \"relative\",\n        },\n        \"& > .comment-reposted-post\": {\n          overflow: \"hidden\",\n          position: \"relative\",\n          border: `${theme.notchedOutline.border}`,\n          borderRadius: 10,\n          marginLeft: theme.spacing(8.625),\n          marginTop: theme.spacing(0.625),\n        },\n        \"& .post-avatar\": {\n          borderRadius: \"50%\",\n          overflow: \"hidden\",\n          width: theme.spacing(7),\n          height: theme.spacing(7),\n          position: \"absolute\",\n          left: 0,\n          \"& .avatar\": {\n            width: \"100%\",\n            height: \"100%\",\n          },\n        },\n        \"& .post-box\": {\n          flexGrow: 1,\n          paddingTop: theme.spacing(1.875),\n          paddingLeft: theme.spacing(8.625),\n          width: \"100%\",\n          minHeight: \"auto\",\n          \"& form\": {\n            display: \"flex\",\n            flexDirection: \"column\",\n          },\n          \"& textarea\": {\n            width: \"100%\",\n            border: 0,\n            resize: \"none\",\n            backgroundColor: \"transparent\",\n            margin: theme.spacing(0, 1.25),\n            padding: 0,\n            fontSize: 19,\n            \"&:focus\": {\n              outline: \"none\",\n            },\n          },\n        },\n        \"& .action-bar\": {\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          marginTop: theme.spacing(0.625),\n          marginLeft: theme.spacing(8.625),\n          padding: theme.spacing(1.875, 0),\n          [theme.breakpoints.down(\"xs\")]: {\n            marginTop: theme.spacing(2.5),\n          },\n          \"& .action-buttons\": {\n            marginTop: 0,\n            marginLeft: theme.spacing(1.25),\n            \"& button\": {\n              height: 39,\n              minWidth: 77,\n              borderRadius: 100,\n            },\n          },\n          \"& .text-length-limit\": {\n            textAlign: \"right\",\n            width: theme.spacing(10),\n            marginLeft: \"auto\",\n            color: theme.palette.text.gray,\n            \"&.is-exceed\": {\n              color: theme.palette.error.light,\n            },\n          },\n        },\n      },\n    },\n    repostHasFiles: {\n      \"&.post-composer\": {\n        paddingBottom: \"0 !important\",\n      },\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      userInfo: state.auth.session?.userinfo,\n    };\n  },\n  {repostSubmit, addPost},\n);\n\nexport const RepostComposer = connector(_RepostComposer);\nfunction _RepostComposer({\n  item,\n  shst,\n  userInfo,\n  postId,\n  isPopup,\n  history,\n  trigger,\n  repostSubmit,\n  propOnSubmit,\n  addPost,\n  hideDropdown,\n  closeRepostMenu,\n  alreadyReposted,\n  open,\n}) {\n  const [text, setText] = useState(\"\");\n  const [gifFile, setGifFile] = useState(null);\n  const [metaData, setMetaData] = useState(null);\n  const [acceptType, setAcceptType] = useState(\"\");\n  const [allFiles, setAllFiles] = useState([]);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [progress, setProgress] = useState(-1);\n  const [metaDataLoading, setMetaDataLoading] = useState(false);\n  const [textareaMaxHeight, setTextareaMaxHeight] = useState(500);\n  const [closeComposer, setCloseComposer] = useState(false);\n\n  const fn = () => () => {};\n  const [removeFileFunc, setRemoveFileFunc] = useState(fn);\n  const [insertEmojiFunc, setInsertEmojiFunc] = useState(fn);\n  const [fetchMetadataFunc, setFetchMetadataFunc] = useState(fn);\n  const [uploadFilesFunc, setUploadFilesFunc] = useState(fn);\n\n  const [popupDialogOpen, setPopupDialogOpen] = useState(false);\n  const [isWaiting, setIsWaiting] = useState(false);\n\n  const [closeFunc, setCloseFunc] = useState(null);\n\n  const classes = useStyles();\n\n  const textLengthLimit = postConstants.COMPOSER_MAX_TEXT_LENGTH;\n\n  const sharedPost = item.getSharedPost();\n\n  const resetAll = () => {\n    setText(\"\");\n    setAllFiles([]);\n    removeFileFunc && removeFileFunc(\"all\", acceptType);\n    setMetaData(null);\n    setGifFile(null);\n    setAcceptType(\"\");\n  };\n\n  const onCancel = () => {\n    if (typeof closeFunc !== \"function\") {\n      return;\n    }\n\n    if (isEmpty()) {\n      resetAll();\n      closeRepostMenu();\n      setPopupDialogOpen(false);\n      closeFunc();\n    } else {\n      GConfirmAlert({\n        title: t(\"getter_fe.post.tips.discard_getter\"),\n        text: t(\"getter_fe.post.tips.can_not_be_undone\"),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n          callback: (close) => {\n            setPopupDialogOpen(true);\n            close();\n          },\n        },\n        confirm: {\n          text: t(\"getter_fe.post.button.discard\"),\n          type: \"danger\",\n          callback: (close) => {\n            resetAll();\n            setTimeout(() => {\n              setPopupDialogOpen(false);\n              closeRepostMenu();\n              closeFunc();\n              close();\n            }, 64);\n            scrollHelper.unlock();\n          },\n        },\n      });\n    }\n  };\n\n  const handleSubmitError = (next, tips) => {\n    GConfirmAlert({\n      title: t(\"getter_fe.post.tips.getter_failed_to_post\"),\n      text: tips || t(\"getter_fe.post.tips.please_try_again\"),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: t(\"getter_fe.post.tips.try_again\"),\n        type: \"confirm\",\n        callback: (close) => {\n          next();\n          close();\n        },\n      },\n    });\n  };\n\n  const getRepostId = (xPostItem) => {\n    let repostId = xPostItem.getTargetId();\n    return xPostItem.aux.post[repostId].rpstIds[0];\n  };\n  const getSrcPostId = () => {};\n\n  const handleSubmit = async (filesUploaded) => {\n    /**\n     * TODO: Code below will be used when the timeline uses redux\n     */\n\n    // let data = {\n    //   txt: text,\n    //   udate: Date.now(),\n    //   cdate: Date.now(),\n    //   uid: userInfo ? userInfo._id : \"\",\n    //   rpstIds: [postId],\n    // };\n\n    // if (filesUploaded && acceptType === postConstants.FILE_TYPE_IMAGE) {\n    //   let imgUrls = [];\n\n    //   for (let i = 0; i < filesUploaded.length; i++) {\n    //     const imgUrl = filesUploaded[i].ori;\n\n    //     imgUrls.push(imgUrl);\n    //   }\n\n    //   data = {...data, imgs: imgUrls};\n    // }\n\n    // if (filesUploaded && acceptType === postConstants.FILE_TYPE_VIDEO) {\n    //   data = {\n    //     ...data,\n    //     vid: filesUploaded[0].m3u8,\n    //     ovid: filesUploaded[0].ori,\n    //     main: filesUploaded[0].screen,\n    //     vid_dur: filesUploaded[0].duration,\n    //     vid_wid: filesUploaded[0].width,\n    //     vid_hgt: filesUploaded[0].height,\n    //   };\n    // }\n\n    // await repostSubmit(data);\n\n    let postProcess = (err, result) => {\n      setIsLoading(false);\n      setProgress(-1);\n\n      closeRepostMenu && closeRepostMenu();\n\n      if (err) {\n        if (err.data.emsg?.includes(\"limit\")) {\n          toast.info(\n            <NotifMessage message={t(\"getter_fe.post.errors.maxLimit\")} />,\n            {\n              type: toast.TYPE.ERROR,\n            },\n          );\n        } else {\n          toast.info(\n            <NotifMessage message={t(\"getter_fe.post.errors.submitPost\")} />,\n            {\n              type: toast.TYPE.ERROR,\n            },\n          );\n        }\n        return;\n      }\n\n      // if (this.props[PROP_ON_SUBMIT] != null)\n      //   this.props[PROP_ON_SUBMIT](embeddedPostId, text);\n\n      closeFunc();\n      resetAll();\n\n      const _id = XObject.GetId(result);\n      toast.info(\n        <NotifMessage\n          message={\n            <div className=\"notifmesage-with-link\">\n              <span>\n                {_id\n                  ? t(\"getter_fe.post.tips.getter_was_send\")\n                  : t(\"getter_fe.post.tips.getter_was_repost\")}\n              </span>\n              {_id && (\n                <Link\n                  className={clsx(\"toastlink\", \"text-link\")}\n                  to={`/post/${_id}`}\n                >\n                  {t(\"getter_fe.post.button.read_it\")}\n                </Link>\n              )}\n            </div>\n          }\n        />,\n        {\n          type: toast.TYPE.SUCCESS,\n        },\n      );\n\n      if (canPost(true)) {\n        const xPostItem = result.createXPostItem();\n\n        addPost(xPostItem);\n\n        let repostId = getRepostId(xPostItem);\n        localStorage.setItem(postConstants.LS_REPOST_ID, repostId);\n      }\n    };\n\n    if (metaDataLoading) {\n      setIsWaiting(true);\n      return;\n    } // waiting metadata return result\n\n    resetAll();\n\n    let embeddedPostId = postId;\n    const appService = Global.GetPortal().getAppService();\n\n    if (canPost(true)) {\n      const {title, imageUrl, url, description} = metaData || {};\n\n      let newPostObj = XMPost.CreateFromOriginalInfo(embeddedPostId);\n      newPostObj.setText(text);\n      if (title || imageUrl) {\n        title && newPostObj.setPreviewTitle(title);\n        imageUrl && newPostObj.setPreviewImageURL(imageUrl);\n        url && newPostObj.setPreviewURL(url);\n        description && newPostObj.setPreviewDescription(description);\n      }\n      appService.submitRepost(newPostObj, filesUploaded, null, postProcess);\n    } else {\n      item?.classname === \"Comment\"\n        ? appService.userSharesComment(embeddedPostId, postProcess)\n        : appService.userSharesPost(embeddedPostId, text, postProcess);\n    }\n  };\n\n  const onSubmit = () => {\n    setIsLoading(true);\n\n    if (acceptType === \"\") {\n      let gifUrl = null;\n\n      if (gifFile) {\n        gifUrl = [{ori: gifFile?.images?.original?.url}];\n      }\n      handleSubmit(gifUrl);\n    } else {\n      setProgress(0);\n\n      uploadFilesFunc &&\n        uploadFilesFunc((realUrls, progress, error) => {\n          if (error) {\n            setIsLoading(false);\n            return;\n          }\n          setProgress(progress || 99);\n          if (realUrls && realUrls[0]?.ori) {\n            handleSubmit(realUrls);\n          } else if (realUrls && realUrls[0]) {\n            setIsLoading(false);\n            handleSubmitError(onSubmit, realUrls[0]);\n          }\n        });\n    }\n\n    propOnSubmit();\n  };\n\n  const onTextChange = (e) => {\n    let text = e.target.value;\n\n    setText(text);\n\n    setMetaDataLoading(true);\n\n    text &&\n      fetchMetadataFunc &&\n      fetchMetadataFunc(text, (error, result) => {\n        setMetaData(result);\n        setMetaDataLoading(false);\n      });\n  };\n\n  /**\n   * Answers the question whether there is enough input\n   * to allow user to post (enble post button)\n   *\n   * This overrides parent\n   *\n   * NOTE: User is ALLOWED to post without any text and images.\n   * It will be treated as a straight share. But if user\n   * has images but no text, then we assume user is reposting\n   * with content and they must enter some text.\n   *\n   * @return {boolean} true if can post\n   */\n  const canPost = (isQuoted) => {\n    let currentText = text || \"\";\n    let cleanedData = currentText.trim();\n    const minLength = isQuoted ? 1 : 0;\n    return allFiles.length ||\n      gifFile ||\n      (cleanedData.length >= minLength && cleanedData.length <= textLengthLimit)\n      ? true\n      : false;\n  };\n\n  /**\n   * Check if there is no text input\n   *\n   * @return {boolean}\n   */\n  const isEmpty = () => {\n    return Util.StringIsEmpty(text) === true;\n  };\n\n  /**\n   * Callback from FileUploader whenever file selection\n   * has changed. This is used when submitting\n   *\n   * @param {Files[]} files\n   */\n  const updateFilesSelected = (files, displayFiles, type) => {\n    setAllFiles(displayFiles);\n    setAcceptType(type);\n  };\n\n  const getActionButtons = () => {\n    let submitButton = (\n      <GButton\n        onClick={\n          alreadyReposted &&\n          text.trim().length <= 0 &&\n          !allFiles.length &&\n          !gifFile\n            ? () => {\n                setCloseComposer(true);\n                closeRepostMenu();\n              }\n            : onSubmit\n        }\n        disabled={\n          text.trim().length > textLengthLimit || !canPost() || isLoading\n        }\n      >\n        {t(\"getter_fe.post.button.repost\")}\n      </GButton>\n    );\n    let actionButtons = <div className=\"action-buttons\">{submitButton}</div>;\n\n    return actionButtons;\n  };\n\n  const getTextareaMaxHeight = () => {\n    let maxHeight;\n    /**\n     * TODO: remove setTimeout and move getTextareaMaxHeight to upper comp\n     */\n    setTimeout(() => {\n      const commentRepostedPost = window.document.getElementById(\n        \"commentRepostedPost\",\n      );\n      if (commentRepostedPost) {\n        maxHeight =\n          window.document.body.offsetHeight * 0.8 -\n          commentRepostedPost?.offsetHeight -\n          210;\n        setTextareaMaxHeight(Math.max(maxHeight, 120));\n      }\n    }, 700);\n  };\n\n  useEffect(() => {\n    if (isLoading && !metaDataLoading && isWaiting) {\n      handleSubmit();\n      setIsWaiting(false);\n    }\n  }, [isLoading, metaDataLoading, isWaiting]);\n\n  useEffect(() => {\n    setPopupDialogOpen(open);\n  }, [open]);\n\n  let commentBox = (\n    <GMentionsInput\n      value={text}\n      onChange={onTextChange}\n      placeholder={t(\"getter_fe.post.placeholder.comment_here\")}\n      style={{maxHeight: textareaMaxHeight}}\n      setupInsertEmoji={(insertEmoji) => {\n        setInsertEmojiFunc(() => {\n          return insertEmoji;\n        });\n      }}\n      id=\"textarea-repost\"\n    />\n  );\n\n  let avatarUrl = userInfo ? userInfo.ico : null;\n\n  let comp = (\n    <div className={`${classes.root} comment-wrapper`}>\n      {isLoading && <GLoader progress={progress} />}\n      <div\n        className={clsx(\n          \"post-composer\",\n          (allFiles.length || gifFile) && classes.repostHasFiles,\n        )}\n      >\n        <div className=\"post-avatar\">\n          <AvatarLink\n            avatarUrl={userInfo && avatarUrl}\n            styleClasses=\"avatar\"\n            userId={userInfo?._id}\n            username={userInfo?.nickname}\n          />\n        </div>\n        <div className=\"post-box\">\n          {commentBox}\n          <GDisplayFiles\n            files={allFiles}\n            type={acceptType}\n            onDelete={removeFileFunc}\n            gif={gifFile}\n            onGifDelete={() => setGifFile(null)}\n          />\n          <PreviewContent\n            previewMetaData={metaData}\n            setupFetchMetadata={(fetchMetadata) => {\n              setFetchMetadataFunc(() => {\n                return fetchMetadata;\n              });\n            }}\n            scene=\"post\"\n          />\n        </div>\n      </div>\n      <div className=\"comment-reposted-post\" id=\"commentRepostedPost\">\n        {item.classname === \"Comment\" || item.data?.action === \"pub_cm\" ? (\n          <CommentFeedItem comment={item} scene=\"repost\" />\n        ) : (\n          <PostFeedItem\n            item={item}\n            scene=\"repost\"\n            hasMounted={getTextareaMaxHeight}\n            sharedObj={sharedPost}\n            postId={item.getPostId()}\n            hasFiles={allFiles.length || gifFile}\n          />\n        )}\n      </div>\n      <div className=\"action-bar\">\n        <PostToolsGroup\n          onSelectFiles={updateFilesSelected}\n          onSelectGiphy={(gif) => {\n            setGifFile(gif);\n          }}\n          onSelectEmoji={(e, {emoji}) => {\n            insertEmojiFunc(emoji);\n          }}\n          setupDeleteFile={(removeFile) => {\n            setRemoveFileFunc(() => {\n              return removeFile;\n            });\n          }}\n          setupUploadFiles={(uploadFiles) =>\n            setUploadFilesFunc(() => {\n              return uploadFiles;\n            })\n          }\n          gif={gifFile}\n        />\n        <div\n          style={{whiteSpace: \"nowrap\"}}\n          className={`text-length-limit ${\n            !canPost() && !isEmpty() && \"is-exceed\"\n          }`}\n        >\n          {!isEmpty() && !canPost()\n            ? `${textLengthLimit - (text || \"\").trim().length}`\n            : `${(text || \"\").trim().length} / ${textLengthLimit}`}\n        </div>\n\n        {!breakpoints(600) && getActionButtons()}\n      </div>\n    </div>\n  );\n\n  if (isPopup) {\n    comp = (\n      <div style={{position: \"absolute\"}} onClick={onCancel}>\n        <PopupDialogNew\n          open={popupDialogOpen}\n          trigger={trigger}\n          headerContent={t(\"getter_fe.post.button.repost\")}\n          onCancel={onCancel}\n          contentStyle={{marginTop: \"max(15px, 5vh)\"}}\n          className=\"popup-repost\"\n          onOpen={() => {\n            if (hideDropdown) {\n              hideDropdown();\n            }\n            scrollHelper.lock();\n          }}\n          showCloseIcon\n          setCloseFunc={setCloseFunc}\n          customHeader={\n            breakpoints(600) ? (\n              <GBackTitle\n                className=\"mobile-GBackTitle-with-post\"\n                handleClick={onCancel}\n                rightPart={getActionButtons()}\n              />\n            ) : null\n          }\n        >\n          {comp}\n        </PopupDialogNew>\n      </div>\n    );\n  }\n\n  return comp;\n}\n","import {makeStyles, Menu, MenuItem} from \"@material-ui/core\";\nimport React, {useState, Fragment} from \"react\";\nimport {useHistory} from \"react-router\";\nimport {ReactComponent as RepostIcon} from \"src/assets/icons/ico-retweet.svg\";\nimport {ReactComponent as QuoteIcon} from \"src/assets/icons/ico-quote.svg\";\nimport {t} from \"../../../i18n/utils\";\nimport {\n  STATUS_SHARED,\n  STATUS_UNKNOWN,\n} from \"../../../core/model/social/XMShare\";\nimport AppConsts, {UIStyleConsts} from \"../../AppConsts\";\nimport classnames from \"classnames\";\nimport {RepostComposer} from \"src/app/components/post/comps/RepostComposer\";\nimport {formatLongNumber} from \"src/util/NumberUtil\";\nimport Global from \"src/system/Global\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {\n  addPost,\n  removeRepost,\n  removeSharedPost,\n} from \"src/app/components/timeline/store\";\nimport {connect} from \"react-redux\";\nimport {ActivityLogProps} from \"src/core/model/ModelConsts\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& .icon\": {\n      position: \"relative\",\n      \"& svg\": {\n        width: 18,\n        height: 18,\n        fill: \"transparent\",\n        stroke: theme.palette.text.gray,\n        \"&.active\": {\n          stroke: theme.palette.primary.main,\n        },\n      },\n      \"& .tooltiptext\": {\n        position: \"absolute\",\n        padding: \"6px\",\n        background: theme.palette.background.gray,\n        borderRadius: \"2px\",\n        fontSize: \"11px\",\n        color: theme.palette.text.disabled,\n        visibility: \"hidden\",\n        lineHeight: \"8px\",\n        zIndex: 1,\n        top: \"100%\",\n        left: \"50%\",\n        transform: \"translate(-50%, 2px)\",\n        whiteSpace: \"nowrap\",\n        \"&.top\": {\n          transform: \"translate(-50%, -52px)\",\n        },\n      },\n    },\n    \"& .count\": {\n      color: theme.palette.text.gray,\n      fontWeight: 350,\n      fontSize: 13,\n      \"&.active\": {\n        color: theme.palette.primary.main,\n      },\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: 11,\n      },\n    },\n    \"&:hover\": {\n      \"& .icon\": {\n        borderRadius: \"100%\",\n        backgroundColor: \"#EDF7FF\",\n        \"& svg\": {\n          animation: \"$fadeIn ease 0.3s\",\n          stroke: `${theme.palette.primary.main} !important`,\n        },\n        \"& .tooltiptext\": {\n          visibility: \"visible\",\n        },\n      },\n      \"& .count\": {\n        color: `${theme.palette.primary.main} !important`,\n      },\n    },\n    \"&.white:hover\": {\n      \"& .icon\": {\n        backgroundColor: \"rgba(255,255,255,.2)\",\n        \"& svg\": {\n          stroke: `#fff !important`,\n        },\n      },\n      \"& .count\": {\n        color: `#fff !important`,\n      },\n    },\n  },\n  \"@keyframes fadeIn\": {\n    \"0%\": {\n      stroke: theme.palette.text.gray,\n    },\n    \"100%\": {\n      stroke: theme.palette.primary.main,\n    },\n  },\n\n  menuPanel: {\n    marginLeft: \"-178px\",\n    marginTop: \"-26px\",\n    width: \"218px\",\n    borderRadius: \"5px\",\n    backgroundColor: \"#fff\",\n    border: `1px solid ${theme.palette.grey.A800}`,\n    boxShadow: \"0px 0px 11px rgba(86, 103, 121, 0.19)\",\n    \"& a\": {\n      display: \"flex\",\n      height: \"50px\",\n      lineHeight: \"20px\",\n      padding: \"15px 0\",\n      color: theme.palette.text.primary,\n      fontSize: \"14px\",\n      fontWeight: 400,\n      \"& svg\": {\n        margin: \"0 11px 0 14px\",\n        verticalAlign: \"top\",\n        stroke: \"#083E90\",\n      },\n      \"&:hover\": {\n        backgroundColor: \"#F9F9F9\",\n      },\n    },\n  },\n  menu: {\n    \"& .MuiPaper-root\": {\n      minWidth: theme.spacing(22.5),\n      maxWidth: theme.spacing(31.25),\n      borderRadius: 8,\n      boxShadow: \"0px 0px 12px rgba(0, 0, 0, 0.08)\",\n      transform: \"none !important\",\n      transition: \"none !important\",\n    },\n    \"& ul\": {\n      padding: 0,\n    },\n\n    \"& li\": {\n      paddingRight: theme.spacing(2.5),\n    },\n\n    \"& .MuiListItem-button\": {\n      backgroundColor: \"transparent\",\n      \"&:hover\": {\n        backgroundColor: theme.palette.grey.A300,\n      },\n    },\n  },\n  menuItem: {\n    padding: 0,\n  },\n  menuInner: {\n    display: \"block\",\n    height: \"50px\",\n    width: \"100%\",\n    lineHeight: \"18px\",\n    padding: \"15px 0\",\n    color: \"#000\",\n    fontSize: \"14px\",\n    fontWeight: 400,\n    \"& svg\": {\n      width: 18,\n      height: 18,\n      margin: \"0 11px 0 14px\",\n      verticalAlign: \"top\",\n      fill: \"transparent\",\n      stroke: theme.palette.text.main,\n    },\n  },\n  menuSvg: {},\n}));\n\nconst connector = connect(\n  (state) => {\n    return {\n      loggedInUserId: state.auth.session?.userinfo?._id,\n    };\n  },\n  {addPost, removeRepost, removeSharedPost},\n);\n\nexport const RepostButton = connector(_RepostButton);\n\nfunction _RepostButton({\n  isPostDetail,\n  repostStatus,\n  count,\n  objId,\n  item,\n  setRepostCount,\n  loading,\n  loggedIn,\n  tooltip,\n  updateRepostStatus,\n  hideDropdown,\n  skin,\n  removeRepost,\n  removeSharedPost,\n  removePostFromProfile,\n  loggedInUserId,\n}) {\n  /**\n   * TODO: fix delete comment in Timeline and User feed\n   */\n  const classes = useStyles();\n  const history = useHistory();\n\n  const api = Global.GetPortal().getAppService();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [repostOpen, setRepostOpen] = useState(false);\n\n  const isDisabled =\n    loading || repostStatus === STATUS_UNKNOWN || !repostStatus;\n  const isActive = repostStatus === STATUS_SHARED;\n\n  const getPostAction = () => {\n    const itemClassName = item.getClassname();\n\n    if (itemClassName === \"Comment\") {\n      return ActivityLogProps.SHARES_COMMENT;\n    }\n\n    if (itemClassName === \"XMPostItem\") {\n      return ActivityLogProps.USER_PUB_POST;\n    }\n\n    return item.getAction();\n  };\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    !loggedIn && history.push(AppConsts.URL_LOGIN);\n\n    setAnchorEl(e.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  let repostProcess = (err, result) => {\n    if (err) {\n      updateRepostStatus(\"n\");\n      setRepostCount(count);\n      if (err.data.emsg?.includes(\"limit\")) {\n        toast.info(\n          <NotifMessage message={t(\"getter_fe.post.errors.maxLimit\")} />,\n          {\n            type: toast.TYPE.ERROR,\n          },\n        );\n      } else {\n        toast.info(\n          <NotifMessage message={t(\"getter_fe.post.errors.submitPost\")} />,\n          {\n            type: toast.TYPE.ERROR,\n          },\n        );\n      }\n      return;\n    }\n    toast.info(\n      <NotifMessage\n        message={\n          <div className=\"notifmesage-with-link\">\n            <span>{t(\"getter_fe.post.tips.getter_was_repost\")}</span>\n          </div>\n        }\n      />,\n      {\n        type: toast.TYPE.SUCCESS,\n      },\n    );\n  };\n\n  const handleUndoRepost = () => {\n    if (!item || !objId || !isActive) {\n      return;\n    }\n\n    const postItemAction = getPostAction();\n\n    handleClose();\n    updateRepostStatus(\"n\");\n    count > 0 && setRepostCount(count - 1);\n\n    if (\n      postItemAction === ActivityLogProps.USER_PUB_POST ||\n      postItemAction === ActivityLogProps.SHARES_POST ||\n      postItemAction === ActivityLogProps.POST_PUBLISHEDBY ||\n      postItemAction === ActivityLogProps.SHARES_COMMENT\n    ) {\n      api.userUnshares(\n        objId,\n        postItemAction === ActivityLogProps.USER_PUB_POST ||\n          postItemAction === ActivityLogProps.SHARES_POST ||\n          postItemAction === ActivityLogProps.POST_PUBLISHEDBY\n          ? \"p\"\n          : \"c\",\n        (err) => {\n          if (err) {\n            updateRepostStatus(\"y\");\n            setRepostCount(count);\n\n            toast.info(\n              <NotifMessage message={t(\"getter_fe.common.errorOccured\")} />,\n              {\n                type: toast.TYPE.ERROR,\n              },\n            );\n            return;\n          }\n\n          if (\n            item?.data?.activity?.src_id === loggedInUserId &&\n            (postItemAction === ActivityLogProps.USER_PUB_POST ||\n              postItemAction === ActivityLogProps.SHARES_POST ||\n              postItemAction === ActivityLogProps.SHARES_COMMENT)\n          ) {\n            removePostFromProfile && removePostFromProfile(objId);\n            removeRepost(objId);\n            removeSharedPost(objId);\n          }\n        },\n      );\n    }\n  };\n\n  const handleRepost = () => {\n    if (!objId) {\n      return;\n    }\n\n    handleClose();\n    updateRepostStatus(\"y\");\n    !isActive && setRepostCount(count + 1);\n\n    const postItemAction = getPostAction();\n\n    postItemAction === ActivityLogProps.USER_PUB_POST ||\n    postItemAction === ActivityLogProps.SHARES_POST ||\n    postItemAction === ActivityLogProps.POST_PUBLISHEDBY\n      ? api.userSharesPost(objId, \"\", repostProcess)\n      : api.userSharesComment(objId, repostProcess);\n  };\n\n  return (\n    <Fragment>\n      <div\n        disabled={isDisabled}\n        className={classnames(\n          classes.root,\n          \"repost-button\",\n          UIStyleConsts.POST_FEED_ITEM_BUTTON,\n          {active: isActive},\n          skin,\n        )}\n        onClick={(e) => handleClick(e)}\n      >\n        <div className=\"icon\">\n          <RepostIcon\n            className={classnames(\n              classes.repostImage,\n              \"hollow\",\n              isActive && \"active\",\n            )}\n          />\n          <span className={`tooltiptext ${tooltip}`}>\n            {t(\"getter_fe.post.button.repost\")}\n          </span>\n        </div>\n        <div className=\"text\">\n          {!isPostDetail && (\n            <div className={classnames(\"count\", isActive && \"active\")}>\n              <span>{formatLongNumber(count || 0)}</span>\n            </div>\n          )}\n        </div>\n      </div>\n      {loggedIn && (\n        <Fragment>\n          <Menu\n            id=\"repost-menu\"\n            anchorEl={anchorEl}\n            transformOrigin={{\n              vertical: \"top\",\n              horizontal: \"center\",\n            }}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            className={classes.menu}\n          >\n            <MenuItem\n              className={classes.menuItem}\n              onClick={isActive ? handleUndoRepost : handleRepost}\n            >\n              <div className={classes.menuInner}>\n                <RepostIcon />\n                <span>\n                  {isActive\n                    ? t(\"getter_fe.post.button.undoRepost\")\n                    : t(\"getter_fe.post.button.repost\")}\n                </span>\n              </div>\n            </MenuItem>\n            <MenuItem className={classes.menuItem}>\n              <div\n                className={classes.menuInner}\n                onClick={() => {\n                  handleClose();\n                  setRepostOpen(true);\n                }}\n              >\n                <QuoteIcon />\n                <span>{t(\"getter_fe.post.button.quotePost\")}</span>\n              </div>\n            </MenuItem>\n          </Menu>\n          <RepostComposer\n            item={item}\n            isPopup={true}\n            open={repostOpen}\n            postId={objId}\n            shst={repostStatus}\n            propOnSubmit={() => {\n              updateRepostStatus(\"y\");\n              !isActive && setRepostCount(count + 1);\n            }}\n            hideDropdown={hideDropdown}\n            closeRepostMenu={() => {\n              setRepostOpen(false);\n            }}\n            alreadyReposted={isActive}\n          />\n        </Fragment>\n      )}\n    </Fragment>\n  );\n}\n","import React, {useState, useEffect} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Box, makeStyles} from \"@material-ui/core\";\nimport {useHistory} from \"react-router-dom\";\nimport {t} from \"../../../i18n/utils\";\nimport {CommentComposer} from \"src/app/components/post/comps/CommentComposer\";\nimport {LikeButton} from \"../post/LikeButton\";\nimport {RepostButton} from \"../post/RepostButton\";\nimport {CommentPostButton} from \"../post/CommentPostButton\";\nimport classnames from \"classnames\";\nimport {formatLongNumber} from \"src/util/NumberUtil\";\nimport {ShareButton} from \"../post/ShareButton\";\nimport ModelType from \"src/core/model/ModelConsts\";\nimport Global from \"src/system/Global\";\nimport {\n  addLikedPost,\n  addSharedPost,\n  removeLikedPost,\n  removeSharedPost,\n  setPostCounts,\n  updatePostCommentCount,\n  updatePostLikedCount,\n  updatePostRepostCount,\n} from \"src/app/components/timeline/store\";\n\nconst useStyles = makeStyles((theme) => ({\n  stats: {\n    display: \"flex\",\n    flexDirection: \" column\",\n    marginTop: 6,\n    \"&.post-detail\": {\n      marginTop: 0,\n      marginLeft: 0,\n      marginBottom: -13, // remove padding from feedItemMain\n    },\n    \"&.comment-detail\": {\n      marginLeft: 0,\n    },\n  },\n  detailStats: {\n    margin: \"0 17px\",\n  },\n  detailLine: {\n    padding: \"6.5px 0\",\n    [theme.breakpoints.only(\"xs\")]: {\n      paddingBottom: \"70px\",\n    },\n  },\n  statsCounts: {\n    fontSize: 15,\n    color: theme.palette.text.gray,\n    padding: \"15px 0\",\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n    display: \"flex\",\n  },\n  countItem: {\n    marginRight: \"16px\",\n  },\n  countLabel: {\n    fontWeight: \"700\",\n    color: theme.palette.text.primary,\n  },\n  commentStats: {\n    padding: \"0 !important\",\n  },\n  statsLine: {\n    \"&.stats-line\": {\n      display: \"flex\",\n      flexDirection: \"row\",\n      width: \"calc(100% - 30px)\",\n      paddingRight: \"30px\",\n      margin: \"0px\",\n      justifyContent: \"space-between\",\n      [theme.breakpoints.only(\"xs\")]: {\n        width: \"100%\",\n      },\n      \"& .stats-box\": {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        marginRight: \"30px\",\n        color: theme.palette.text.primary,\n        fontSize: \"13px\",\n        [theme.breakpoints.only(\"xs\")]: {\n          marginRight: \"0px\",\n        },\n        \"&:first-child\": {\n          marginLeft: \" -6px\",\n        },\n        \"&:last-child\": {\n          marginRight: \"-28px\",\n          [theme.breakpoints.only(\"xs\")]: {\n            marginRight: \"-1px\",\n          },\n          \"& svg\": {\n            transform: ({isImagePopup}) => (isImagePopup ? \"scale(1.2)\" : null),\n          },\n        },\n        \"& .post-feed-item-button\": {\n          position: \"absolute\",\n          flexDirection: \"row\",\n          display: \"flex\",\n          alignItems: \"center\",\n          cursor: \"pointer\",\n          \"& .icon\": {\n            position: \"relative\",\n            top: \"1px\",\n            alignSelf: \"center\",\n            fontSize: \"30px\",\n            \"& svg\": {\n              transform: ({isImagePopup}) =>\n                isImagePopup ? \"scale(1.2)\" : null,\n              position: \"relative\",\n            },\n          },\n          \"& .text\": {\n            marginLeft: ({isImagePopup}) => (isImagePopup ? 6 : 0),\n            display: \"flex\",\n            fontSize: \"13px\",\n            color: theme.palette.text.composer,\n            wordBreak: \"normal\",\n            \"& .count\": {\n              paddingRight: \"4px\",\n            },\n          },\n        },\n        \"&.comment\": {\n          position: \"relative\",\n          top: \"2px\",\n          // marginRight: \"auto\",\n          fontSize: \"12px\",\n          \"& .count\": {\n            paddingRight: \"5px\",\n          },\n        },\n      },\n      \"& .like-post-button\": {\n        \"&.active svg\": {\n          marginTop: \"-4px\",\n        },\n      },\n      \"& div[class*='menuButton']\": {\n        \"& svg\": {\n          marginTop: \"1px\",\n          marginLeft: \"1px\",\n        },\n      },\n    },\n  },\n  commentPostContainer: {\n    display: \"flex\",\n    position: \"relative\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n  },\n  loading: {\n    textAlign: \"center\",\n  },\n}));\n\nconst connector = connect(\n  (state) => {\n    return {\n      authenticated: state.auth?.session?.authenticated,\n      likedPosts: state.timelineNew.userFeed.likedPosts,\n      sharedPosts: state.timelineNew.userFeed.sharedPosts,\n      postStats: state.timelineNew.userFeed.postStats,\n    };\n  },\n  {\n    updatePostCommentCount,\n    updatePostRepostCount,\n    updatePostLikedCount,\n    removeLikedPost,\n    removeSharedPost,\n    setPostCounts,\n    addLikedPost,\n    addSharedPost,\n  },\n);\n\nexport const PostStatLine = connector(_PostStatLine);\n\nfunction _PostStatLine({\n  postId,\n  item,\n  type,\n  detailLink,\n  sharedObj,\n  scene,\n  tooltip,\n  likedPosts,\n  sharedPosts,\n  authenticated,\n  isImagePopup,\n  hideDropdown,\n  postStats,\n  updatePostCommentCount,\n  updatePostRepostCount,\n  updatePostLikedCount,\n  setPostCounts,\n  addLikedPost,\n  addSharedPost,\n  removeLikedPost,\n  removeSharedPost,\n  skin,\n  removePostFromProfile,\n  isPinnedPost,\n}) {\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const classes = useStyles({isImagePopup});\n  const POST_PAGE_VIEW = \"post-page-view\";\n\n  const api = Global.GetPortal().getAppService();\n\n  useEffect(() => {\n    const fetchLikeStatus = async () => {\n      try {\n        const res = await api.userLikePostStatus(postId);\n\n        if (res === \"y\") {\n          addLikedPost(postId);\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    const fetchRepostStatus = async () => {\n      try {\n        const res = await api.userSharePostStatus(postId);\n\n        if (res === \"y\") {\n          addSharedPost(postId);\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    if (!postStats[postId]) {\n      const stats =\n        type === \"post-detail\" || type === \"comment-detail\" || isPinnedPost\n          ? item.getAuxDataXField(ModelType.POST_STATS)\n          : item.getPostStats();\n\n      const numLikes = stats?.getLikedPostCount\n        ? stats?.getLikedPostCount(0)\n        : 0;\n      const numShares = stats?.getSharedPostCount\n        ? stats?.getSharedPostCount(0)\n        : 0;\n      const numComments = stats?.getCommentCount\n        ? stats?.getCommentCount(0)\n        : 0;\n      // fallback @TODO delete after all routes are using redux\n      setPostCounts({postId, counts: {numLikes, numComments, numShares}});\n    }\n\n    if (\n      (scene === POST_PAGE_VIEW && !postStats[postId] && authenticated) ||\n      isPinnedPost\n    ) {\n      (async () => {\n        setLoading(true);\n        await fetchLikeStatus();\n        await fetchRepostStatus();\n        setLoading(false);\n      })();\n    }\n  }, [postId]);\n\n  const {\n    numLikes: likesCount,\n    numComments: commentsCount,\n    numShares: repostsCount,\n  } = postStats[postId] ?? {};\n\n  const commentButton = (\n    <div className={classes.commentPostContainer}>\n      <CommentPostButton\n        isPostDetail={type === \"post-detail\"}\n        count={commentsCount}\n        loggedIn={authenticated}\n        tooltip={tooltip}\n        skin={skin}\n      />\n    </div>\n  );\n\n  return (\n    <div\n      className={classnames(classes.stats, type)}\n      onClick={(e) => {\n        e.preventDefault();\n        e.stopPropagation();\n      }}\n    >\n      {type === \"post-detail\" && (\n        <>\n          {commentsCount + likesCount + repostsCount !== 0 && (\n            <div className={classes.statsCounts}>\n              {commentsCount !== 0 && (\n                <div className={classes.countItem}>\n                  <span className={classes.countLabel}>\n                    {formatLongNumber(commentsCount)}\n                  </span>{\" \"}\n                  {t(\n                    commentsCount > 1\n                      ? \"getter_fe.post.button.replies\"\n                      : \"getter_fe.post.button.reply\",\n                  )}\n                </div>\n              )}\n              {likesCount !== 0 && (\n                <div className={classes.countItem}>\n                  <span className={classes.countLabel}>\n                    {formatLongNumber(likesCount)}\n                  </span>{\" \"}\n                  {t(\n                    likesCount > 1\n                      ? \"getter_fe.post.button.likes\"\n                      : \"getter_fe.post.button.like\",\n                  )}\n                </div>\n              )}\n              {repostsCount !== 0 && (\n                <div className={classes.countItem}>\n                  <span className={classes.countLabel}>\n                    {formatLongNumber(repostsCount)}\n                  </span>{\" \"}\n                  {t(\n                    repostsCount > 1\n                      ? \"getter_fe.post.button.reposts\"\n                      : \"getter_fe.post.button.repost\",\n                  )}\n                </div>\n              )}\n            </div>\n          )}\n        </>\n      )}\n      <StatContainer type={type} classes={classes}>\n        <CommentComposer\n          history={history}\n          postId={postId}\n          item={item}\n          isPopup={true}\n          trigger={commentButton}\n          sharedObj={sharedObj}\n          handleStats={() => {\n            updatePostCommentCount({postId, count: commentsCount + 1});\n          }}\n          hideDropdown={hideDropdown}\n        />\n        <LikeButton\n          isPostDetail={type === \"post-detail\"}\n          objId={postId}\n          count={likesCount}\n          likeStatus={likedPosts.includes(postId) ? \"y\" : \"n\"}\n          loading={loading}\n          loggedIn={authenticated}\n          tooltip={tooltip}\n          setLikedCount={(newCount) => {\n            updatePostLikedCount({postId, count: newCount});\n          }}\n          updateLikeStatus={(newValue) => {\n            newValue === \"y\" ? addLikedPost(postId) : removeLikedPost(postId);\n          }}\n          hideDropdown={hideDropdown}\n          skin={skin}\n        />\n        <RepostButton\n          isPostDetail={type === \"post-detail\"}\n          objId={postId}\n          item={item}\n          count={repostsCount}\n          type={type}\n          loading={loading}\n          loggedIn={authenticated}\n          tooltip={tooltip}\n          repostStatus={sharedPosts.includes(postId) ? \"y\" : \"n\"}\n          setRepostCount={(newCount) => {\n            updatePostRepostCount({postId, count: newCount});\n          }}\n          updateRepostStatus={(newValue) => {\n            newValue === \"y\" ? addSharedPost(postId) : removeSharedPost(postId);\n          }}\n          hideDropdown={hideDropdown}\n          skin={skin}\n          removePostFromProfile={removePostFromProfile}\n        />\n        <ShareButton\n          detailLink={detailLink}\n          tooltip={tooltip}\n          isImagePopup={isImagePopup}\n          skin={skin}\n        />\n      </StatContainer>\n    </div>\n  );\n}\n\nconst StatContainer = ({children, type, classes}) => {\n  if (type === \"post-detail\") {\n    return (\n      <Box\n        display=\"flex\"\n        justifyContent=\"space-around\"\n        className={classes.detailLine}\n      >\n        {children}\n      </Box>\n    );\n  } else {\n    return (\n      <div\n        className={classnames(\n          type === \"comment-detail\" && classes.commentStats,\n          \"stats-line\",\n          classes.statsLine,\n        )}\n      >\n        {children.map((child, idx) => (\n          <div key={idx} className=\"stats-box\">\n            {child}\n          </div>\n        ))}\n      </div>\n    );\n  }\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.7,\n  d: \"M0 19.6875C0 30.5438 8.83125 39.375 19.6875 39.375C30.5438 39.375 39.375 30.5438 39.375 19.6875C39.375 8.83125 30.5438 0 19.6875 0C8.83125 0 0 8.83125 0 19.6875Z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M28.1663 20H11.833\",\n  stroke: \"white\",\n  strokeWidth: 1.2,\n  fill: \"transparent\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.9997 28.1667L11.833 20L19.9997 11.8334\",\n  stroke: \"white\",\n  fill: \"transparent\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIconSwiperPrev39(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconSwiperPrev39);\nexport default __webpack_public_path__ + \"static/media/icon_swiper_prev_39.37f846ac.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.9,\n  d: \"M39.375 19.6875C39.375 8.83125 30.5438 -7.72052e-07 19.6875 -1.72114e-06C8.83125 -2.67022e-06 2.67022e-06 8.83125 1.72114e-06 19.6875C7.72052e-07 30.5437 8.83125 39.375 19.6875 39.375C30.5437 39.375 39.375 30.5437 39.375 19.6875Z\",\n  fillOpacity: 0.7\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.8337 19H28.167\",\n  stroke: \"white\",\n  strokeWidth: 1.2,\n  fill: \"transparent\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.0003 27.1667L28.167 19L20.0003 10.8334\",\n  stroke: \"white\",\n  fill: \"transparent\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIconSwiperNext39(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconSwiperNext39);\nexport default __webpack_public_path__ + \"static/media/icon_swiper_next_39.71ed811b.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useEffect, useState} from \"react\";\nimport {makeStyles, useMediaQuery, useTheme} from \"@material-ui/core\";\nimport Popup from \"reactjs-popup\";\nimport {scrollHelper} from \"src/util/scrollUtils\";\nimport {PostStatLine} from \"../pages/dashboard/PostStatLine\";\nimport {CommentStatLine} from \"../pages/dashboard/CommentStatLine\";\nimport {ReactComponent as IconCancel} from \"src/assets/icons/icon_circlefull_close.svg\";\nimport {ReactComponent as IconPrev} from \"src/assets/icons/icon_swiper_prev_39.svg\";\nimport {ReactComponent as IconNext} from \"src/assets/icons/icon_swiper_next_39.svg\";\nimport FastAverageColor from \"fast-average-color\";\nimport {zoomImage, handleMediaUrl} from \"src/util/imageUtils\";\n// import Swiper core and required components\nimport SwiperCore, {\n  Navigation,\n  Pagination,\n  Scrollbar,\n  A11y,\n  Lazy,\n} from \"swiper\";\nimport {Swiper, SwiperSlide} from \"swiper/react\";\n// Import Swiper styles\nimport \"swiper/swiper.scss\";\nimport \"swiper/components/navigation/navigation.scss\";\nimport \"swiper/components/pagination/pagination.scss\";\nimport \"swiper/components/scrollbar/scrollbar.scss\";\nimport \"swiper/components/lazy/lazy.scss\";\nimport Global from \"src/system/Global\";\n// install Swiper components\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y, Lazy]);\n\nconst useStyles = makeStyles((theme) => ({\n  rootPopup: {\n    \"& > .popup-overlay\": {\n      overflow: \"hidden\",\n      \"& > .popup-content\": {\n        width: \"100% !important\",\n        margin: ({isAvatarImage}) =>\n          isAvatarImage ? \"auto\" : \"0 auto !important\",\n        backgroundColor: \"transparent !important\",\n        border: \"none !important\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        maxWidth: \"100%\",\n        \"& > div > .header\": {\n          borderBottom: \"none\",\n          padding: 0,\n          position: \"fixed\",\n          left: 0,\n          top: 0,\n          width: \"100%\",\n          zIndex: 10,\n          \"& .info\": {\n            opacity: 0.9,\n            backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n            top: \"16px\",\n            left: \"28px\",\n            position: \"absolute\",\n            color: \"#fff\",\n            fontSize: \"12px\",\n            borderRadius: \"20px\",\n            padding: \"5px 20px\",\n            [theme.breakpoints.only(\"xs\")]: {\n              left: \"12px\",\n              top: \"10px\",\n            },\n          },\n          \"& .cancel\": {\n            opacity: 0.9,\n            backgroundColor: \"transparent\",\n            width: \"48px\",\n            height: \"48px\",\n            top: \"25px\",\n            right: \"25px\",\n            marginRight: 0,\n            position: \"absolute\",\n            \"& svg\": {\n              fill: \"rgba(95, 95, 95, 0.3)\",\n              stroke: \"#fff\",\n            },\n            \"&:hover\": {\n              \"& svg\": {\n                fill: \"rgba(95, 95, 95, 0.7)\",\n              },\n            },\n            [theme.breakpoints.only(\"xs\")]: {\n              width: \"38px\",\n              height: \"38px\",\n              right: \"25px\",\n            },\n          },\n        },\n        \"& > div > .content\": {\n          padding: \"0\",\n          display: \"block\",\n          textAlign: \"center\",\n          height: \"calc(100vh - 45px)\",\n          width: \"100vw\",\n          \"& .regular-hover\": {\n            // backgroundColor: \"transparent !important\",\n          },\n          \"& img\": {\n            objectFit: \"contain\",\n            width: \"auto\",\n            height: \"100%\",\n            verticalAlign: \"top\",\n            [theme.breakpoints.only(\"xs\")]: {\n              width: \"100%\",\n            },\n          },\n          [theme.breakpoints.only(\"xs\")]: {\n            padding: \"0 38px\",\n          },\n          \"& .count\": {\n            color: \"#fff\",\n          },\n\n          \"& .icon svg\": {\n            stroke: \"#fff\",\n          },\n          \"& .post-feed-item-button:hover\": {\n            \"& .icon\": {\n              // backgroundColor: \"transparent\",\n            },\n          },\n        },\n        \"& .stats-line\": {\n          maxWidth: \"600px !important\",\n          margin: \"0 auto !important\",\n          justifyContent: \"space-between\",\n          [theme.breakpoints.only(\"xs\")]: {\n            paddingRight: 0,\n            margin: \"0 auto !important\",\n          },\n          \"& .post-feed-item-button\": {\n            \"& .count\": {\n              color: \"#fff\",\n            },\n            \"& .icon\": {\n              \"& svg\": {\n                \"&.solid\": {\n                  fill: \"#fff !important\",\n                  stroke: \"#fff !important\",\n                },\n                \"&.hollow\": {\n                  fill: \"transparent !important\",\n                  stroke: \"#fff\",\n                },\n                \"&.hollow-fill\": {\n                  fill: \"#fff !important\",\n                  stroke: \"transparent !important\",\n                },\n              },\n            },\n            \"&:hover\": {\n              \"& .count\": {\n                color: \"#fff\",\n              },\n              \"& .icon\": {\n                // backgroundColor: \"transparent !important\",\n              },\n            },\n          },\n          \"& .dropdown\": {\n            \"& .icon\": {\n              \"&:hover\": {\n                // backgroundColor: \"transparent !important\",\n              },\n            },\n            \"& svg\": {\n              \"&.solid\": {\n                fill: \"#fff !important\",\n                stroke: \"#fff !important\",\n              },\n              \"&.hollow\": {\n                fill: \"transparent !important\",\n                stroke: \"#fff\",\n              },\n            },\n          },\n        },\n      },\n    },\n  },\n  rootSwiper: {\n    width: \"100%\",\n    \"& .swiper-container\": {\n      \"& .swiper-slide\": {\n        display: \"flex\",\n        height: \"auto\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        overflow: \"auto\",\n        \"& > div\": {\n          height: \"calc(100vh - 45px)\",\n        },\n      },\n    },\n    \"& .swiper-scrollbar\": {\n      display: \"none\",\n    },\n    \"& .swiper-button-prev, & .swiper-button-next\": {\n      display: \"none\",\n    },\n    \"& .icon-swiper-button-prev\": {\n      position: \"absolute\",\n      left: \"28px\",\n      top: \"50%\",\n      marginTop: \"-64px\",\n      fill: \"rgba(95,95,95,.3)\",\n      opacity: 0.9,\n      zIndex: 100,\n      \"&:hover\": {\n        fill: \"rgba(95,95,95,.7)\",\n      },\n      [theme.breakpoints.only(\"xs\")]: {\n        left: \"6px\",\n        width: \"30px !important\",\n      },\n    },\n    \"& .icon-swiper-button-next\": {\n      position: \"absolute\",\n      right: \"28px\",\n      top: \"50%\",\n      marginTop: \"-64px\",\n      fill: \"rgba(95,95,95,.3)\",\n      opacity: 0.9,\n      zIndex: 100,\n      \"&:hover\": {\n        fill: \"rgba(95,95,95,.7)\",\n      },\n      [theme.breakpoints.only(\"xs\")]: {\n        right: \"6px\",\n        width: \"30px !important\",\n      },\n    },\n    \"& .swiper-pagination-bullet\": {\n      background: theme.palette.background.default,\n      opacity: 0.5,\n    },\n    \"& .swiper-pagination-bullet-active\": {\n      background: theme.blue.secondary,\n      opacity: 1,\n    },\n  },\n  statsLine: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-around\",\n    margin: \"0 20%\",\n  },\n}));\n\nexport const PopupImages = ({\n  open,\n  onClose,\n  item = null,\n  postId = null,\n  sharedObj,\n  imageURLs,\n  headerContent,\n  currentIndex: propCurrentIndex,\n  type = \"post\",\n  xStats = null,\n}) => {\n  const [currentIndex, setCurrentIndex] = useState(1);\n  const [averageColors, setAverageColors] = useState(null);\n  const [mobileVh, setMobileVh] = useState(null);\n  const theme = useTheme();\n  const tabletMatches = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const classes = useStyles({isAvatarImage: type === \"avatar\"});\n  const api = Global.GetPortal().getAppService();\n\n  const isGif = /giphy|gif/.test(imageURLs[0]);\n  const isDefault = imageURLs[0]?.startsWith(\"/avatars//computer_debug\");\n\n  useEffect(() => {\n    return () => scrollHelper.unlock(\"popupImages\");\n  }, []);\n\n  useEffect(() => {\n    if (isGif || isDefault) {\n      return;\n    }\n    const fac = new FastAverageColor();\n\n    if (imageURLs?.length && Array.isArray(imageURLs) && imageURLs[0]) {\n      const promises = imageURLs.map((url) => {\n        const image = new Image();\n        image.crossOrigin = \"anonymous\";\n\n        image.src =\n          process.env.REACT_APP_MEDIA_BASE + \"/\" + zoomImage(url, 500, 0);\n\n        return new Promise((resolve) => {\n          image.onload = () => {\n            const {value} = fac.getColor(image);\n\n            return resolve(`rgba(${value[0]},${value[1]},${value[2]},0.9)`);\n          };\n\n          // cors issue handling\n          image.onerror = () => {\n            return resolve(null);\n          };\n        });\n      });\n\n      const resolvePromisesToState = async () => {\n        const colors = await Promise.all(promises);\n        setAverageColors(colors);\n      };\n\n      resolvePromisesToState();\n    }\n  }, [imageURLs]);\n\n  useEffect(() => {\n    const handleMobileViewport = () => {\n      setMobileVh(window.innerHeight);\n    };\n\n    if (open && tabletMatches) {\n      setMobileVh(window.innerHeight);\n      window.addEventListener(\"resize\", handleMobileViewport);\n\n      return () => window.removeEventListener(\"resize\", handleMobileViewport);\n    }\n  }, [open]);\n\n  const getDetailLink = () => {\n    let detailLink = window.location.origin;\n    if (postId) {\n      detailLink += api.getUrlPostPage(postId);\n    }\n    return detailLink;\n  };\n\n  const stopPropagation = (e) => {\n    e.stopPropagation();\n  };\n\n  return (\n    <div\n      className={classes.rootPopup}\n      onClick={(e) => {\n        e.stopPropagation();\n      }}\n    >\n      <Popup\n        open={open}\n        onClose={() => {\n          if (onClose) {\n            onClose();\n          }\n          scrollHelper.unlock();\n        }}\n        onOpen={() => {\n          scrollHelper.lock(61, \"popupImages\");\n        }}\n        overlayStyle={{\n          background: averageColors ? averageColors[currentIndex - 1] : null,\n        }}\n        closeOnDocumentClick\n        closeOnEscape\n        modal\n        resetScroll\n        repositionOnResize\n        lockScroll={false}\n        position=\"top center\"\n      >\n        {(close) => {\n          return (\n            <div>\n              <div className=\"header\">\n                {headerContent ? (\n                  <div className=\"title\">{headerContent}</div>\n                ) : null}\n                {imageURLs.length > 1 ? (\n                  <span className=\"info\">\n                    {currentIndex} / {imageURLs.length}\n                  </span>\n                ) : null}\n                <span className=\"icon cancel\" onClick={close}>\n                  <IconCancel className=\"hollow\" style={{width: \"100%\"}} />\n                </span>\n              </div>\n\n              <div\n                className=\"content\"\n                onClick={close}\n                style={\n                  mobileVh\n                    ? {\n                        height: mobileVh - 45,\n                      }\n                    : null\n                }\n              >\n                {imageURLs.length > 1 ? (\n                  <div className={classes.rootSwiper}>\n                    <IconPrev\n                      className=\"icon-swiper-button-prev\"\n                      onClick={(e) => e.stopPropagation()}\n                    />\n                    <Swiper\n                      loop\n                      spaceBetween={0}\n                      slidesPerView={1}\n                      navigation={{\n                        prevEl: \".icon-swiper-button-prev\",\n                        nextEl: \".icon-swiper-button-next\",\n                      }}\n                      pagination={{clickable: true}}\n                      scrollbar={{hide: true}}\n                      initialSlide={propCurrentIndex}\n                      onSlideChange={(swiper) =>\n                        setCurrentIndex(swiper.realIndex + 1)\n                      }\n                      onPaginationRender={(e) => {\n                        e.$el[0]\n                          .getElementsByClassName(\"swiper-pagination\")[0]\n                          .removeEventListener(\"click\", stopPropagation);\n                        e.$el[0]\n                          .getElementsByClassName(\"swiper-pagination\")[0]\n                          .addEventListener(\"click\", stopPropagation);\n                      }}\n                    >\n                      {imageURLs?.length &&\n                        Array.isArray(imageURLs) &&\n                        imageURLs.map((item) => (\n                          <SwiperSlide key={item}>\n                            <div className={classes.imgWrapper}>\n                              <img\n                                src={handleMediaUrl(\n                                  process.env.REACT_APP_MEDIA_BASE,\n                                  item,\n                                )}\n                                onClick={(e) => e.stopPropagation()}\n                                alt=\"\"\n                              />\n                            </div>\n                          </SwiperSlide>\n                        ))}\n                    </Swiper>\n                    <IconNext\n                      className=\"icon-swiper-button-next\"\n                      onClick={(e) => e.stopPropagation()}\n                    />\n                  </div>\n                ) : (\n                  imageURLs?.length &&\n                  Array.isArray(imageURLs) && (\n                    <img\n                      src={handleMediaUrl(\n                        imageURLs[0].startsWith(\"https://\") ||\n                          imageURLs[0].startsWith(\"http://\")\n                          ? \"\"\n                          : process.env.REACT_APP_MEDIA_BASE,\n                        imageURLs[0] || \"\",\n                      )}\n                      onClick={(e) => e.stopPropagation()}\n                      alt=\"img\"\n                    />\n                  )\n                )}\n                {item && type === \"comment\" && (\n                  <div\n                    className={classes.statsLine}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      e.stopPropagation();\n                    }}\n                  >\n                    <CommentStatLine\n                      item={item}\n                      type={type}\n                      xStats={xStats}\n                      skin=\"white\"\n                      tooltip=\"top\"\n                    />\n                  </div>\n                )}\n                {item && type === \"post\" && (\n                  <PostStatLine\n                    detailLink={getDetailLink()}\n                    item={item}\n                    skin=\"white\"\n                    tooltip=\"top\"\n                    postId={postId}\n                    sharedObj={sharedObj}\n                    isImagePopup={true}\n                  />\n                )}\n              </div>\n            </div>\n          );\n        }}\n      </Popup>\n    </div>\n  );\n};\n","import React, {useState} from \"react\";\nimport clsx from \"clsx\";\nimport {useHistory} from \"react-router-dom\";\nimport {createStyles, makeStyles, useTheme} from \"@material-ui/core/styles\";\nimport {Avatar} from \"@material-ui/core\";\nimport emojiRegex from \"emoji-regex\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport {handleMediaUrl} from \"src/util/imageUtils\";\nimport {ReactComponent as DefaultAvatarImage} from \"src/assets/images/avatar148.svg\";\nimport {zoomImage} from \"src/util/imageUtils\";\nimport {PopupImages} from \"src/app/components/PopupImages\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    avatar: {\n      \"& span\": {\n        width: \"100%\",\n        textAlign: \"center\",\n        letterSpacing: \"-0.05em\",\n      },\n    },\n  }),\n);\n\nexport const AvatarLink = ({\n  avatarUrl,\n  styleClasses,\n  userId,\n  username,\n  userNotExist,\n  noRedirect = false,\n  disableHistoryPush,\n}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [hasImage, setHasImage] = useState(!!avatarUrl);\n  const [imagesOpen, setImagesOpen] = useState(false);\n\n  const handleClick = (e) => {\n    if (!noRedirect) {\n      e.stopPropagation();\n      history.push(`/user/${userId}`);\n    } else {\n      e.stopPropagation();\n      hasImage && setImagesOpen(true);\n    }\n  };\n\n  const alt = username || userId || \"G\";\n  const [all, emojiStr, subStr] = alt.match(\n    new RegExp(`^(${emojiRegex().source})?(.{0,2})`),\n  );\n  const text = emojiStr || subStr;\n  const handleBrokenImage = (e) => setHasImage(false);\n\n  return (\n    <>\n      <Avatar\n        alt={alt}\n        src={zoomImage(\n          handleMediaUrl(process.env.REACT_APP_MEDIA_BASE, avatarUrl),\n          400,\n          400,\n        )}\n        className={clsx(classes.avatar, styleClasses)}\n        onClick={(e) => !disableHistoryPush && handleClick(e)}\n        imgProps={{onError: handleBrokenImage}}\n      >\n        {userNotExist ? (\n          <DefaultAvatarImage />\n        ) : (\n          <GTwemoji text={alt.charCodeAt(0) > 255 ? text : alt[0]} />\n        )}\n      </Avatar>\n      <div>\n        {avatarUrl && (\n          <PopupImages\n            imageURLs={[avatarUrl]}\n            open={imagesOpen}\n            onClose={() => {\n              setImagesOpen(false);\n            }}\n            type=\"avatar\"\n            currentIndex={1}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n","import React, {useState, Fragment, useEffect} from \"react\";\nimport {connect} from \"react-redux\";\nimport clsx from \"clsx\";\nimport {toast} from \"react-toastify\";\nimport {Link} from \"react-router-dom\";\nimport Global from \"src/system/Global\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport {PopupDialogNew} from \"src/app/components/PopupDialogNew\";\nimport GMentionsInput from \"src/styles/components/GMentionsInput\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport {PreviewContent} from \"src/app/components/PreviewContent\";\nimport {AvatarLink} from \"src/app/components/AvatarLink\";\nimport XMPost from \"src/core/model/post/XMPost\";\nimport Util from \"src/core/Util\";\nimport {t, getLang} from \"src/i18n/utils\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport {GDisplayFiles} from \"src/styles/components/GDisplayFiles\";\nimport {PostToolsGroup} from \"src/app/pages/post/PostToolsGroup\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport XObject from \"src/core/model/XObject\";\nimport {scrollHelper} from \"src/util/scrollUtils\";\nimport {breakpoints} from \"src/util/BrowserUtils\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport {postConstants} from \"../_constants\";\nimport {postSubmit} from \"../store\";\nimport {addPost} from \"../../timeline/store\";\n\nconst connector = connect(\n  (state) => {\n    return {\n      userInfo: state.auth.session?.userinfo,\n    };\n  },\n  {postSubmit, addPost},\n);\n\nexport const PostComposer = connector(_PostComposer);\nfunction _PostComposer({userInfo, isPopup, scenes, trigger, addPost}) {\n  const theme = useTheme();\n  const mobileMatches = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const [text, setText] = useState(\"\");\n  const [gifFile, setGifFile] = useState(null);\n  const [metaData, setMetaData] = useState(null);\n  const [acceptType, setAcceptType] = useState(\"\");\n  const [allFiles, setAllFiles] = useState([]);\n  const [filesToRestore, setFilesToRestore] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [progress, setProgress] = useState(-1);\n  const [metaDataLoading, setMetaDataLoading] = useState(false);\n  const [textareaMaxHeight, setTextareaMaxHeight] = useState(500);\n\n  const fn = () => () => {};\n  const [removeFileFunc, setRemoveFileFunc] = useState(fn);\n  const [insertEmojiFunc, setInsertEmojiFunc] = useState(fn);\n  const [fetchMetadataFunc, setFetchMetadataFunc] = useState(fn);\n  const [uploadFilesFunc, setUploadFilesFunc] = useState(fn);\n\n  const [popupDialogOpen, setPopupDialogOpen] = useState(false);\n  const [isWaiting, setIsWaiting] = useState(false);\n\n  const [closeFunc, setCloseFunc] = useState(null);\n\n  const textLengthLimit = postConstants.COMPOSER_MAX_TEXT_LENGTH;\n\n  /**\n   * Answers the question whether there is enough input\n   * to allow user to post (enble post button)\n   *\n   * @return {boolean} true if can post\n   */\n  const canPost = () => {\n    let currentText = text;\n    let noData = Util.StringIsEmpty(currentText, true);\n    let cleanedData = currentText.trim();\n    return allFiles.length ||\n      gifFile ||\n      (!noData &&\n        cleanedData.length > 0 &&\n        cleanedData.length <= textLengthLimit)\n      ? true\n      : false;\n  };\n\n  /**\n   * Check if there is no text input\n   *\n   * @return {boolean}\n   */\n  const isEmpty = () => {\n    return Util.StringIsEmpty(text) === true && !canPost();\n  };\n\n  const onCancel = () => {\n    if (typeof closeFunc !== \"function\") {\n      return;\n    }\n\n    if (isEmpty()) {\n      resetAll();\n      setPopupDialogOpen(false);\n\n      closeFunc();\n    } else {\n      GConfirmAlert({\n        title: t(\"getter_fe.post.tips.discard_getter\"),\n        text: t(\"getter_fe.post.tips.can_not_be_undone\"),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n          callback: (close) => {\n            setPopupDialogOpen(true);\n            close();\n          },\n        },\n        confirm: {\n          text: t(\"getter_fe.post.button.discard\"),\n          type: \"danger\",\n          callback: (close) => {\n            resetAll();\n            setTimeout(() => {\n              setPopupDialogOpen(false);\n              closeFunc();\n              close();\n            }, 64);\n            scrollHelper.unlock();\n          },\n        },\n      });\n    }\n  };\n\n  const onTextChange = (e) => {\n    let text = e.target.value;\n\n    setText(text);\n\n    setMetaDataLoading(true);\n\n    fetchMetadataFunc &&\n      fetchMetadataFunc(text, (error, result) => {\n        setMetaData(result);\n        setMetaDataLoading(false);\n      });\n  };\n\n  /**\n   * Callback from FileUploader whenever file selection\n   * has changed. This is used when submitting\n   *\n   * @param {Files[]} files\n   */\n  const updateFilesSelected = (fileHandles, displayFiles, type) => {\n    setFilesToRestore(fileHandles);\n    setAllFiles(displayFiles);\n    setAcceptType(type);\n  };\n\n  const getTextareaMaxHeight = () => {\n    const maxHeight = window.document.body.offsetHeight * 0.8 - 180;\n    const newMaxHeight = Math.max(maxHeight, 120);\n    setTextareaMaxHeight(newMaxHeight);\n  };\n\n  const resetAll = () => {\n    setText(\"\");\n\n    setAllFiles([]);\n    setFilesToRestore([]);\n    removeFileFunc && removeFileFunc(\"all\", acceptType);\n\n    setMetaData(null);\n    setGifFile(null);\n    setAcceptType(\"\");\n  };\n\n  const getPlaceholderText = () => {\n    return t(\"getter_fe.post.placeholder.what_is_happening\");\n  };\n\n  const getActionButtons = () => {\n    let postButton = (\n      <GButton\n        onClick={onSubmit}\n        variant=\"contained\"\n        disabled={\n          text.trim().length > textLengthLimit || !canPost() || isLoading\n        }\n      >\n        {t(\"getter_fe.post.button.post\")}\n      </GButton>\n    );\n    let actionButtons = (\n      <div className={clsx(\"action-buttons\", getLang())}>{postButton}</div>\n    );\n\n    return actionButtons;\n  };\n\n  /**\n   * Likely implemented by subclass\n   */\n  const getEmbeddedPostComp = () => {\n    return null;\n  };\n\n  const handleSubmitError = (next, tips) => {\n    GConfirmAlert({\n      title: t(\"getter_fe.post.tips.getter_failed_to_post\"),\n      text: tips || t(\"getter_fe.post.tips.please_try_again\"),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: t(\"getter_fe.post.tips.try_again\"),\n        type: \"confirm\",\n        callback: (close) => {\n          next();\n          close();\n        },\n      },\n    });\n  };\n\n  const handleSubmit = async (filesUploaded) => {\n    if (metaDataLoading) {\n      setIsWaiting(true);\n      return;\n    } // waiting metadata return result\n    const {title, imageUrl, url, description} = metaData || {};\n\n    let appService = Global.GetPortal().getAppService();\n    let xpost = XMPost.CreateNew();\n    xpost.setText(text);\n    if (title || imageUrl) {\n      title && xpost.setPreviewTitle(title);\n      imageUrl && xpost.setPreviewImageURL(imageUrl);\n      url && xpost.setPreviewURL(url);\n      description && xpost.setPreviewDescription(description);\n    }\n\n    if (\n      filesUploaded &&\n      filesUploaded.length === 1 &&\n      /gif|png|jpg|jpeg/.test(filesUploaded[0].ori)\n    ) {\n      xpost.setVideoWidth(filesUploaded[0].width);\n      xpost.setVideoHeight(filesUploaded[0].height);\n    }\n\n    /**\n     * TODO: Code below will be used when the timeline uses redux\n     */\n\n    // let data = {\n    //   txt: text,\n    //   udate: Date.now(),\n    //   cdate: Date.now(),\n    //   uid: userInfo ? userInfo._id : \"\",\n    // };\n\n    // if (filesUploaded && acceptType === postConstants.FILE_TYPE_IMAGE) {\n    //   let imgUrls = [];\n\n    //   for (let i = 0; i < filesUploaded.length; i++) {\n    //     const imgUrl = filesUploaded[i].ori;\n\n    //     imgUrls.push(imgUrl);\n    //   }\n\n    //   data = {...data, imgs: imgUrls};\n    // }\n\n    // if (filesUploaded && acceptType === postConstants.FILE_TYPE_VIDEO) {\n    //   data = {\n    //     ...data,\n    //     vid: filesUploaded[0].m3u8,\n    //     ovid: filesUploaded[0].ori,\n    //     main: filesUploaded[0].screen,\n    //     vid_dur: filesUploaded[0].duration,\n    //     vid_wid: filesUploaded[0].width,\n    //     vid_hgt: filesUploaded[0].height,\n    //   };\n    // }\n\n    // await postSubmit(data);\n\n    appService.submitPost(xpost, filesUploaded, null, (err, result) => {\n      setIsLoading(false);\n      setProgress(-1);\n      if (err) {\n        if (err.data.emsg?.includes(\"limit\")) {\n          toast.info(\n            <NotifMessage message={t(\"getter_fe.post.errors.maxLimit\")} />,\n            {\n              type: toast.TYPE.ERROR,\n            },\n          );\n        } else {\n          toast.info(\n            <NotifMessage message={t(\"getter_fe.post.errors.submitPost\")} />,\n            {\n              type: toast.TYPE.ERROR,\n            },\n          );\n        }\n        return;\n      }\n\n      resetAll();\n\n      if (typeof closeFunc === \"function\") {\n        closeFunc();\n      }\n\n      const _id = XObject.GetId(result);\n      toast.info(\n        <NotifMessage\n          message={\n            <div className={\"notifmesage-with-link\"}>\n              <span>{t(\"getter_fe.post.tips.getter_was_send\")}</span>\n              {_id ? (\n                <Link\n                  className={clsx(\"toastlink\", \"text-link\")}\n                  to={`/post/${_id}`}\n                >\n                  {t(\"getter_fe.post.button.read_it\")}\n                </Link>\n              ) : null}\n            </div>\n          }\n        />,\n        {\n          type: toast.TYPE.SUCCESS,\n        },\n      );\n\n      // Add the result to timeline\n      const xPostItem = result.createXPostItem();\n\n      addPost(xPostItem);\n    });\n  };\n\n  const onSubmit = () => {\n    setIsLoading(true);\n    if (acceptType === \"\") {\n      let gifUrl = null;\n\n      if (gifFile) {\n        gifUrl = [\n          {\n            ori: gifFile?.images?.original?.url,\n            width: gifFile?.images?.original?.width,\n            height: gifFile?.images?.original?.height,\n          },\n        ];\n      }\n      handleSubmit(gifUrl);\n    } else {\n      setProgress(0);\n      uploadFilesFunc &&\n        uploadFilesFunc((realUrls, progress, error) => {\n          if (error) {\n            setIsLoading(false);\n            return;\n          }\n          setProgress(progress || 99);\n\n          if (realUrls && realUrls[0]?.ori) {\n            handleSubmit(realUrls);\n          } else if (realUrls && realUrls[0]) {\n            setIsLoading(false);\n            handleSubmitError(onSubmit, realUrls[0]);\n          }\n        });\n    }\n  };\n\n  useEffect(() => {\n    if (isLoading && !metaDataLoading && isWaiting) {\n      handleSubmit();\n      setIsWaiting(false);\n    }\n  }, [isLoading, metaDataLoading, isWaiting]);\n\n  let nickname = userInfo ? userInfo.nickname : null;\n  let postBox = (\n    <GMentionsInput\n      value={text}\n      onChange={onTextChange}\n      placeholder={getPlaceholderText(nickname)}\n      style={{\n        maxHeight: textareaMaxHeight,\n        minHeight:\n          isPopup && breakpoints(600) ? (allFiles.length ? 30 : 120) : \"\",\n      }}\n      setupInsertEmoji={(insertEmoji) => {\n        setInsertEmojiFunc(() => {\n          return insertEmoji;\n        });\n      }}\n      id=\"textarea-post\"\n      autoFocus={!!isPopup}\n      focus={mobileMatches && scrollHelper.disableScroll}\n      blur={mobileMatches && scrollHelper.enableScroll}\n    />\n  );\n\n  let avatarUrl = userInfo ? userInfo.ico : null;\n\n  let comp = (\n    <Fragment>\n      <div className={`post-composer ${isPopup && \"is-in-popup\"}`}>\n        {isLoading && (\n          <GLoader\n            progress={progress}\n            isPopup={!isPopup}\n            notCloseOnDocumentClick={true}\n            tips={t(\"getter_fe.post.tips.popup_loader_tips\")}\n          />\n        )}\n        <div className=\"post-avatar\">\n          <AvatarLink\n            avatarUrl={userInfo && avatarUrl}\n            styleClasses=\"avatar\"\n            userId={userInfo?._id}\n            username={userInfo?.nickname}\n          />\n        </div>\n        <div className=\"post-box\">\n          {postBox}\n          {getEmbeddedPostComp()}\n          <GDisplayFiles\n            files={allFiles}\n            type={acceptType}\n            onDelete={(index, acceptType) => {\n              removeFileFunc(index, acceptType);\n            }}\n            gif={gifFile}\n            onGifDelete={() => setGifFile(null)}\n          />\n\n          {allFiles.length === 0 && <div className=\"empty-space\"></div>}\n\n          <PreviewContent\n            previewMetaData={metaData}\n            setupFetchMetadata={(fetchMetadata) => {\n              setFetchMetadataFunc(() => {\n                return fetchMetadata;\n              });\n            }}\n            scene=\"post\"\n          />\n\n          <div\n            className=\"action-bar\"\n            style={{\n              marginTop:\n                isPopup && !mobileMatches && !allFiles.length && \"10px\",\n            }}\n          >\n            <PostToolsGroup\n              onSelectFiles={updateFilesSelected}\n              onSelectGiphy={(gif) => {\n                setGifFile(gif);\n              }}\n              onSelectEmoji={(e, {emoji}) => {\n                insertEmojiFunc && insertEmojiFunc(emoji);\n              }}\n              setupDeleteFile={(removeFile) => {\n                setRemoveFileFunc(() => {\n                  return removeFile;\n                });\n              }}\n              setupUploadFiles={(uploadFiles) =>\n                setUploadFilesFunc(() => {\n                  return uploadFiles;\n                })\n              }\n              scenes={scenes}\n              gif={gifFile}\n              filesToRestore={filesToRestore}\n            />\n            <div\n              style={{whiteSpace: \"nowrap\"}}\n              className={`text-length-limit ${\n                !isEmpty() && !canPost() && \"is-exceed\"\n              }`}\n            >\n              {!isEmpty() &&\n                !canPost() &&\n                `${textLengthLimit - (text || \"\").trim().length}`}\n\n              {!isEmpty() &&\n                canPost() &&\n                `${(text || \"\").trim().length} / ${textLengthLimit}`}\n            </div>\n            {!breakpoints(600) && getActionButtons()}\n          </div>\n        </div>\n      </div>\n      <div className={\"post-composer-divider\"}></div>\n    </Fragment>\n  );\n\n  if (isPopup) {\n    comp = (\n      <div onClick={onCancel}>\n        <PopupDialogNew\n          open={popupDialogOpen}\n          trigger={trigger}\n          setPopupDialogOpen={setPopupDialogOpen}\n          headerContent={t(\"getter_fe.post.text.post\")}\n          hasMounted={() => getTextareaMaxHeight}\n          contentStyle={{marginTop: \"max(15px, 5vh)\"}}\n          className=\"popup-post\"\n          onOpen={() => scrollHelper.lock()}\n          showCloseIcon\n          setCloseFunc={setCloseFunc}\n          onCancel={onCancel}\n          customHeader={\n            breakpoints(600) && (\n              <GBackTitle\n                className=\"mobile-GBackTitle-with-post\"\n                handleClick={onCancel}\n                rightPart={getActionButtons()}\n              />\n            )\n          }\n        >\n          {comp}\n        </PopupDialogNew>\n      </div>\n    );\n  }\n\n  return comp;\n}\n","import React from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    menuItemContainer: {\n      display: \"flex\",\n      alignItems: \"center\",\n      color: theme.palette.secondary.main,\n      padding: \"8px 7px\",\n      \"&:hover\": {\n        backgroundColor: theme.palette.grey.A300,\n      },\n      transition: \"all 100ms ease-in\",\n\n      \"&:first-child\": {\n        borderTopLeftRadius: 6,\n        borderTopRightRadius: 6,\n      },\n\n      \"&:last-child\": {\n        borderBottomLeftRadius: 6,\n        borderBottomRightRadius: 6,\n      },\n\n      \"& .icon\": {\n        marginRight: \"12px\",\n        \"&:hover\": {\n          backgroundColor: \"transparent\", // overwrite css variable --icon-hover-background-color\n        },\n      },\n\n      \"& > .wrapper\": {\n        display: \"flex\",\n        \"& .icon\": {\n          \"& svg\": {\n            fontSize: 20,\n            width: \"1em\",\n            height: \"1em\",\n          },\n        },\n      },\n\n      \"& .separator\": {\n        padding: 0,\n        borderBottom: theme.notchedOutline.border,\n      },\n    },\n    menuItemName: {\n      lineHeight: \"29px\",\n      color: theme.palette.text.main,\n    },\n  }),\n);\n\n/**\n *\n *\n * @param {string} userId username to follow/unfollow\n * @param {string} compName component name (optional)\n */\n\nconst NewMenuItem = ({\n  className,\n  doClick,\n  icon,\n  overrideContentComp,\n  role,\n  text,\n  url,\n}) => {\n  const classes = useStyles();\n  const isSeparator = role === \"separator\";\n\n  const contentComp = overrideContentComp ? (\n    <div className=\"wrapper\">{overrideContentComp}</div>\n  ) : (\n    <div className=\"wrapper\">\n      <div className=\"icon\">\n        {React.isValidElement(icon) ? <div>{icon}</div> : null}\n      </div>\n      <div className={classes.menuItemName}>{text}</div>\n    </div>\n  );\n\n  return (\n    <div\n      className={`${classes.menuItemContainer} ${\n        isSeparator ? \"separator\" : className\n      }`}\n      onClick={(e) => doClick(e, url)}\n    >\n      {isSeparator ? null : contentComp}\n    </div>\n  );\n};\n\nexport default NewMenuItem;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.08301 19.167C2.97844 19.167 2.0564 18.2545 2.36208 17.1931C2.72155 15.9449 3.41917 14.7946 4.40175 13.8637C5.88641 12.4572 7.90004 11.667 9.99967 11.667C12.0993 11.667 14.1129 12.4572 15.5976 13.8637C16.5802 14.7946 17.2778 15.9449 17.6373 17.1931C17.9429 18.2545 17.0209 19.167 15.9163 19.167H4.08301Z\",\n  stroke: \"#737881\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.93041 10.4413C7.37254 10.4413 5.30078 8.29148 5.30078 5.63717C5.30078 2.98287 7.37254 0.833008 9.93041 0.833008C12.4883 0.833008 14.56 2.98287 14.56 5.63717C14.56 8.29148 12.4883 10.4413 9.93041 10.4413Z\",\n  stroke: \"#737881\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgProfile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgProfile);\nexport default __webpack_public_path__ + \"static/media/profile.e096c449.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.95958 8.43925C0.87768 8.95035 0.834961 9.47494 0.834961 10.0104C0.834961 10.5457 0.877548 11.0697 0.958947 11.5796C1.03469 12.054 1.4797 12.3522 1.94441 12.4742C2.16497 12.5321 2.37878 12.6185 2.58066 12.7321C3.02669 12.983 3.3971 13.3571 3.65093 13.8129C3.90475 14.2687 4.03209 14.7885 4.01886 15.3147C4.01231 15.575 3.97149 15.8319 3.89845 16.0785C3.76721 16.5216 3.80022 17.0318 4.15042 17.3333C4.92933 18.004 5.81 18.5359 6.75637 18.9076C7.20774 19.0849 7.69246 18.8436 8.02285 18.4886C8.18325 18.3163 8.36468 18.1648 8.56338 18.0383C8.99602 17.763 9.49364 17.6173 10.0012 17.6173C10.5087 17.6173 11.0063 17.763 11.439 18.0383C11.6377 18.1648 11.8191 18.3163 11.9795 18.4886C12.3099 18.8436 12.7946 19.0849 13.246 18.9076C14.1924 18.5359 15.0732 18.0039 15.8522 17.3331C16.2022 17.0317 16.2353 16.5216 16.1043 16.0787C16.0313 15.8321 15.9906 15.5753 15.9841 15.315C15.971 14.7889 16.0984 14.2693 16.3522 13.8136C16.6059 13.358 16.9763 12.984 17.4221 12.7331C17.6241 12.6195 17.838 12.5331 18.0586 12.4752C18.523 12.3532 18.9678 12.0554 19.0437 11.5813C19.1256 11.0703 19.1683 10.5458 19.1683 10.0104C19.1683 9.47526 19.1256 8.95097 19.0438 8.44043C18.9679 7.96633 18.5231 7.66863 18.0586 7.54681C17.8378 7.48889 17.6238 7.40248 17.4217 7.28877C16.9756 7.03783 16.6052 6.66375 16.3514 6.20794C16.0976 5.75213 15.9702 5.23236 15.9835 4.70612C15.99 4.44581 16.0308 4.18893 16.1039 3.94236C16.2351 3.49928 16.2021 2.989 15.8519 2.68748C15.073 2.01685 14.1923 1.48488 13.246 1.11319C12.7946 0.935904 12.3099 1.17727 11.9795 1.53224C11.8191 1.70458 11.6377 1.85608 11.439 1.98251C11.0063 2.2578 10.5087 2.4035 10.0012 2.4035C9.49364 2.4035 8.99602 2.2578 8.56338 1.98251C8.36468 1.85608 8.18326 1.70458 8.02285 1.53224C7.69246 1.17727 7.20774 0.935904 6.75637 1.11319C5.80989 1.48493 4.92914 2.01697 4.15015 2.68771C3.80009 2.98913 3.76698 3.4992 3.89805 3.94216C3.97098 4.18865 4.01172 4.44541 4.01822 4.7056C4.03136 5.2316 3.90405 5.75112 3.65037 6.20674C3.3967 6.66236 3.02653 7.03632 2.58079 7.2873C2.37886 7.401 2.16498 7.48745 1.94434 7.54544C1.48008 7.66746 1.03553 7.96527 0.95958 8.43925Z\",\n  stroke: \"#737881\",\n  strokeWidth: 1.2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.99896 12.7589C9.45372 12.7589 8.92073 12.5971 8.46738 12.294C8.01403 11.9909 7.6607 11.5601 7.45205 11.0561C7.24339 10.5521 7.18878 9.99747 7.29515 9.4624C7.40153 8.92734 7.66409 8.43585 8.04963 8.05009C8.43517 7.66433 8.92639 7.40162 9.46115 7.29519C9.99591 7.18876 10.5502 7.24338 11.0539 7.45215C11.5577 7.66093 11.9882 8.01447 12.2911 8.46808C12.594 8.92168 12.7557 9.45498 12.7557 10.0005C12.7557 10.3628 12.6844 10.7214 12.5459 11.0561C12.4073 11.3907 12.2043 11.6948 11.9483 11.951C11.6923 12.2071 11.3884 12.4103 11.0539 12.5489C10.7195 12.6875 10.361 12.7589 9.99896 12.7589Z\",\n  stroke: \"#737881\",\n  strokeWidth: 1.2,\n  strokeMiterlimit: 10\n});\n\nfunction SvgSettings(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSettings);\nexport default __webpack_public_path__ + \"static/media/settings.2f12bb4a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5732 13.3236L19.167 10.0007L15.5732 6.67773\",\n  stroke: \"#737881\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.0941 10.001H8.02637\",\n  stroke: \"#737881\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.3542 14.167V17.2087C12.3542 17.8285 11.8594 18.3337 11.25 18.3337H3.60417C2.99479 18.3337 2.5 17.8285 2.5 17.2087V2.79199C2.5 2.1722 2.99479 1.66699 3.60417 1.66699H11.25C11.8594 1.66699 12.3542 2.1722 12.3542 2.79199V5.77637\",\n  stroke: \"#737881\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgLogout(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogout);\nexport default __webpack_public_path__ + \"static/media/logout.ea28e640.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useEffect, useState} from \"react\";\nimport {useSelector} from \"react-redux\";\nimport {useHistory} from \"react-router-dom\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport Popover from \"@material-ui/core/Popover\";\n\nimport MenuItem from \"./MenuItem\";\nimport {AvatarLink} from \"./AvatarLink\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\n\nimport {ReactComponent as KebobMenuIcon} from \"../../assets/icons/icon_more_vertical.svg\";\nimport {ReactComponent as ProfileIcon} from \"../../assets/icons/profile.svg\";\nimport {ReactComponent as SettingsIcon} from \"../../assets/icons/settings.svg\";\nimport {ReactComponent as LogOutIcon} from \"../../assets/icons/logout.svg\";\nimport {t} from \"../../i18n/utils\";\nimport AppConsts from \"../AppConsts\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      \"& .user-menu-trigger\": {\n        // width: \"calc(100% - 10px)\",\n        width: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        borderRadius: 100,\n        padding: 6,\n\n        \"&:hover\": {\n          background: theme.palette.grey[100],\n          backgroundColor: \"#EDF7FF\",\n        },\n\n        \"& .avatar\": {\n          ...theme.mixins.avatar,\n          width: 40,\n          height: 40,\n        },\n\n        \"& .user-info\": {\n          padding: \"2px 15px\",\n          maxWidth: 125,\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"space-between\",\n          alignItems: \"flex-start\",\n\n          \"& .nickname\": {\n            whiteSpace: \"nowrap\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            fontWeight: \"bold\",\n            fontSize: \"16px\",\n            lineHeight: \"19px\",\n            maxWidth: 125,\n          },\n\n          \"& .username\": {\n            fontWeight: 500,\n            color: theme.palette.text.gray,\n            fontSize: 13,\n            lineHeight: \"17px\",\n            textAlign: \"left\",\n            \"&:before\": {\n              content: '\"@\"',\n            },\n          },\n        },\n\n        \"& .kebobMenu\": {\n          position: \"absolute\",\n          right: 6,\n          height: \"24px\",\n          width: \"24px\",\n          fill: theme.palette.secondary.gray,\n        },\n      },\n    },\n    dropdownContent: {\n      cursor: \"pointer\",\n      width: theme.spacing(28),\n      borderRadius: 6,\n      margin: 0,\n      borderColor: \"#e3e9ee\",\n      boxShadow: \"0 0 7px #00000023\",\n      marginTop: theme.spacing(-1),\n    },\n    leftContentContainer: {\n      display: \"flex\",\n    },\n    smallDropdownContent: {\n      bottom: 6,\n      left: 59,\n    },\n  }),\n);\n\nconst UserMenu = ({small}) => {\n  const history = useHistory();\n  const classes = useStyles();\n  const {session} = useSelector((state) => state.auth);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [userInfo, setUserInfo] = useState(null);\n\n  useEffect(() => {\n    if (!session?.authenticated) {\n      history.push(\"/logout\");\n    }\n    setUserInfo(session.userinfo);\n  }, [session]);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n    setOpen(false);\n  };\n\n  const getUserMenuTrigger = () => {\n    let avatarUrl = userInfo?.ico;\n    const nickname = userInfo?.nickname;\n    const username = userInfo?.ousername;\n    let comp = (\n      <div className=\"user-menu-trigger\">\n        <div className={classes.leftContentContainer}>\n          <AvatarLink\n            avatarUrl={avatarUrl}\n            styleClasses=\"avatar\"\n            userId={userInfo?._id}\n            username={userInfo?.nickname}\n            disableHistoryPush={true}\n            noRedirect={true}\n          />\n          {!small && (\n            <div className=\"user-info\">\n              <div className=\"nickname\">\n                <GTwemoji text={nickname || username || \"-\"} size={18} />\n              </div>\n              <div className=\"username\">\n                <GTwemoji text={username} size={18} />\n              </div>\n            </div>\n          )}\n        </div>\n        {!small && <KebobMenuIcon className=\"kebobMenu\" />}\n      </div>\n    );\n\n    return comp;\n  };\n\n  const goUrl = (e, url = null) => {\n    e.preventDefault();\n\n    const nickName = userInfo?.nickname || userInfo?._id;\n    handleClose();\n\n    if (AppConsts.URL_LOGOUT === url) {\n      GConfirmAlert({\n        title: nickName,\n        text: t(\"getter_fe.auth.common.logOutConfirm\"),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n        },\n        confirm: {\n          text: t(\"getter_fe.menu.common.logout\"),\n          type: \"danger\",\n          callback: (close) => {\n            if (url != null) history.push(url);\n            close();\n            // toast.info(\n            //   <NotifMessage\n            //     message={t(\"getter_fe.auth.common.youLoggedOut\")}\n            //   />,\n            //   {\n            //     type: toast.TYPE.SUCCESS,\n            //   },\n            // );\n          },\n        },\n        showCloseIcon: false,\n      });\n      return;\n    }\n\n    if (url != null) history.push(url);\n  };\n\n  return (\n    <div className={clsx(classes.root, \"dropdown\")}>\n      <span\n        aria-describedby=\"user-menu\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={handleClick}\n      >\n        {getUserMenuTrigger()}\n      </span>\n      <Popover\n        id=\"user-menu\"\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        classes={{\n          paper: classes.dropdownContent,\n        }}\n      >\n        <MenuItem\n          text={t(\"getter_fe.menu.common.profile\")}\n          icon={<ProfileIcon />}\n          doClick={goUrl}\n          url={`/user/${userInfo?._id}`}\n        />\n        <MenuItem\n          text={t(\"getter_fe.menu.common.settings\")}\n          icon={<SettingsIcon />}\n          doClick={goUrl}\n          url={`/settings/change-password`}\n        />\n        <MenuItem\n          text={t(\"getter_fe.menu.common.logout\")}\n          icon={<LogOutIcon />}\n          doClick={goUrl}\n          url={AppConsts.URL_LOGOUT}\n        />\n      </Popover>\n    </div>\n  );\n};\n\nexport default UserMenu;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.37695 9.71502V22.0645H10.0853V15.661H13.9186V22.0645L20.627 22.0645V9.71502L12.002 1.93945L3.37695 9.71502Z\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.45996 11.5228L12.0016 1.93945C12.0016 1.93945 18.4265 7.40601 22.5433 11.5228\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoHome(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoHome);\nexport default __webpack_public_path__ + \"static/media/ico-home.e44e7899.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 10.5971V22.666C3 23.2183 3.44772 23.666 4 23.666H9C9.55228 23.666 10 23.2183 10 22.666V16.666H14V22.666C14 23.2183 14.4477 23.666 15 23.666L20 23.666C20.5523 23.666 21 23.2183 21 22.666V10.5971C21 10.3219 20.8866 10.059 20.6866 9.87005L12 1.66602L3.31338 9.87005C3.11335 10.059 3 10.3219 3 10.5971Z\",\n  fill: \"#232255\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 11.666L12 1.66602C12 1.66602 18.7042 7.37025 23 11.666\",\n  stroke: \"#232255\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoHomeActived(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoHomeActived);\nexport default __webpack_public_path__ + \"static/media/ico-home-actived.aaca9fe5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M2.35566 8.34787C2.35566 4.75531 5.26801 1.84297 8.86057 1.84297C12.4531 1.84297 15.3655 4.75531 15.3655 8.34787C15.3655 11.9404 12.4531 14.8528 8.86057 14.8528C5.26801 14.8528 2.35566 11.9404 2.35566 8.34787ZM8.86057 0.0429688C4.2739 0.0429688 0.555664 3.7612 0.555664 8.34787C0.555664 12.9345 4.2739 16.6528 8.86057 16.6528C10.5715 16.6528 12.1616 16.1354 13.4829 15.2486C13.4834 15.249 13.4839 15.2495 13.4843 15.25L17.9076 19.6733C18.2591 20.0247 18.8289 20.0247 19.1804 19.6733C19.5319 19.3218 19.5319 18.7519 19.1804 18.4005L14.8651 14.0852C16.2902 12.5942 17.1655 10.5732 17.1655 8.34787C17.1655 3.7612 13.4472 0.0429688 8.86057 0.0429688Z\",\n  fill: \"black\"\n});\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.aa7f1fad.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M3.95557 9.34827C3.95557 6.08708 6.59928 3.44336 9.86047 3.44336C13.1217 3.44336 15.7654 6.08708 15.7654 9.34827C15.7654 12.6095 13.1217 15.2532 9.86047 15.2532C6.59928 15.2532 3.95557 12.6095 3.95557 9.34827ZM9.86047 0.443359C4.94243 0.443359 0.955566 4.43022 0.955566 9.34827C0.955566 14.2663 4.94243 18.2532 9.86047 18.2532C11.7375 18.2532 13.4789 17.6724 14.9147 16.6808L18.4833 20.2494C19.069 20.8352 20.0188 20.8352 20.6046 20.2494C21.1904 19.6636 21.1904 18.7138 20.6046 18.1281L17.0627 14.5862C18.1336 13.1163 18.7654 11.3061 18.7654 9.34827C18.7654 4.43022 14.7785 0.443359 9.86047 0.443359Z\",\n  fill: \"#0F6CF6\"\n});\n\nfunction SvgSearchActivated(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 21,\n    viewBox: \"0 0 22 21\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearchActivated);\nexport default __webpack_public_path__ + \"static/media/search-activated.96259e3d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.5 23C3.39543 23 2.47709 22.0927 2.73315 21.0182C3.12555 19.3716 4.00255 17.8486 5.28249 16.636C7.06408 14.9482 9.48044 14 12 14C14.5196 14 16.9359 14.9482 18.7175 16.636C19.9975 17.8486 20.8744 19.3716 21.2668 21.0182C21.5229 22.0927 20.6046 23 19.5 23H4.5Z\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.9169 12.53C8.84744 12.53 6.36133 9.95016 6.36133 6.765C6.36133 3.57984 8.84744 1 11.9169 1C14.9863 1 17.4724 3.57984 17.4724 6.765C17.4724 9.95016 14.9863 12.53 11.9169 12.53Z\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoProfile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoProfile);\nexport default __webpack_public_path__ + \"static/media/ico-profile.0c17f28a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.5 23C3.39543 23 2.47709 22.0927 2.73315 21.0182C3.12555 19.3716 4.00255 17.8486 5.28249 16.636C7.06408 14.9482 9.48044 14 12 14C14.5196 14 16.9359 14.9482 18.7175 16.636C19.9975 17.8486 20.8744 19.3716 21.2668 21.0182C21.5229 22.0927 20.6046 23 19.5 23H4.5Z\",\n  fill: \"#232255\",\n  stroke: \"#232255\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.9169 12.53C8.84744 12.53 6.36133 9.95016 6.36133 6.765C6.36133 3.57984 8.84744 1 11.9169 1C14.9863 1 17.4724 3.57984 17.4724 6.765C17.4724 9.95016 14.9863 12.53 11.9169 12.53Z\",\n  fill: \"#232255\",\n  stroke: \"#232255\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoProfileActived(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoProfileActived);\nexport default __webpack_public_path__ + \"static/media/ico-profile-actived.944873a4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.17882 9.96314C1.06274 10.6278 1.00195 11.312 1.00195 12.0117C1.00195 12.7113 1.06258 13.395 1.17799 14.0581C1.26037 14.5315 1.70166 14.8326 2.17205 14.9304C2.49379 14.9973 2.80563 15.1139 3.0968 15.2777C3.63202 15.5788 4.07652 16.0277 4.38111 16.5747C4.68571 17.1217 4.83851 17.7454 4.82263 18.3769C4.81343 18.7424 4.74792 19.1023 4.63002 19.4434C4.47905 19.8802 4.51595 20.3891 4.86183 20.6956C5.86773 21.5868 7.02042 22.2823 8.26417 22.7485C8.71826 22.9187 9.2039 22.682 9.51629 22.311C9.73466 22.0518 9.9905 21.8269 10.2761 21.6452C10.7952 21.3149 11.3924 21.14 12.0014 21.14C12.6104 21.14 13.2076 21.3149 13.7267 21.6452C14.0123 21.8269 14.2681 22.0518 14.4865 22.311C14.7989 22.682 15.2845 22.9187 15.7386 22.7485C16.9825 22.2822 18.1353 21.5867 19.1412 20.6954C19.487 20.389 19.524 19.8802 19.3732 19.4436C19.2554 19.1025 19.19 18.7427 19.1809 18.3772C19.1652 17.7459 19.318 17.1224 19.6226 16.5756C19.9271 16.0288 20.3715 15.5801 20.9066 15.279C21.1978 15.1151 21.5096 14.9985 21.8314 14.9316C22.3015 14.8338 22.7425 14.533 22.8251 14.06C22.9412 13.3954 23.002 12.7113 23.002 12.0117C23.002 11.3124 22.9412 10.6285 22.8253 9.9645C22.7426 9.49152 22.3016 9.19086 21.8314 9.09322C21.5095 9.02635 21.1974 8.90968 20.906 8.74575C20.3708 8.44461 19.9263 7.99573 19.6217 7.44875C19.3171 6.90178 19.1643 6.27805 19.1802 5.64656C19.1894 5.281 19.2549 4.92109 19.3728 4.58003C19.5238 4.14328 19.4869 3.6343 19.141 3.32784C18.1351 2.43662 16.9824 1.74119 15.7386 1.27497C15.2845 1.10476 14.7989 1.34148 14.4865 1.7124C14.2681 1.97168 14.0123 2.19653 13.7267 2.37823C13.2076 2.70857 12.6104 2.88342 12.0014 2.88342C11.3924 2.88342 10.7952 2.70857 10.2761 2.37823C9.9905 2.19653 9.73466 1.97168 9.51629 1.7124C9.2039 1.34148 8.71826 1.10476 8.26417 1.27497C7.02032 1.74123 5.86753 2.43674 4.86157 3.32807C4.51582 3.63443 4.47883 4.14319 4.62961 4.57985C4.74734 4.92079 4.81274 5.28055 4.82187 5.64594C4.83763 6.27714 4.68486 6.90056 4.38045 7.44731C4.07603 7.99405 3.63183 8.44281 3.09694 8.74398C2.80579 8.90792 2.49394 9.02465 2.17217 9.09165C1.70223 9.1895 1.2614 9.49026 1.17882 9.96314Z\",\n  strokeWidth: 1.8\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.9986 15.3095C11.3443 15.3095 10.7047 15.1153 10.1607 14.7516C9.61664 14.3879 9.19265 13.871 8.94226 13.2661C8.69188 12.6613 8.62635 11.9958 8.75399 11.3537C8.88164 10.7116 9.19671 10.1218 9.65936 9.65894C10.122 9.19603 10.7115 8.88077 11.3532 8.75306C11.9949 8.62534 12.66 8.69089 13.2645 8.94141C13.869 9.19194 14.3857 9.61619 14.7492 10.1605C15.1127 10.7048 15.3067 11.3448 15.3067 11.9995C15.3067 12.4341 15.2211 12.8645 15.0548 13.2661C14.8886 13.6677 14.6449 14.0326 14.3377 14.34C14.0306 14.6473 13.6659 14.8912 13.2645 15.0575C12.8631 15.2238 12.433 15.3095 11.9986 15.3095Z\",\n  strokeWidth: 1.8,\n  strokeMiterlimit: 10\n});\n\nfunction SvgIcoSettings(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoSettings);\nexport default __webpack_public_path__ + \"static/media/ico-settings.376348e4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.17888 9.96365C1.0628 10.6283 1.00202 11.3125 1.00202 12.0122C1.00202 12.7119 1.06265 13.3955 1.17806 14.0586C1.26044 14.532 1.70172 14.8331 2.17212 14.9309C2.49386 14.9978 2.80569 15.1144 3.09686 15.2782C3.63209 15.5793 4.07659 16.0282 4.38118 16.5752C4.68577 17.1222 4.83858 17.7459 4.82269 18.3774C4.8135 18.7429 4.74798 19.1029 4.63009 19.4439C4.47912 19.8807 4.51602 20.3897 4.8619 20.6961C5.86779 21.5873 7.02049 22.2828 8.26424 22.749C8.71832 22.9192 9.20397 22.6825 9.51635 22.3115C9.73472 22.0523 9.99056 21.8274 10.2761 21.6457C10.7953 21.3154 11.3924 21.1405 12.0015 21.1405C12.6105 21.1405 13.2076 21.3154 13.7268 21.6457C14.0124 21.8274 14.2682 22.0523 14.4866 22.3115C14.799 22.6825 15.2846 22.9192 15.7387 22.749C16.9825 22.2827 18.1353 21.5872 19.1413 20.6959C19.487 20.3895 19.524 19.8807 19.3732 19.4441C19.2555 19.1031 19.1901 18.7432 19.181 18.3777C19.1652 17.7464 19.3181 17.1229 19.6226 16.5761C19.9272 16.0293 20.3716 15.5806 20.9066 15.2795C21.1978 15.1156 21.5097 14.999 21.8315 14.9321C22.3016 14.8343 22.7426 14.5335 22.8252 14.0605C22.9413 13.3959 23.002 12.7118 23.002 12.0122C23.002 11.3129 22.9413 10.629 22.8253 9.96501C22.7427 9.49203 22.3016 9.19137 21.8315 9.09374C21.5095 9.02686 21.1974 8.9102 20.9061 8.74626C20.3708 8.44512 19.9263 7.99624 19.6218 7.44927C19.3172 6.90229 19.1644 6.27856 19.1802 5.64707C19.1894 5.28151 19.255 4.92161 19.3728 4.58054C19.5238 4.14379 19.4869 3.63481 19.141 3.32836C18.1351 2.43713 16.9824 1.7417 15.7387 1.27548C15.2846 1.10527 14.799 1.342 14.4866 1.71291C14.2682 1.97219 14.0124 2.19704 13.7268 2.37874C13.2076 2.70909 12.6105 2.88394 12.0015 2.88394C11.3924 2.88394 10.7953 2.70909 10.2761 2.37874C9.99056 2.19704 9.73472 1.97219 9.51635 1.71291C9.20397 1.342 8.71832 1.10527 8.26424 1.27548C7.02038 1.74174 5.86759 2.43725 4.86164 3.32859C4.51589 3.63494 4.4789 4.14371 4.62968 4.58036C4.74741 4.92131 4.8128 5.28106 4.82193 5.64645C4.8377 6.27765 4.68493 6.90108 4.38051 7.44782C4.0761 7.99456 3.6319 8.44332 3.09701 8.74449C2.80585 8.90843 2.494 9.02516 2.17224 9.09216C1.70229 9.19001 1.26147 9.49078 1.17888 9.96365Z\",\n  fill: \"#232255\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.17888 9.96365L0.587829 9.86042L0.587829 9.86042L1.17888 9.96365ZM2.17224 9.09216L2.04993 8.50476L2.04993 8.50476L2.17224 9.09216ZM3.09701 8.74449L3.39138 9.26732L3.39138 9.26731L3.09701 8.74449ZM4.38051 7.44782L3.85629 7.15594L3.85629 7.15594L4.38051 7.44782ZM4.82193 5.64645L4.22212 5.66144L4.22212 5.66144L4.82193 5.64645ZM4.62968 4.58036L5.19682 4.38452L5.19682 4.38452L4.62968 4.58036ZM4.86164 3.32859L4.46373 2.87951L4.46373 2.87951L4.86164 3.32859ZM8.26424 1.27548L8.47484 1.83731L8.47484 1.83731L8.26424 1.27548ZM9.51635 1.71291L9.05743 2.09942L9.05743 2.09942L9.51635 1.71291ZM10.2761 2.37874L10.5982 1.87253L10.5982 1.87253L10.2761 2.37874ZM13.7268 2.37874L14.0489 2.88495L14.0489 2.88495L13.7268 2.37874ZM14.4866 1.71291L14.9455 2.09942L14.9455 2.09942L14.4866 1.71291ZM15.7387 1.27548L15.5281 1.83731L15.5281 1.83731L15.7387 1.27548ZM19.141 3.32836L19.5389 2.87927L19.5389 2.87927L19.141 3.32836ZM19.3728 4.58054L18.8058 4.38453L18.8058 4.38453L19.3728 4.58054ZM19.1802 5.64707L18.5804 5.63199L18.5804 5.63199L19.1802 5.64707ZM19.6218 7.44927L20.146 7.15736L20.146 7.15736L19.6218 7.44927ZM20.9061 8.74626L20.6119 9.26918L20.6119 9.26918L20.9061 8.74626ZM21.8315 9.09374L21.9535 8.50627L21.9535 8.50627L21.8315 9.09374ZM22.8253 9.96501L22.2343 10.0682L22.2343 10.0682L22.8253 9.96501ZM23.002 12.0122L22.402 12.0122L23.002 12.0122ZM22.8252 14.0605L22.2341 13.9573L22.2341 13.9573L22.8252 14.0605ZM21.8315 14.9321L21.7093 14.3446L21.7093 14.3446L21.8315 14.9321ZM20.9066 15.2795L20.6124 14.7566L20.6124 14.7566L20.9066 15.2795ZM19.6226 16.5761L20.1468 16.8681L20.1468 16.8681L19.6226 16.5761ZM19.181 18.3777L19.7808 18.3628L19.7808 18.3628L19.181 18.3777ZM19.3732 19.4441L19.9404 19.2482L19.9404 19.2482L19.3732 19.4441ZM19.1413 20.6959L19.5392 21.145L19.5392 21.145L19.1413 20.6959ZM15.7387 22.749L15.9493 23.3108L15.9493 23.3108L15.7387 22.749ZM14.4866 22.3115L14.0277 22.6981L14.0277 22.6981L14.4866 22.3115ZM13.7268 21.6457L13.4047 22.1519L13.4047 22.1519L13.7268 21.6457ZM10.2761 21.6457L10.5982 22.1519L10.5982 22.1519L10.2761 21.6457ZM9.51635 22.3115L9.97528 22.6981L9.97528 22.6981L9.51635 22.3115ZM8.26424 22.749L8.05364 23.3108L8.05364 23.3108L8.26424 22.749ZM4.8619 20.6961L5.25979 20.247L5.25979 20.247L4.8619 20.6961ZM4.63009 19.4439L5.19717 19.6399L5.19717 19.6399L4.63009 19.4439ZM4.82269 18.3774L5.4225 18.3925L5.4225 18.3925L4.82269 18.3774ZM4.38118 16.5752L3.85698 16.8671L3.85698 16.8671L4.38118 16.5752ZM3.09686 15.2782L2.80265 15.8011L2.80265 15.8011L3.09686 15.2782ZM2.17212 14.9309L2.29426 14.3434L2.29426 14.3434L2.17212 14.9309ZM1.17806 14.0586L0.586944 14.1615L0.586944 14.1615L1.17806 14.0586ZM1.60202 12.0122C1.60202 11.3474 1.65977 10.6977 1.76994 10.0669L0.587829 9.86042C0.465834 10.559 0.402018 11.2777 0.402018 12.0122H1.60202ZM2.29455 9.67956C2.6768 9.59997 3.04667 9.46141 3.39138 9.26732L2.80263 8.22167C2.56504 8.35545 2.31121 8.45035 2.04993 8.50476L2.29455 9.67956ZM3.39138 9.26731C4.02468 8.91073 4.54758 8.38116 4.90473 7.73969L3.85629 7.15594C3.60462 7.60796 3.23911 7.97591 2.80263 8.22167L3.39138 9.26731ZM4.90473 7.73969C5.26181 7.09838 5.44016 6.36886 5.42174 5.63147L4.22212 5.66144C4.23523 6.18644 4.10805 6.70378 3.85629 7.15594L4.90473 7.73969ZM5.42174 5.63147C5.41108 5.20444 5.33465 4.78369 5.19682 4.38452L4.06254 4.7762C4.16016 5.05893 4.21453 5.35768 4.22212 5.66144L5.42174 5.63147ZM5.25955 3.77766C6.21114 2.9345 7.30059 2.27747 8.47484 1.83731L8.05364 0.713656C6.74017 1.20601 5.52405 1.94001 4.46373 2.87951L5.25955 3.77766ZM9.05743 2.09942C9.31444 2.40458 9.61623 2.67001 9.95402 2.88495L10.5982 1.87253C10.3649 1.72406 10.155 1.5398 9.97528 1.3264L9.05743 2.09942ZM9.95402 2.88495C10.5684 3.27588 11.2771 3.48394 12.0015 3.48394L12.0015 2.28394C11.5078 2.28394 11.0222 2.1423 10.5982 1.87253L9.95402 2.88495ZM12.0015 3.48394C12.7258 3.48394 13.4345 3.27588 14.0489 2.88495L13.4047 1.87253C12.9807 2.1423 12.4951 2.28394 12.0015 2.28394L12.0015 3.48394ZM14.0489 2.88495C14.3867 2.67001 14.6885 2.40458 14.9455 2.09942L14.0277 1.3264C13.8479 1.5398 13.638 1.72406 13.4047 1.87253L14.0489 2.88495ZM15.5281 1.83731C16.7022 2.27743 17.7916 2.93438 18.7431 3.77744L19.5389 2.87927C18.4787 1.93988 17.2627 1.20596 15.9493 0.713657L15.5281 1.83731ZM18.8058 4.38453C18.6677 4.78383 18.5912 5.20476 18.5804 5.63199L19.7801 5.66216C19.7877 5.35827 19.8422 5.05939 19.9399 4.77656L18.8058 4.38453ZM18.5804 5.63199C18.5619 6.36971 18.7403 7.09959 19.0976 7.74118L20.146 7.15736C19.8941 6.705 19.7668 6.18741 19.7801 5.66216L18.5804 5.63199ZM19.0976 7.74118C19.4549 8.38292 19.9782 8.91264 20.6119 9.26918L21.2003 8.22334C20.7635 7.97761 20.3978 7.60956 20.146 7.15736L19.0976 7.74118ZM20.6119 9.26918C20.9568 9.46327 21.327 9.60176 21.7095 9.6812L21.9535 8.50627C21.6921 8.45197 21.4381 8.35712 21.2003 8.22334L20.6119 9.26918ZM22.2343 10.0682C22.3443 10.6983 22.402 11.3477 22.402 12.0122L23.602 12.0122C23.602 11.2781 23.5383 10.5596 23.4164 9.86177L22.2343 10.0682ZM22.402 12.0122C22.402 12.677 22.3443 13.3266 22.2341 13.9573L23.4163 14.1637C23.5382 13.4653 23.602 12.7467 23.602 12.0122L22.402 12.0122ZM21.7093 14.3446C21.3271 14.4241 20.9572 14.5626 20.6124 14.7566L21.2009 15.8024C21.4385 15.6687 21.6923 15.5738 21.9536 15.5195L21.7093 14.3446ZM20.6124 14.7566C19.9789 15.1131 19.4558 15.6426 19.0985 16.2841L20.1468 16.8681C20.3986 16.416 20.7643 16.0481 21.2009 15.8024L20.6124 14.7566ZM19.0985 16.2841C18.7412 16.9255 18.5628 17.6551 18.5811 18.3926L19.7808 18.3628C19.7677 17.8377 19.895 17.3203 20.1468 16.8681L19.0985 16.2841ZM18.5811 18.3926C18.5918 18.8198 18.6682 19.2407 18.8061 19.6399L19.9404 19.2482C19.8427 18.9654 19.7883 18.6666 19.7808 18.3628L18.5811 18.3926ZM18.7434 20.2468C17.7918 21.09 16.7023 21.747 15.5281 22.1872L15.9493 23.3108C17.2628 22.8185 18.4789 22.0845 19.5392 21.145L18.7434 20.2468ZM14.9455 21.925C14.6885 21.6199 14.3867 21.3544 14.0489 21.1395L13.4047 22.1519C13.638 22.3004 13.8479 22.4847 14.0277 22.6981L14.9455 21.925ZM14.0489 21.1395C13.4345 20.7486 12.7258 20.5405 12.0015 20.5405V21.7405C12.4951 21.7405 12.9807 21.8822 13.4047 22.1519L14.0489 21.1395ZM12.0015 20.5405C11.2771 20.5405 10.5684 20.7486 9.95402 21.1395L10.5982 22.1519C11.0222 21.8822 11.5078 21.7405 12.0015 21.7405V20.5405ZM9.95402 21.1395C9.61623 21.3544 9.31444 21.6199 9.05743 21.925L9.97528 22.6981C10.155 22.4847 10.3649 22.3004 10.5982 22.1519L9.95402 21.1395ZM8.47484 22.1872C7.30069 21.747 6.21132 21.0901 5.25979 20.247L4.464 21.1452C5.52426 22.0846 6.74028 22.8185 8.05364 23.3108L8.47484 22.1872ZM5.19717 19.6399C5.33519 19.2406 5.41176 18.8197 5.4225 18.3925L4.22288 18.3623C4.21524 18.6662 4.16077 18.9651 4.06301 19.2479L5.19717 19.6399ZM5.4225 18.3925C5.44106 17.6548 5.26266 16.9249 4.90538 16.2833L3.85698 16.8671C4.10888 17.3195 4.23609 17.8371 4.22288 18.3623L5.4225 18.3925ZM4.90538 16.2833C4.54802 15.6415 4.02477 15.1118 3.39107 14.7553L2.80265 15.8011C3.23941 16.0468 3.60516 16.4149 3.85698 16.8671L4.90538 16.2833ZM3.39107 14.7553C3.04633 14.5613 2.67647 14.4229 2.29426 14.3434L2.04998 15.5183C2.31124 15.5726 2.56505 15.6674 2.80265 15.8011L3.39107 14.7553ZM1.76917 13.9558C1.65963 13.3263 1.60202 12.6771 1.60202 12.0122H0.402018C0.402018 12.7466 0.465666 13.4646 0.586944 14.1615L1.76917 13.9558ZM2.29426 14.3434C1.94529 14.2709 1.79175 14.0855 1.76917 13.9558L0.586944 14.1615C0.72912 14.9785 1.45815 15.3953 2.04998 15.5183L2.29426 14.3434ZM9.05743 21.925C8.83109 22.1938 8.59528 22.2323 8.47484 22.1872L8.05364 23.3108C8.84137 23.6061 9.57684 23.1711 9.97528 22.6981L9.05743 21.925ZM21.7095 9.6812C22.0583 9.75363 22.2116 9.93874 22.2343 10.0682L23.4164 9.86177C23.2738 9.04532 22.545 8.62911 21.9535 8.50627L21.7095 9.6812ZM18.8061 19.6399C18.9132 19.95 18.8379 20.163 18.7434 20.2468L19.5392 21.145C20.1362 20.616 20.1349 19.8115 19.9404 19.2482L18.8061 19.6399ZM14.9455 2.09942C15.1718 1.83068 15.4077 1.79216 15.5281 1.83731L15.9493 0.713657C15.1616 0.418379 14.4261 0.853317 14.0277 1.3264L14.9455 2.09942ZM5.25979 20.247C5.16523 20.1632 5.08994 19.9501 5.19717 19.6399L4.06301 19.2479C3.86829 19.8112 3.8668 20.6161 4.464 21.1452L5.25979 20.247ZM5.19682 4.38452C5.08974 4.07443 5.16501 3.86143 5.25955 3.77766L4.46373 2.87951C3.86676 3.40846 3.86805 4.21298 4.06254 4.7762L5.19682 4.38452ZM15.5281 22.1872C15.4077 22.2323 15.1718 22.1938 14.9455 21.925L14.0277 22.6981C14.4261 23.1711 15.1616 23.6061 15.9493 23.3108L15.5281 22.1872ZM18.7431 3.77744C18.8377 3.86123 18.913 4.07434 18.8058 4.38453L19.9399 4.77656C20.1346 4.21324 20.1361 3.40839 19.5389 2.87927L18.7431 3.77744ZM22.2341 13.9573C22.2115 14.0869 22.058 14.2721 21.7093 14.3446L21.9536 15.5195C22.5451 15.3965 23.2737 14.9801 23.4163 14.1637L22.2341 13.9573ZM8.47484 1.83731C8.59528 1.79216 8.83109 1.83068 9.05743 2.09942L9.97528 1.3264C9.57684 0.853317 8.84137 0.418379 8.05364 0.713657L8.47484 1.83731ZM1.76994 10.0669C1.79257 9.93727 1.94598 9.75214 2.29455 9.67956L2.04993 8.50476C1.4586 8.62789 0.730364 9.04429 0.587829 9.86042L1.76994 10.0669Z\",\n  fill: \"#232255\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.9133 15.3276C13.256 15.7071 12.5008 15.8831 11.7433 15.8333C10.9858 15.7834 10.26 15.51 9.65763 15.0476C9.05526 14.5852 8.6034 13.9546 8.35921 13.2355C8.11502 12.5164 8.08947 11.7411 8.28577 11.0077C8.48206 10.2743 8.8914 9.61564 9.46202 9.11512C10.0326 8.61459 10.7389 8.29465 11.4915 8.19572C12.2441 8.09679 13.0092 8.22333 13.6901 8.55934C14.3711 8.89536 14.9372 9.42575 15.3169 10.0834C15.569 10.5201 15.7327 11.0022 15.7986 11.5021C15.8645 12.002 15.8314 12.5099 15.701 12.9968C15.5707 13.4838 15.3457 13.9403 15.039 14.3402C14.7323 14.7401 14.3498 15.0757 13.9133 15.3276Z\",\n  fill: \"white\"\n});\n\nfunction SvgIcoSettingsActived(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoSettingsActived);\nexport default __webpack_public_path__ + \"static/media/ico-settings-actived.fc98020c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 2.16797C20.6569 2.16797 22 3.51111 22 5.16797L22 20.168C22 21.8248 20.6569 23.168 19 23.168L5 23.168C3.34315 23.168 2 21.8248 2 20.168L2 5.16797C2 3.51111 3.34315 2.16797 5 2.16797L19 2.16797Z\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.5 9.66797L16.5 9.66797\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.5 15.668H12.5\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoHelpcenter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 25,\n    viewBox: \"0 0 24 25\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoHelpcenter);\nexport default __webpack_public_path__ + \"static/media/ico-helpcenter.f6cb76c7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M19 1.5C20.6569 1.5 22 2.84315 22 4.5V19.5C22 21.1569 20.6569 22.5 19 22.5H5C3.34315 22.5 2 21.1569 2 19.5V4.5C2 2.84315 3.34315 1.5 5 1.5H19ZM6.6 9C6.6 8.50294 7.00294 8.1 7.5 8.1L16.5 8.1C16.9971 8.1 17.4 8.50294 17.4 9C17.4 9.49706 16.9971 9.9 16.5 9.9H7.5C7.00294 9.9 6.6 9.49706 6.6 9ZM7.5 14.1C7.00294 14.1 6.6 14.5029 6.6 15C6.6 15.4971 7.00294 15.9 7.5 15.9H12.5C12.9971 15.9 13.4 15.4971 13.4 15C13.4 14.5029 12.9971 14.1 12.5 14.1H7.5Z\",\n  fill: \"#232255\"\n});\n\nfunction SvgIcoHelpcenterActived(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoHelpcenterActived);\nexport default __webpack_public_path__ + \"static/media/ico-helpcenter-actived.f77b5735.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12.668,\n  r: 11,\n  stroke: \"#737881\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.861 15.6706L20.3079 14.8894L20.3029 14.8865L19.861 15.6706ZM18.9659 15.2196L19.3384 14.4003L19.3368 14.3996L18.9659 15.2196ZM17.6643 14.1705L16.9182 14.6738L16.9213 14.6783L17.6643 14.1705ZM17.5034 13.9319L16.7512 14.4262L16.7572 14.4351L17.5034 13.9319ZM15.3636 12.887L15.223 11.998L15.2226 11.9981L15.3636 12.887ZM12.4704 14.5216L11.5801 14.3898L11.5795 14.3943L12.4704 14.5216ZM12.4524 14.6479L13.3425 14.781L13.3433 14.7752L12.4524 14.6479ZM12.723 16.6419L12.0712 17.2625L12.0715 17.2629L12.723 16.6419ZM15.8493 20.5883L16.6824 20.2478L16.6818 20.2464L15.8493 20.5883ZM14.1328 4.26284L13.4059 3.73218L13.4058 3.73232L14.1328 4.26284ZM13.9753 4.60356L14.8102 4.93966V4.93966L13.9753 4.60356ZM12.8146 5.94188L12.9248 6.8351L12.9264 6.8349L12.8146 5.94188ZM11.9639 5.92939L12.022 5.03126L12.0218 5.03125L11.9639 5.92939ZM11.9628 5.92931L12.0207 5.03118L12.0205 5.03117L11.9628 5.92931ZM9.54391 6.82302L10.3881 7.13508L10.3885 7.13389L9.54391 6.82302ZM10.0379 10.1533L9.35113 10.735L9.35458 10.7391L10.0379 10.1533ZM10.1017 10.8735L10.9687 11.1152L10.9687 11.115L10.1017 10.8735ZM9.13099 10.9862L9.81091 10.3965L9.81088 10.3965L9.13099 10.9862ZM9.11513 10.9679L8.43192 11.5538L8.43524 11.5576L9.11513 10.9679ZM7.43471 9.63575L7.19432 10.5031L7.19472 10.5032L7.43471 9.63575ZM6.68864 9.46182L6.87596 8.58153L6.87595 8.58153L6.68864 9.46182ZM6.62572 9.44842L6.81339 8.5682L6.81024 8.56754L6.62572 9.44842ZM4.80099 8.67968L3.98616 9.06185L3.98671 9.06302L4.80099 8.67968ZM4.65528 7.49202L5.55528 7.49205V7.49204L4.65528 7.49202ZM4.65528 7.47937L5.55528 7.47939V7.47937H4.65528ZM4.47361 4.60028L3.86143 3.94056L4.47361 4.60028ZM10.0483 11.0341L9.20967 10.7073L10.0483 11.0341ZM9.24137 11.1129L8.56485 11.7065L9.24137 11.1129ZM17.6968 22.026L18.1683 22.7926L17.6968 22.026ZM20.5254 19.5286L19.8233 18.9656L20.5254 19.5286ZM20.7172 19.0726L19.823 18.9705L20.7172 19.0726ZM19.8233 18.9656C19.097 19.8712 18.2178 20.6489 17.2253 21.2594L18.1683 22.7926C19.3375 22.0734 20.3725 21.1578 21.2275 20.0917L19.8233 18.9656ZM19.8657 18.1974C19.8657 18.477 19.85 18.7344 19.823 18.9705L21.6114 19.1748C21.6462 18.8702 21.6657 18.5445 21.6657 18.1974H19.8657ZM19.8657 18.0517V18.1974H21.6657V18.0517H19.8657ZM19.4141 16.4518C19.712 16.6222 19.7592 16.7313 19.7918 16.8381C19.8567 17.0509 19.8657 17.3593 19.8657 18.0517H21.6657C21.6657 17.4648 21.6747 16.8414 21.5134 16.3128C21.3198 15.6783 20.9147 15.2365 20.3079 14.8894L19.4141 16.4518ZM18.5935 16.0389C18.8124 16.1384 19.0702 16.258 19.4191 16.4546L20.3029 14.8865C19.8886 14.653 19.5774 14.5089 19.3384 14.4003L18.5935 16.0389ZM16.9213 14.6783C17.1913 15.0735 17.4567 15.3599 17.7626 15.5842C18.0554 15.7989 18.3535 15.9303 18.595 16.0396L19.3368 14.3996C19.0692 14.2785 18.944 14.2184 18.827 14.1327C18.7233 14.0566 18.5925 13.9336 18.4074 13.6628L16.9213 14.6783ZM16.7572 14.4351L16.9182 14.6738L18.4105 13.6673L18.2495 13.4286L16.7572 14.4351ZM15.5043 13.7759C16.0355 13.6919 16.205 13.7802 16.2667 13.8191C16.3823 13.8921 16.4862 14.0227 16.7512 14.4261L18.2555 13.4376C18.0419 13.1125 17.7336 12.6166 17.2278 12.2972C16.6682 11.9438 16.0072 11.8739 15.223 11.998L15.5043 13.7759ZM13.3607 14.6534C13.3878 14.4704 13.4069 14.4124 13.4201 14.3846C13.4213 14.3821 13.4258 14.3614 13.494 14.3152C13.6966 14.1779 14.2076 13.9817 15.5047 13.7759L15.2226 11.9981C13.9318 12.203 13.053 12.4397 12.4844 12.8249C12.1671 13.0399 11.9407 13.3028 11.7931 13.6147C11.6574 13.9013 11.6099 14.1884 11.5801 14.3898L13.3607 14.6534ZM13.3433 14.7752L13.3614 14.6489L11.5795 14.3943L11.5614 14.5206L13.3433 14.7752ZM13.3748 16.0213C13.3002 15.9429 13.2752 15.9002 13.266 15.8816C13.2593 15.8679 13.2499 15.8459 13.2443 15.7906C13.228 15.6297 13.2533 15.3773 13.3425 14.781L11.5623 14.5148C11.4836 15.041 11.4097 15.5394 11.4534 15.9717C11.507 16.5013 11.7246 16.8985 12.0712 17.2625L13.3748 16.0213ZM16.6818 20.2464C16.4722 19.7359 16.0633 19.1283 15.5302 18.4554C14.9847 17.7667 14.2626 16.9526 13.3744 16.0209L12.0715 17.2629C12.9387 18.1726 13.6202 18.9432 14.1193 19.5731C14.6307 20.2188 14.9073 20.6637 15.0168 20.9303L16.6818 20.2464ZM16.9011 20.8886C16.8232 20.6116 16.7406 20.3902 16.6824 20.2478L15.0162 20.9289C15.0534 21.0197 15.1121 21.176 15.1684 21.376L16.9011 20.8886ZM14.2072 2.93202C13.9184 3.17015 13.6128 3.44884 13.4059 3.73218L14.8597 4.7935C14.9271 4.70118 15.0863 4.54013 15.3523 4.3208L14.2072 2.93202ZM13.4058 3.73232C13.3231 3.84567 13.2673 3.96732 13.2385 4.03189C13.2043 4.10847 13.1695 4.19521 13.1404 4.26747L14.8102 4.93966C14.8432 4.85772 14.8645 4.8052 14.8822 4.76553C14.8904 4.74705 14.894 4.74017 14.8936 4.74088C14.8932 4.74165 14.8906 4.74657 14.8858 4.75451C14.8812 4.76223 14.8726 4.77591 14.8598 4.79336L13.4058 3.73232ZM13.1404 4.26747C13.0377 4.52272 12.9458 4.7412 12.8294 4.90813C12.7152 5.07194 12.6701 5.05294 12.7028 5.04885L12.9264 6.8349C13.614 6.74881 14.0522 6.30169 14.3061 5.93737C14.5579 5.57617 14.7189 5.1665 14.8102 4.93966L13.1404 4.26747ZM12.7043 5.04866C12.5827 5.06367 12.3767 5.05419 12.022 5.03126L11.9059 6.82751C12.1951 6.84621 12.5968 6.87559 12.9248 6.8351L12.7043 5.04866ZM12.0218 5.03125L12.0207 5.03118L11.9049 6.82745L11.9061 6.82753L12.0218 5.03125ZM12.0205 5.03117C11.6169 5.00521 10.9714 4.95704 10.3717 5.09338C9.71682 5.24226 9.02205 5.63529 8.69931 6.51215L10.3885 7.13389C10.443 6.98576 10.5262 6.90418 10.7707 6.84858C11.0704 6.78045 11.4457 6.79792 11.905 6.82746L12.0205 5.03117ZM8.69974 6.51097C8.51835 7.00166 8.44978 7.7498 8.51353 8.46786C8.57731 9.18622 8.79012 10.0726 9.35114 10.735L10.7247 9.57167C10.51 9.31821 10.3558 8.86417 10.3065 8.30868C10.2571 7.7529 10.3294 7.2938 10.3881 7.13508L8.69974 6.51097ZM9.35458 10.7391C9.30518 10.6814 9.2796 10.6277 9.26692 10.5929C9.25437 10.5585 9.2522 10.5368 9.25188 10.5332C9.2515 10.5288 9.25412 10.5625 9.23475 10.632L10.9687 11.115C11.0806 10.7134 11.1425 10.0591 10.7212 9.56763L9.35458 10.7391ZM9.23479 10.6319C9.22731 10.6587 9.2188 10.6839 9.20967 10.7073L10.8868 11.3608C10.9169 11.2837 10.9446 11.2017 10.9687 11.1152L9.23479 10.6319ZM9.91789 10.5194C9.88129 10.4776 9.84568 10.4366 9.81091 10.3965L8.45108 11.5758C8.48542 11.6154 8.52433 11.6603 8.56485 11.7065L9.91789 10.5194ZM9.81088 10.3965L9.79503 10.3782L8.43524 11.5576L8.4511 11.5759L9.81088 10.3965ZM9.79833 10.382C9.58648 10.135 9.30309 9.80319 8.97095 9.51001C8.63751 9.21567 8.20678 8.91556 7.67471 8.76834L7.19472 10.5032C7.36479 10.5502 7.55711 10.6629 7.77975 10.8595C8.00371 11.0572 8.20946 11.2943 8.43194 11.5537L9.79833 10.382ZM7.6751 8.76845C7.40818 8.69447 7.1234 8.63418 6.87596 8.58153L6.50133 10.3421C6.76036 10.3972 6.98971 10.4463 7.19432 10.5031L7.6751 8.76845ZM6.87595 8.58153C6.85493 8.57706 6.83412 8.57263 6.81339 8.56821L6.43805 10.3286C6.4592 10.3331 6.48035 10.3377 6.50134 10.3421L6.87595 8.58153ZM6.81024 8.56754C6.41441 8.48463 6.0714 8.41087 5.80333 8.31602C5.67217 8.26961 5.59607 8.2305 5.55869 8.2059C5.519 8.17977 5.57069 8.20166 5.61526 8.29633L3.98671 9.06302C4.13188 9.37139 4.36674 9.57627 4.56902 9.70941C4.77361 9.84408 4.99828 9.94053 5.20292 10.0129C5.60647 10.1557 6.07523 10.2526 6.4412 10.3293L6.81024 8.56754ZM5.61581 8.2975C5.60665 8.27796 5.58379 8.21194 5.56984 8.05736C5.55596 7.90356 5.55528 7.72673 5.55528 7.49205L3.75528 7.492C3.75528 7.70779 3.75459 7.96945 3.77713 8.21917C3.7996 8.46813 3.8496 8.77069 3.98616 9.06185L5.61581 8.2975ZM5.55528 7.49204L5.55528 7.47939L3.75528 7.47936L3.75528 7.492L5.55528 7.49204ZM5.55528 7.47937C5.55528 6.92209 5.56634 6.08016 5.19404 5.24615L3.55037 5.97987C3.74423 6.41415 3.75528 6.87937 3.75528 7.47937H5.55528ZM5.0858 5.26C6.88695 3.58863 9.29689 2.56797 11.9472 2.56797V0.767969C8.82511 0.767969 5.98231 1.97251 3.86143 3.94056L5.0858 5.26ZM11.9472 2.56797C12.763 2.56797 13.5551 2.6646 14.313 2.84663L14.7333 1.09641C13.8388 0.881555 12.9057 0.767969 11.9472 0.767969V2.56797ZM5.19755 5.25411C5.18427 5.22356 5.175 5.19361 5.16971 5.16764C5.16435 5.1413 5.16455 5.12637 5.16471 5.12347C5.16485 5.12088 5.16439 5.13725 5.15252 5.1655C5.13964 5.19615 5.11738 5.23069 5.0858 5.26L3.86143 3.94056C3.16557 4.58628 3.34486 5.50736 3.54686 5.9719L5.19755 5.25411ZM9.20967 10.7073C9.22728 10.6621 9.26896 10.5901 9.35193 10.5267C9.43519 10.4631 9.53222 10.4296 9.62382 10.423C9.802 10.4102 9.8961 10.4945 9.91789 10.5194L8.56485 11.7065C8.84493 12.0257 9.27138 12.253 9.75288 12.2184C10.2752 12.1809 10.6986 11.844 10.8868 11.3608L9.20967 10.7073ZM15.3523 4.3208C15.8962 3.87238 16.1474 3.19747 16.0611 2.55889C15.9711 1.89339 15.5082 1.28251 14.7333 1.09641L14.313 2.84663C14.324 2.84928 14.3239 2.85081 14.3171 2.84673C14.3103 2.84264 14.3017 2.83587 14.2937 2.82667C14.2772 2.8076 14.2765 2.79445 14.2773 2.79998C14.2795 2.81673 14.2742 2.87682 14.2072 2.93202L15.3523 4.3208ZM17.2253 21.2594C17.2217 21.2615 17.2233 21.26 17.229 21.2586C17.2343 21.2573 17.2377 21.2574 17.237 21.2574C17.2344 21.2573 17.2062 21.2547 17.157 21.2257C17.0471 21.1611 16.9405 21.0286 16.9011 20.8886L15.1684 21.376C15.3341 21.9653 15.7358 22.4781 16.2444 22.7772C16.7673 23.0848 17.496 23.206 18.1683 22.7926L17.2253 21.2594ZM21.2275 20.0917C21.435 19.833 21.5723 19.5168 21.6114 19.1748L19.823 18.9705C19.8239 18.9627 19.8263 18.9619 19.8233 18.9656L21.2275 20.0917Z\",\n  fill: \"#737881\"\n});\n\nfunction SvgIcoLanguage(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 25,\n    viewBox: \"0 0 24 25\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoLanguage);\nexport default __webpack_public_path__ + \"static/media/ico-language.85c84e9b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 18,\n  cy: 18,\n  r: 18,\n  fill: \"#232255\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 18.0312,\n  cy: 18.0344,\n  r: 9.19531,\n  stroke: \"#fff\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M24.602 20.5444L24.8999 20.0236L24.8966 20.0217L24.602 20.5444ZM23.8538 20.1674L24.1021 19.6212L24.1011 19.6207L23.8538 20.1674ZM22.7658 19.2905L22.2683 19.626L22.2704 19.629L22.7658 19.2905ZM22.6312 19.091L22.1297 19.4205L22.1338 19.4264L22.6312 19.091ZM20.8425 18.2175L20.7488 17.6249L20.7485 17.6249L20.8425 18.2175ZM18.424 19.584L17.8304 19.4961L17.83 19.4991L18.424 19.584ZM18.4089 19.6895L19.0023 19.7783L19.0029 19.7744L18.4089 19.6895ZM18.6351 21.3564L18.2005 21.7701L18.2008 21.7704L18.6351 21.3564ZM21.2485 24.6554L21.8039 24.4284L21.8035 24.4274L21.2485 24.6554ZM19.8136 11.0083L19.329 10.6545L19.329 10.6546L19.8136 11.0083ZM19.6819 11.2931L19.1254 11.069L19.1254 11.069L19.6819 11.2931ZM18.7116 12.4118L18.7852 13.0073L18.7862 13.0072L18.7116 12.4118ZM18.0006 12.4014L18.0393 11.8026L18.0392 11.8026L18.0006 12.4014ZM17.9996 12.4013L18.0383 11.8026L18.0381 11.8026L17.9996 12.4013ZM15.9776 13.1484L16.5404 13.3565L16.5407 13.3557L15.9776 13.1484ZM16.3905 15.9324L15.9327 16.3201L15.935 16.3228L16.3905 15.9324ZM16.4439 16.5344L17.0219 16.6955L17.0219 16.6954L16.4439 16.5344ZM15.6324 16.6285L16.0857 16.2354L16.0857 16.2354L15.6324 16.6285ZM15.6192 16.6133L15.1637 17.0038L15.1659 17.0064L15.6192 16.6133ZM14.2144 15.4997L14.0542 16.0779L14.0544 16.078L14.2144 15.4997ZM13.5908 15.3543L13.4659 15.9411L13.4659 15.9411L13.5908 15.3543ZM13.5382 15.3431L13.6633 14.7563L13.6612 14.7558L13.5382 15.3431ZM12.0128 14.7005L11.4696 14.9552L11.4699 14.956L12.0128 14.7005ZM11.891 13.7077L12.491 13.7077L12.491 13.7077L11.891 13.7077ZM11.891 13.6971L12.491 13.6971V13.6971H11.891ZM11.7391 11.2903L11.331 10.8505L11.7391 11.2903ZM15.7247 16.7345L15.2737 17.1302L15.7247 16.7345ZM22.7929 25.8571L22.4785 25.3461L22.7929 25.8571ZM21.4035 25.1101L20.8259 25.2726L21.4035 25.1101ZM25.1574 23.7695L25.6255 24.1449L25.1574 23.7695ZM25.3178 23.3883L25.9139 23.4565L25.3178 23.3883ZM24.6893 23.3941C24.0713 24.1648 23.3232 24.8266 22.4785 25.3461L23.1072 26.3682C24.0697 25.7762 24.9217 25.0225 25.6255 24.1449L24.6893 23.3941ZM24.7583 22.6567C24.7583 22.8961 24.7449 23.1171 24.7217 23.3202L25.9139 23.4565C25.9423 23.2076 25.9583 22.9411 25.9583 22.6567H24.7583ZM24.7583 22.5349V22.6567H25.9583V22.5349H24.7583ZM24.3041 21.0652C24.5793 21.2226 24.649 21.342 24.6899 21.476C24.7523 21.6805 24.7583 21.965 24.7583 22.5349H25.9583C25.9583 22.0354 25.9643 21.5409 25.8376 21.1258C25.6894 20.64 25.381 20.2988 24.8999 20.0236L24.3041 21.0652ZM23.6055 20.7136C23.7902 20.7976 24.0102 20.8996 24.3074 21.0671L24.8966 20.0217C24.5558 19.8296 24.3002 19.7113 24.1021 19.6212L23.6055 20.7136ZM22.2704 19.629C22.4889 19.9488 22.6994 20.1744 22.938 20.3494C23.1679 20.5179 23.4024 20.6218 23.6065 20.7141L24.1011 19.6207C23.8795 19.5205 23.7603 19.4643 23.6476 19.3817C23.5438 19.3055 23.423 19.1889 23.2611 18.952L22.2704 19.629ZM22.1338 19.4264L22.2683 19.626L23.2632 18.955L23.1286 18.7555L22.1338 19.4264ZM20.9363 18.8101C21.4018 18.7365 21.5851 18.8087 21.6788 18.8679C21.8084 18.9498 21.9125 19.0899 22.1298 19.4205L23.1326 18.7615C22.9497 18.4831 22.7093 18.0994 22.3195 17.8533C21.8939 17.5845 21.3829 17.5245 20.7488 17.6249L20.9363 18.8101ZM19.0175 19.6718C19.0404 19.5173 19.0588 19.4494 19.0801 19.4043C19.0935 19.376 19.1161 19.3382 19.1942 19.2852C19.3945 19.1495 19.8528 18.9821 20.9366 18.8101L20.7485 17.6249C19.6689 17.7963 18.9655 17.9907 18.5211 18.2918C18.2769 18.4572 18.1064 18.6564 17.9954 18.891C17.8924 19.1086 17.8551 19.3293 17.8304 19.4961L19.0175 19.6718ZM19.0029 19.7744L19.0179 19.6688L17.83 19.4991L17.8149 19.6047L19.0029 19.7744ZM19.0696 20.9427C18.9483 20.8152 18.9287 20.7527 18.9193 20.66C18.9034 20.5026 18.9286 20.2708 19.0023 19.7783L17.8155 19.6008C17.7488 20.0466 17.6911 20.4424 17.7254 20.7808C17.7662 21.1841 17.9298 21.4858 18.2005 21.7701L19.0696 20.9427ZM21.8035 24.4274C21.6367 24.0213 21.3061 23.5272 20.8623 22.967C20.4102 22.3962 19.8101 21.7194 19.0694 20.9424L18.2008 21.7704C18.9275 22.5327 19.5006 23.1805 19.9217 23.7121C20.3511 24.2541 20.5935 24.6398 20.6935 24.8833L21.8035 24.4274ZM21.9811 24.9476C21.9178 24.7226 21.8508 24.543 21.8039 24.4284L20.6931 24.8824C20.7259 24.9627 20.7771 25.0988 20.8259 25.2726L21.9811 24.9476ZM19.9728 10.0133C19.7333 10.2108 19.4901 10.4338 19.329 10.6545L20.2982 11.362C20.3664 11.2687 20.5119 11.1241 20.7362 10.9392L19.9728 10.0133ZM19.329 10.6546C19.27 10.7354 19.2287 10.8244 19.2051 10.8773C19.1779 10.9382 19.15 11.0078 19.1254 11.069L20.2385 11.5172C20.2658 11.4495 20.2847 11.4027 20.3009 11.3664C20.3086 11.3492 20.3131 11.3401 20.3149 11.3367C20.3175 11.3319 20.312 11.3431 20.2983 11.3619L19.329 10.6546ZM19.1254 11.069C19.0404 11.28 18.9578 11.4788 18.8491 11.6348C18.7418 11.7887 18.6708 11.8123 18.6371 11.8165L18.7862 13.0072C19.3001 12.9428 19.6331 12.6085 19.8335 12.321C20.0325 12.0355 20.1612 11.7092 20.2385 11.5172L19.1254 11.069ZM18.6381 11.8164C18.519 11.8311 18.3302 11.8215 18.0393 11.8026L17.9619 13.0001C18.2092 13.0161 18.5284 13.039 18.7852 13.0073L18.6381 11.8164ZM18.0392 11.8026L18.0383 11.8026L17.961 13.0001L17.9619 13.0001L18.0392 11.8026ZM18.0381 11.8026C17.696 11.7806 17.1792 11.7429 16.7033 11.8511C16.1906 11.9677 15.6616 12.2698 15.4145 12.9412L16.5407 13.3557C16.6089 13.1702 16.7302 13.0756 16.9694 13.0212C17.2453 12.9585 17.5818 12.9757 17.9611 13.0001L18.0381 11.8026ZM15.4148 12.9404C15.2736 13.3225 15.2159 13.9234 15.268 14.5099C15.3201 15.0966 15.493 15.801 15.9327 16.3201L16.8484 15.5446C16.6396 15.2981 16.5057 14.8819 16.4633 14.4038C16.4208 13.9255 16.4809 13.5172 16.5404 13.3565L15.4148 12.9404ZM15.935 16.3228C15.9073 16.2906 15.8945 16.2622 15.8892 16.2476C15.8839 16.2332 15.8845 16.2284 15.8852 16.2365C15.8859 16.2443 15.8864 16.2603 15.8837 16.2847C15.881 16.3088 15.8756 16.3387 15.8659 16.3734L17.0219 16.6954C17.1108 16.3762 17.1481 15.8942 16.8461 15.5419L15.935 16.3228ZM15.8659 16.3733C15.8583 16.4008 15.8495 16.4266 15.8401 16.4507L16.9582 16.8864C16.9816 16.8265 17.0031 16.7628 17.0219 16.6955L15.8659 16.3733ZM16.1757 16.3388C16.1448 16.3035 16.1147 16.2689 16.0857 16.2354L15.1791 17.0217C15.2079 17.0548 15.2401 17.092 15.2737 17.1302L16.1757 16.3388ZM16.0857 16.2354L16.0724 16.2201L15.1659 17.0064L15.1792 17.0217L16.0857 16.2354ZM16.0746 16.2227C15.8966 16.0151 15.6663 15.7458 15.3978 15.5088C15.1284 15.271 14.7886 15.036 14.3744 14.9214L14.0544 16.078C14.2272 16.1258 14.4082 16.2358 14.6037 16.4084C14.8 16.5818 14.9786 16.788 15.1637 17.0038L16.0746 16.2227ZM14.3747 14.9215C14.1568 14.8611 13.9235 14.8116 13.7156 14.7674L13.4659 15.9411C13.6814 15.987 13.8778 16.029 14.0542 16.0779L14.3747 14.9215ZM13.7156 14.7674C13.6981 14.7637 13.6806 14.76 13.6633 14.7563L13.4131 15.9299C13.4307 15.9337 13.4483 15.9374 13.4659 15.9411L13.7156 14.7674ZM13.6612 14.7558C13.3328 14.687 13.0354 14.6234 12.7999 14.5401C12.684 14.4991 12.6078 14.4615 12.5624 14.4317C12.5155 14.4008 12.5344 14.3999 12.5556 14.4449L11.4699 14.956C11.5752 15.1797 11.7473 15.3318 11.9026 15.434C12.0595 15.5373 12.2348 15.613 12.3996 15.6714C12.7255 15.7867 13.1067 15.8657 13.4151 15.9303L13.6612 14.7558ZM12.556 14.4457C12.5376 14.4064 12.5162 14.3311 12.5038 14.1939C12.4914 14.0573 12.491 13.9023 12.491 13.7077L11.291 13.7076C11.291 13.8896 11.2905 14.1012 11.3086 14.3018C11.3267 14.5019 11.3662 14.7348 11.4696 14.9552L12.556 14.4457ZM12.491 13.7077L12.491 13.6971L11.291 13.6971L11.291 13.7076L12.491 13.7077ZM12.491 13.6971C12.491 13.2276 12.4984 12.5557 12.2023 11.8923L11.1065 12.3815C11.2836 12.7784 11.291 13.1991 11.291 13.6971H12.491ZM12.1473 11.7302C13.68 10.3079 15.7312 9.43911 17.9866 9.43911V8.23911C15.4166 8.23911 13.0769 9.23047 11.331 10.8505L12.1473 11.7302ZM17.9866 9.43911C18.6806 9.43911 19.3547 9.52132 19.9998 9.67627L20.2801 8.50945C19.5438 8.33263 18.7757 8.23911 17.9866 8.23911V9.43911ZM12.2046 11.8977C12.1723 11.8233 12.1626 11.7577 12.1647 11.7193C12.1657 11.7024 12.1684 11.6986 12.1662 11.7038C12.1633 11.7107 12.1568 11.7213 12.1473 11.7302L11.331 10.8505C10.8213 11.3236 10.9445 12.0091 11.1041 12.3762L12.2046 11.8977ZM15.8401 16.4507C15.8459 16.4361 15.8648 16.3997 15.9096 16.3655C15.9546 16.3311 16.0071 16.3132 16.0553 16.3098C16.1484 16.3031 16.183 16.3471 16.1757 16.3388L15.2737 17.1302C15.4823 17.3679 15.7947 17.5316 16.1414 17.5067C16.5152 17.4798 16.8207 17.2394 16.9582 16.8864L15.8401 16.4507ZM20.7362 10.9392C21.1504 10.5976 21.3396 10.0855 21.2746 9.60427C21.2071 9.10514 20.8618 8.64917 20.2801 8.50945L19.9998 9.67627C20.0436 9.68679 20.0582 9.7021 20.0633 9.70794C20.0705 9.7163 20.0811 9.73358 20.0854 9.765C20.0944 9.83162 20.0691 9.9339 19.9728 10.0133L20.7362 10.9392ZM22.4785 25.3461C22.4418 25.3686 22.3804 25.3877 22.2644 25.3195C22.1388 25.2456 22.0247 25.1027 21.9811 24.9476L20.8259 25.2726C20.9538 25.7271 21.2646 26.1236 21.656 26.3538C22.057 26.5897 22.6044 26.6774 23.1072 26.3682L22.4785 25.3461ZM25.6255 24.1449C25.7816 23.9502 25.8846 23.7127 25.9139 23.4565L24.7217 23.3202C24.719 23.3434 24.7091 23.3695 24.6893 23.3941L25.6255 24.1449Z\",\n  fill: \"#fff\"\n});\n\nfunction SvgIcoLanguageActivated(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 36,\n    height: 36,\n    viewBox: \"0 0 36 36\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoLanguageActivated);\nexport default __webpack_public_path__ + \"static/media/ico-language-activated.1dad5322.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 5.08423H7\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 8.08423V2.08423\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.6211 2.44933C15.9597 2.00001 16.4629 1.70359 17.02 1.62529C17.2959 1.58652 17.5767 1.60247 17.8464 1.67222C18.1161 1.74197 18.3694 1.86416 18.5919 2.03181C18.8144 2.19946 19.0017 2.40929 19.1431 2.64932C19.2844 2.88935 19.3772 3.15487 19.4159 3.43074C19.4547 3.7066 19.4388 3.9874 19.369 4.25711C19.2993 4.52681 19.1771 4.78013 19.0094 5.00261L8.37074 19.1206L4.54884 20.6676L4.98242 16.5673L15.6211 2.44933Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIconAddPost(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconAddPost);\nexport default __webpack_public_path__ + \"static/media/icon_add_post.75cb3ea5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M45.0568 0.379152C43.6353 0.379152 42.2458 0.802018 41.0639 1.59426C39.8821 2.38651 38.961 3.51254 38.4172 4.82994C37.8734 6.14733 37.7314 7.5969 38.009 8.99529C38.2866 10.3937 38.9714 11.6781 39.9769 12.686C40.9823 13.694 42.2631 14.3802 43.6574 14.6578C45.0516 14.9355 46.4966 14.7921 47.8097 14.2459C49.1227 13.6997 50.2447 12.7751 51.0338 11.5892C51.823 10.4032 52.2437 9.00917 52.2429 7.58332C52.2429 6.6369 52.057 5.69976 51.6958 4.82544C51.3346 3.95112 50.8052 3.15675 50.1379 2.48773C49.4705 1.81871 48.6783 1.28814 47.8065 0.92634C46.9346 0.564542 46.0003 0.378604 45.0568 0.379152ZM45.0568 11.2625C44.3313 11.2625 43.6222 11.0467 43.019 10.6424C42.4158 10.2382 41.9457 9.66355 41.6681 8.99127C41.3905 8.31899 41.3179 7.57924 41.4594 6.86555C41.6009 6.15186 41.9502 5.49629 42.4632 4.98175C42.9762 4.46721 43.6297 4.11681 44.3412 3.97485C45.0527 3.83288 45.7902 3.90574 46.4604 4.18421C47.1306 4.46268 47.7034 4.93425 48.1065 5.53928C48.5095 6.14432 48.7246 6.85565 48.7246 7.58332C48.7202 8.55659 48.332 9.48855 47.6447 10.1756C46.9575 10.8626 46.027 11.2489 45.0568 11.25V11.2625Z\",\n  fill: \"#232255\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.77612 9.13334H10.1521V11.0292C9.52559 11.4631 8.79267 11.717 8.03267 11.7632C7.27268 11.8094 6.51456 11.6462 5.84035 11.2914C5.16615 10.9365 4.60153 10.4034 4.20761 9.74985C3.81369 9.09628 3.60546 8.34708 3.60546 7.58335C3.60546 6.81961 3.81369 6.07041 4.20761 5.41684C4.60153 4.76326 5.16615 4.2302 5.84035 3.87533C6.51456 3.52046 7.27268 3.35731 8.03267 3.40352C8.79267 3.44973 9.52559 3.70355 10.1521 4.13751L12.4118 1.84585C11.2724 0.918028 9.88248 0.353055 8.42059 0.223484C6.95869 0.0939127 5.49155 0.405659 4.20759 1.11869C2.92363 1.83172 1.88148 2.91347 1.21497 4.22502C0.548464 5.53657 0.288034 7.01804 0.467127 8.47916C0.64622 9.94029 1.25666 11.3143 2.22005 12.4249C3.18344 13.5354 4.45579 14.3317 5.8737 14.7115C7.29161 15.0913 8.79034 15.0373 10.1774 14.5564C11.5645 14.0754 12.7765 13.1896 13.658 12.0125V6.00834H7.77612V9.13334Z\",\n  fill: \"#232255\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M80.6263 3.50415V0.37915H70.8523V3.50415V6.02498V9.14998V11.6708V14.7917H74.3748H80.6263V11.6708H74.3748V9.14998H79.9077V6.02498H74.3748V3.50415H80.6263Z\",\n  fill: \"#232255\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M66.5196 0.37915H66.2455L65.2029 1.42498L61.5392 5.09998L56.8287 0.37915H56.5546H56.1143H54.353V14.7917H57.8713V5.84582L61.5392 9.52082L65.2029 5.84582V14.7917H68.7212V0.37915H66.9599H66.5196Z\",\n  fill: \"#232255\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M38.3899 0.37915H34.5974H31.0749H27.2783L29.1309 3.50415H29.2971H31.0749V14.7917H34.5974V3.50415H35.2745H36.5372L38.3899 0.37915Z\",\n  fill: \"#232255\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M25.4881 3.50415V0.37915H15.7183V3.50415V6.02498V9.14998V11.6708V14.7958H19.2366H25.4881V11.6708H19.2366V9.14998H24.7695V6.02498H19.2366V3.50415H25.4881Z\",\n  fill: \"#232255\"\n});\n\nfunction SvgLogoColor(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 81,\n    height: 15,\n    viewBox: \"0 0 81 15\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoColor);\nexport default __webpack_public_path__ + \"static/media/logoColor.04ced063.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.0141 24.2127L27.4717 24.2127L27.4717 29.3481C25.7689 30.5236 23.7769 31.2112 21.7114 31.3364C19.6459 31.4616 17.5854 31.0196 15.7531 30.0583C13.9207 29.0971 12.3861 27.6531 11.3155 25.8827C10.2449 24.1123 9.67899 22.0829 9.67899 20.014C9.67899 17.9452 10.2449 15.9158 11.3155 14.1454C12.3861 12.375 13.9207 10.931 15.7531 9.96976C17.5854 9.00849 19.6459 8.56654 21.7114 8.69172C23.7769 8.8169 25.7689 9.50445 27.4717 10.68L33.6132 4.47229C30.5164 1.95902 26.7389 0.428616 22.7657 0.0776331C18.7925 -0.273349 14.8051 0.57111 11.3155 2.50256C7.82589 4.43402 4.9935 7.36427 3.18204 10.917C1.37059 14.4697 0.662784 18.4828 1.14953 22.4406C1.63627 26.3985 3.29535 30.1206 5.91368 33.1288C8.532 36.137 11.99 38.2941 15.8437 39.3229C19.6973 40.3517 23.7706 40.2054 27.5404 38.9026C31.3102 37.5998 34.6044 35.2002 37 32.0118L37 15.7477L21.0141 15.7477L21.0141 24.2127Z\",\n  fill: \"#232255\"\n});\n\nfunction SvgBrandLogoSmall(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 38,\n    height: 40,\n    viewBox: \"0 0 38 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBrandLogoSmall);\nexport default __webpack_public_path__ + \"static/media/brand-logo-small.7e69c5d2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.7143 1.66797H6.28571C5.02335 1.66797 4 2.65294 4 3.86797V21.468C4 22.683 5.02335 23.668 6.28571 23.668H17.7143C18.9767 23.668 20 22.683 20 21.468V3.86797C20 2.65294 18.9767 1.66797 17.7143 1.66797Z\",\n  stroke: \"#737881\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.5 2.86719C11.1667 2.86719 14.5 2.86719 14.5 2.86719\",\n  stroke: \"#737881\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12.25,\n  cy: 19.418,\n  r: 1.75,\n  fill: \"#737881\"\n});\n\nfunction SvgIcoSmartPhone(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 25,\n    viewBox: \"0 0 24 25\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoSmartPhone);\nexport default __webpack_public_path__ + \"static/media/ico-smart-phone.3b400349.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.7143 1H6.28571C5.02335 1 4 1.98497 4 3.2V20.8C4 22.015 5.02335 23 6.28571 23H17.7143C18.9767 23 20 22.015 20 20.8V3.2C20 1.98497 18.9767 1 17.7143 1Z\",\n  fill: \"#232255\",\n  stroke: \"#232255\",\n  strokeWidth: 1.8,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.5 2.19922C11.1667 2.19922 14.5 2.19922 14.5 2.19922\",\n  stroke: \"white\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12.25,\n  cy: 19.75,\n  r: 1.75,\n  fill: \"white\"\n});\n\nfunction SvgIcoSmartPhoneActivated(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoSmartPhoneActivated);\nexport default __webpack_public_path__ + \"static/media/ico-smart-phone-activated.871dd6b7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.6667 5L7.80955 14.5238L3.33334 10.1952\",\n  stroke: \"#016EDC\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgCheckMark(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckMark);\nexport default __webpack_public_path__ + \"static/media/checkMark.4baae0e9.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useRef} from \"react\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport {GButton} from \"../styles/components/GButton\";\nimport {GTypography} from \"../styles/components/GTypography\";\nimport clsx from \"clsx\";\nimport {t} from \"../i18n/utils\";\nimport {ReactComponent as IconCancel} from \"src/assets/icons/icon_close.svg\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport {ReactComponent as CheckMarkIcon} from \"../assets/icons/checkMark.svg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    languageDialogContainer: {\n      \"& .MuiDialog-paperWidthSm\": {\n        maxWidth: 310,\n        margin: 0, // for mobile\n        borderRadius: 10,\n      },\n    },\n    languageDialogHeader: {\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      padding: \"26px 38px 16px\",\n      position: \"relative\",\n    },\n    languageDialog: {\n      padding: \"20px 25px\",\n      width: 310,\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      justifyContent: \"space-between\",\n      alignContent: \"space-between\",\n    },\n    languageTitle: {\n      fontSize: \"18px\",\n      lineHeight: \"21px\",\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: 34,\n      top: \"calc(50% + 5px)\",\n      transform: \"translate(0, -50%)\",\n      cursor: \"pointer\",\n      width: 26,\n      height: 26,\n      background: theme.palette.grey.A300,\n      borderRadius: \"100%\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      \"&:hover\": {\n        background:\n          \"linear-gradient(0deg, rgba(95, 95, 95, 0.7), rgba(95, 95, 95, 0.7))\",\n      },\n      \"& > svg\": {\n        stroke: \"#FFF\",\n      },\n    },\n    buttonWrapper: {\n      marginBottom: theme.spacing(1),\n    },\n    langButton: {\n      \"&.isActive\": {\n        color: theme.palette.primary.main,\n      },\n      \"& > .MuiButton-label\": {\n        fontSize: \"14px\",\n        lineHeight: \"133%\",\n      },\n    },\n    checkMark: {\n      marginLeft: theme.spacing(1),\n    },\n  }),\n);\n\nexport function LanguageDialog({\n  isOpen,\n  handleClose,\n  allLangs,\n  currentLangCode,\n  selectLangCode,\n}) {\n  const classes = useStyles();\n  const selectEl = useRef(null);\n\n  return (\n    <div ref={selectEl}>\n      <Dialog\n        open={isOpen}\n        onClose={handleClose}\n        scroll=\"body\"\n        className={classes.languageDialogContainer}\n        container={() => (selectEl ? selectEl.current : null)}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <DialogTitle className={classes.languageDialogHeader}>\n          <GTypography isBold className={classes.languageTitle}>\n            {t(\"getter_fe.menu.common.languages\")}\n          </GTypography>\n          <span className={classes.closeButton} onClick={handleClose}>\n            <IconCancel />\n          </span>\n        </DialogTitle>\n\n        <div className={classes.languageDialog}>\n          {allLangs &&\n            allLangs.map((lang, idx) => {\n              const isActive = currentLangCode === lang.code;\n              return (\n                <div className={classes.buttonWrapper} key={idx}>\n                  <GButton\n                    fullWidth={false}\n                    variant=\"text\"\n                    color=\"default\"\n                    className={clsx(classes.langButton, isActive && \"isActive\")}\n                    onClick={() => selectLangCode(lang.code)}\n                  >\n                    {lang.nativeName}\n                    {isActive && (\n                      <CheckMarkIcon className={classes.checkMark} />\n                    )}\n                  </GButton>\n                </div>\n              );\n            })}\n        </div>\n      </Dialog>\n    </div>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M4 0.589355C1.79086 0.589355 0 2.38022 0 4.58936V14.5894C0 16.7985 1.79086 18.5894 4 18.5894H14C16.2091 18.5894 18 16.7985 18 14.5894V4.58936C18 2.38022 16.2091 0.589355 14 0.589355H4ZM4 7.87759C4 7.4328 4.33686 7.07311 4.75083 7.07311L4.75139 7.0736C5.16633 7.0736 5.50222 7.43378 5.50222 7.87707V11.0152C5.50222 11.46 5.16536 11.8197 4.75083 11.8197C4.33639 11.8197 4 11.46 4 11.0158V7.87759ZM13.0603 7.87709C13.0603 7.4328 13.3967 7.07311 13.8117 7.07311V7.0736C14.2261 7.0736 14.5625 7.43378 14.5625 7.87707V11.0147C14.5625 11.4595 14.2261 11.8192 13.8111 11.8192C13.3972 11.8192 13.0603 11.4595 13.0603 11.0152V7.87709ZM6.53962 13.4497C6.2165 13.4497 5.95421 13.1742 5.95421 12.833H5.95215V7.09782H12.6362V12.833C12.6362 13.1742 12.3734 13.4497 12.0507 13.4497H11.3811V15.1965C11.3811 15.6409 11.0452 16 10.6302 16C10.2163 16 9.87942 15.6403 9.87942 15.1965V13.4497H8.71049V15.1965C8.71049 15.6409 8.37416 16 7.95965 16C7.54519 16 7.20882 15.6403 7.20882 15.1965V13.4497H6.53962ZM11.483 3.18356L10.8656 4.12529L10.8651 4.12585V4.12637H10.8646C11.8458 4.60695 12.5342 5.52087 12.6225 6.58668H5.93898C6.02626 5.52032 6.71522 4.60752 7.69634 4.12637L7.07946 3.18248C7.04293 3.12626 7.05152 3.05316 7.09973 3.01793C7.14794 2.9832 7.21646 3.00057 7.25347 3.0558L7.89471 4.03748C8.31734 3.86189 8.78664 3.76461 9.28122 3.76461C9.75616 3.76343 10.2269 3.85624 10.6683 4.03804L11.31 3.05735C11.3461 3.00214 11.4151 2.98428 11.4627 3.01901C11.5104 3.05367 11.5196 3.12733 11.483 3.18356ZM7.50154 5.22428C7.50014 5.43755 7.66569 5.61165 7.87136 5.61342V5.61393C8.07537 5.61393 8.2407 5.43991 8.2407 5.22428C8.2407 5.00926 8.07535 4.83464 7.87136 4.83464C7.66696 4.83464 7.50154 5.00928 7.50154 5.22428ZM10.5942 5.58301C10.6394 5.60275 10.6878 5.61308 10.7367 5.61342V5.61393C10.9408 5.61393 11.1061 5.43991 11.1061 5.22428C11.1061 5.00926 10.9407 4.83464 10.7367 4.83464C10.5328 4.83464 10.3664 5.00928 10.3664 5.22428C10.3661 5.27504 10.3754 5.32537 10.3938 5.37239C10.4122 5.41942 10.4394 5.46223 10.4738 5.49837C10.5082 5.5345 10.5491 5.56326 10.5942 5.58301Z\",\n  fill: \"black\"\n});\n\nfunction SvgIcoAndroidApp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 19,\n    viewBox: \"0 0 18 19\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoAndroidApp);\nexport default __webpack_public_path__ + \"static/media/ico-Android-app.c2aff21b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M4 0.589355C1.79086 0.589355 0 2.38022 0 4.58936V14.5894C0 16.7985 1.79086 18.5894 4 18.5894H14C16.2091 18.5894 18 16.7985 18 14.5894V4.58936C18 2.38022 16.2091 0.589355 14 0.589355H4ZM14.4225 6.78463C14.2853 6.86361 12.9868 7.61102 13.0029 9.11954C13.0191 10.9272 14.6631 11.5617 14.7741 11.6045C14.7773 11.6058 14.7792 11.6065 14.7798 11.6068C14.779 11.6089 14.7776 11.6131 14.7756 11.6191C14.7372 11.7335 14.4696 12.5312 13.8631 13.354C13.3107 14.1033 12.7384 14.8495 11.8367 14.8649C11.4023 14.8725 11.1123 14.756 10.811 14.6349C10.4959 14.5083 10.1684 14.3767 9.65053 14.3767C9.10766 14.3767 8.76492 14.5125 8.43471 14.6432C8.14863 14.7565 7.87196 14.866 7.48272 14.8804C6.6126 14.9097 5.94878 14.0709 5.3931 13.3247C4.25512 11.7999 3.38668 9.01295 4.55459 7.13129C5.13356 6.19664 6.17005 5.60496 7.29305 5.58951C7.77759 5.58163 8.24664 5.75429 8.65722 5.90542C8.97127 6.02102 9.25111 6.12403 9.47752 6.12403C9.68052 6.12403 9.95261 6.02442 10.27 5.90823C10.7693 5.72542 11.3807 5.50158 12.0113 5.56015C12.4439 5.57713 13.6551 5.72237 14.432 6.77906C14.4301 6.78022 14.4269 6.78208 14.4225 6.78463ZM12.0246 2.58936C12.1095 3.30926 11.7984 4.03072 11.3359 4.55136V4.55135C10.8734 5.07042 10.1147 5.47519 9.3727 5.42111C9.27121 4.71665 9.64721 3.98129 10.0748 3.51937C10.5523 3.00029 11.3592 2.61408 12.0246 2.58936Z\",\n  fill: \"black\"\n});\n\nfunction SvgIcoIOsApp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 19,\n    viewBox: \"0 0 18 19\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoIOsApp);\nexport default __webpack_public_path__ + \"static/media/ico-iOS-app.09d18173.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/phoneApp.5dea3cb3.png\";","import React, {useRef} from \"react\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport {Box} from \"@material-ui/core\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {useTheme} from \"@material-ui/core/styles\";\n\nimport {ReactComponent as LogoColor} from \"src/assets/images/common/logoColor.svg\";\nimport {ReactComponent as AppAndroidIcon} from \"src/assets/icons/ico-Android-app.svg\";\nimport {ReactComponent as AppiOSIcon} from \"src/assets/icons/ico-iOS-app.svg\";\nimport {ReactComponent as BackIcon} from \"src/assets/icons/icon_circlefull_close20.svg\";\nimport PhoneImg from \"src/assets/images/phoneApp.png\";\nimport {t} from \"src/i18n/utils\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      zIndex: \"3000 !important\",\n      \"& .MuiDialog-container\": {\n        height: \"100%\",\n        marginTop: \"auto\",\n        display: \"flex\",\n        alignItems: \"flex-end\",\n      },\n      \"& .MuiDialog-paperWidthSm\": {\n        maxWidth: 860,\n        width: \"calc(100% - 200px)\",\n        borderRadius: 20,\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-around\",\n        alignItems: \"center\",\n        margin: \"auto\",\n        marginTop: \"max(15px, 5vh)\",\n        padding: \"50px\",\n        [theme.breakpoints.down(\"xs\")]: {\n          flexDirection: \"column\",\n          padding: \"50px 0 20px\",\n          margin: 0,\n          width: \"100%\",\n          borderRadius: \"20px 20px 0 0\",\n        },\n      },\n    },\n    logo: {\n      [theme.breakpoints.down(\"xs\")]: {\n        margin: \"auto\",\n      },\n    },\n    description: {\n      marginTop: 10,\n      fontSize: 32,\n      fontWeight: 700,\n      maxWidth: 260,\n      [theme.breakpoints.down(\"xs\")]: {\n        fontSize: 24,\n      },\n    },\n    appImageContainer: {\n      maxWidth: \"355px\",\n      [theme.breakpoints.down(\"xs\")]: {\n        maxWidth: \"calc(100% - 60px)\",\n      },\n    },\n    appImage: {\n      width: \"100%\",\n      height: \"100%\",\n    },\n    appbuttons: {\n      marginTop: \"60px\",\n      fontSize: 15,\n      fontWeight: 700,\n      lineHeight: \"18px\",\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-around\",\n        fontSize: 13,\n        marginTop: 0,\n      },\n      \"& a\": {\n        width: 200,\n        padding: \"16px 34px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        border: `1px solid ${theme.palette.text.main}`,\n        boxSizing: \"border-box\",\n        borderRadius: 100,\n        color: theme.palette.text.main,\n        [theme.breakpoints.down(\"xs\")]: {\n          padding: \"14px 18px\",\n          width: 155,\n        },\n        \"&:last-child\": {\n          marginTop: 26,\n          [theme.breakpoints.down(\"xs\")]: {\n            marginTop: 0,\n          },\n        },\n        \"& span\": {\n          flex: 1,\n          textAlign: \"center\",\n        },\n      },\n    },\n    closeButton: {\n      top: 20,\n      right: 20,\n      position: \"absolute\",\n      fill: theme.palette.grey[200],\n      transform: \"scale(1.25)\",\n      cursor: \"pointer\",\n    },\n  }),\n);\n\nexport const DownloadDialog = ({isOpen, handleClose}) => {\n  const classes = useStyles();\n  const selectEl = useRef(null);\n  const theme = useTheme();\n  const mobileMatches = useMediaQuery(theme.breakpoints.only(\"xs\"));\n\n  const downloadAppButtons = (\n    <>\n      <a\n        href=\"https://itunes.apple.com/app/id1552514891\"\n        target=\"_blank\"\n        download\n      >\n        <AppiOSIcon />\n        <span>{t(\"getter_fe.common.download.iosApp\")}</span>\n      </a>\n      <a\n        href=\"https://cdn.getome.com/apk/getter-prod.apk\"\n        target=\"_blank\"\n        download\n      >\n        <AppAndroidIcon />\n        <span>{t(\"getter_fe.common.download.androidApp\")}</span>\n      </a>\n    </>\n  );\n\n  return (\n    <div ref={selectEl}>\n      <Dialog\n        open={isOpen}\n        onClose={handleClose}\n        scroll=\"body\"\n        className={classes.root}\n        container={() => (selectEl ? selectEl.current : null)}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <Box display=\"flex\" flexDirection=\"column\" py={3}>\n          <LogoColor className={classes.logo} />\n          <div className={classes.description}>\n            {t(\"getter_fe.common.download.description2\")}\n          </div>\n          {!mobileMatches && (\n            <div className={classes.appbuttons}>{downloadAppButtons}</div>\n          )}\n        </Box>\n        <Box py={3} className={classes.appImageContainer}>\n          <img src={PhoneImg} className={classes.appImage} alt=\"phone-images\" />\n        </Box>\n        {mobileMatches && (\n          <div className={classes.appbuttons}>{downloadAppButtons}</div>\n        )}\n\n        <BackIcon className={classes.closeButton} onClick={handleClose} />\n      </Dialog>\n    </div>\n  );\n};\n","import React, {useState, useEffect} from \"react\";\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\nimport {PostComposer} from \"src/app/components/post/comps/PostComposer\";\nimport {GButton} from \"../styles/components/GButton\";\nimport {t, setLang, getLang} from \"../i18n/utils\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport UserMenu from \"./components/UserMenu\";\nimport {connect} from \"react-redux\";\nimport {ReactComponent as IconHome} from \"src/assets/icons/ico-home.svg\";\nimport {ReactComponent as IconHomeActived} from \"src/assets/icons/ico-home-actived.svg\";\nimport {ReactComponent as IconSearch} from \"src/assets/icons/search.svg\";\nimport {ReactComponent as IconSearchActivated} from \"src/assets/icons/search-activated.svg\";\nimport {ReactComponent as IconProfile} from \"src/assets/icons/ico-profile.svg\";\nimport {ReactComponent as IconProfileActived} from \"src/assets/icons/ico-profile-actived.svg\";\nimport {ReactComponent as IconSettings} from \"src/assets/icons/ico-settings.svg\";\nimport {ReactComponent as IconSettingsActived} from \"src/assets/icons/ico-settings-actived.svg\";\nimport {ReactComponent as IconHelpCenter} from \"src/assets/icons/ico-helpcenter.svg\";\nimport {ReactComponent as IconHelpCenterActived} from \"src/assets/icons/ico-helpcenter-actived.svg\";\nimport {ReactComponent as IconLanguage} from \"src/assets/icons/ico-language.svg\";\nimport {ReactComponent as IconLanguageActivated} from \"src/assets/icons/ico-language-activated.svg\";\nimport {ReactComponent as IconAddPost} from \"src/assets/icons/icon_add_post.svg\";\nimport {ReactComponent as LogoBig} from \"src/assets/images/common/logoColor.svg\";\nimport {ReactComponent as LogoSmall} from \"src/assets/images/common/brand-logo-small.svg\";\nimport {ReactComponent as IconDownload} from \"src/assets/icons/ico-smart-phone.svg\";\nimport {ReactComponent as IconDowloadActived} from \"src/assets/icons/ico-smart-phone-activated.svg\";\n\nimport {\n  resetTimelineStatus,\n  resetTimelineData,\n} from \"src/app/components/timeline/store\";\nimport {LanguageDialog} from \"./LanguageDialog\";\nimport {DownloadDialog} from \"src/app/components/DownloadDialog\";\n\nimport AppConsts from \"./AppConsts\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      height: \"100%\",\n      marginLeft: 0,\n      position: \"relative\",\n      flexShrink: 0,\n      flexGrow: 0,\n      width: theme.spacing(34.375),\n      zIndex: 1000,\n      // marginRight: theme.spacing(5.375),\n      [theme.breakpoints.down(\"md\")]: {\n        width: \"auto\",\n        // paddingRight: theme.spacing(3.75),\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        flexGrow: 1,\n        marginRight: 0,\n      },\n    },\n    wrapper: {\n      position: \"sticky\",\n      top: 0,\n      height: \"calc(var(--vh, 1vh) * 100)\",\n      textAlign: \"center\",\n      paddingLeft: \"10px\",\n    },\n    wrapperFooter: {\n      position: \"absolute\",\n      bottom: \"23px\",\n      // top: \"calc(var(--vh, 1vh) * 100 - 90px)\",\n      // left: \"8px\",\n      [theme.breakpoints.up(\"lg\")]: {justifyContent: \"center\"},\n      [theme.breakpoints.up(\"md\")]: {\n        [\"@media (max-height: 620px)\"]: {\n          position: \"relative\",\n          top: \"unset\",\n          bottom: \"unset\",\n          left: 0,\n          \"& > div\": {\n            \"& .dropdown\": {\n              marginTop: theme.spacing(7),\n            },\n          },\n        },\n      },\n      [theme.breakpoints.down(\"md\")]: {\n        top: \"unset\",\n        bottom: theme.spacing(3),\n        width: \"100%\",\n        display: \"flex\",\n        [\"@media (max-height: 704px)\"]: {\n          position: \"relative\",\n          top: \"unset\",\n          bottom: \"unset\",\n          left: 0,\n          \"& > div\": {\n            width: \"100%\",\n            \"& .dropdown\": {\n              marginTop: theme.spacing(4),\n              // marginRight: theme.spacing(-0.35),\n              marginBottom: theme.spacing(4),\n              \"& .user-menu-trigger\": {\n                \"& > div\": {\n                  marginLeft: 0,\n                },\n                justifyContent: \"center\",\n              },\n            },\n          },\n        },\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        [\"@media (max-height: 704px)\"]: {\n          bottom: \"unset\",\n          \"& > div\": {\n            \"& .dropdown\": {\n              marginTop: theme.spacing(4),\n            },\n          },\n        },\n      },\n    },\n    button: {\n      textTransform: \"none\",\n      height: 46,\n      width: \"211px\",\n      borderRadius: 100,\n      backgroundColor: `${theme.palette.buttonDanger.main} !important`,\n      filter: \"drop-shadow(0px 4px 14px rgba(122, 140, 166, 0.18))\",\n      \"&:hover\": {\n        backgroundColor: `${theme.palette.buttonDanger.light} !important`,\n      },\n      \"& .MuiButton-label\": {\n        fontWeight: 700,\n        fontSize: \"15px\",\n        lineHeight: \"18px\",\n        letterSpacing: \"0.05em\",\n      },\n    },\n    iconContainer: {\n      position: \"relative\",\n      marginRight: \"14px\",\n      width: \"36px\",\n      justifyContent: \"center\",\n      top: 2,\n      [theme.breakpoints.down(\"md\")]: {\n        marginRight: 0,\n      },\n    },\n    inactiveIcon: {\n      stroke: theme.palette.text.secondary,\n      [theme.breakpoints.down(\"md\")]: {\n        \"&:hover\": {\n          \"& circle\": {\n            fill: theme.palette.grey.A200,\n          },\n        },\n      },\n    },\n    \"@keyframes fadeIn\": {\n      \"0%\": {\n        opacity: 0.5,\n      },\n      \"100%\": {\n        backgroundColor: \"#F5F9FF\",\n        opacity: 1,\n      },\n    },\n\n    navigateMenu: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"flex-start\",\n      [theme.breakpoints.down(\"md\")]: {\n        alignItems: \"center\",\n      },\n      \"& .navigate-menu-item\": {\n        height: theme.spacing(6.25),\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        margin: theme.spacing(0, 0, 0.875, 0),\n        cursor: \"pointer\",\n        fontSize: \"18px\",\n        fontWeight: 700,\n        color: theme.palette.text.secondary,\n        position: \"relative\",\n        [theme.breakpoints.down(\"md\")]: {\n          justifyContent: \"center\",\n        },\n        \"& .hover-background\": {\n          position: \"absolute\",\n          top: 0,\n          bottom: 0,\n          left: \"-8px\",\n          right: \"15px\",\n          zIndex: -1,\n          opacity: 0,\n          borderRadius: \"100px\",\n          backgroundColor: \"#F5F9FF\",\n          width: \"calc(100% + 30px)\",\n          [theme.breakpoints.down(\"md\")]: {\n            borderRadius: \"50%\",\n            width: 50,\n            height: 50,\n            left: \"50%\",\n            right: \"auto\",\n            transform: \"translateX(-50%)\",\n          },\n        },\n        \"&:hover\": {\n          \"& .hover-background\": {\n            opacity: 1,\n            animation: \"$fadeIn ease 0.3s\",\n          },\n        },\n        \"&.zh,&.tw\": {\n          letterSpacing: \"0.05em\",\n        },\n        \"&.active\": {\n          color: theme.palette.primary.main,\n        },\n      },\n    },\n    tabletPostButton: {\n      padding: theme.spacing(2.0625),\n      background: theme.palette.buttonDanger.main,\n      \"& svg \": {\n        width: theme.spacing(2.75),\n        height: theme.spacing(2.75),\n        \"& path\": {\n          stroke: \"#fff !important\",\n        },\n      },\n      \"&:hover\": {\n        background: theme.palette.buttonDanger.light,\n      },\n    },\n    fixedButton: {\n      position: \"fixed\",\n      bottom: \"85px\",\n      right: \"12px\",\n      zIndex: 99,\n    },\n    brandLogo: {\n      cursor: \"pointer\",\n      height: 56,\n      display: \"flex\",\n      alignItems: \"center\",\n      marginBottom: 17,\n      paddingLeft: \"5px\",\n      [theme.breakpoints.down(\"md\")]: {\n        justifyContent: \"center\",\n      },\n    },\n    postBtnContainer: {\n      display: \"flex\",\n      marginTop: 23,\n      [theme.breakpoints.down(\"md\")]: {\n        marginTop: 24,\n        justifyContent: \"center\",\n      },\n    },\n    headerMenuItem: {\n      [theme.breakpoints.up(\"lg\")]: {\n        width: 230,\n      },\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-end\",\n      \"& .dropdown\": {\n        [theme.breakpoints.up(\"lg\")]: {\n          width: \"100%\",\n        },\n        // marginRight: theme.spacing(1.25),\n      },\n    },\n    scrollWrapper: {\n      height: \"100%\",\n      position: \"relative\",\n      overflowX: \"hidden\",\n      overflowY: \"auto\",\n      // paddingRight: theme.spacing(5.375),\n      paddingLeft: theme.spacing(1),\n      [theme.breakpoints.down(\"md\")]: {\n        paddingRight: theme.spacing(3.75),\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        paddingLeft: theme.spacing(1.75),\n        paddingRight: theme.spacing(2.75),\n      },\n    },\n  }),\n);\n\n// export const PROP_USERINFO = \"userInfo\";\n\n/**\n * Sidebar in the user / news pages that show current\n * user info, stats, and navigation links. It's usually\n * on the left side of the timeline / news feed.\n *\n * If user is not logged in, then some items in the side\n * bar will not be shown.\n */\n\nconst connector = connect(\n  (state) => {\n    return {\n      authenticated: state.auth?.session?.authenticated,\n    };\n  },\n  {resetTimelineStatus, resetTimelineData},\n);\n\nexport const NavigateSideBar = connector(_NavigateSideBar);\n\nfunction _NavigateSideBar({\n  appContext,\n  userId,\n  resetTimelineStatus,\n  resetTimelineData,\n  authenticated,\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const {pathname} = useLocation();\n  const theme = useTheme();\n  const mobileMatches = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const tabletMatches = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const pcMatches = useMediaQuery(theme.breakpoints.up(\"lg\"));\n  const [currentLangCode, setCurrentLangCode] = useState(getLang());\n  const [isLanguageDialogOpen, setIsLanguageDialogOpen] = useState(false);\n  const [isDownloadDialogOpen, setIsDownloadDialogOpen] = useState(false);\n\n  useEffect(() => {\n    setCurrentLangCode(getLang());\n  }, [getLang()]);\n\n  useEffect(() => {\n    if (!mobileMatches) setIsDownloadDialogOpen(false);\n  }, [mobileMatches]);\n\n  // useEffect(() => {\n  //   //todo: get userInfo\n  //   //getUserInfo()\n  // }, []);\n\n  /**\n   * Callback for #getUserStat() if it decides to\n   * retrieve from server.\n   */\n  // const notifyUpdatedUserStats = (err, userStats) => {\n  //   if (err == null && userStats != null) {\n  //     this.refreshView();\n  //   }\n  // };\n\n  /**\n   * Given a label (url pathname portion), determine\n   * user is currently in this section.\n   *\n   * @param {string} label section name (e.g., \"explore\", \"notifications\", \"messages\", etc)\n   * @return {boolean} true if in section specified by label\n   */\n  // const isSection = (label) => {\n  //   let path = getCurrentPath();\n\n  //   let match = label[0] !== \"/\" ? \"/\" + label : label;\n\n  //   // for now, stupid logic to match anywhere in url string\n  //   return path ? path.indexOf(match) !== -1 : false;\n  // };\n\n  /**\n   * UserInfo should be passed in as a props, but if null\n   * we can use logged in user's info.\n   *\n   * @return {XUserInfo}\n   */\n  // const getCurrentUserInfo = () => {\n  //   let userInfo = props[\"userInfo\"];\n  //   // if (userInfo == null) userInfo = getUserInfo(); // for logged in user\n  //   return userInfo;\n  // };\n\n  /**\n   * This should belong in its own component\n   *\n  //  */\n  // const renderUserSummary = () => {\n  //   let userInfo = getCurrentUserInfo();\n\n  //   if (userInfo != null) {\n  //     let profileNickname = userInfo.getNickname();\n  //     // let userId = userInfo.getUserId();\n  //     let profileUsername = userInfo.getUsername(\"Not Logged In\");\n  //     let userStats = this.loadUserStats(null, this.notifyUpdatedUserStats);\n\n  //     // let userId = obj.getUserId();\n  //     let objDesc = userInfo.getDescription();\n  //     if (objDesc == null) objDesc = \"[No information]\";\n\n  //     let userLikes = userStats ? userStats.getLikesCount(0) : 0;\n  //     let followsCount = userStats ? userStats.getFollowsCount(0) : 0;\n  //     let followersCount = userStats ? userStats.getFollowersCount(0) : 0;\n  //     let socialStats = (\n  //       <React.Fragment>\n  //         <span className=\"stats\">Followers: {followersCount}</span>\n  //         <br />\n  //         <span className=\"stats\">Followings: {followsCount}</span>\n  //         <br />\n  //         <span className=\"stats\">Likes: {userLikes}</span>\n  //       </React.Fragment>\n  //     );\n\n  //     let userSummary = userLoggedIn ? (\n  //       <span>\n  //         <span className=\"name\">\n  //           <b>{profileNickname}</b> (@{profileUsername})\n  //         </span>\n  //         <br />\n  //         {socialStats}\n  //       </span>\n  //     ) : null;\n\n  //     return <div className=\"user-info\">{userSummary}</div>;\n  //   }\n  // }; // renderUserSummary\n\n  // const setNavigationPaths = () => {\n  //   this.c_myFeed = {\n  //     to: \"/dashboard\",\n  //     text: \"My Timeline\",\n  //     auth: true,\n  //   };\n  // };\n\n  const renderHomeLink = () => {\n    let comp = (\n      <Link\n        className={clsx(\n          \"navigate-menu-item\",\n          (/\\/dashboard|trending|popular-users/.test(pathname) ||\n            pathname === \"/\") &&\n            \"active\",\n          getLang(),\n        )}\n        to=\"/\"\n        onClick={() => {\n          resetTimelineData();\n          resetTimelineStatus();\n\n          window.scrollTo({\n            top: 0,\n            left: 0,\n            behavior: \"smooth\",\n          });\n        }}\n      >\n        <div className=\"hover-background\" />\n        <div className={classes.iconContainer}>\n          {/\\/dashboard|trending|popular-users/.test(pathname) ||\n          pathname === \"/\" ? (\n            <IconHomeActived />\n          ) : (\n            <IconHome className={classes.inactiveIcon} />\n          )}\n        </div>\n        {pcMatches && (\n          <div className=\"text\">{t(\"getter_fe.menu.common.home\")}</div>\n        )}\n      </Link>\n    );\n    return comp;\n  };\n\n  const renderSearchLink = () => {\n    const isSearchPage = /(\\/search)|(\\/hashtag\\/)/.test(pathname);\n    let comp = (\n      <ConditionalLink\n        to=\"/search\"\n        condition={!isSearchPage}\n        className={clsx(\n          \"navigate-menu-item\",\n          isSearchPage && \"active\",\n          getLang(),\n        )}\n      >\n        <div className=\"hover-background\" />\n        <div className={classes.iconContainer}>\n          {isSearchPage ? (\n            <IconSearchActivated />\n          ) : (\n            <IconSearch className={classes.inactiveIcon} />\n          )}\n        </div>\n        {pcMatches && (\n          <div className=\"text\">{t(\"getter_fe.menu.common.search\")}</div>\n        )}\n      </ConditionalLink>\n    );\n    return comp;\n  };\n\n  const renderProfileLink = () => {\n    const myProfileUrl = `/user/${userId}`;\n    let comp = (\n      <Link\n        className={clsx(\n          \"navigate-menu-item\",\n          pathname === myProfileUrl && \"active\",\n          getLang(),\n        )}\n        to={!userId ? \"/login\" : myProfileUrl}\n      >\n        <div className=\"hover-background\" />\n        <div className={classes.iconContainer}>\n          {pathname.includes(myProfileUrl) ? (\n            <IconProfileActived />\n          ) : (\n            <IconProfile className={classes.inactiveIcon} />\n          )}\n        </div>\n        {pcMatches && (\n          <div className=\"text\">{t(\"getter_fe.menu.common.profile\")}</div>\n        )}\n      </Link>\n    );\n    return comp;\n  };\n\n  const renderSettingsLink = () => {\n    let to;\n    if (!userId) {\n      to = \"/login\";\n    } else {\n      if (tabletMatches) {\n        to = `/settings/${AppConsts.URL_SETTINGS_MOBILE_INDEX}`;\n      } else {\n        to = `/settings/${AppConsts.URL_SETTINGS_CHANGE_PASSWORD}`;\n      }\n    }\n    let comp = (\n      <Link\n        className={clsx(\n          \"navigate-menu-item\",\n          /\\/settings/.test(pathname) && \"active\",\n          getLang(),\n        )}\n        to={to}\n      >\n        <div className=\"hover-background\" />\n        <div className={classes.iconContainer}>\n          {/\\/settings/.test(pathname) ? (\n            <IconSettingsActived />\n          ) : (\n            <IconSettings className={classes.inactiveIcon} />\n          )}\n        </div>\n        {pcMatches && (\n          <div className=\"text\">{t(\"getter_fe.menu.common.settings\")}</div>\n        )}\n      </Link>\n    );\n    return comp;\n  };\n\n  const renderHelpCenterLink = () => {\n    return (\n      <Link\n        to={\n          tabletMatches\n            ? `${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_MOBILE_INDEX}`\n            : `${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_REGISTRATION}`\n        }\n        className={clsx(\n          \"navigate-menu-item\",\n          /\\/helpcenter/.test(pathname) && \"active\",\n          getLang(),\n        )}\n      >\n        <div className=\"hover-background\" />\n        <div className={classes.iconContainer}>\n          {/\\/helpcenter/.test(pathname) ? (\n            <IconHelpCenterActived />\n          ) : (\n            <IconHelpCenter className={classes.inactiveIcon} />\n          )}\n        </div>\n        {pcMatches && (\n          <div className=\"text\">{t(\"getter_fe.menu.common.helpCenter\")}</div>\n        )}\n      </Link>\n    );\n  };\n\n  const renderLanguageLink = () => {\n    return (\n      <div>\n        <ConditionalLink\n          to=\"/settings/interface-language\"\n          condition={userId}\n          className={clsx(\n            \"navigate-menu-item\",\n            isLanguageDialogOpen && \"active\",\n            getLang(),\n          )}\n          onClick={() => {\n            if (!userId) {\n              setIsLanguageDialogOpen(true);\n            }\n          }}\n        >\n          <div className=\"hover-background\" />\n\n          <div className={classes.iconContainer}>\n            {isLanguageDialogOpen ? (\n              <IconLanguageActivated />\n            ) : (\n              <IconLanguage />\n            )}\n          </div>\n          {pcMatches ? (\n            <div className=\"text\">\n              {appContext.getSupportedLanguageList(currentLangCode).nativeName}\n            </div>\n          ) : null}\n        </ConditionalLink>\n        <LanguageDialog\n          isOpen={isLanguageDialogOpen}\n          handleClose={(e) => {\n            e.stopPropagation();\n            setIsLanguageDialogOpen(false);\n          }}\n          allLangs={appContext.getSupportedLanguageList()}\n          currentLangCode={currentLangCode}\n          selectLangCode={(langCode) => {\n            const success = appContext.setLanguagePref(langCode);\n            if (success) {\n              setLang(langCode);\n              setCurrentLangCode(langCode);\n              window.location.reload();\n            } else {\n              console.error(\"Oops! Cannot change to the language you desired.\");\n            }\n          }}\n        />\n      </div>\n    );\n  };\n\n  const renderDownloadLink = () => {\n    return (\n      <div>\n        <div\n          className={clsx(\n            \"navigate-menu-item\",\n            isDownloadDialogOpen && \"active\",\n            getLang(),\n          )}\n          onClick={() => {\n            setIsDownloadDialogOpen(true);\n          }}\n        >\n          <div className=\"hover-background\" />\n          <div className={classes.iconContainer}>\n            {isDownloadDialogOpen ? <IconDowloadActived /> : <IconDownload />}\n          </div>\n          {pcMatches && (\n            <div className=\"text\">{t(\"getter_fe.menu.common.download\")}</div>\n          )}\n        </div>\n        <DownloadDialog\n          isOpen={isDownloadDialogOpen}\n          handleClose={(e) => {\n            e.stopPropagation();\n            setIsDownloadDialogOpen(false);\n          }}\n        />\n      </div>\n    );\n  };\n\n  /**\n   * Render the sections differently for logged in user\n   * and user coming from bookmarks or SEO and not\n   * logged in\n   */\n  const renderSectionLinks = () => {\n    let helpCenterLink = renderHelpCenterLink();\n    let settingsLink = renderSettingsLink();\n    let profileLink = renderProfileLink();\n    let homeLink = renderHomeLink();\n    let languageLink = renderLanguageLink();\n    let searchLink = renderSearchLink();\n    let downloadLink = renderDownloadLink();\n\n    let sectionLinks = (\n      <div className={classes.navigateMenu}>\n        {homeLink}\n        {tabletMatches && searchLink}\n        {profileLink}\n        {settingsLink}\n        {helpCenterLink}\n        {downloadLink}\n        {!authenticated && languageLink}\n      </div>\n    );\n    return sectionLinks;\n  };\n\n  // let userSec = renderUserSummary();\n  let navLinks = renderSectionLinks();\n  let postButton = (\n    <GButton\n      className={classes.button}\n      onClick={() => {\n        if (!userId) {\n          history.push(\"/login\");\n        }\n      }}\n    >\n      {t(\"getter_fe.menu.common.button\")}\n    </GButton>\n  );\n\n  let tabletPostButton = (\n    <IconButton\n      className={clsx(\n        classes.tabletPostButton,\n        mobileMatches && classes.fixedButton,\n      )}\n      color=\"primary\"\n      onClick={() => {\n        if (!userId) {\n          history.push(\"/login\");\n        }\n      }}\n    >\n      <IconAddPost />\n    </IconButton>\n  );\n\n  return !mobileMatches ? (\n    <div className={classnames(classes.root, \"navigate-sidebar\")}>\n      <div className={classes.wrapper}>\n        <div className={classes.scrollWrapper}>\n          <div\n            className={classes.brandLogo}\n            onClick={() => {\n              if (/\\/dashboard/.test(pathname) || pathname === \"/\") {\n                return window.scrollTo({\n                  top: 0,\n                  left: 0,\n                  behavior: \"smooth\",\n                });\n              }\n              resetTimelineData();\n              resetTimelineStatus();\n              history.push(\"/\");\n            }}\n          >\n            {pcMatches ? <LogoBig /> : <LogoSmall />}\n          </div>\n          {navLinks}\n          <div className={classes.postBtnContainer}>\n            {authenticated && (\n              <PostComposer\n                history={history}\n                isPopup={true}\n                trigger={pcMatches ? postButton : tabletPostButton}\n              ></PostComposer>\n            )}\n            {!authenticated && (pcMatches ? postButton : tabletPostButton)}\n          </div>\n          {authenticated && (\n            <div className={classes.wrapperFooter}>\n              <div className={classes.headerMenuItem}>\n                <UserMenu small={!pcMatches} />\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  ) : (\n    (/\\/dashboard/.test(pathname) || pathname === \"/\") &&\n      (authenticated ? (\n        <PostComposer\n          history={history}\n          isPopup={true}\n          trigger={tabletPostButton}\n        ></PostComposer>\n      ) : (\n        tabletPostButton\n      ))\n  );\n}\n\nconst ConditionalLink = ({children, condition, to, ...rest}) =>\n  !!condition && to ? (\n    <Link to={to} {...rest}>\n      {children}\n    </Link>\n  ) : (\n    <div {...rest}>{children}</div>\n  );\n\nNavigateSideBar.propTypes = {\n  appContext: PropTypes.object,\n  // [PROP_USERINFO]: PropTypes.object,\n};\n","import {Helmet} from \"react-helmet\";\nimport {useLocation} from \"react-router\";\nimport VisualConsts from \"src/core/model/VisualConsts\";\nimport Global from \"src/system/Global\";\nimport AppConsts from \"../AppConsts\";\n\nconst DEFAULT_TITLE = AppConsts.APP_WEB_NAME;\nconst DEFAULT_DESCRIPTION = \"Web Page of: \" + DEFAULT_TITLE;\nconst DEFAULT_TWITTER = AppConsts.APP_TWITTER_USERNAME;\nconst DEFAULT_SEPERATOR = \" | \";\nconst DEFAULT_IMAGE = Global.GetAppLogoURL();\nconst FB_APP_ID = Global.GetFacebookAppID();\n\nexport const NewUIPage = ({children, title, description, noCrawl}) => {\n  const location = useLocation();\n  const SITE_URL = Global.GetSiteURL();\n\n  const theTitle = title ? title.substring(0, 60) : DEFAULT_TITLE;\n  const theDescription = description\n    ? description.substring(0, 155)\n    : DEFAULT_DESCRIPTION;\n\n  const metaTags = [\n    {itemprop: \"name\", content: theTitle},\n    {\n      itemprop: \"description\",\n      content: theDescription,\n    },\n    {itemprop: \"image\", content: DEFAULT_IMAGE},\n    {\n      name: \"description\",\n      content: theDescription,\n    },\n    {name: \"twitter:card\", content: \"summary_large_image\"},\n    {name: \"twitter:site\", content: DEFAULT_TWITTER},\n    {name: \"twitter:creator\", content: DEFAULT_TWITTER},\n    {property: \"og:title\", content: theTitle},\n    {property: \"og:type\", content: \"website\"},\n    {property: \"og:url\", content: SITE_URL + location.pathname},\n    {property: \"og:image\", content: DEFAULT_IMAGE},\n    {\n      property: \"og:image:width\",\n      content: `${VisualConsts.DEFAULT_THUMBNAIL_WIDTH}`,\n    },\n    {\n      property: \"og:image:height\",\n      content: `${VisualConsts.DEFAULT_THUMBNAIL_HEIGHT}`,\n    },\n    {property: \"og:description\", content: theDescription},\n    {property: \"og:site_name\", content: DEFAULT_TITLE},\n    {property: \"fb:app_id\", content: FB_APP_ID},\n  ];\n\n  if (noCrawl) {\n    metaTags.push({name: \"robots\", content: \"noindex, nofollow\"});\n  }\n\n  return (\n    <>\n      <Helmet\n        htmlAttributes={{\n          lang: \"en\",\n          itemscope: undefined,\n          itemtype: \"http://schema.org/WebPage\",\n        }}\n        title={\n          title ? `${title}${DEFAULT_SEPERATOR}${DEFAULT_TITLE}` : DEFAULT_TITLE\n        }\n        link={[\n          {\n            rel: \"canonical\",\n            href: SITE_URL + location.pathname,\n          },\n        ]}\n        meta={metaTags}\n      />\n      {children}\n    </>\n  );\n};\n","import {makeStyles} from \"@material-ui/core\";\nimport classnames from \"classnames\";\nimport {Link} from \"react-router-dom\";\nimport {t} from \"src/i18n/utils\";\nimport {UIStyleConsts} from \"../AppConsts\";\n\nconst useStyles = makeStyles((theme) => ({\n  primaryColumn: {\n    maxWidth: \"600px\",\n    boxShadow: \"0px 4px 34px 5px rgba(236, 239, 245, 0.35);\",\n    minHeight: \"calc(var(--vh, 1vh) * 100 - 60px)\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"600px\",\n    },\n    alignItems: \"center\",\n  },\n  pageNotFoundContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    maxWidth: 426,\n    paddingTop: 40,\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingLeft: 10,\n      paddingRight: 10,\n    },\n  },\n  pageNotFoundTitle: {\n    fontSize: 18,\n    fontWeight: 800,\n  },\n  pageNotFoundContent: {\n    color: theme.palette.text.gray,\n    fontSize: 14,\n    fontWeight: 500,\n    textAlign: \"center\",\n    paddingTop: 6,\n  },\n  returnLink: {\n    fontSize: 14,\n    paddingTop: 20,\n    fontWeight: 500,\n    color: theme.palette.primary.main,\n    \"&:hover\": {\n      color: theme.palette.primary.dark,\n    },\n  },\n  ExploreSideBar: {\n    maxWidth: \"425px\",\n    [theme.breakpoints.up(\"lg\")]: {\n      width: \"100%\",\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none !important\",\n    },\n  },\n}));\n\nexport const NewNotFoundPage = () => {\n  const classes = useStyles();\n  return (\n    <div className={classnames(UIStyleConsts.DASHBOARD)}>\n      <div\n        className={classnames(\n          UIStyleConsts.DASHBOARD_PRIMARY_COLUMN,\n          UIStyleConsts.DASHBOARD_COLUMN,\n          classes.primaryColumn,\n        )}\n      >\n        <div className={classes.pageNotFoundContainer}>\n          <div className={classes.pageNotFoundTitle}>\n            {t(\"getter_fe.common.pageNotFoundTitle\")}\n          </div>\n          <div className={classes.pageNotFoundContent}>\n            {t(\"getter_fe.common.pageNotFound\")}\n          </div>\n          <Link to=\"/\" className={classes.returnLink}>\n            {t(\"getter_fe.common.returnToHomePage\")}\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport {NewUIPage} from \"../base/NewUIPage\";\nimport {NewNotFoundPage} from \"../pages/NewNotFoundPage\";\n\nexport const NewNotFound = () => {\n  return (\n    <NewUIPage noCrawl title=\"Not Found\" description=\"This is embarrassing.\">\n      <NewNotFoundPage />\n    </NewUIPage>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/privacy.cf14b711.md\";","import React, {useState} from \"react\";\nimport ReactMarkdown from \"react-markdown/with-html\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport AppConsts from \"src/app/AppConsts\";\nimport {NewUIPage} from \"src/app/base/NewUIPage\";\nimport privacyMdPath from \"src/assets/md/privacy.md\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    privacyContainer: {\n      margin: 20,\n      padding: 10,\n      maxWidth: 900,\n      color: theme.palette.text.primary,\n      \"& h2\": {\n        fontWeight: \"bolder\",\n      },\n      \"& h5\": {\n        letterSpacing: 1,\n      },\n      \"& p,li\": {\n        fontWeight: 400,\n        lineHeight: \"25px\",\n        letterSpacing: 1,\n      },\n      \"& a\": {\n        color: theme.palette.text.primary,\n        fontWeight: 400,\n        textDecoration: \"underline\",\n        \"&:hover\": {\n          color: \"#000\",\n        },\n      },\n    },\n  }),\n);\n\nexport const Privacy = () => {\n  const classes = useStyles();\n  const [text, setText] = useState(null);\n  const objTitle = \"Privacy Policy\";\n  const fullDesc = `${AppConsts.APP_WEB_NAME} - Privacy Policy`;\n  const wrapperStyle = {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    maxHeight: 600,\n    height: \"50vh\",\n  };\n\n  fetch(privacyMdPath)\n    .then((response) => response.text())\n    .then((text) => setText(text));\n\n  return (\n    <NewUIPage title={objTitle} description={fullDesc}>\n      {text ? (\n        <ReactMarkdown\n          className={classes.privacyContainer}\n          source={text}\n          escapeHtml={false}\n        />\n      ) : (\n        <GLoader wrapperStyle={wrapperStyle} />\n      )}\n    </NewUIPage>\n  );\n};\n","import React, {useState, useEffect} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Waypoint} from \"react-waypoint\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {setTimelineId} from \"src/store/modules/timeline\";\nimport {t} from \"src/i18n/utils\";\nimport {PostFeedItem} from \"src/app/components/post/comps/PostFeedItem\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport Global from \"src/system/Global\";\n\nconst LOAD_MORE_CUTOFF_SIZE = 10;\nconst MAX_BATCH_SIZE = 20;\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      marginBottom: theme.spacing(1),\n    },\n    noResultContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      marginTop: \"48px\",\n      backgroundColor: theme.palette.background.default,\n      alignItems: \"center\",\n      \"& h2\": {\n        maxWidth: 598,\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        textAlign: \"center\",\n        padding: \"0 16px\",\n        wordBreak: \"break-word\",\n        fontWeight: 800,\n        fontSize: 18,\n        lineHeight: \"21px\",\n        color: theme.palette.text.main,\n      },\n      \"& span\": {\n        fontSize: 16,\n        lineHeight: \"140%\",\n        color: theme.palette.text.secondary,\n      },\n    },\n  }),\n);\n\nexport const HashtagSearchFeed = ({phrase}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const {postTimeline} = useSelector((state) => state.timeline);\n  const [offset, setOffset] = useState(0);\n  const [feed, setFeed] = useState([]);\n  const [enableLoad, setEnableLoad] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const api = Global.GetPortal().getAppService();\n\n  const wrapperStyle = {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    maxHeight: 600,\n    height: `calc(100vh - 552px)`, // handle if the screen height is small\n  };\n\n  useEffect(() => {\n    setEnableLoad(true);\n    setFeed([]);\n    if (phrase !== escape(\"#\") && phrase !== escape(\"@\")) {\n      setLoading(true);\n      api.getSearchByPhrase(phrase, 0, MAX_BATCH_SIZE, (err, searchFeed) => {\n        if (err == null && searchFeed) {\n          const newFeed = searchFeed.getXPostItems(true);\n          setFeed(newFeed);\n        }\n        setEnableLoad(false);\n        setOffset(MAX_BATCH_SIZE);\n        setLoading(false);\n      });\n    } else {\n      setEnableLoad(false);\n    }\n  }, [phrase]);\n\n  const loadMore = () => {\n    if (enableLoad) {\n      setLoading(true);\n      api.getSearchByPhrase(\n        phrase,\n        offset,\n        MAX_BATCH_SIZE,\n        (err, searchFeed) => {\n          if (err == null && searchFeed) {\n            const newFeed = searchFeed.getXPostItems(true);\n            setFeed([...feed, ...newFeed]);\n          }\n          setOffset(offset + MAX_BATCH_SIZE);\n          setLoading(false);\n        },\n      );\n    } else {\n      setEnableLoad(true);\n      setLoading(false);\n    }\n  };\n  return (\n    <div className={classes.root}>\n      {feed &&\n        feed.length === 0 &&\n        (loading ? (\n          <GLoader wrapperStyle={wrapperStyle} />\n        ) : (\n          <div className={classes.noResultContainer}>\n            <h2>\n              {t(\"getter_fe.searchPage.noResult.label\")}{\" \"}\n              {decodeURIComponent(phrase)}\n            </h2>\n            <span>{t(\"getter_fe.searchPage.noResult.comment\")}</span>\n          </div>\n        ))}\n      {feed.map((item, index) => {\n        const sharedPost = item.getSharedPost();\n        return (\n          <div key={item.getPosterId() + item.getTargetId()}>\n            <PostFeedItem\n              setTimelineId={(value) =>\n                dispatch(\n                  setTimelineId({\n                    field: \"postTimeline\",\n                    data: value,\n                  }),\n                )\n              }\n              timelineId={postTimeline.timelineId}\n              item={item}\n              scene=\"timeline\"\n              userId={item.getTargetId()}\n              sharedObj={sharedPost}\n              postId={item.getPostId()}\n            />\n            {index === feed.length - LOAD_MORE_CUTOFF_SIZE ? (\n              <Waypoint\n                scrollableAncestor={window}\n                fireOnRapidScroll={false}\n                onEnter={loadMore}\n              />\n            ) : null}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  opacity: 0.7,\n  cx: 9,\n  cy: 9,\n  r: 9,\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 6L6 12\",\n  stroke: \"white\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 6L12 12\",\n  stroke: \"white\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoCirclefullclose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 22,\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoCirclefullclose);\nexport default __webpack_public_path__ + \"static/media/ico-circlefull close.5de931a7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.08496 5.75622C1.08496 5.04702 1.46054 4.39086 2.07205 4.03168L7.07205 1.09493C7.69738 0.727644 8.47254 0.727645 9.09787 1.09493L14.0979 4.03169C14.7094 4.39086 15.085 5.04702 15.085 5.75622V10.5552C15.085 11.2075 14.7668 11.8189 14.2325 12.1932L9.23252 15.6961C8.5436 16.1787 7.62632 16.1787 6.9374 15.6961L1.9374 12.1932C1.40312 11.8189 1.08496 11.2075 1.08496 10.5552V5.75622Z\",\n  fill: \"#032989\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.60937 9.42572L6.96536 12.3649L12.598 5.92751L11.6738 5.1309L6.84971 10.6432L4.40636 8.50745L3.60937 9.42572Z\",\n  fill: \"white\"\n});\n\nfunction SvgIconVerification(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 17,\n    viewBox: \"0 0 17 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconVerification);\nexport default __webpack_public_path__ + \"static/media/icon_verification.fe1facf1.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.80288 15.042C10.0694 15.042 11.3074 14.6704 12.3604 13.9743C13.4134 13.2782 14.234 12.2888 14.7184 11.1312C15.2029 9.97368 15.3294 8.7 15.082 7.47131C14.8346 6.24261 14.2244 5.1141 13.3286 4.22851C12.4327 3.34293 11.2915 2.74006 10.0493 2.49617C8.80702 2.25228 7.51956 2.37832 6.34973 2.85835C5.17991 3.33838 4.18028 4.15083 3.47729 5.19294C2.7743 6.23504 2.39953 7.45998 2.40039 8.71281C2.40039 9.54434 2.56603 10.3677 2.88784 11.1359C3.20965 11.9041 3.68132 12.602 4.2759 13.1897C4.87049 13.7775 5.57633 14.2436 6.35309 14.5615C7.12985 14.8793 7.9623 15.0426 8.80288 15.042Z\",\n  stroke: \"#6E7187\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.8011 16.6256L13.6011 13.4586\",\n  stroke: \"#6E7187\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 19,\n    viewBox: \"0 0 20 19\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoSearch);\nexport default __webpack_public_path__ + \"static/media/ico-search.83c29c79.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState, useEffect, useRef} from \"react\";\nimport {connect} from \"react-redux\";\nimport {useHistory} from \"react-router-dom\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport uuid from \"react-uuid\";\nimport {format} from \"react-string-format\";\nimport Util from \"src/core/Util\";\nimport AppConsts from \"src/app/AppConsts\";\nimport {t} from \"src/i18n/utils\";\nimport {AvatarLink} from \"./AvatarLink\";\nimport classnames from \"classnames\";\nimport {ReactComponent as IconRemoveListItem} from \"src/assets/icons/ico-circlefull close.svg\";\nimport {ReactComponent as IconVerification} from \"src/assets/icons/icon_verification.svg\";\nimport {ReactComponent as IconCancelSearch} from \"src/assets/icons/ico-circlefull close.svg\";\nimport {ReactComponent as IconSearch} from \"src/assets/icons/ico-search.svg\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport Highlighter from \"react-highlight-words\";\nimport Global from \"src/system/Global\";\nimport {debounce} from \"lodash\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n      padding: \"9px 0px 15px\",\n    },\n    searchBox: {\n      position: \"relative\",\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"100%\",\n      backgroundColor: theme.palette.grey.A300,\n      borderRadius: 42,\n      height: 42,\n      border: \"1px solid transparent\",\n      \"& .search-icon\": {\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(1.75),\n        fontSize: 0,\n        cursor: \"pointer\",\n        \"& svg\": {\n          \"& path\": {\n            stroke: theme.palette.text.secondary,\n          },\n        },\n      },\n\n      \"& input#searchInput\": {\n        width: \"calc(100% - 45px)\",\n        fontSize: \"16px !important\",\n        paddingRight: theme.spacing(0) + \" !important\",\n        backgroundColor: \"transparent\",\n        fontWeight: theme.typography.fontWeightRegular,\n        borderRadius: \"42px !important\",\n        minHeight: 42,\n        padding: \"0 1px\",\n        \"&::placeholder\": {\n          fontWeight: theme.typography.fontWeightRegular,\n          color: theme.palette.text.secondary,\n        },\n\n        \"&:focus\": {\n          color: theme.palette.text.primary,\n          \"&::placeholder\": {\n            color: theme.palette.text.secondary,\n          },\n        },\n      },\n\n      \"& .cancel-icon\": {\n        paddingLeft: theme.spacing(1.75),\n        paddingRight: theme.spacing(1.75),\n        transform: \"translateY(12px)\",\n        height: \"100%\",\n        marginLeft: \"auto\",\n        cursor: \"pointer\",\n        fontSize: 1,\n\n        \"& svg\": {\n          \"& path\": {\n            stroke: \"#EDEDED\",\n          },\n\n          \"& circle\": {\n            fill: \"black\", // put into theme?,\n          },\n        },\n      },\n\n      [theme.breakpoints.only(\"xs\")]: {\n        //height: 32,\n        //background: \"#F2F4F7\",\n        \"& .search-icon\": {\n          paddingLeft: theme.spacing(1),\n          paddingRight: theme.spacing(1),\n          cursor: \"pointer\",\n          \"& svg\": {\n            \"& path\": {\n              stroke: \"#A7B0BA !important\", // put into theme?\n            },\n          },\n        },\n        \"& input\": {\n          fontSize: 14,\n          color: \"#A7B0BA\",\n          fontWeight: 400,\n          \"&::placeholder\": {\n            color: \"#A7B0BA !important\",\n            fontWeight: 400,\n          },\n        },\n        \"&:focus-within\": {\n          //backgroundColor: \"#F2F4F7\",\n        },\n      },\n      \"&.focus\": {\n        borderColor: theme.palette.primary.main,\n        backgroundColor: \"#fcfcfc\",\n        overflow: \"hidden\",\n        \"& .search-icon svg path\": {\n          stroke: `${theme.palette.primary.main} !important`,\n        },\n      },\n    },\n\n    searchResult: {\n      position: \"absolute\",\n      width: \"100%\",\n      maxHeight: theme.spacing(64),\n      border: theme.notchedOutline.border,\n      backgroundColor: theme.palette.background.default,\n      marginTop: theme.spacing(0.5),\n      boxShadow: \"0px 0px 11px rgba(86, 103, 121, 0.19)\", // put into theme?\n      borderRadius: 5,\n      minHeight: 58,\n      zIndex: 3,\n      overflowY: \"auto\",\n\n      [theme.breakpoints.down(\"sm\")]: {\n        position: \"absolute\",\n        width: \"100%\",\n        border: theme.notchedOutline.border,\n        backgroundColor: theme.palette.background.default,\n        marginTop: theme.spacing(0.5),\n        boxShadow: \"0px 0px 11px rgba(86, 103, 121, 0.19)\", // put into theme?\n        borderRadius: theme.shape.borderRadius,\n        minHeight: 58,\n        zIndex: 3,\n      },\n\n      [theme.breakpoints.only(\"xs\")]: {\n        position: \"absolute\",\n        left: 0,\n        right: 0,\n        //bottom: 0,\n        boxShadow: \"none\",\n        width: \"100%\",\n        //height: \"calc(100vh - 54px)\",\n        //border: \"none\",\n        borderLeft: \"none\",\n        borderRight: \"none\",\n        overflowY: \"auto\",\n        borderRadius: \"none\",\n      },\n\n      \"& .result-list-item\": {\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        paddingLeft: theme.spacing(2.5),\n        paddingRight: theme.spacing(2.5),\n        minHeight: theme.spacing(6.875),\n\n        \"& > div\": {\n          maxWidth: \"calc(100% - 20px)\",\n        },\n\n        \"&:not(:last-child)\": {\n          borderBottom: theme.notchedOutline.border,\n        },\n\n        \"&.selected\": {\n          backgroundColor: theme.input.background,\n          cursor: \"pointer\",\n        },\n\n        \"& .header\": {\n          display: \"flex\",\n          width: \"100%\",\n          alignItems: \"center\",\n          height: 56,\n\n          \"& .label\": {\n            fontSize: 18,\n            fontWeight: theme.typography.fontWeightMedium,\n            color: theme.palette.text.secondary,\n            maxWidth: \"200px\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n          },\n\n          \"& .action-link\": {\n            marginLeft: \"auto\",\n            color: theme.palette.primary.main,\n            fontWeight: theme.typography.fontWeightSemiBold,\n            cursor: \"pointer\",\n          },\n\n          // [theme.breakpoints.only(\"xs\")]: {\n          //   backgroundColor: \"#F3F5F8\"\n          // }\n        },\n\n        \"& .hashtag\": {\n          display: \"flex\",\n          alignItems: \"center\",\n\n          \"& .name\": {\n            fontSize: 15,\n            fontWeight: 400,\n            ...theme.mixins.ellipsis,\n          },\n\n          \"& .keyword\": {\n            backgroundColor: \"transparent\",\n            fontWeight: 700,\n          },\n\n          \"& .count\": {\n            marginLeft: \"auto\",\n            color: theme.palette.text.secondary,\n            fontWeight: theme.typography.fontWeightRegular,\n            fontSize: 12,\n          },\n        },\n\n        \"& .user\": {\n          display: \"flex\",\n          alignItems: \"center\",\n          height: 64,\n          maxWidth: \"100%\",\n\n          \"& .main-info\": {\n            display: \"flex\",\n            minWidth: 0,\n            \"& .user-avatar\": {\n              width: 42,\n              height: 42,\n              border: `1px solid ${theme.palette.grey.A800}`,\n              // ...theme.mixins.avatar,\n            },\n\n            \"& .user-info\": {\n              paddingLeft: theme.spacing(1.25),\n              paddingRight: theme.spacing(0.5),\n              minWidth: 0,\n              \"& .nickname\": {\n                fontSize: 15,\n                fontWeight: theme.typography.fontWeightBold,\n                lineHeight: \"18px\",\n                ...theme.mixins.ellipsis,\n              },\n\n              \"& .username\": {\n                marginTop: theme.spacing(0.25),\n                fontSize: 15,\n                lineHeight: \"15px\",\n                color: theme.palette.text.gray,\n              },\n\n              \"& .verification\": {\n                position: \"relative\",\n                top: theme.spacing(0.125),\n                fontSize: 0, // to make the containing div fit exactly the height of the child\n                \"& .verified-icon\": {\n                  width: 15,\n                  height: 15,\n                },\n              },\n            },\n\n            \"& .additional-info\": {\n              display: \"flex\",\n              alignItems: \"center\",\n              paddingLeft: theme.spacing(0.5),\n              paddingRight: theme.spacing(0.5),\n              fontSize: 16,\n              fontWeight: theme.typography.fontWeightRegular,\n              color: theme.palette.text.secondary,\n              \"& .username\": {},\n\n              \"& .time-since\": {\n                display: \"flex\",\n                alignItems: \"center\",\n                \"&:before\": {\n                  position: \"relative\",\n                  top: theme.spacing(0.125),\n                  display: \"block\",\n                  content: '\"\"',\n                  height: 2,\n                  width: 2,\n                  backgroundColor: theme.palette.primary.light,\n                  borderRadius: \"50%\",\n                  marginRight: theme.spacing(1),\n                  marginLeft: theme.spacing(1),\n                },\n              },\n            },\n          },\n        },\n\n        \"& .phrase\": {\n          display: \"flex\",\n          alignItems: \"center\",\n          fontSize: 16,\n          fontWeight: theme.typography.fontWeightBold,\n          height: \"100%\",\n          width: \"100%\",\n\n          \"& .name\": {\n            whiteSpace: \"nowrap\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n          },\n        },\n\n        \"& .footer\": {\n          display: \"flex\",\n          alignItems: \"center\",\n          height: 47,\n          fontSize: 14,\n          fontWeight: theme.typography.fontWeightSemiBold,\n          color: theme.palette.primary.main,\n        },\n\n        \"& .remove-search\": {\n          position: \"relative\",\n          display: \"flex\",\n          alignItems: \"center\",\n          marginLeft: \"auto\",\n          cursor: \"pointer\",\n          padding: theme.spacing(1.125),\n          left: theme.spacing(1.125),\n          height: \"100%\",\n\n          \"&:hover\": {},\n\n          \"& svg\": {\n            width: 22,\n            height: 22,\n          },\n        },\n\n        \"&.lasthash\": {\n          marginBottom: theme.spacing(1.375),\n          borderBottom: `2px solid ${theme.palette.grey.A200}`,\n          \"&::after\": {\n            content: \"' '\",\n            position: \"absolute\",\n            left: 0,\n            bottom: -13,\n            width: \"100%\",\n            minHeight: 10,\n            backgroundColor: theme.input.background,\n            borderBottom: `1px solid ${theme.palette.grey.A200}`,\n          },\n        },\n      },\n    },\n  }),\n);\n\nconst connector = connect((state) => {\n  return {};\n}, {});\n\nexport const PostSearchBoxNew = connector(_PostSearchBoxNew);\n\nfunction _PostSearchBoxNew({}) {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const api = Global.GetPortal().getAppService();\n\n  const postSearchBoxRef = useRef(null);\n  const inputRef = useRef(null);\n  const inputChangeTimes = useRef(null);\n\n  const [inputPhrase, setInputPhrase] = useState(null);\n  const [searchMode, setSearchMode] = useState(SEARCH_MODE_RECENT_SEARCH);\n  const [showResult, setShowResult] = useState(false);\n  const [selectedListItemIndex, setSelectedListItemIndex] = useState(undefined);\n  const [resultListItems, setResultListItems] = useState(undefined);\n  const [listItemSelectableLIndexes, setListItemSelectableLIndexes] = useState(\n    undefined,\n  );\n  const [inputFocused, setInputFocused] = useState(false);\n\n  const [submitting, _setSubmitting] = useState(false);\n  const submittingRef = useRef(submitting);\n  const setSubmitting = (value) => {\n    submittingRef.current = value;\n    _setSubmitting(value);\n  };\n\n  const SEARCH_MODE_NORMAL_SEARCH = 1;\n  const SEARCH_MODE_RECENT_SEARCH = 2;\n  const MAX_LIST_ITEMS = 5;\n\n  let searchTimeout;\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    document.addEventListener(\"keydown\", handleKeyDown, false);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n      document.removeEventListener(\"keydown\", handleKeyDown, false);\n    };\n  }, []);\n\n  const setSearch = async (_inputPhrase) => {\n    if (submittingRef.current) {\n      setSubmitting(false);\n      return;\n    }\n    let searchMode =\n      Util.StringIsEmpty(_inputPhrase) || /^\\s+$/.test(_inputPhrase)\n        ? SEARCH_MODE_RECENT_SEARCH\n        : SEARCH_MODE_NORMAL_SEARCH;\n\n    inputChangeTimes.current++;\n    let currentTimes = inputChangeTimes.current;\n    // mark every search request by currentTimes\n\n    let resultListItems = await getResultListItems(_inputPhrase, searchMode);\n\n    // when request finish if currentTimes smaller than inputChangeTimes.current\n    // mean this search request respon was behind other search request\n    // so ignore it\n    if (currentTimes < inputChangeTimes.current) return;\n    let listItemSelectableIndexes = resultListItems\n      .filter((resultListItem) => {\n        return resultListItem.clickHandler;\n      })\n      .map((resultListItem) => {\n        return resultListItem.index;\n      });\n\n    setShowResult(resultListItems.length > 0 ? true : false);\n    setResultListItems(resultListItems);\n    setSearchMode(searchMode);\n    setListItemSelectableLIndexes(listItemSelectableIndexes);\n  };\n\n  const handleInputFocus = (_inputPhrase) => {\n    inputChangeTimes.current = 0;\n    setInputFocused(true);\n    setSearch(_inputPhrase);\n  };\n\n  const handleInputBlur = () => {\n    inputChangeTimes.current = 0;\n    setInputFocused(false);\n  };\n\n  const handleInputChange = debounce((_inputPhrase) => {\n    if (_inputPhrase === \"#\" || _inputPhrase === \"@\") return;\n\n    setInputPhrase(_inputPhrase);\n    setResultListItems(null);\n    setSelectedListItemIndex(null);\n    setSearch(_inputPhrase);\n  }, 300);\n\n  const handleClickOutside = (e) => {\n    if (postSearchBoxRef && !postSearchBoxRef.current.contains(e.target)) {\n      clearTimeout(searchTimeout);\n      setShowResult(false);\n    }\n  };\n\n  const handleKeyDown = debounce((e) => {\n    // only handle keys when result is showing\n    if (inputFocused) {\n      // Enter: if a list item is selected, trigger that list item's click handler,\n      // otherwise trigger a normal input submit\n      if (e.keyCode === 13) {\n        e.preventDefault();\n        if (!inputPhrase) return;\n\n        if (inputPhrase[0] === \"@\") {\n          const formattedPhrase = inputPhrase.slice(1);\n          setRecentSearchListItem({isPhrase: true, phrase: inputPhrase});\n\n          history.push(`/user/${formattedPhrase}`);\n          return;\n        } else if (inputPhrase[0] === \"#\") {\n          setRecentSearchListItem({isPhrase: true, phrase: inputPhrase});\n\n          history.push(`/hashtag/%23${inputPhrase.slice(1)}`);\n          return;\n        }\n\n        let selectedListItemIndex = selectedListItemIndex;\n\n        if (selectedListItemIndex != null) {\n          let resultListItems = resultListItems;\n          let selectedResultListItem = resultListItems.find(\n            (e) => e.index === selectedListItemIndex,\n          );\n\n          selectedResultListItem.clickHandler();\n        } else if (/^\\s+$/.test(inputPhrase)) {\n          clearInput();\n        } else {\n          notifyInputDone();\n        }\n      }\n\n      // ESC\n      if (e.keyCode === 27) {\n        e.preventDefault();\n        inputRef.current.blur();\n        clearTimeout(searchTimeout);\n\n        setShowResult(false);\n\n        if (/^\\s+$/.test(inputPhrase)) {\n          this.clearInput();\n        }\n      }\n\n      // UP OR DOWN\n      if (e.keyCode === 38 || e.keyCode === 40) {\n        e.preventDefault();\n\n        let resultListItems = resultListItems;\n\n        if (resultListItems && resultListItems.length > 0) {\n          // get an array of seletable indexes that represent the list items that have click handlers\n          // we will only be able to navigate through list items that have clickHandlers\n          let selectableListItemIndexes = listItemSelectableIndexes;\n\n          let selectedListItemIndex = selectedListItemIndex;\n\n          let currentArrayIndex =\n            selectedListItemIndex != null\n              ? selectableListItemIndexes.findIndex(\n                  (e) => e === selectedListItemIndex,\n                )\n              : null;\n          let arrayMaxIndex = selectableListItemIndexes.length - 1;\n\n          // Up\n          if (e.keyCode === 38) {\n            if (currentArrayIndex != null)\n              currentArrayIndex =\n                currentArrayIndex > 0 ? currentArrayIndex - 1 : arrayMaxIndex;\n            else currentArrayIndex = arrayMaxIndex;\n          }\n\n          // Down\n          if (e.keyCode === 40) {\n            if (currentArrayIndex !== null)\n              currentArrayIndex =\n                currentArrayIndex < arrayMaxIndex ? currentArrayIndex + 1 : 0;\n            else currentArrayIndex = 0;\n          }\n\n          setSelectedListItemIndex(\n            selectableListItemIndexes[currentArrayIndex],\n          );\n        }\n      }\n    }\n  }, 300);\n\n  const clearInput = () => {\n    inputRef.current.value = \"\";\n    handleInputChange(\"\");\n    inputRef.current.focus();\n  };\n\n  const goToSearchResult = (_inputPhrase) => {\n    setShowResult(false);\n\n    if (!Util.StringIsEmpty(_inputPhrase)) {\n      let url = api.getUrlSearchResults(_inputPhrase);\n\n      // save inputPhrase as listItem in rencet search\n      setRecentSearchListItem({isPhrase: true, phrase: _inputPhrase});\n\n      // go to search page\n      history.push(url);\n    }\n  };\n\n  const notifyInputDone = (_inputPhrase) => {\n    clearTimeout(searchTimeout);\n\n    goToSearchResult(_inputPhrase || inputPhrase);\n  };\n\n  const clickSearchIcon = () => {\n    let selectedListItemIndex = selectedListItemIndex;\n\n    if (selectedListItemIndex != null) {\n      let resultListItems = resultListItems;\n      let selectedResultListItem = resultListItems.find(\n        (e) => e.index === selectedListItemIndex,\n      );\n      selectedResultListItem?.clickHandler();\n    } else if (/^\\s+$/.test(inputPhrase)) {\n      clearInput();\n    } else {\n      notifyInputDone();\n    }\n  };\n\n  const removeAllRecentSearchListItems = () => {\n    localStorage.setItem(AppConsts.LOCAL_STORAGE_RECENT_SEARCH, null);\n\n    setShowResult(false);\n    setResultListItems(null);\n  };\n\n  const getResultFooterComp = (resultListItem, searchMode) => {\n    let comp = null;\n\n    if (searchMode === SEARCH_MODE_NORMAL_SEARCH) {\n      comp = <div className=\"footer\">{resultListItem.viewAllText}</div>;\n    }\n\n    return comp;\n  };\n\n  const getResultListItems = async (_inputPhrase, searchMode) => {\n    let resultListItems = [];\n\n    let searchListItems = await getSearchListItems(_inputPhrase, searchMode);\n\n    let isRecentSearchEmpty =\n      searchMode === SEARCH_MODE_RECENT_SEARCH &&\n      searchListItems &&\n      searchListItems.length === 0;\n\n    // headerListItem\n    if (!isRecentSearchEmpty) {\n      resultListItems.push(getHeaderListItem(_inputPhrase, searchMode));\n    }\n\n    // searchListItems: hashtags and users\n    if (searchListItems && searchListItems.length > 0) {\n      resultListItems = resultListItems.concat(searchListItems);\n    }\n\n    // footerListItem\n    // DISABLED FOOTER FOR NOW\n    // if (!isRecentSearchEmpty) {\n    //   resultListItems.push(this.getFooterListItem());\n    // }\n\n    // attach index to each listItem: mainly for tracking which item is selected/hovered using up/down key\n    resultListItems = resultListItems.map((resultListItem, index) => {\n      resultListItem.index = index;\n      return resultListItem;\n    });\n\n    return resultListItems;\n  };\n\n  const getSearchListItems = async (_inputPhrase, searchMode) => {\n    let resultListItems = [];\n\n    if (searchMode === SEARCH_MODE_RECENT_SEARCH) {\n      resultListItems = getRecentSearchListItems();\n    }\n\n    // DISABLE THIS FOR NOW: don't need actual hashtags and users for normal search results for this release\n    if (searchMode === SEARCH_MODE_NORMAL_SEARCH) {\n      resultListItems = await getNormalSearchListItems(_inputPhrase);\n    }\n\n    // attach clickHandler to each listItem so that up/down/enter keys can easily trigger\n    if (resultListItems?.length) {\n      resultListItems = resultListItems.map((resultListItem) => {\n        if (resultListItem.isHashtag) {\n          resultListItem.clickHandler = (e) => {\n            setShowResult(false);\n\n            setRecentSearchListItem(resultListItem);\n\n            let hashtagUrl = `/hashtag/${encodeURIComponent(\n              resultListItem.name,\n            )}`;\n\n            history.push(hashtagUrl);\n            inputRef.current.value = resultListItem.name;\n            setInputPhrase(resultListItem.name);\n          };\n        }\n\n        if (resultListItem.isUser) {\n          resultListItem.clickHandler = (e) => {\n            setShowResult(false);\n\n            setRecentSearchListItem(resultListItem);\n\n            let userProfileUrl = `/user/${resultListItem.username}`;\n            history.push(userProfileUrl);\n            inputRef.current.value = resultListItem.username;\n            setInputPhrase(resultListItem.username);\n          };\n        }\n\n        if (resultListItem.isPhrase) {\n          resultListItem.clickHandler = (e) => {\n            goToSearchResult(resultListItem.phrase);\n            inputRef.current.value = resultListItem.phrase;\n            setInputPhrase(resultListItem.phrase);\n          };\n        }\n\n        return resultListItem;\n      });\n    }\n\n    return resultListItems;\n  };\n\n  const getRecentSearchListItems = () => {\n    let recentSearchListItems = JSON.parse(\n      localStorage.getItem(AppConsts.LOCAL_STORAGE_RECENT_SEARCH),\n    );\n\n    if (!Array.isArray(recentSearchListItems)) {\n      recentSearchListItems = [];\n    }\n\n    // for now only return recent search that are phrases\n    recentSearchListItems = recentSearchListItems.filter((e) => {\n      if (e.isUser) {\n        e.phrase = e.username;\n        e.isUser = false;\n        e.isPhrase = true;\n      }\n      if (e.isHashtag) {\n        e.isPhrase = true;\n        e.isHashtag = false;\n        e.phrase = e.name.replace(/^#*/, \"\");\n      }\n      return true;\n    });\n\n    // console.info(recentSearchListItems);\n    return recentSearchListItems;\n  };\n\n  const getNormalSearchListItems = async (_inputPhrase) => {\n    try {\n      const resultMap = await api.fetchSearchChoices(\n        _inputPhrase,\n        MAX_LIST_ITEMS,\n        0,\n      );\n\n      if (resultMap?.data.list) {\n        const {\n          data: {list},\n          aux: {uinf},\n        } = resultMap;\n\n        return list.map((item) => {\n          if (item.startsWith(\"#\")) {\n            return {isHashtag: true, name: item};\n          } else if (item.startsWith(\"@\")) {\n            const userInfo = uinf[item.substring(1)];\n\n            return {\n              isUser: true,\n              isVerified: userInfo.infl,\n              nickname: userInfo.nickname,\n              ousername: userInfo.ousername,\n              username: userInfo.username,\n              avatar: userInfo.ico,\n            };\n          }\n        });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getHeaderListItem = (_inputPhrase, searchMode) => {\n    let resultListItem = {\n      isHeader: true,\n      inputPhrase: _inputPhrase,\n    };\n\n    if (searchMode === SEARCH_MODE_RECENT_SEARCH) {\n      resultListItem.labelText = t(\"getter_fe.common.search.recentSearches\");\n      resultListItem.actionLinkText = t(\n        \"getter_fe.common.search.clearAllRecentSearches\",\n      );\n    }\n\n    if (searchMode === SEARCH_MODE_NORMAL_SEARCH) {\n      resultListItem.labelText = format(\n        '{0} \"{1}\"',\n        t(\"getter_fe.common.search.searchFor\"),\n        _inputPhrase,\n      );\n      resultListItem.actionLinkText = t(\"getter_fe.common.search.viewResults\");\n      resultListItem.clickHandler = (e) => {\n        notifyInputDone(_inputPhrase);\n      };\n    }\n\n    return resultListItem;\n  };\n\n  const getFooterListItem = () => {\n    let resultListItem = {\n      isFooter: true,\n      viewAllText: t(\"getter_fe.common.search.viewAllSearchResults\"),\n      clickHandler: () => notifyInputDone(),\n    };\n\n    return resultListItem;\n  };\n\n  const setRecentSearchListItem = (resultListItem) => {\n    let recentSearchListItems = JSON.parse(\n      localStorage.getItem(AppConsts.LOCAL_STORAGE_RECENT_SEARCH),\n    );\n\n    if (recentSearchListItems == null) recentSearchListItems = [];\n\n    let recentSearchListItem;\n\n    if (resultListItem.isHashtag) {\n      recentSearchListItem = recentSearchListItems.find(\n        (e) => e.isHashtag && e.name === resultListItem.name,\n      );\n    } else if (resultListItem.isUser) {\n      recentSearchListItem = recentSearchListItems.find(\n        (e) => e.isUser && e.username === resultListItem.username,\n      );\n    } else if (resultListItem.isPhrase) {\n      recentSearchListItem = recentSearchListItems.find(\n        (e) => e.isPhrase && e.phrase === resultListItem.phrase,\n      );\n    }\n\n    // if recentSearchListItem doesn't exist already, push as new\n    if (recentSearchListItem == null) {\n      recentSearchListItem = resultListItem;\n      recentSearchListItem.recentSearchItemUuid = uuid();\n      recentSearchListItem.date = new Date().toISOString();\n      recentSearchListItems.push(recentSearchListItem);\n    } // if recentSearchListItem exists already, update the date so it can show on top\n    else {\n      recentSearchListItem.date = new Date().toISOString();\n    }\n\n    // sort the results by hashtags, users order, then sort second by date\n    recentSearchListItems.sort((a, b) => {\n      // first sort by hashtag/users\n      // if (a.isHashtag && b.isUser)\n      //   return -1;\n      // if (a.isUser && b.isHashtag)\n      //   return 1;\n\n      // then sort by date descending\n      if (a.date > b.date) return -1;\n      if (a.date < b.date) return 1;\n    });\n\n    // limit the max number\n    recentSearchListItems = recentSearchListItems.slice(0, MAX_LIST_ITEMS);\n\n    localStorage.setItem(\n      AppConsts.LOCAL_STORAGE_RECENT_SEARCH,\n      JSON.stringify(recentSearchListItems),\n    );\n  };\n\n  const removeRecentSearchListItem = (recentSearchItemUuid) => {\n    let recentSearchListItems = JSON.parse(\n      localStorage.getItem(AppConsts.LOCAL_STORAGE_RECENT_SEARCH),\n    );\n\n    if (recentSearchListItems == null) recentSearchListItems = [];\n\n    recentSearchListItems = recentSearchListItems.filter((e) => {\n      return e.recentSearchItemUuid !== recentSearchItemUuid;\n    });\n\n    localStorage.setItem(\n      AppConsts.LOCAL_STORAGE_RECENT_SEARCH,\n      JSON.stringify(recentSearchListItems),\n    );\n\n    setResultListItems(\n      resultListItems.filter((e) => {\n        return e.recentSearchItemUuid !== recentSearchItemUuid;\n      }),\n    );\n  };\n\n  const getSearchBoxComp = () => {\n    let comp = null;\n\n    let cancelIcon = inputPhrase ? (\n      <div className=\"cancel-icon\" onClick={() => clearInput()}>\n        <IconCancelSearch />\n      </div>\n    ) : null;\n\n    let searchIcon = (\n      <div className=\"search-icon\" onClick={() => clickSearchIcon()}>\n        <IconSearch />\n      </div>\n    );\n\n    comp = (\n      <form\n        className={clsx(classes.searchBox, inputFocused && \"focus\")}\n        onSubmit={(e) => {\n          setSubmitting(true);\n          e.preventDefault();\n          e.stopPropagation();\n          notifyInputDone();\n        }}\n      >\n        {searchIcon}\n        <input\n          id=\"searchInput\"\n          ref={inputRef}\n          onChange={(e) => handleInputChange(e.target.value)}\n          placeholder={t(\"getter_fe.common.search.placeholder\")}\n          autoComplete=\"off\"\n          onFocus={(e) => handleInputFocus(e.target.value)}\n          onBlur={handleInputBlur}\n          type=\"text\"\n          onKeyDown={handleKeyDown}\n        />\n        {cancelIcon}\n      </form>\n    );\n\n    return comp;\n  };\n\n  const getResultHeaderComp = (resultListItem) => {\n    let comp = null;\n\n    let labelComp = <div className=\"label\">{resultListItem.labelText}</div>;\n\n    let clearAllComp = resultListItem.actionLinkText ? (\n      <div\n        onClick={() => removeAllRecentSearchListItems()}\n        className=\"action-link\"\n      >\n        {resultListItem.actionLinkText}\n      </div>\n    ) : null;\n\n    comp = (\n      <div className=\"header\">\n        {labelComp}\n        {clearAllComp}\n      </div>\n    );\n\n    return comp;\n  };\n\n  const getResultListItemsComp = (resultListItems, searchMode) => {\n    const hashtagItems = resultListItems.filter(\n      (elem) => elem.isHashtag === true,\n    );\n\n    const lastHashIdx = hashtagItems.length;\n\n    const userItems = resultListItems.filter((elem) => elem.isUser === true);\n\n    return resultListItems.map((resultListItem, idx) => {\n      let contentComp;\n      let isLastHash = false;\n\n      if (resultListItem.isHeader) {\n        contentComp = getResultHeaderComp(resultListItem);\n      }\n\n      if (resultListItem.isHashtag) {\n        contentComp = getHashtagListItemComp(resultListItem);\n\n        if (idx === lastHashIdx) {\n          isLastHash = true;\n        }\n      }\n\n      if (resultListItem.isUser) {\n        contentComp = getUserListItemComp(resultListItem);\n      }\n\n      // this only applies to recent search mode\n      if (resultListItem.isPhrase) {\n        contentComp = getPhraseListItemComp(resultListItem);\n      }\n\n      if (resultListItem.isFooter) {\n        contentComp = getResultFooterComp(resultListItem, searchMode);\n      }\n\n      let clickHandler = resultListItem.clickHandler\n        ? resultListItem.clickHandler\n        : null;\n      let selectable = clickHandler !== null;\n      let mouseEnterHandler = selectable\n        ? () => {\n            setSelectedListItemIndex(resultListItem.index);\n          }\n        : null;\n\n      let removeSearchComp = null;\n\n      if (\n        searchMode === SEARCH_MODE_RECENT_SEARCH &&\n        resultListItem.isHashtag &&\n        resultListItem.isUser &&\n        resultListItem.isPhrase\n      ) {\n        removeSearchComp = (\n          <div\n            onClick={(e) => {\n              removeRecentSearchListItem(resultListItem.recentSearchItemUuid);\n              e.stopPropagation();\n            }}\n            className=\"remove-search\"\n          >\n            <IconRemoveListItem />\n          </div>\n        );\n      }\n\n      return (\n        <div\n          key={resultListItem.index}\n          onClick={clickHandler}\n          onMouseEnter={mouseEnterHandler}\n          className={classnames(\n            \"result-list-item\",\n            {\"select-option\": selectable},\n            {\n              selected:\n                selectable && selectedListItemIndex === resultListItem.index,\n            },\n            isLastHash && userItems.length > 0 ? \"lasthash\" : null,\n          )}\n        >\n          {contentComp}\n\n          {removeSearchComp}\n        </div>\n      );\n    });\n  };\n\n  const getUserListItemComp = (resultListItem) => {\n    let comp = null;\n    const username = resultListItem.ousername\n      ? resultListItem.ousername\n      : resultListItem.username;\n\n    let verifiedComp = resultListItem.isVerified ? (\n      <div className=\"verification\">\n        <div className=\"verified-icon\">\n          <IconVerification />\n        </div>\n      </div>\n    ) : null;\n\n    comp = (\n      <div className=\"user\">\n        <div className=\"main-info\">\n          <AvatarLink\n            avatarUrl={resultListItem.avatar}\n            styleClasses=\"user-avatar\"\n            userId={resultListItem.username}\n            username={username}\n          />\n          <div className=\"user-info\">\n            <div className=\"nickname\">\n              <GTwemoji text={`${resultListItem.nickname || username}`} />\n            </div>\n\n            <div className=\"username\">@{username}</div>\n\n            {verifiedComp}\n          </div>\n\n          <div className=\"additional-info\">\n            {/* <div className=\"time-since\">{resultListItem.timeSince}</div> */}\n          </div>\n        </div>\n      </div>\n    );\n\n    return comp;\n  };\n\n  const getHashtagListItemComp = (resultListItem) => {\n    const hashName = resultListItem.name;\n\n    let comp = (\n      <div className=\"hashtag\">\n        <div className=\"name\">\n          <Highlighter\n            highlightClassName=\"keyword\"\n            searchWords={[inputPhrase, \"#\"]}\n            autoEscape={true}\n            textToHighlight={hashName}\n          />\n        </div>\n      </div>\n    );\n\n    return comp;\n  };\n\n  const getPhraseListItemComp = (resultListItem) => {\n    let comp = (\n      <div className=\"phrase\">\n        <div className=\"name\">{resultListItem.phrase}</div>\n      </div>\n    );\n\n    return comp;\n  };\n\n  const getSearchResultComp = () => {\n    let comp = null;\n\n    if (showResult) {\n      let wrapperComp = null;\n\n      if (resultListItems && resultListItems.length > 0) {\n        wrapperComp = (\n          <div className=\"wrapper\">\n            {getResultListItemsComp(resultListItems, searchMode)}\n          </div>\n        );\n      }\n\n      comp = <div className={classes.searchResult}>{wrapperComp}</div>;\n    }\n\n    return comp;\n  };\n\n  let comp = (\n    <div ref={postSearchBoxRef} className={classes.root}>\n      {getSearchBoxComp()}\n\n      {getSearchResultComp()}\n    </div>\n  );\n\n  return comp;\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 12H5\",\n  stroke: \"#232255\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 19L5 12L12 5\",\n  stroke: \"#232255\",\n  strokeWidth: 1.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIconBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconBack);\nexport default __webpack_public_path__ + \"static/media/icon_back.5362f4b8.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {ReactComponent as IconBack} from \"src/assets/icons/icon_back.svg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      top: \"0\",\n      zIndex: 100,\n      backgroundColor: \"white\",\n      height: \"56px\",\n      flexShrink: 0,\n      fontSize: 19,\n      borderBottom: \"1px solid var(--border-color)\",\n      padding: \"0px 15px\",\n      fontWeight: \"bold\",\n      position: \"sticky\",\n      top: 0,\n      zIndex: 2,\n    },\n\n    backBtn: {\n      marginRight: theme.spacing(2),\n      cursor: \"pointer\",\n    },\n  }),\n);\n\nexport const ColumnHeader = (props) => {\n  const classes = useStyles();\n\n  const handleBack = () => {\n    const {history} = props;\n    history.goBack();\n  };\n\n  return (\n    <div className={classes.root}>\n      {props.history && (\n        <IconBack\n          className={classes.backBtn}\n          onClick={() => {\n            handleBack();\n          }}\n        />\n      )}\n      {props.children}\n    </div>\n  );\n};\n","import React from \"react\";\nimport {Box} from \"@material-ui/core\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    tabPanel: {\n      padding: 0,\n    },\n  }),\n);\n\nexport const TabPanel = (props) => {\n  const {children, value, index, ...other} = props;\n  const classes = useStyles();\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3} className={classes.tabPanel}>\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n};\n","import React, {useEffect, useState} from \"react\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport {useDispatch} from \"react-redux\";\nimport {Waypoint} from \"react-waypoint\";\nimport clsx from \"clsx\";\nimport {makeStyles, Tabs, Tab} from \"@material-ui/core\";\nimport Global from \"src/system/Global\";\nimport {FollowUserButton} from \"../../components/FollowUserButton\";\nimport {PostSearchBoxNew} from \"../../components/PostSearchBoxNew\";\nimport {ColumnHeader} from \"../../components/ColumnHeader\";\nimport {TabPanel} from \"../../components/TabPanel\";\nimport {AvatarLink} from \"../../components/AvatarLink\";\nimport {t, getLang} from \"../../../i18n/utils\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {GTypography} from \"src/styles/components/GTypography\";\nimport {PostFeedItem} from \"src/app/components/post/comps/PostFeedItem\";\nimport HoverPopup from \"src/app/components/HoverPopup\";\nimport {timelineConstants} from \"src/app/components/timeline/_constants\";\nimport {changeFollowingStatus} from \"src/store/modules/status\";\nimport {ReactComponent as IconBack} from \"src/assets/icons/icon_back.svg\";\n\nconst a11yProps = (index) => {\n  return {\n    id: `tab-${index}`,\n    \"aria-controls\": `tabpanel-${index}`,\n  };\n};\n\nconst wrapperStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  maxHeight: 600,\n  height: `calc(100vh - 552px)`, // handle if the screen height is small\n};\n\nconst useStyles = makeStyles((theme) => ({\n  searchBoxWrapper: {\n    padding: \"0 23px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    \"& > div\": {\n      padding: \"10px 0 9px\",\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      display: \"none\",\n    },\n    [theme.breakpoints.only(\"xs\")]: {\n      paddingLeft: 20,\n      \"&.with-query\": {\n        display: \"none\",\n      },\n    },\n  },\n  backBtn: {\n    marginRight: 20,\n    cursor: \"pointer\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  columnHeaderTitle: {\n    [theme.breakpoints.only(\"xs\")]: {\n      display: \"none\",\n    },\n  },\n  mobileColumnHeaderTitle: {\n    display: \"none\",\n    [theme.breakpoints.only(\"xs\")]: {\n      display: \"block\",\n      textAlign: \"center\",\n      paddingRight: 40,\n      flex: 1,\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n    },\n  },\n  tabs: {\n    \"& .MuiTabs-indicator\": {\n      backgroundColor: theme.palette.primary.main,\n    },\n  },\n\n  tab: {\n    color: \"#505050\",\n    textTransform: \"capitalize\",\n    fontSize: 16,\n    lineHeight: \"16px\",\n    letterSpacing: \"0.033em\",\n    opacity: 1,\n    fontWeight: 600,\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    \"&.Mui-selected\": {\n      color: theme.palette.primary.main,\n    },\n    \"& .MuiTab-wrapper\": {\n      opacity: 0.5,\n    },\n    \"&.Mui-selected .MuiTab-wrapper\": {\n      opacity: 1,\n    },\n  },\n\n  columnHeader: {\n    position: \"sticky\",\n    display: \"flex\",\n    alignItems: \"center\",\n    top: \"0\",\n    backgroundColor: \"white\",\n    height: \"56px\",\n    flexShrink: 0,\n    fontSize: \"19px\",\n    borderBottom: theme.notchedOutline.border,\n    padding: \"0px 15px\",\n    fontWeight: \"bold\",\n  },\n\n  headerContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginLeft: theme.spacing(2),\n  },\n\n  headerIcon: {\n    cursor: \"pointer\",\n  },\n\n  headerSubtitle: {\n    fontSize: 16,\n    color: theme.palette.background.gray,\n  },\n\n  menu: {\n    display: \"flex\",\n    height: 42,\n    borderBottom: theme.notchedOutline.border,\n  },\n\n  menuItem: {\n    display: \"flex\",\n    width: \"50%\",\n    textAlign: \"center\",\n    fontWeight: theme.typography.fontWeightSemiBold,\n    fontSize: 16,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: theme.palette.text.light,\n\n    \"&.active\": {\n      color: theme.palette.primary.main,\n      borderBottomWidth: 2,\n      borderBottomStyle: \"solid\",\n      borderBottomColor: theme.palette.primary.main,\n    },\n\n    \"&:not(.active)\": {\n      cursor: \"pointer\",\n    },\n  },\n\n  resultTop: {\n    backgroundColor: theme.palette.background.dark,\n    \"& .top-users, .top-hashtags, .top-news\": {\n      marginBottom: theme.spacing(1),\n      backgroundColor: theme.palette.background.default,\n      \"& .header\": {\n        display: \"flex\",\n        alignItems: \"center\",\n        paddingLeft: 30,\n        paddingRight: 28,\n        height: 52,\n        fontSize: 18,\n        fontWeight: theme.typography.fontWeightBolder,\n        borderBottom: theme.notchedOutline.border,\n        \"& .view-all\": {\n          marginLeft: \"auto\",\n          fontWeight: 600,\n          cursor: \"pointer\",\n          color: theme.palette.primary.main,\n          \"&.zh,&.tw\": {\n            fontWeight: 500,\n            letterSpacing: \"0.05em\",\n          },\n        },\n      },\n      \"& .load-more\": {\n        // how many pixels from the bottom it should load more\n        position: \"absolute\",\n        bottom: 1500,\n      },\n      \"&:not(:first-child)\": {\n        borderTop: theme.notchedOutline.border,\n      },\n    },\n  },\n\n  userListItem: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    paddingTop: 15,\n    paddingBottom: 15,\n    paddingLeft: 18,\n    paddingRight: 18,\n    borderBottom: theme.notchedOutline.border,\n    cursor: \"pointer\",\n\n    \"& > .user-avatar\": {\n      width: 52,\n      height: 52,\n      border: `1px solid ${theme.palette.grey.A800}`,\n    },\n\n    \"& .user-main\": {\n      display: \"flex\",\n      alignItems: \"center\",\n      //flexDirection: \"column\",\n      width: \"calc(100% - 68px)\",\n      marginLeft: 16,\n\n      \"& .user-info\": {\n        display: \"flex\",\n        flexDirection: \"row\",\n        width: \"100%\",\n\n        \"& .user-names\": {\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          whiteSpace: \"nowrap\",\n\n          \"& .nickname\": {\n            alignItems: \"center\",\n            fontSize: 16,\n            fontWeight: theme.typography.fontWeightBold,\n\n            \"& .user-avatar\": {\n              whiteSpace: \"nowrap\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n            },\n\n            \"& .verified-icon\": {\n              fontSize: 16,\n              marginLeft: 5,\n            },\n          },\n\n          \"& .username\": {\n            color: theme.palette.text.secondary,\n            fontSize: 15,\n            fontWeight: theme.typography.fontWeightRegular,\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n\n            \"&:before\": {\n              content: '\"@\"',\n            },\n          },\n        },\n\n        \"& .action-button\": {\n          display: \"flex\",\n          alignItems: \"center\",\n          marginLeft: \"auto\",\n          //align-self: center,\n        },\n      },\n\n      \"& .description\": {\n        fontSize: 16,\n        lineHeight: \"22.4px\",\n        //paddingTop: 5,\n        wordBreak: \"break-word\",\n        fontWeight: theme.typography.fontWeightRegular,\n      },\n    },\n  },\n\n  hashtagListItem: {\n    \"&:hover\": {\n      backgroundColor: theme.palette.background.dark,\n    },\n    padding: \"25px 30px\",\n    fontSize: \"16px\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n  },\n  tagname: {\n    fontSize: 15,\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n  },\n  noResultContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: \"48px\",\n    backgroundColor: theme.palette.background.default,\n    alignItems: \"center\",\n    \"& h2\": {\n      maxWidth: 598,\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      textAlign: \"center\",\n      padding: \"0 16px\",\n      wordBreak: \"break-word\",\n      fontWeight: 800,\n      fontSize: 18,\n      lineHeight: \"21px\",\n      color: theme.palette.text.main,\n    },\n    \"& span\": {\n      fontSize: 16,\n      lineHeight: \"140%\",\n      color: theme.palette.text.secondary,\n    },\n  },\n\n  resultUser: {\n    marginBottom: theme.spacing(9.375),\n    \"& .load-more\": {\n      // how many pixels from the bottom it should load more\n      position: \"absolute\",\n      bottom: 500,\n    },\n  },\n  resultHashtags: {\n    \"& .load-more\": {\n      // how many pixels from the bottom it should load more\n      position: \"absolute\",\n      bottom: 500,\n    },\n  },\n}));\n\nconst [TAB_TOP, TAB_USERS, TAB_HASHTAGS] = [0, 1, 2];\nconst HASHTAGS_MAX = 20;\nconst USERS_MAX = 20;\nconst LOAD_MORE_CUTOFF_SIZE = 10;\n\nconst TOP_USERS_AND_HASHTAGS_MAX = 3;\nconst TOP_POSTS_MAX = 20;\n\nconst getTab = (query) => {\n  if (!query) {\n    return 0;\n  }\n\n  const firstChar = query[0];\n  switch (firstChar) {\n    case \"@\":\n      return 1;\n    case \"#\":\n      return 2;\n    default:\n      return 0;\n  }\n};\n\nconst formatQuery = (query) => {\n  if (!query) {\n    return null;\n  }\n\n  if (query.startsWith(\"#\") || query.startsWith(\"@\")) {\n    query = query.substring(1);\n  }\n\n  return query.toLowerCase();\n};\n\nexport const NewSearchResult = ({query, searchString}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [tabValue, setTabValue] = useState(getTab(query));\n  const [loading, setLoading] = useState(false);\n  const [userListItems, setUserListItems] = useState([]);\n  const [userOffset, setUserOffset] = useState(0);\n  const [hashtagListItems, setHashtagListItems] = useState([]);\n  const [hashtagOffset, setHashtagOffset] = useState(0);\n  const [postListItems, setPostListItems] = useState([]);\n  const [postOffset, setPostOffset] = useState(0);\n  const [updater, setUpdater] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [moreHashtags, setMoreHashtags] = useState(true);\n  const [moreUsers, setMoreUsers] = useState(true);\n  const [morePosts, setMorePosts] = useState(true);\n\n  const api = Global.GetPortal().getAppService();\n  const phrase = formatQuery(query);\n\n  const fetchUserListItems = async (fetchMore) => {\n    if (!userListItems.length) {\n      setLoading(true);\n    } else if (!fetchMore) {\n      return;\n    }\n\n    if (query) {\n      let res;\n      try {\n        res = await api.fetchSearchResultChoices(\n          \"@\",\n          phrase,\n          userOffset,\n          USERS_MAX,\n        );\n      } catch (err) {\n        console.log(err);\n        return;\n      }\n\n      const data = res && res.aux?.uinf;\n      if (!data) {\n        return;\n      }\n      setUserListItems([\n        ...userListItems,\n        ...Object.keys(data).map((key) => {\n          const item = data[key];\n          if (!item) return;\n          return {\n            nickname: item.nickname || item.ousername || item.username,\n            username: item.ousername || item.username,\n            avatar: item.ico,\n          };\n        }),\n      ]);\n      if (res.aux?.fws && Array.isArray(res.aux?.fws)) {\n        res.aux?.fws.map((item) => {\n          dispatch(\n            changeFollowingStatus({\n              userId: item,\n              status: true,\n            }),\n          );\n        });\n      }\n      setMoreUsers(Object.keys(data).length === USERS_MAX);\n      // const hashtags = Object.keys(data).filter((item) => {\n      //   return item.startsWith(\"#\") === true;\n      // });\n\n      // setHashtagListItems(hashtags);\n    } else {\n      const res = await api.fetchSuggestedUsertags(0, USERS_MAX);\n      const data = res.aux?.uinf;\n      if (!data) {\n        return;\n      }\n      setUserListItems(\n        Object.keys(data).map((key) => {\n          const item = data[key];\n          return {\n            nickname: item.nickname || item.ousername || item.username,\n            username: item.ousername || item.username,\n            avatar: item.ico,\n          };\n        }),\n      );\n      if (res.aux?.fws && Array.isArray(res.aux?.fws)) {\n        res.aux?.fws.map((item) => {\n          dispatch(\n            changeFollowingStatus({\n              userId: item,\n              status: true,\n            }),\n          );\n        });\n      }\n      setMoreUsers(Object.keys(data).length === USERS_MAX);\n      // setHashtagListItems(data.map((item) => `#${item}`));\n      // fetchHashtagListItems();\n    }\n\n    setUserOffset(userOffset + USERS_MAX);\n  };\n\n  const fetchHashtagListItems = async (fetchMore) => {\n    if (!userListItems.length) {\n      setLoading(true);\n    } else if (!fetchMore) {\n      setMoreHashtags(false);\n      return;\n    }\n\n    if (query) {\n      let res;\n      try {\n        res = await api.fetchSearchResultChoices(\n          \"#\",\n          phrase,\n          hashtagOffset,\n          HASHTAGS_MAX,\n        );\n      } catch (err) {\n        console.log(err);\n        setMoreHashtags(false);\n        return;\n      }\n\n      const data = res.data.cats;\n      if (!data) {\n        setMoreHashtags(false);\n        return;\n      }\n      setHashtagListItems([...hashtagListItems, ...Object.keys(data)]);\n      setMoreHashtags(Object.keys(data).length === HASHTAGS_MAX);\n    } else {\n      const res = await api.fetchSuggestedHashtags(0, HASHTAGS_MAX);\n\n      const data = res.data.list;\n      if (!data) {\n        setMoreHashtags(false);\n        return;\n      }\n\n      setHashtagListItems(data.map((item) => `#${item}`));\n      setMoreHashtags(data.length === HASHTAGS_MAX);\n    }\n\n    setHashtagOffset(HASHTAGS_MAX);\n  };\n\n  const fetchPostListItems = async () => {\n    if (!postListItems.length) {\n      setLoading(true);\n    }\n\n    setErrorMsg(\"\");\n    if (query) {\n      let res;\n      try {\n        res = await api.getTopSearchResult(phrase, 0, TOP_POSTS_MAX);\n      } catch (err) {\n        console.log(err);\n        return;\n      }\n\n      if (res?.data?.emsg) {\n        setErrorMsg(res?.data?.emsg || \"\");\n      }\n\n      if (res?.data?.list) {\n        const posts = res?.getXPostItems(true) || [];\n        const nbrRemoved = res?.aux?.removed ? res.aux.removed : 0;\n        setPostListItems(posts);\n        setMorePosts(posts.length + nbrRemoved + 1 > TOP_POSTS_MAX);\n      }\n    }\n\n    setPostOffset(TOP_POSTS_MAX);\n  };\n\n  useEffect(() => {\n    const clearState = () => {\n      setUserListItems([]);\n      setHashtagListItems([]);\n      setPostListItems([]);\n      setUserOffset(0);\n      setHashtagOffset(0);\n      setPostOffset(0);\n    };\n\n    clearState();\n\n    setTabValue(getTab(query));\n    setUpdater(query);\n  }, [searchString]);\n\n  useEffect(() => {\n    if (updater !== \"\") {\n      (async () => {\n        switch (tabValue) {\n          case TAB_USERS:\n            await fetchUserListItems();\n            break;\n          case TAB_HASHTAGS:\n            await fetchHashtagListItems();\n            break;\n          default:\n            await fetchUserListItems();\n            await fetchHashtagListItems();\n            await fetchPostListItems();\n            break;\n        }\n        setLoading(false);\n      })();\n    }\n  }, [tabValue, updater]);\n\n  const fetchMorePostListItems = async () => {\n    const res = await api.getTopSearchResult(phrase, postOffset, TOP_POSTS_MAX);\n    const posts = res.getXPostItems(true);\n    setPostListItems([...postListItems, ...posts]);\n    const nbrRemoved = res?.aux?.removed ? res.aux.removed : 0;\n    setMorePosts(posts.length + nbrRemoved + 1 > TOP_POSTS_MAX);\n    setPostOffset((offset) => offset + TOP_POSTS_MAX);\n  };\n\n  let hashtagBody = <GLoader wrapperStyle={wrapperStyle} />;\n  let userBody = <GLoader wrapperStyle={wrapperStyle} />;\n  let postBody = <GLoader wrapperStyle={wrapperStyle} />;\n\n  if (!loading) {\n    hashtagBody = (\n      <div className={classes.resultHashtags}>\n        {hashtagListItems.map(\n          (hashtagListItem, index) =>\n            hashtagListItem.startsWith(\"#\") && (\n              <Link\n                key={hashtagListItem + index}\n                className={classes.hashtagListItem}\n                to={`/hashtag/${encodeURIComponent(hashtagListItem)}`}\n              >\n                <GTypography className={classes.tagname} isBold>\n                  {hashtagListItem}\n                </GTypography>\n              </Link>\n            ),\n        )}\n        {moreHashtags ? (\n          <div className=\"load-more\">\n            <Waypoint\n              scrollableAncestor={window}\n              fireOnRapidScroll\n              onEnter={() => fetchHashtagListItems(true)}\n            />\n          </div>\n        ) : null}\n        {query && !hashtagListItems.length ? (\n          <div className={classes.noResultContainer}>\n            <h2>\n              {t(\"getter_fe.searchPage.noResult.label\")} #{phrase}\n            </h2>\n            <span>{t(\"getter_fe.searchPage.noResult.comment\")}</span>\n          </div>\n        ) : null}\n      </div>\n    );\n\n    userBody = (\n      <div className={classes.resultUser}>\n        {userListItems.map(\n          (userListItem, index) =>\n            !!userListItem && (\n              <div\n                key={index}\n                className={classes.userListItem}\n                onClick={() => history.push(`/user/${userListItem.username}`)}\n              >\n                <HoverPopup\n                  userId={userListItem.username}\n                  userInfoTemp={userListItem}\n                >\n                  <div key=\"popup-handler\" className=\"user-avatar\">\n                    <AvatarLink\n                      className={classes.avatar}\n                      avatarUrl={userListItem.avatar}\n                      styleClasses=\"user-avatar\"\n                      userId={userListItem.username}\n                      username={userListItem.nickname}\n                    />\n                  </div>\n                </HoverPopup>\n                <div className=\"user-main\">\n                  <div className=\"user-info\">\n                    <div className=\"user-names\">\n                      <div className=\"nickname\">\n                        <HoverPopup\n                          userId={userListItem.username}\n                          userInfoTemp={userListItem}\n                        >\n                          <div key=\"popup-handler\" className=\"user-avatar\">\n                            {userListItem.nickname}\n                          </div>\n                        </HoverPopup>\n                      </div>\n                      <div className=\"username\">{userListItem.username}</div>\n                    </div>\n                    <div className=\"action-button\">\n                      <FollowUserButton\n                        userId={userListItem.username}\n                        username={userListItem.nickname}\n                      />\n                    </div>\n                  </div>\n                </div>\n                {moreUsers &&\n                index === userListItems.length - LOAD_MORE_CUTOFF_SIZE ? (\n                  <div className=\"load-more\">\n                    <Waypoint\n                      scrollableAncestor={window}\n                      fireOnRapidScroll\n                      onEnter={() => fetchUserListItems(true)}\n                    />\n                  </div>\n                ) : null}\n              </div>\n            ),\n        )}\n\n        {query && !userListItems.length ? (\n          <div className={classes.noResultContainer}>\n            <h2>\n              {t(\"getter_fe.searchPage.noResult.label\")} @{phrase}\n            </h2>\n            <span>{t(\"getter_fe.searchPage.noResult.comment\")}</span>\n          </div>\n        ) : null}\n      </div>\n    );\n\n    const isEmpty =\n      !userListItems.length &&\n      !hashtagListItems.length &&\n      !postListItems.length;\n\n    postBody = (\n      <div className={classes.resultTop}>\n        {isEmpty ? (\n          <div className={classes.noResultContainer}>\n            {errorMsg ? (\n              <span>{errorMsg}</span>\n            ) : (\n              <>\n                <h2>\n                  {t(\"getter_fe.searchPage.noResult.label\")} {query}\n                </h2>\n                <span>{t(\"getter_fe.searchPage.noResult.comment\")}</span>\n              </>\n            )}\n          </div>\n        ) : (\n          <>\n            {userListItems.length ? (\n              <div className=\"top-users\" onClick={() => setTabValue(TAB_USERS)}>\n                <div className=\"header\">\n                  {t(\"getter_fe.searchPage.common.people\")}\n                  <GTypography\n                    className={clsx(getLang(), \"text-link\", \"view-all\")}\n                    variant=\"body2\"\n                  >\n                    {t(\"getter_fe.searchPage.common.viewAll\")}\n                  </GTypography>\n                </div>\n\n                {userListItems.slice(0, TOP_USERS_AND_HASHTAGS_MAX).map(\n                  (userListItem, index) =>\n                    !!userListItem && (\n                      <div\n                        key={index}\n                        className={classes.userListItem}\n                        onClick={() =>\n                          history.push(`/user/${userListItem.username}`)\n                        }\n                      >\n                        <HoverPopup\n                          userId={userListItem.username}\n                          userInfoTemp={userListItem}\n                        >\n                          <div key=\"popup-handler\" className=\"user-avatar\">\n                            <AvatarLink\n                              className={classes.avatar}\n                              avatarUrl={userListItem.avatar}\n                              styleClasses=\"user-avatar\"\n                              userId={userListItem.username}\n                              username={userListItem.nickname}\n                            />\n                          </div>\n                        </HoverPopup>\n                        <div className=\"user-main\">\n                          <div className=\"user-info\">\n                            <div className=\"user-names\">\n                              <div className=\"nickname\">\n                                <HoverPopup\n                                  userId={userListItem.username}\n                                  userInfoTemp={userListItem}\n                                >\n                                  <div\n                                    key=\"popup-handler\"\n                                    className=\"user-avatar\"\n                                  >\n                                    {userListItem.nickname}\n                                  </div>\n                                </HoverPopup>\n                              </div>\n                              <div className=\"username\">\n                                {userListItem.username}\n                              </div>\n                            </div>\n                            <div className=\"action-button\">\n                              <FollowUserButton\n                                userId={userListItem.username}\n                                username={userListItem.nickname}\n                              />\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ),\n                )}\n              </div>\n            ) : null}\n\n            {hashtagListItems.length ? (\n              <div\n                className=\"top-hashtags\"\n                onClick={() => setTabValue(TAB_HASHTAGS)}\n              >\n                <div className=\"header\">\n                  {t(\"getter_fe.searchPage.common.hashtags\")}\n                  <GTypography\n                    className={clsx(getLang(), \"text-link\", \"view-all\")}\n                    variant=\"body2\"\n                  >\n                    {t(\"getter_fe.searchPage.common.viewAll\")}\n                  </GTypography>\n                </div>\n\n                {hashtagListItems.slice(0, TOP_USERS_AND_HASHTAGS_MAX).map(\n                  (hashtagListItem, index) =>\n                    hashtagListItem.startsWith(\"#\") && (\n                      <Link\n                        key={hashtagListItem + index}\n                        className={classes.hashtagListItem}\n                        to={`/hashtag/${encodeURIComponent(hashtagListItem)}`}\n                      >\n                        <GTypography className={classes.tagname} isBold>\n                          {hashtagListItem}\n                        </GTypography>\n                      </Link>\n                    ),\n                )}\n              </div>\n            ) : null}\n\n            <div className=\"top-news\">\n              {postListItems.map((item, idx) => {\n                const userId = item.getUserInfo()?.getId();\n                const sharedPost = item.getSharedPost();\n                const sharedUser = item._tp?.aux?.uinf[userId];\n\n                return (\n                  <PostFeedItem\n                    item={item}\n                    key={idx}\n                    scene=\"search\"\n                    userId={item.getTargetId()}\n                    sharedObj={sharedPost}\n                    sharedUser={sharedUser}\n                    postId={item.getPostId()}\n                  />\n                );\n              })}\n              {morePosts ? (\n                <div className=\"load-more\">\n                  <Waypoint\n                    scrollableAncestor={window}\n                    onEnter={() => fetchMorePostListItems()}\n                  />\n                </div>\n              ) : null}\n            </div>\n          </>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className={clsx(classes.searchBoxWrapper, query && \"with-query\")}>\n        <IconBack\n          className={classes.backBtn}\n          onClick={() => {\n            history.goBack();\n          }}\n        />\n        <PostSearchBoxNew />\n      </div>\n      {query && (\n        <ColumnHeader history={history}>\n          <div className={classes.mobileColumnHeaderTitle}>{query}</div>\n          <div className={classes.columnHeaderTitle}>\n            {t(\"getter_fe.searchPage.common.searchResults\")}\n          </div>\n        </ColumnHeader>\n      )}\n\n      <Tabs\n        value={tabValue}\n        onChange={(e, newValue) => {\n          e.preventDefault();\n          setTabValue(newValue);\n        }}\n        variant=\"fullWidth\"\n        className={classes.tabs}\n      >\n        <Tab\n          label={t(\"getter_fe.searchPage.common.top\")}\n          {...a11yProps(0)}\n          className={classes.tab}\n          disableRipple={true}\n        />\n        <Tab\n          label={t(\"getter_fe.searchPage.common.people\")}\n          {...a11yProps(1)}\n          className={classes.tab}\n          disableRipple={true}\n        />\n        <Tab\n          label={t(\"getter_fe.searchPage.common.hashtags\")}\n          {...a11yProps(2)}\n          className={classes.tab}\n          disableRipple={true}\n        />\n      </Tabs>\n      <TabPanel value={tabValue} index={0}>\n        {postBody}\n      </TabPanel>\n      <TabPanel value={tabValue} index={1}>\n        {userBody}\n      </TabPanel>\n      <TabPanel value={tabValue} index={2}>\n        {hashtagBody}\n      </TabPanel>\n    </>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 20,\n  cy: 20,\n  r: 20,\n  fill: \"#EEEFF3\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.5288 23.5315L19.9994 16.4727L26.47 23.5315\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 17.6484L20 30.5896\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 13.5409,\n  y1: 11.1637,\n  x2: 26.4586,\n  y2: 11.1637,\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIconBackToTop(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconBackToTop);\nexport default __webpack_public_path__ + \"static/media/icon_back_to_top.34e4778f.svg\";\nexport { ForwardRef as ReactComponent };","import React, {Fragment} from \"react\";\nimport classnames from \"classnames\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport smoothscroll from \"smoothscroll-polyfill\";\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\n\nimport {ReactComponent as BackToTopIcon} from \"src/assets/icons/icon_back_to_top.svg\";\n\n// kick off the polyfill!\nsmoothscroll.polyfill();\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    iconButton: {\n      position: \"fixed\",\n      bottom: theme.spacing(8),\n      right: \"50%\",\n      [theme.breakpoints.up(\"lg\")]: {\n        transform: \"translateX(680px)\",\n      },\n      [theme.breakpoints.down(\"md\")]: {\n        display: \"none\",\n      },\n      cursor: \"pointer\",\n      opacity: 0.5,\n      transition: \"opacity 0.3s ease-in-out\",\n      zIndex: 98,\n      \"&:hover\": {\n        opacity: 1,\n      },\n    },\n    active: {\n      opacity: 1,\n    },\n  }),\n);\n\nconst THRESHOLD_NUM = 1 * window.innerHeight;\n\nexport const BackToTopButton = ({className, ...rest}) => {\n  const classes = useStyles();\n\n  const trigger = useScrollTrigger({\n    target: window || undefined,\n    disableHysteresis: true,\n    threshold: THRESHOLD_NUM,\n  });\n\n  const handleClick = () => {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: \"smooth\",\n    });\n  };\n\n  return (\n    <Fragment>\n      {trigger && (\n        <div\n          className={classnames(classes.iconButton, className)}\n          onClick={handleClick}\n        >\n          <BackToTopIcon />\n        </div>\n      )}\n    </Fragment>\n  );\n};\n","import React, {useState} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {t, getLang} from \"../../i18n/utils\";\nimport {Grid} from \"@material-ui/core\";\nimport {GButton} from \"../../styles/components/GButton\";\nimport {GTypography} from \"../../styles/components/GTypography\";\nimport clsx from \"clsx\";\nimport {useHistory} from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    outerContainer: {\n      position: \"fixed\",\n      zIndex: theme.zIndex.snackbar,\n      backgroundColor: theme.palette.text.main,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      height: 80, // mobile\n      [theme.breakpoints.up(\"sm\")]: {\n        height: 58, // tablet & desktop\n      },\n    },\n    innerContainer: {\n      display: \"flex\",\n      maxWidth: theme.mixins.app.maxWidth,\n      height: \"100%\",\n      margin: \"0 auto\",\n      padding: theme.spacing(0, 2),\n      justifyContent: \"space-between\",\n      [theme.breakpoints.down(\"xs\")]: {\n        padding: theme.spacing(0, 4),\n      },\n    },\n    leftGrid: {\n      display: \"flex\",\n      alignItems: \"center\",\n      padding: 0,\n      [theme.breakpoints.down(\"xs\")]: {\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\",\n      },\n    },\n    rightGrid: {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      alignItems: \"center\",\n      padding: 0,\n    },\n    paragraph: {\n      fontSize: 15,\n      letterSpacing: \"0.015em\",\n      lineHeight: \"19.5px\",\n      color: theme.palette.text.disabled,\n      fontWeight: 400,\n    },\n    button: {\n      maxHeight: theme.spacing(4.75),\n      borderRadius: 100,\n      \"& .MuiButton-label\": {\n        fontSize: 14,\n        lineHeight: \"16px\",\n        fontWeight: 800,\n      },\n      \"&.zh,&.tw\": {\n        \"& span\": {\n          letterSpacing: \"0.05em\",\n          fontWeight: 500,\n        },\n      },\n    },\n    acceptButton: {\n      \"& .MuiButton-label\": {\n        color: theme.palette.text.disabled,\n      },\n      \"&.MuiButton-outlined\": {\n        border: \"1px solid rgba(255, 255, 255, 0.5)\",\n      },\n      \"&.MuiButton-outlined:not(:disabled):hover\": {\n        border: \"1px solid rgba(255, 255, 255, 0.5)\",\n      },\n    },\n    learnMore: {\n      marginLeft: theme.spacing(1.75),\n      fontSize: 14,\n      lineHeight: \"19px\",\n      fontWeight: 600,\n      color: theme.palette.text.disabled,\n      cursor: \"pointer\",\n      \"&:hover\": {\n        textDecoration: \"underline\",\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        marginLeft: 0,\n      },\n    },\n  }),\n);\n\nexport const CookieNotification = ({cookiesAccepted, setCookiesAccepted}) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  if (cookiesAccepted) {\n    return null;\n  }\n\n  return (\n    <div className={classes.outerContainer}>\n      <div className={classes.innerContainer}>\n        <Grid container spacing={0}>\n          <Grid item xs={12} xs={6} className={classes.leftGrid}>\n            <GTypography className={classes.paragraph}>\n              {t(\"getter_fe.auth.common.cookieMessage\")}\n            </GTypography>\n\n            <span\n              className={clsx(classes.learnMore, getLang())}\n              onClick={() => history.push(\"/helpcenter/privacy-policy\")}\n            >\n              {t(\"getter_fe.auth.common.learnMore\")}\n            </span>\n          </Grid>\n          <Grid item xs={12} xs={6} className={classes.rightGrid}>\n            <div>\n              <GButton\n                isBold\n                color=\"default\"\n                variant=\"outlined\"\n                fullWidth={false}\n                className={clsx(\n                  classes.button,\n                  classes.acceptButton,\n                  getLang(),\n                )}\n                onClick={() => {\n                  setCookiesAccepted(true);\n                  localStorage.setItem(\"cookieAccepted\", \"true\");\n                }}\n              >\n                {t(\"getter_fe.auth.common.acceptCookies\")}\n              </GButton>\n            </div>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n","import React, {useState} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {Grid, Container} from \"@material-ui/core\";\nimport {GTypography} from \"src/styles/components/GTypography\";\nimport {t} from \"src/i18n/utils\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport clsx from \"clsx\";\nimport {useHistory} from \"react-router-dom\";\nimport AppConsts from \"src/app/AppConsts\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    upperWrapper: {\n      position: \"fixed\",\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundColor: \"transparent\",\n      zIndex: 99,\n    },\n    mb: {\n      bottom: theme.spacing(7.25),\n      [theme.breakpoints.down(\"xs\")]: {\n        bottom: theme.spacing(10),\n      },\n    },\n    overlay: {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      height: \"100%\",\n      width: \"100%\",\n      backgroundColor: theme.palette.primary.main,\n      zIndex: -1,\n      opacity: 0.98,\n    },\n\n    innerWrapper: {\n      display: \"flex\",\n      maxWidth: theme.mixins.app.maxWidth,\n      height: \"100%\",\n      margin: \"0 auto\",\n      padding: theme.spacing(1, 2),\n      zIndex: 99,\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingLeft: theme.spacing(1.5),\n        paddingRight: theme.spacing(1.5),\n        paddingTop: theme.spacing(4),\n        paddingBottom: theme.spacing(2),\n      },\n    },\n    leftGrid: {\n      display: \"flex\",\n      padding: theme.spacing(0, 0, 0.5, 0),\n      [theme.breakpoints.down(\"xs\")]: {\n        justifyContent: \"center\",\n        textAlign: \"center\",\n      },\n    },\n    rightGrid: {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      alignItems: \"center\",\n      padding: \"0 12px 0 0\",\n      [theme.breakpoints.down(\"xs\")]: {\n        marginTop: theme.spacing(3),\n        padding: 0,\n        justifyContent: \"center\",\n      },\n    },\n    title: {\n      fontWeight: 700,\n      fontSize: 24,\n      lineHeight: \"31.2px\",\n      color: theme.palette.text.disabled,\n      [theme.breakpoints.down(\"sm\")]: {\n        fontSize: 20,\n      },\n    },\n    subTitle: {\n      fontWeight: 400,\n      fontSize: 15,\n      lineHeight: \"19.5px\",\n      color: theme.palette.text.disabled,\n    },\n    btn: {\n      maxHeight: theme.spacing(3.5),\n      borderRadius: 100,\n      padding: \"6px 24px\",\n      \"& .MuiButton-label\": {\n        fontSize: 14,\n        lineHeight: \"16px\",\n        fontWeight: 800,\n      },\n    },\n    btnSignIn: {\n      \"& .MuiButton-label\": {\n        color: theme.palette.text.disabled,\n      },\n      \"&.MuiButton-outlined\": {\n        border: \"1px solid rgba(255, 255, 255, 0.5)\",\n      },\n      \"&.MuiButton-outlined:not(:disabled):hover\": {\n        border: \"1px solid rgba(255, 255, 255, 0.5)\",\n      },\n    },\n    btnSignUp: {\n      marginLeft: theme.spacing(1.25),\n      \"&.MuiButton-contained:not(:disabled)\": {\n        backgroundColor: theme.palette.text.disabled,\n      },\n      \"&.MuiButton-contained:not(:disabled):hover\": {\n        backgroundColor: theme.palette.text.disabled,\n      },\n      \"& .MuiButton-label\": {\n        color: theme.palette.primary.main,\n      },\n    },\n    closeBtn: {\n      padding: theme.spacing(1),\n      position: \"absolute\",\n      right: theme.spacing(0.5),\n      top: theme.spacing(0.5),\n      \"& path\": {\n        stroke: \"#fff\",\n      },\n    },\n  }),\n);\n\nexport const AuthBar = ({cookiesAccepted}) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const goTo = (e, to) => {\n    e.preventDefault();\n\n    if (!to) {\n      return;\n    }\n\n    history.push(to);\n  };\n\n  return (\n    <div className={clsx(classes.upperWrapper, !cookiesAccepted && classes.mb)}>\n      <Container maxWidth=\"lg\" className={classes.innerWrapper}>\n        <Grid container spacing={0}>\n          <Grid item xs={12} sm={6} className={classes.leftGrid}>\n            <div>\n              <GTypography className={classes.title}>\n                {t(\"getter_fe.auth.common.dontMiss\")}\n              </GTypography>\n              <GTypography className={classes.subTitle}>\n                {t(\"getter_fe.auth.common.firstToKnow\")}\n              </GTypography>\n            </div>\n          </Grid>\n          <Grid item xs={12} sm={6} className={classes.rightGrid}>\n            <div>\n              <GButton\n                fullWidth={false}\n                variant=\"outlined\"\n                className={clsx(classes.btn, classes.btnSignIn)}\n                onClick={(e) => goTo(e, AppConsts.URL_LOGIN)}\n              >\n                {t(\"getter_fe.auth.common.login\")}\n              </GButton>\n              <GButton\n                fullWidth={false}\n                className={clsx(classes.btn, classes.btnSignUp)}\n                onClick={(e) => goTo(e, AppConsts.URL_SIGNUP)}\n              >\n                {t(\"getter_fe.auth.common.createAccount\")}\n              </GButton>\n            </div>\n          </Grid>\n          <div className={classes.overlay}></div>\n        </Grid>\n      </Container>\n    </div>\n  );\n};\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst useStyles = makeStyles((theme) => ({\n  loaderWrapper: {\n    paddingTop: theme.spacing(5),\n    paddingBottom: theme.spacing(5),\n    textAlign: \"center\",\n  },\n  loader: {},\n}));\n\nexport const Loader = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.loaderWrapper}>\n      <CircularProgress className={classes.loader} size={22} />\n    </div>\n  );\n};\n","import React, {useState} from \"react\";\nimport {useHistory, Link} from \"react-router-dom\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {t} from \"../../i18n/utils\";\nimport HoverPopup from \"../components/HoverPopup\";\nimport {AvatarLink} from \"../components/AvatarLink\";\nimport {ReactComponent as VerificationIcon} from \"../../assets/icons/ico-verification.svg\";\nimport clsx from \"clsx\";\nimport {FollowUserButton} from \"../components/FollowUserButton\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport {shortNum} from \"src/util/NumberUtil\";\nimport {\n  STATUS_FOLLOWING,\n  STATUS_NOT_FOLLOWING,\n} from \"src/core/model/social/XMFollow\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    position: \"relative\",\n  },\n  clickButton: {\n    position: \"absolute\",\n    top: \"50%\",\n    right: 20,\n    transform: \"translate(0, -50%)\",\n  },\n  card: {\n    cursor: \"pointer\",\n    display: \"flex\",\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2.5),\n    paddingTop: theme.spacing(1.875),\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n    \"&:last-child\": {\n      border: \"none\",\n    },\n    \"&:hover\": {\n      backgroundColor: ({sidebar}) =>\n        sidebar ? theme.palette.grey[\"A300\"] : theme.palette.background.dark,\n    },\n  },\n  userInfoContainer: {\n    paddingRight: 4,\n    maxWidth: \"calc(100% - 100px)\",\n  },\n  right: {\n    flex: 1,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    maxWidth: \"calc(100% - 77px)\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    width: theme.spacing(6.25),\n    height: theme.spacing(6.25),\n    marginLeft: theme.spacing(2.125),\n    marginRight: theme.spacing(1.25),\n    cursor: \"pointer\",\n  },\n  userAvatarContainer: {\n    display: \"flex\",\n  },\n  number: {\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& > div\": {\n      maxWidth: \"100%\",\n    },\n  },\n  displayName: {\n    marginBottom: 2,\n    fontSize: 15,\n    lineHeight: \"19.09px\",\n    fontWeight: 600,\n    color: theme.palette.text.main,\n    letterSpacing: \"0.01em\",\n    // textTransform: \"capitalize\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    display: (props) => (props.sidebar ? \"inline-block\" : \"inline-block\"),\n    maxWidth: (props) => (props.sidebar ? 119 : 360),\n    [theme.breakpoints.down(\"md\")]: {\n      maxWidth: (props) => (props.sidebar ? 90 : 360),\n    },\n    \"& svg\": {\n      marginTop: \"2px\",\n      verticalAlign: \"top\",\n    },\n  },\n  userIdWrapper: {\n    display: \"grid\",\n    marginTop: theme.spacing(0.375),\n  },\n  userId: {\n    fontWeight: 400,\n    fontSize: 16,\n    lineHeight: \"17px\",\n    color: theme.palette.secondary.light,\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n    letterSpacing: \"0.01em\",\n    maxWidth: (props) => (props.sidebar ? 119 : 400),\n    [theme.breakpoints.down(\"md\")]: {\n      fontSize: \"10px\",\n      maxWidth: (props) => (props.sidebar ? 50 : 400),\n    },\n  },\n  icon: {\n    width: theme.spacing(1.875),\n    margin: theme.spacing(0, 0, 0, 0.5),\n    borderRadius: \"100%\",\n  },\n  btn: {\n    minWidth: theme.spacing(12.5),\n    height: theme.spacing(4),\n    minHeight: theme.spacing(4),\n    minWidth: 90,\n    textTransform: \"capitalize\",\n    padding: theme.spacing(1),\n    \"& .MuiButton-label\": {\n      fontSize: 16,\n      fontWeight: \"bold\",\n    },\n  },\n  number: {\n    fontWeight: 400,\n    fontSize: 14,\n    lineHeight: \"18.2px\",\n    color: theme.palette.secondary.gray,\n  },\n  numberPage: {\n    color: theme.palette.secondary.light,\n    fontWeight: \"normal\",\n    fontSize: 15,\n    lineHeight: \"15px\",\n    color: theme.palette.secondary.light,\n  },\n}));\n\nexport const UserLayout = ({\n  userInfo,\n  sidebar,\n  isPage,\n  isProfile,\n  suggestFollow = null,\n  disableHistoryPush,\n}) => {\n  const classes = useStyles({sidebar});\n  const history = useHistory();\n\n  const [followStatus, setFollowStatus] = useState(userInfo.isFollowing);\n\n  const getUserStatus = (status) => {\n    setFollowStatus(status);\n  };\n  // const gotoUserProfile = (e, id) => {\n  //   e.preventDefault();\n  //   id && history.push(`/user/${id}`);\n  // };\n\n  const getTotalFollowers = () => {\n    let flg = userInfo.flg ? userInfo.flg : 0;\n    let twitter = userInfo.twt_flg ? userInfo.twt_flg : 0;\n    return shortNum(flg * 1 + twitter * 1);\n  };\n\n  return (\n    <>\n      {userInfo && (\n        <div className={classes.container}>\n          <Link className={classes.card} to={`/user/${userInfo._id}`}>\n            <div className={classes.left}>\n              <HoverPopup\n                userId={userInfo._id}\n                userInfoTemp={userInfo}\n                getUserStatus={getUserStatus}\n              >\n                <div key=\"popup-handler\" className=\"user-avatar\">\n                  <AvatarLink\n                    avatarUrl={userInfo.ico}\n                    styleClasses={classes.avatar}\n                    userId={userInfo._id}\n                    username={userInfo.nickname}\n                    disableHistoryPush={disableHistoryPush}\n                  />\n                </div>\n              </HoverPopup>\n            </div>\n            <div className={classes.right}>\n              <div className={classes.userInfoContainer}>\n                <div className={classes.displayNameWrapper}>\n                  <HoverPopup\n                    userId={userInfo._id}\n                    userInfoTemp={userInfo}\n                    getUserStatus={getUserStatus}\n                    leftAligned={true}\n                  >\n                    <div\n                      key=\"popup-handler\"\n                      className={clsx(\n                        classes.userAvatarContainer,\n                        \"user-avatar\",\n                      )}\n                    >\n                      <span className={classes.displayName}>\n                        <GTwemoji text={userInfo.nickname || userInfo._id} />\n                        {userInfo.infl && (\n                          <VerificationIcon className={classes.icon} />\n                        )}\n                      </span>\n                    </div>\n                  </HoverPopup>\n                </div>\n                <div className={classes.numberWrapper}>\n                  <span\n                    className={clsx(\n                      classes.number,\n                      isPage ? classes.numberPage : \"\",\n                    )}\n                  >\n                    {isProfile\n                      ? `@${userInfo.ousername || userInfo.username}`\n                      : `${getTotalFollowers()} ${t(\n                          \"getter_fe.profile.common.followers\",\n                        )}`}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </Link>\n          <div className={classes.clickButton}>\n            <FollowUserButton\n              userId={userInfo._id}\n              // status={followStatus ? STATUS_FOLLOWING : STATUS_NOT_FOLLOWING}\n              username={\n                userInfo.nickname || userInfo.ousername || userInfo.username\n              }\n              suggestFollow={() => suggestFollow && suggestFollow(userInfo._id)}\n            />\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n","import React, {useState, useEffect, useCallback} from \"react\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport {useHistory} from \"react-router-dom\";\nimport clsx from \"clsx\";\n\nimport {t, getLang} from \"../../i18n/utils\";\nimport {Loader} from \"src/app/pages/settings/Loader\";\nimport axios from \"axios\";\nimport {UserLayout} from \"./UserLayout\";\nimport {GTypography} from \"src/styles/components/GTypography\";\nimport Global from \"src/system/Global\";\nimport {\n  HDR_APP_AUTH,\n  PROP_USER_ID,\n  PROP_USER_TOKEN,\n} from \"src/core/model/net/XRequest\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    border: {\n      backgroundColor: theme.palette.grey.A200,\n      height: \"11px\",\n    },\n    suggestPeopleContainer: {\n      marginTop: 11,\n      marginBottom: 11,\n    },\n    sectionHeader: {\n      padding: \"16px 15px\",\n      fontSize: 20,\n      fontWeight: 800,\n      borderBottom: theme.notchedOutline.border,\n      \"&.zh,&.tw\": {\n        fontWeight: \"600 !important\",\n        letterSpacing: \"0.05em\",\n      },\n    },\n    wrapper: {\n      height: \"100%\",\n    },\n    cardWrapper: {\n      height: \"100%\",\n    },\n    footerContent: {\n      padding: \"16px 5px\",\n      marginLeft: theme.spacing(1.875),\n      display: \"flex\",\n      alignItems: \"center\",\n      height: theme.spacing(5.435),\n    },\n    footerText: {\n      cursor: \"pointer\",\n      color: theme.blue.light,\n      fontWeight: 600,\n      \"&.zh,&.tw\": {\n        fontWeight: 500,\n        letterSpacing: \"0.05em\",\n      },\n    },\n  }),\n);\n\nexport const WhoToFollow = ({isBottom}) => {\n  const classes = useStyles();\n  const maxPerPage = 3;\n  const [items, setItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n  const api = Global.GetPortal().getAppService();\n  let token = api.getUserToken();\n  let userId = api.getUserId();\n\n  // JoeC 2021-03-31: Why is axios code here instead of calling GetterService.fetchSuggestedUsertags()?\n  // userId and token are null when user are not logged in and this is handled in XRequest/REST\n  // let headerProps = {};\n  // if (userId != null || token != null) {\n  //   let authLine = {};\n  //   if (userId != null) {\n  //     authLine[PROP_USER_ID] = userId;\n  //   }\n  //   if (token != null) {\n  //     authLine[PROP_USER_TOKEN] = token;\n  //   }\n  //   headerProps[HDR_APP_AUTH] = authLine;\n  // }\n\n  const fetchData = useCallback(async () => {\n    let dataArr = [];\n    let xAuth =\n      userId === null\n        ? `{\"user\": null, \"token\": null}`\n        : `{\"user\": \"${userId}\", \"token\": \"${token}\"}`;\n    setIsLoading(true);\n    await axios\n      .get(\n        `${process.env.REACT_APP_API_URL}/s/usertag/suggest?offset=0&max=${maxPerPage}&incl=userinfo|followings`,\n        {\n          headers: {\"x-app-auth\": xAuth},\n        },\n      )\n      .then((res) => {\n        const data = res.data?.result?.aux?.uinf;\n        const followings = res.data?.result?.aux?.fws;\n\n        if (data) {\n          for (const [key, value] of Object.entries(data)) {\n            if (value?._id && followings.includes(value?._id)) {\n              value.isFollowing = true;\n            } else {\n              value.isFollowing = false;\n            }\n            dataArr.push(value);\n          }\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n    setItems([...items, ...dataArr]);\n\n    setIsLoading(false);\n  });\n\n  useEffect(() => {\n    items.length <= 0 && fetchData();\n  }, []);\n\n  const gotoPopularUsersList = () => {\n    history.push(\"/popular-users\");\n  };\n\n  return (\n    <>\n      <div className={classes.border}></div>\n      <div className={clsx(classes.suggestPeopleContainer, \"sidebar-section\")}>\n        <div\n          className={clsx(\"section-header\", classes.sectionHeader, getLang())}\n        >\n          {t(\"getter_fe.common.people.whoToFollow\")}\n        </div>\n        <div className=\"section-content\">\n          <div className={classes.wrapper}>\n            {!isLoading && items.length <= 0 && \"\"}\n\n            <div className={!isLoading ? classes.cardWrapper : \"\"}>\n              {items &&\n                items.map((user, idx) => {\n                  return (\n                    <UserLayout\n                      key={`pul-${idx}`}\n                      userInfo={user}\n                      sidebar={true}\n                      isPage={null}\n                    />\n                  );\n                })}\n              {items.length ? (\n                <div className={classes.footerContent}>\n                  <GTypography\n                    className={clsx(classes.footerText, getLang())}\n                    isBold\n                    variant=\"body2\"\n                    onClick={gotoPopularUsersList}\n                  >\n                    {t(\"getter_fe.common.trends.viewMore\")}\n                  </GTypography>\n                </div>\n              ) : null}\n            </div>\n\n            {isLoading && <Loader />}\n          </div>\n        </div>\n      </div>\n      {!isBottom ? <div className={classes.border}></div> : null}\n    </>\n  );\n};\n","import React from \"react\";\nimport {Checkbox} from \"@material-ui/core\";\n\nexport const GCheckbox = ({className, ...rest}) => {\n  return (\n    <Checkbox disableRipple={true} className={className} {...rest}></Checkbox>\n  );\n};\n","import React, {useState, useEffect} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {useDispatch, connect} from \"react-redux\";\nimport {Waypoint} from \"react-waypoint\";\nimport {createStyles, makeStyles, useTheme} from \"@material-ui/core/styles\";\nimport {PostFeedItem} from \"src/app/components/post/comps/PostFeedItem\";\nimport {CommentFeedItem} from \"src/app/components/post/comps/CommentFeedItem\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {getLang, t} from \"src/i18n/utils\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {scrollHelper} from \"src/util/scrollUtils\";\nimport {WhoToFollow} from \"src/app/components/WhoToFollow\";\nimport {timelineConstants} from \"../_constants\";\nimport {getUserFeed} from \"../store\";\nimport GAxios from \"src/util/GAxios\";\nimport {PopupDialogNew} from \"src/app/components/PopupDialogNew\";\nimport {GCheckbox} from \"src/styles/components/GCheckbox\";\nimport {FormControlLabel} from \"@material-ui/core\";\nimport {\n  changeAutoConnect,\n  changeImpost,\n  setClaimed,\n} from \"src/app/components/auth/store\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      marginBottom: theme.spacing(1),\n      \"& .post-feed-item.feed\": {\n        borderBottom: theme.notchedOutline.border,\n        \"&:hover\": {\n          backgroundColor: theme.palette.background.dark,\n        },\n      },\n    },\n    wrapper: {\n      \"-webkit-tap-highlight-color\": \"transparent\",\n    },\n    bottom: {\n      marginBottom: theme.spacing(20),\n    },\n    noDataTips: {\n      padding: \"50px 0\",\n      textAlign: \"center\",\n      fontSize: \"18px\",\n      lineHeight: \"21px\",\n      color: \"#000\",\n      marginBottom: theme.spacing(1),\n    },\n    endTips: {\n      display: \"block\",\n      textAlign: \"center\",\n      color: theme.palette.grey.A200,\n      padding: \"36px 0\",\n      \"&:before,&:after\": {\n        content: \"' '\",\n        display: \"inline-block\",\n        height: 0,\n        width: \"49px\",\n        borderTop: `1px solid ${theme.palette.grey.A200}`,\n        verticalAlign: \"top\",\n        marginTop: \"9px\",\n      },\n      \"& span\": {\n        padding: \"0 7px\",\n      },\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      authenticated: state.auth?.session?.authenticated,\n      isLoading: state.timelineNew.userFeed.isLoading,\n      error: state.timelineNew.userFeed.error,\n      data: state.timelineNew.userFeed.data,\n      offset: state.timelineNew.userFeed.offset,\n      timestamp: state.timelineNew.userFeed.timestamp,\n      reachEnd: state.timelineNew.userFeed.reachEnd,\n      loggedinUserInfo: state.auth.session?.userinfo,\n      claimed: state.auth.claimStep.claimed,\n      imPost: state.auth.claimStep.imPost,\n      autoConnect: state.auth.claimStep.autoConnect,\n    };\n  },\n  {getUserFeed, changeAutoConnect, changeImpost},\n);\n\nexport const UserFeed = connector(_UserFeed);\n\nfunction _UserFeed({\n  getUserFeed,\n  loggedinUserInfo,\n  isLoading,\n  error,\n  reachEnd,\n  authenticated,\n  data,\n  offset,\n  timestamp,\n  claimed,\n  imPost,\n  autoConnect,\n  changeImpost,\n  changeAutoConnect,\n}) {\n  const theme = useTheme();\n  const mobileMatches = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [feedOffset, setFeedOffset] = useState(offset);\n  const [popupDialogOpen, setPopupDialogOpen] = useState(false);\n  const [popupDialogOpen2, setPopupDialogOpen2] = useState(true);\n  const [startTs, setStartTs] = useState(timestamp || Date.now());\n  const [newUser, setNewUser] = useState(false);\n  const api = Global.GetPortal().getAppService();\n  const userId = api.getUserId();\n\n  useEffect(() => {\n    if (!reachEnd && !data.length && !offset) {\n      setFeedOffset(0);\n      setStartTs(Date.now());\n    }\n  }, [data]);\n\n  useEffect(() => {\n    error &&\n      toast.warn(\n        <NotifMessage message={t(\"getter_fe.common.errorOccured\")} />,\n        {\n          type: toast.TYPE.WARNING,\n        },\n      );\n  }, [error]);\n\n  // const handleChangeImpost = (e) => {\n  //   let imPost = e.target.checked;\n  //   dispatch(\n  //     changeImpost({imPost: imPost})\n  //   )\n  // }\n\n  // const handleChangeAutoConnect = (e) => {\n  //   let autoConnect = e.target.checked;\n  //   dispatch(\n  //     changeAutoConnect({autoConnect: autoConnect})\n  //   )\n  // }\n\n  // useEffect(() => {\n  //   if(loggedinUserInfo) {\n  //     let now = Date.now();\n  //     let mins = (now - loggedinUserInfo.cdate)/(1000 * 60);\n  //     mins = 2;\n  //     if(mins < 10 && !claimed) {\n  //       setNewUser(true);\n  //       setPopupDialogOpen(true);\n  //     }\n  //   }\n  // }, [loggedinUserInfo])\n\n  // const onCancel = () => {\n  //   dispatch(\n  //     setClaimed({claimed:false})\n  //   )\n  //   setPopupDialogOpen(false);\n  //   setPopupDialogOpen2(false);\n  // }\n\n  // const postImportPost = async () => {\n  //   let userId = loggedinUserInfo?._id;\n  //   if (userId) {\n  //     const config = {\n  //       method: \"post\",\n  //       url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/import`,\n  //     };\n  //     let res = await GAxios(\n  //       config,\n  //       (response) => {\n  //         console.info(response)\n  //       },\n  //       (err) => {\n  //         console.info(err)\n  //         // history.push(\"/claim-failed\");\n  //       },\n  //     );\n  //   }\n  // }\n\n  // const postChangeAutoConnect = async () => {\n  //   let userId = loggedinUserInfo?._id;\n  //   let data = null;\n  //   if (userId) {\n  //     const config = {\n  //       method: \"post\",\n  //       url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/service/binding?enable=true`,\n  //       data,\n  //     };\n  //     let res = await GAxios(\n  //       config,\n  //       (response) => {\n  //         console.info(response)\n  //       },\n  //       (err) => {\n  //         console.info(err)\n  //         // history.push(\"/claim-failed\");\n  //       },\n  //     );\n  //   }\n  // }\n\n  // const handleSubmit = async () => {\n  //   if(autoConnect) {\n  //     await postChangeAutoConnect();\n  //   }\n  //   if(imPost) {\n  //     await postImportPost();\n  //   }\n  //   setPopupDialogOpen2(false)\n  //   //todo: GAlert.\n  // }\n\n  // const handleClaim = async () => {\n  //   let userId = loggedinUserInfo._id;\n  //   if (userId) {\n  //     const config = {\n  //       method: \"get\",\n  //       url: `${process.env.REACT_APP_API_URL}/u/user/openauth/${userId}`,\n  //       headers: {\n  //         \"Content-Type\": \"application/json\",\n  //       },\n  //     };\n  //     let res = await GAxios(\n  //       config,\n  //       (response) => {\n  //         console.info(response)\n  //         let twitterUrl = response.data.result;\n  //         window.location.href = twitterUrl;\n  //       },\n  //       (err) => {\n  //         console.info(err)\n  //         history.push(\"/claim-failed\");\n  //       },\n  //     );\n  //   }\n  // };\n\n  useEffect(() => {\n    scrollHelper.scrollToAndForget(\"post-timeline\");\n  }, []);\n\n  const checkHasPost = (data) => {\n    let hasPost = false;\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].getPost()?.isPost()) {\n        hasPost = true;\n        break;\n      }\n    }\n    return hasPost;\n  };\n\n  const loadMore = async (refresh = false) => {\n    const max = timelineConstants.MAX_BATCH_SIZE;\n    const offset = refresh === true ? 0 : feedOffset;\n    const lang = getLang();\n    getUserFeed({\n      userId,\n      offset,\n      max,\n      startTs,\n      lang,\n      authenticated,\n      api,\n    });\n    setFeedOffset(feedOffset + timelineConstants.MAX_BATCH_SIZE);\n  };\n\n  if (!error && !data.length && isLoading) {\n    // header is hidden in\n    const wrapperStyle = {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      maxHeight: 600,\n      height: `calc(100vh - ${\n        timelineConstants.HEADER_HEIGHT + timelineConstants.OTHERS_HEIGHT\n      }px)`, // handle if the screen height is small\n    };\n\n    return <GLoader wrapperStyle={wrapperStyle} />;\n  }\n\n  // console.info(data);\n  return (\n    <div className={classes.root}>\n      {/* {newUser && (<PopupDialogNew \n                    open={popupDialogOpen}\n                    userInfo={loggedinUserInfo}\n                    onClose={onCancel}\n                    hasOK={true}\n                    hasCancel={true}\n                    needDoNothing={true}\n                  >\n                    Welcome, @{loggedinUserInfo.username} <br />\n                    your account has been created. <br />\n                    connet to your twitter account? <br />\n                    By connecting to your twitter account, you can <br />\n                    import your most recent 100 tweets to getter. <br />\n                    <button onClick={handleClaim}>Click Me</button><br />\n                    <button onClick={onCancel}>No thanks</button><br />\n                    </PopupDialogNew>)}\n      {claimed && (<PopupDialogNew \n                    open={popupDialogOpen2 && claimed}\n                    userInfo={loggedinUserInfo}\n                    onClose={onCancel}\n                    hasOK={true}\n                    hasCancel={true}\n                    needDoNothing={true}\n                  >\n                    Connection Successful <br />\n                    <FormControlLabel\n                      control={<GCheckbox checked={imPost} onChange={handleChangeImpost} name=\"imPost\" />}\n                      label=\"Import Post\"\n                    />\n                    <FormControlLabel\n                      control={<GCheckbox checked={autoConnect} onChange={handleChangeAutoConnect} name=\"autoConnect\" />}\n                      label=\"Sync Tweets\"\n                    />\n                    \n                    <button onClick={handleSubmit}>Start using your account</button><br />\n                    </PopupDialogNew>)} */}\n      {data.length > 0 && checkHasPost(data) ? (\n        data.map((item, idx) => {\n          if (!item || !item.getPost || !item.getPost()) {\n            return null;\n          }\n          const sharedPost = item.getSharedPost();\n\n          return (\n            <div\n              key={item.data.activity.pstid + idx}\n              className={classes.wrapper}\n            >\n              {item.getPost().isPost() ? (\n                <PostFeedItem\n                  setTimelineId={(value) => {}}\n                  timelineId={item.data.activity.pstid}\n                  item={item}\n                  scene=\"timeline\"\n                  onDelete={() => {}}\n                  userId={item.getTargetId()}\n                  sharedObj={sharedPost}\n                  postId={item.getPostId()}\n                />\n              ) : (\n                <CommentFeedItem\n                  commentId={item.getPost().getId()}\n                  comment={item}\n                  type=\"comment-timeline\"\n                  scene=\"feed\"\n                />\n              )}\n\n              {(idx === 19 ||\n                (idx === data.length - 1 &&\n                  timelineConstants.MAX_BATCH_SIZE === feedOffset)) &&\n              mobileMatches ? (\n                <WhoToFollow\n                  isBottom={\n                    idx === data.length - 1 &&\n                    timelineConstants.MAX_BATCH_SIZE === feedOffset\n                  }\n                />\n              ) : null}\n\n              {idx === data.length - timelineConstants.LOAD_MORE_CUTOFF_SIZE &&\n              !reachEnd ? (\n                <Waypoint\n                  scrollableAncestor={window}\n                  onEnter={() => loadMore()}\n                />\n              ) : null}\n\n              {idx === data.length - 1 && (mobileMatches || !userId) ? (\n                <div className={classes.bottom} />\n              ) : null}\n            </div>\n          );\n        })\n      ) : reachEnd ? (\n        <h5 className={classes.noDataTips}>\n          {t(\"getter_fe.post.tips.no_post_yet\")}\n        </h5>\n      ) : (\n        <Waypoint scrollableAncestor={window} onEnter={() => loadMore()} />\n      )}\n      {data.length > 0 &&\n        checkHasPost(data) &&\n        reachEnd &&\n        scrollHelper.checkHasScrollBar() && (\n          <div className={classes.endTips}>\n            <span>{t(\"getter_fe.post.tips.end\")}</span>\n          </div>\n        )}\n    </div>\n  );\n}\n","import {BackToTopButton} from \"src/app/components/BackToTopButton\";\nimport {PostComposer} from \"src/app/components/post/comps/PostComposer\";\nimport {CookieNotification} from \"src/app/components/CookieNotification\";\nimport {AuthBar} from \"src/app/components/auth/comps/AuthBar\";\n\nimport {useState} from \"react\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\nimport {t} from \"../../../i18n/utils\";\nimport {UserFeed} from \"src/app/components/timeline/comps/UserFeed\";\nimport {useHistory} from \"react-router\";\nimport {useTheme} from \"@material-ui/core/styles\";\n\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport {ReactComponent as LogoBig} from \"src/assets/images/common/logoColor.svg\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport {useSelector} from \"react-redux\";\n\nexport const NewMyDashboard = () => {\n  const [cookiesAccepted, setCookiesAccepted] = useState(\n    localStorage.getItem(\"cookieAccepted\"),\n  );\n\n  const history = useHistory();\n\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const {authenticated} = useSelector((state) => state.auth.session);\n\n  const scrollToTop = () =>\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: \"smooth\",\n    });\n\n  return (\n    <>\n      <BackToTopButton />\n      <GBackTitle\n        title={t(\"getter_fe.common.home\")}\n        hideBackLink\n        handleClick={scrollToTop}\n      >\n        {isMobile ? <LogoBig /> : null}\n      </GBackTitle>\n\n      {authenticated ? (\n        <Hidden only=\"xs\">\n          <PostComposer history={history} scenes=\"notInPopup\" />\n        </Hidden>\n      ) : null}\n      <UserFeed />\n      <Hidden only=\"xs\">\n        <CookieNotification\n          cookiesAccepted={cookiesAccepted}\n          setCookiesAccepted={setCookiesAccepted}\n        />\n        {authenticated ? null : <AuthBar cookiesAccepted={cookiesAccepted} />}\n      </Hidden>\n    </>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.17823 8.53846C1.06166 8.36973 1 8.176 1 7.97846C1 7.78092 1.06166 7.58719 1.17823 7.41846C2.3209 5.78154 6.11554 1 12 1C17.8845 1 21.6791 5.77615 22.8218 7.46154C22.9383 7.63027 23 7.824 23 8.02154C23 8.21908 22.9383 8.41281 22.8218 8.58154C21.6791 10.2238 17.8783 15 12 15C6.12166 15 2.3209 10.2185 1.17823 8.53846Z\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.5177 10.8897C12.1424 10.977 12.7787 10.8644 13.3354 10.568C13.8922 10.2716 14.3409 9.80661 14.6173 9.23962C14.8936 8.67263 14.9835 8.03274 14.8739 7.41157C14.7644 6.7904 14.4611 6.21982 14.0075 5.78155C13.5539 5.34327 12.9732 5.05978 12.3486 4.97168C11.7241 4.88358 11.0876 4.99537 10.5305 5.29106C9.97335 5.58675 9.52406 6.05117 9.24697 6.6178C8.96988 7.18443 8.87921 7.82421 8.98794 8.44552C9.10127 9.06621 9.40624 9.63579 9.86 10.0742C10.3138 10.5126 10.8935 10.7978 11.5177 10.8897V10.8897Z\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgEyeOpen(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 14,\n    viewBox: \"0 0 24 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEyeOpen);\nexport default __webpack_public_path__ + \"static/media/eyeOpen.a94c5db3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.8 1C20.8 1 20.4476 1.78512 19.7 2.7817M12 6.88235C10.2312 6.88235 8.75265 6.39735 7.54348 5.70588M12 6.88235C13.7688 6.88235 15.2474 6.39735 16.4565 5.70588M12 6.88235V11M3.2 1C3.2 1 3.58904 1.86685 4.4169 2.93501M7.54348 5.70588L4.3 9.23529M7.54348 5.70588C6.15812 4.91366 5.12637 3.85041 4.4169 2.93501M16.4565 5.70588L19.15 9.23529M16.4565 5.70588C17.92 4.869 18.9888 3.72968 19.7 2.7817M4.4169 2.93501L1 4.52941M19.7 2.7817L23 4.52941\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgEyeClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 10,\n    viewBox: \"0 0 24 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEyeClose);\nexport default __webpack_public_path__ + \"static/media/eyeClose.04215780.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState, useRef} from \"react\";\nimport classnames from \"classnames\";\nimport {\n  createStyles,\n  makeStyles,\n  TextField,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport {ExpandMore} from \"@material-ui/icons\";\nimport {ReactComponent as EyeOpen} from \"../../assets/icons/eyeOpen.svg\";\nimport {ReactComponent as EyeClose} from \"../../assets/icons/eyeClose.svg\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    btnEye: {\n      display: \"block\",\n      padding: theme.spacing(1),\n      \"& .MuiIconButton-label\": {\n        display: \"inline-flex\",\n        width: \"auto\",\n      },\n    },\n    inputField: {\n      marginTop: 0,\n      \"& label\": {\n        fontWeight: theme.typography.fontWeightLight,\n      },\n      \"& .MuiOutlinedInput-root\": {\n        borderRadius: 0,\n        boxShadow: \"none\",\n        \"& input\": {\n          fontSize: 15,\n          [theme.breakpoints.down(\"xs\")]: {\n            fontSize: 16,\n          },\n        },\n        \"& .MuiInputAdornment-positionEnd\": {\n          \"& p\": {\n            fontSize: 12,\n            marginBottom: 0,\n          },\n        },\n      },\n      \"& fieldset\": {\n        border: \"none\",\n        borderBottom: `1px solid ${theme.input.borderColor}`,\n      },\n      \"&:hover\": {\n        \"& fieldset\": {\n          borderBottom: `1px solid ${theme.input.borderColor} !important`,\n        },\n      },\n      \"& .MuiOutlinedInput-root.Mui-focused fieldset\": {\n        borderBottom: `2px solid ${theme.palette.primary.main} !important`,\n      },\n      \"& input:not([type=checkbox]):not([type=radio])\": {\n        paddingLeft: 0,\n        backgroundColor: theme.palette.background.main,\n      },\n      \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n        borderBottom: `2px solid ${theme.palette.primary.main} !important`,\n      },\n      \"& .MuiInputLabel-outlined\": {\n        transform: \"translate(0, 8px) scale(1)\",\n        fontSize: 15,\n        color: theme.palette.text.secondary,\n        textTransform: \"capitalize\",\n      },\n      \"& .MuiInputLabel-outlined.MuiInputLabel-shrink\": {\n        transform: \"translate(0, -6px) scale(0.75)\",\n      },\n      \"& .MuiInputBase-root\": {\n        color: theme.palette.text.main,\n      },\n      \"& input:-webkit-autofill\": {\n        transition: \"background-color 5000s ease-in-out 0s\",\n      },\n    },\n    icon: {\n      stroke: theme.palette.text.main,\n    },\n    iconBtn: {\n      marginRight: theme.spacing(-1.625),\n      cursor: \"pointer\",\n      paddingRight: 0,\n      \"&:hover\": {\n        backgroundColor: \"transparent\",\n      },\n    },\n  }),\n);\n\nexport const GTextField = ({\n  className,\n  type,\n  anchor = null,\n  hideIcon,\n  charCount,\n  maxCharLength,\n  showPwd = false,\n  iconBtnClick = null,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const passwordType = type === \"password\";\n  const charValidateType = type === \"charValidate\";\n  const [showPassword, setShowPassword] = useState(false);\n  const [showAdornment, setShowAdornment] = useState(false);\n  const InputProps = {};\n\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n\n  // Password show toggle\n  if (passwordType && !hideIcon && rest.value) {\n    InputProps[\"endAdornment\"] = (\n      <InputAdornment position=\"end\">\n        <div\n          tabIndex={-1}\n          className={classnames(\n            classes.btnEye,\n            classes.iconBtn,\n            (iconBtnClick ? showPwd : showPassword) ? \"showPassword\" : null,\n          )}\n          aria-label=\"toggle password visibility\"\n          onClick={() => {\n            setShowPassword(!showPassword);\n            iconBtnClick && iconBtnClick();\n          }}\n          onMouseDown={handleMouseDownPassword}\n        >\n          {(iconBtnClick ? showPwd : showPassword) ? (\n            <EyeOpen className={classes.icon} />\n          ) : (\n            <EyeClose className={classes.icon} />\n          )}\n        </div>\n      </InputAdornment>\n    );\n  }\n\n  if (charValidateType && !hideIcon && showAdornment) {\n    InputProps[\"endAdornment\"] = (\n      <InputAdornment position=\"end\">\n        {`${charCount} / ${maxCharLength}`}\n      </InputAdornment>\n    );\n  }\n\n  return (\n    <TextField\n      className={clsx(className, classes.inputField)}\n      variant=\"outlined\"\n      fullWidth\n      SelectProps={{\n        displayEmpty: true,\n        IconComponent: ExpandMore,\n        MenuProps: {\n          anchorOrigin: {\n            vertical: \"bottom\",\n            horizontal: \"left\",\n          },\n          transformOrigin: {\n            vertical: \"top\",\n            horizontal: \"left\",\n          },\n          getContentAnchorEl: anchor,\n        },\n      }}\n      type={\n        passwordType\n          ? (iconBtnClick ? showPwd : showPassword)\n            ? \"text\"\n            : \"password\"\n          : \"text\"\n      }\n      InputProps={InputProps}\n      onBlur={(e) => {\n        setShowAdornment(false);\n      }}\n      onFocus={(e) => {\n        setShowAdornment(true);\n      }}\n      {...rest}\n    />\n  );\n};\n","import React from \"react\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\nimport {getLang} from \"src/i18n/utils\";\n\nconst grecaptchaObject = window.grecaptcha; // You must provide access to the google grecaptcha object.\nconst APIKEY = process.env.REACT_APP_GOOGLE_RECAPTCHA_KEY;\n\nexport const ReCaptcha = ({recaptchaRef}) => {\n  return (\n    <div style={{visibility: \"hidden\"}}>\n      <ReCAPTCHA\n        ref={recaptchaRef}\n        sitekey={APIKEY}\n        size=\"invisible\"\n        hl={getLang()}\n      />\n    </div>\n  );\n};\n\nexport default ReCaptcha;\n","import React, {useEffect, useRef} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {FormControl, Typography} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {connect} from \"react-redux\";\nimport {login, resetSessionStatus} from \"../store\";\nimport {GTextField} from \"src/styles/components/GTextField\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport {Formik} from \"formik\";\nimport {object, string} from \"yup\";\nimport {useTranslation} from \"react-i18next\";\nimport ReCaptcha from \"./ReCaptcha\";\nimport {GLoader} from \"src/styles/components/GLoader\";\n\nconst wrapperStyle = {\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  height: \"100%\", // handle if the screen height is small\n};\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    title: {\n      marginBottom: theme.spacing(4.375),\n      fontSize: 28,\n      lineHeight: \"33px\",\n      fontWeight: 600,\n      color: theme.palette.text.main,\n    },\n    formContainer: {},\n    formControl: {\n      marginTop: 0,\n      marginBottom: theme.spacing(2.5),\n    },\n    formControlLast: {\n      marginBottom: 0,\n    },\n    btn: {\n      height: theme.spacing(6),\n      margin: theme.spacing(10.625, 0, 5, 0),\n      borderRadius: 100,\n      \"& .MuiButton-label\": {\n        marginTop: 0,\n      },\n    },\n    forgotPwdWrapper: {\n      marginTop: theme.spacing(0.625),\n      textAlign: \"right\",\n    },\n    forgotPwdLink: {\n      fontSize: 14,\n      fontWeight: 400,\n      lineHeight: \"16.7px\",\n      color: theme.blue.light,\n      cursor: \"pointer\",\n      \"&:hover\": {\n        color: theme.blue.light,\n      },\n    },\n    contentBottom: {\n      fontSize: 14,\n      color: theme.palette.text.main,\n      textAlign: \"center\",\n      \"& a\": {\n        display: \"inline-block\",\n        marginLeft: theme.spacing(1),\n        color: theme.palette.text.link,\n        fontWeight: 400,\n        lineHeight: \"17px\",\n        \"&:hover\": {\n          color: theme.palette.text.link,\n        },\n      },\n    },\n    inputField: {},\n    borderBottom: {\n      \"& .MuiOutlinedInput-notchedOutline\": {\n        // borderBottom: `2px solid ${theme.palette.primary.main} !important`,\n      },\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      isLoading: state.auth.session.isLoading,\n      error: state.auth.session.error,\n      isSuspended: state.auth.session.isSuspended,\n    };\n  },\n  {login, resetSessionStatus},\n);\n\nexport const LoginForm = connector(_LoginForm);\n\nfunction _LoginForm({\n  gotoForgotPassword,\n  setPageSeo,\n  login,\n  isLoading,\n  error,\n  isSuspended,\n  portal,\n  resetSessionStatus,\n}) {\n  const classes = useStyles();\n  const {t, i18n} = useTranslation();\n  const reCaptchaRef = useRef();\n  const recaptchaDisabled =\n    process.env.REACT_APP_GOOGLE_RECAPTCHA_DISABLED === \"true\";\n\n  useEffect(() => {\n    setPageSeo(\n      t(\"getter_fe.auth.login.seoTitle\"),\n      t(\"getter_fe.auth.login.seoDescription\"),\n    );\n  }, []);\n\n  useEffect(() => {\n    error &&\n      toast(\n        <NotifMessage message={t(\"getter_fe.auth.errors.invalidLogin\")} />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: toast.TYPE.ERROR,\n        },\n      );\n  }, [error]);\n\n  useEffect(() => {\n    isSuspended &&\n      toast(\n        <NotifMessage\n          message={t(\"getter_fe.auth.errors.suspendedUserLogin\")}\n        />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: toast.TYPE.ERROR,\n        },\n      );\n  }, [isSuspended]);\n\n  useEffect(() => {\n    return () => {\n      resetSessionStatus();\n    };\n  });\n\n  return (\n    <div className={classes.formContainer}>\n      <Typography variant=\"h1\" component=\"h2\" className={classes.title}>\n        {t(\"getter_fe.auth.login.loginTitle\")}\n      </Typography>\n\n      <Formik\n        initialValues={{\n          email: \"\",\n          password: \"\",\n        }}\n        validationSchema={object().shape({\n          email: string().required(),\n          password: string().required(),\n        })}\n        onSubmit={async ({email, password}) => {\n          const token = recaptchaDisabled\n            ? null\n            : await reCaptchaRef.current?.executeAsync();\n\n          login({username: email, pwd: password, portal: portal, token: token});\n\n          !recaptchaDisabled && reCaptchaRef.current?.reset();\n        }}\n      >\n        {(props) => {\n          const {\n            isSubmitting,\n            values,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            isValid,\n            dirty,\n            errors,\n            touched,\n            setFieldTouched,\n          } = props;\n\n          i18n.on(\"languageChanged\", (lng) => {\n            setTimeout(() => {\n              Object.keys(errors).forEach((fieldName) => {\n                if (touched[fieldName]) {\n                  setFieldTouched(fieldName);\n                }\n              });\n            }, 50);\n          });\n\n          return (\n            <form className=\"form\" onSubmit={handleSubmit}>\n              <FormControl\n                fullWidth\n                margin=\"dense\"\n                className={classes.formControl}\n              >\n                <GTextField\n                  id=\"email\"\n                  type=\"text\"\n                  name=\"email\"\n                  value={values.email}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={clsx(\n                    classes.inputField,\n                    values.email && !errors.email && classes.borderBottom,\n                  )}\n                  label={t(\"getter_fe.auth.common.emailUsername\")}\n                  disabled={isLoading}\n                />\n              </FormControl>\n              <FormControl\n                fullWidth\n                margin=\"dense\"\n                className={clsx(classes.formControl, classes.formControlLast)}\n              >\n                <GTextField\n                  id=\"password\"\n                  type=\"password\"\n                  name=\"password\"\n                  value={values.password}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  className={clsx(\n                    classes.inputField,\n                    values.password && !errors.password && classes.borderBottom,\n                  )}\n                  label={t(\"getter_fe.auth.common.password\")}\n                  disabled={isLoading}\n                />\n              </FormControl>\n              <div className={classes.forgotPwdWrapper}>\n                <span\n                  onClick={() => gotoForgotPassword()}\n                  className={clsx(classes.forgotPwdLink, \"text-link\")}\n                >\n                  {t(\"getter_fe.auth.common.forgotPassword\")}\n                </span>\n              </div>\n\n              <div className={classes.buttonsContainer}>\n                <GButton\n                  type=\"submit\"\n                  variant=\"contained\"\n                  className={classes.btn}\n                  disabled={Boolean(\n                    (!isValid &&\n                      (!values.password.length || !values.email.length)) || // handle weird yup autocomplete behavior\n                      isLoading ||\n                      !dirty ||\n                      isSubmitting,\n                  )}\n                  loading={isLoading}\n                >\n                  {isLoading || isSubmitting ? (\n                    <GLoader\n                      wrapperStyle={wrapperStyle}\n                      type=\"small\"\n                      isButton\n                      color=\"#FFFFFF\"\n                    />\n                  ) : (\n                    t(\"getter_fe.auth.common.login\")\n                  )}\n                </GButton>\n              </div>\n\n              <div className={classes.contentBottom}>\n                {t(\"getter_fe.auth.common.dontHaveAccount\")}\n                <Link to=\"/signup\" className=\"text-link\">\n                  {t(\"getter_fe.auth.common.register\")}\n                </Link>\n              </div>\n              {!recaptchaDisabled && <ReCaptcha recaptchaRef={reCaptchaRef} />}\n            </form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.8334 7H1.16669\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.00002 12.8332L1.16669 6.99984L7.00002 1.1665\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgArrowLeft(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowLeft);\nexport default __webpack_public_path__ + \"static/media/arrowLeft.3fe5a7f9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.99984 12.8327C8.15356 12.8327 9.28138 12.4906 10.2407 11.8496C11.2 11.2086 11.9476 10.2976 12.3891 9.23167C12.8306 8.16576 12.9462 6.99287 12.7211 5.86132C12.496 4.72976 11.9404 3.69037 11.1246 2.87456C10.3088 2.05876 9.26942 1.50318 8.13787 1.2781C7.00631 1.05302 5.83342 1.16854 4.76752 1.61005C3.70162 2.05157 2.79057 2.79924 2.14959 3.75852C1.50862 4.71781 1.1665 5.84563 1.1665 6.99935C1.1665 8.54645 1.78108 10.0302 2.87504 11.1241C3.969 12.2181 5.45274 12.8327 6.99984 12.8327Z\",\n  stroke: \"#DD1818\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 3.79102C7 5.0549 7 7.58268 7 7.58268\",\n  stroke: \"#DD1818\",\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"path-3-inside-1\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.99984 10.2077C7.322 10.2077 7.58317 9.94652 7.58317 9.62435C7.58317 9.30218 7.322 9.04102 6.99984 9.04102C6.67767 9.04102 6.4165 9.30218 6.4165 9.62435C6.4165 9.94652 6.67767 10.2077 6.99984 10.2077Z\"\n}));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.99984 10.2077C7.322 10.2077 7.58317 9.94652 7.58317 9.62435C7.58317 9.30218 7.322 9.04102 6.99984 9.04102C6.67767 9.04102 6.4165 9.30218 6.4165 9.62435C6.4165 9.94652 6.67767 10.2077 6.99984 10.2077Z\",\n  fill: \"#DD1818\",\n  stroke: \"#DD1818\",\n  strokeWidth: 2.4,\n  mask: \"url(#path-3-inside-1)\"\n});\n\nfunction SvgIcoWarning(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoWarning);\nexport default __webpack_public_path__ + \"static/media/ico-warning.71daefb9.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useEffect, useRef} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {FormControl, FormHelperText} from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport {Link} from \"react-router-dom\";\nimport {GTextField} from \"src/styles/components/GTextField\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport {Formik} from \"formik\";\nimport {object, string} from \"yup\";\nimport {ReactComponent as ArrowLeftIcon} from \"src/assets/icons/arrowLeft.svg\";\nimport {ReactComponent as WarningIcon} from \"src/assets/icons/ico-warning.svg\";\nimport {useTranslation} from \"react-i18next\";\nimport {connect} from \"react-redux\";\nimport {\n  sendVerifCode,\n  changeLoginStep,\n  resetSendVerifCodeStatus,\n  resetVerifCodeStatus,\n} from \"../store\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport AppConst from \"src/app/AppConsts\";\nimport {userConstants} from \"../_constants\";\nimport ReCaptcha from \"./ReCaptcha\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    title: {\n      marginBottom: theme.spacing(4.375),\n      fontSize: 28,\n      lineHeight: \"33px\",\n      fontWeight: 600,\n      color: theme.palette.text.main,\n    },\n    formContainer: {},\n    formControl: {\n      marginTop: 0,\n      marginBottom: theme.spacing(2.5),\n    },\n    formControlLast: {\n      marginBottom: 0,\n    },\n    btn: {\n      height: theme.spacing(6),\n      margin: theme.spacing(8.125, 0, 5, 0),\n      borderRadius: 100,\n      boxShadow: \"none\",\n      \"&:hover\": {\n        boxShadow: \"none\",\n      },\n      \"& .MuiButton-label\": {\n        marginTop: 0,\n      },\n    },\n    textHelperContainer: {\n      display: \"flex\",\n    },\n    warningIcon: {\n      marginRight: 3,\n      minWidth: 16,\n      marginTop: 4,\n    },\n    textHelperError: {\n      fontSize: 14,\n      lineHeight: \"18px\",\n      color: theme.palette.error.main,\n    },\n    inputField: {},\n    inputFieldError: {\n      \"& fieldset\": {\n        borderWidth: 2,\n        borderColor: theme.palette.error.light,\n      },\n    },\n    backWrapper: {\n      marginBottom: theme.spacing(4.375),\n    },\n    back: {\n      display: \"inline-flex\",\n      width: theme.spacing(3.75),\n      height: theme.spacing(3.75),\n      backgroundColor: theme.palette.grey.A300,\n      borderRadius: \"50%\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      cursor: \"pointer\",\n    },\n    icon: {\n      width: theme.spacing(1.5),\n      height: theme.spacing(1.5),\n      stroke: theme.palette.text.main,\n    },\n    contentBottom: {\n      fontSize: 14,\n      color: theme.palette.text.main,\n      textAlign: \"center\",\n      \"& a\": {\n        display: \"inline-block\",\n        marginLeft: theme.spacing(1),\n        color: theme.palette.text.link,\n        fontWeight: 400,\n        lineHeight: \"17px\",\n        \"&:hover\": {\n          color: theme.palette.text.link,\n        },\n      },\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      isLoading: state.auth.sendVerifCode.isLoading,\n      error: state.auth.sendVerifCode.error,\n      success: state.auth.sendVerifCode.success,\n    };\n  },\n  {\n    sendVerifCode,\n    changeLoginStep,\n    resetSendVerifCodeStatus,\n    resetVerifCodeStatus,\n  },\n);\n\nexport const ForgotLoginForm = connector(_ForgotLoginForm);\n\nfunction _ForgotLoginForm({\n  goBack,\n  handleErrorEmail,\n  errorEmail,\n  setPageSeo,\n  sendVerifCode,\n  isLoading,\n  error,\n  success,\n  changeLoginStep,\n  resetSendVerifCodeStatus,\n  resetVerifCodeStatus,\n}) {\n  const classes = useStyles();\n  const {t, i18n} = useTranslation();\n  const reCaptchaRef = useRef();\n  const recaptchaDisabled =\n    process.env.REACT_APP_GOOGLE_RECAPTCHA_DISABLED === \"true\";\n\n  useEffect(() => {\n    setPageSeo(t(\"getter_fe.auth.common.forgetPassword\"), null);\n  }, []);\n\n  useEffect(() => {\n    success && changeLoginStep(userConstants.STEP_VERIF_CODE);\n\n    success &&\n      toast(\n        <NotifMessage message={t(\"getter_fe.auth.common.sendCodeSuccess\")} />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: AppConst.NOTIF_MESSAGE_SUCCESS,\n        },\n      );\n  }, [success]);\n\n  useEffect(() => {\n    error &&\n      toast(\n        <NotifMessage\n          message={t(\"getter_fe.auth.common.failedToChangePassword\")}\n        />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: AppConst.NOTIF_MESSAGE_ERROR,\n        },\n      );\n  }, [error]);\n\n  useEffect(() => {\n    resetVerifCodeStatus();\n    return () => {\n      resetSendVerifCodeStatus();\n    };\n  });\n\n  return (\n    <div className={classes.formContainer}>\n      <div className={classes.backWrapper}>\n        <span className={classes.back} onClick={goBack}>\n          <ArrowLeftIcon className={classes.icon} />\n        </span>\n      </div>\n      <div className=\"title\" className={classes.title}>\n        {t(\"getter_fe.auth.forgotPwd.findGetterAccount\")}\n      </div>\n      <Formik\n        initialValues={{\n          email: \"\",\n        }}\n        validationSchema={object().shape({\n          email: string()\n            .required(t(\"getter_fe.auth.errors.emailRequired\"))\n            .email(t(\"getter_fe.auth.errors.emailInvalid\")),\n        })}\n        onSubmit={async ({email}, {setSubmitting}) => {\n          const token = recaptchaDisabled\n            ? null\n            : await reCaptchaRef.current?.executeAsync();\n          sendVerifCode({email, token});\n          !recaptchaDisabled && reCaptchaRef.current?.reset();\n          // handleSendVerifCode({email});\n        }}\n      >\n        {(props) => {\n          const {\n            values,\n            touched,\n            errors,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            isValid,\n            dirty,\n            setFieldTouched,\n          } = props;\n\n          i18n.on(\"languageChanged\", (lng) => {\n            setTimeout(() => {\n              Object.keys(errors).forEach((fieldName) => {\n                if (touched[fieldName]) {\n                  setFieldTouched(fieldName);\n                }\n              });\n            }, 50);\n          });\n\n          return (\n            <form className=\"form\" onSubmit={handleSubmit}>\n              <FormControl\n                fullWidth\n                margin=\"dense\"\n                className={classes.formControl}\n              >\n                <GTextField\n                  id=\"email\"\n                  type=\"text\"\n                  name=\"email\"\n                  value={values.email}\n                  onChange={(e) => {\n                    handleChange(e);\n                    handleErrorEmail(false);\n                  }}\n                  onBlur={handleBlur}\n                  error={Boolean(touched.email && errors.email)}\n                  className={clsx(\n                    classes.inputField,\n                    Boolean(touched.email && errors.email) &&\n                      classes.inputFieldError,\n                  )}\n                  label={t(\"getter_fe.auth.common.yourEmail\")}\n                  disabled={isLoading}\n                />\n\n                {touched.email && errors.email && (\n                  <div className={classes.textHelperContainer}>\n                    <WarningIcon className={classes.warningIcon} />\n                    <FormHelperText className={classes.textHelperError}>\n                      {errors.email}\n                    </FormHelperText>\n                  </div>\n                )}\n              </FormControl>\n\n              <div className={classes.buttonsContainer}>\n                <GButton\n                  type=\"submit\"\n                  variant=\"contained\"\n                  className={classes.btn}\n                  disabled={Boolean(\n                    !isValid || isLoading || !dirty || errorEmail,\n                  )}\n                  loading={isLoading}\n                >\n                  {t(\"getter_fe.auth.forgotPwd.sendResetCode\")}\n                </GButton>\n              </div>\n              <div className={classes.contentBottom}>\n                {t(\"getter_fe.auth.common.dontHaveAccount\")}\n                <Link to=\"/signup\" className=\"text-link\">\n                  {t(\"getter_fe.auth.common.register\")}\n                </Link>\n              </div>\n\n              {!recaptchaDisabled && <ReCaptcha recaptchaRef={reCaptchaRef} />}\n            </form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n}\n","import React, {useState, useEffect} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport {t} from \"src/i18n/utils\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    number: {\n      fontSize: 12,\n    },\n  }),\n);\n\nexport const Counter = ({time}) => {\n  const classes = useStyles();\n  const interval = 1000; // 1s\n  const [timeLeft, setTimeLeft] = useState(time);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      const newTime = timeLeft - interval;\n\n      if (newTime < 0) {\n        clearTimeout(timer);\n        return;\n      }\n\n      setTimeLeft(newTime);\n    }, interval);\n    // Clear timeout if the component is unmounted\n    return () => clearTimeout(timer);\n  });\n\n  return <span className={classes.number}>{`(${timeLeft / 1000}s)`}</span>;\n};\n","import React, {useState, useEffect, useRef} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport ReactCodeInput from \"react-verification-code-input\";\nimport clsx from \"clsx\";\nimport {FormHelperText, Typography} from \"@material-ui/core\";\nimport {t} from \"src/i18n/utils\";\nimport {connect} from \"react-redux\";\nimport {\n  verifCode,\n  changeLoginStep,\n  sendVerifCode,\n  resetVerifCodeStatus,\n  sendVerifCodeSignup,\n} from \"../store\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {ReactComponent as ArrowLeftIcon} from \"src/assets/icons/arrowLeft.svg\";\nimport {Counter} from \"./Counter\";\nimport {ReactComponent as WarningIcon} from \"src/assets/icons/ico-warning.svg\";\nimport {userConstants} from \"../_constants\";\nimport AppConst from \"src/app/AppConsts\";\nimport ReCaptcha from \"./ReCaptcha\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    title: {\n      marginBottom: theme.spacing(3.75),\n      fontSize: 28,\n      lineHeight: \"33px\",\n      fontWeight: 600,\n      color: theme.palette.text.main,\n    },\n    titleMbSmall: {\n      marginBottom: theme.spacing(1.25),\n    },\n    formContainer: {\n      maxWidth: theme.spacing(40.5),\n    },\n    textHelper: {\n      fontSize: 15,\n      lineHeight: \"19.5px\",\n      fontWeight: 400,\n      color: theme.palette.text.secondary,\n    },\n    inputs: {\n      minWidth: theme.spacing(40.5),\n      marginTop: theme.spacing(5),\n      \"& > div\": {\n        position: \"relative\",\n        paddingTop: 0,\n        top: 0,\n        textAlign: \"left\",\n      },\n      \"& > div:first-child\": {\n        display: \"flex\",\n        paddingTop: 0,\n      },\n      \"& input:not([type='checkbox']):not([type='radio'])\": {\n        marginRight: theme.spacing(3.75),\n        border: `1px solid ${theme.input.borderColor}`,\n        backgroundColor: theme.input.background,\n        borderRadius: 5,\n        fontSize: 22,\n        fontWeight: 700,\n        color: theme.palette.text.main,\n      },\n      \"& input:not([type='checkbox']):not([type='radio']):last-child\": {\n        marginRight: 0,\n      },\n    },\n    contentBottom: {\n      fontSize: 14,\n      color: theme.palette.text.main,\n      textAlign: \"center\",\n      \"& span\": {\n        display: \"inline-block\",\n        marginLeft: theme.spacing(1),\n        color: theme.palette.primary.main,\n        fontWeight: 400,\n        \"&:hover\": {\n          color: theme.palette.primary.main,\n        },\n      },\n    },\n    contentBottomSendCode: {\n      marginTop: theme.spacing(5),\n      textAlign: \"left\",\n      color: theme.palette.text.primary,\n    },\n    textHelperContainer: {\n      display: \"flex\",\n    },\n    warningIcon: {\n      marginTop: 18,\n      marginRight: 4,\n      minWidth: 16,\n    },\n    textHelperError: {\n      fontSize: 14,\n      lineHeight: \"18.2px\",\n      fontWeight: 400,\n      color: theme.palette.error.main,\n      textTransform: \"capitalize\",\n    },\n    textHelperErrorSendCode: {\n      marginTop: theme.spacing(2.25),\n      textTransform: \"none\",\n    },\n    link: {\n      textTransform: \"capitalize\",\n      cursor: \"pointer\",\n    },\n    linkDisabled: {\n      \"& span\": {\n        color: theme.palette.text.light,\n        cursor: \"default\",\n      },\n      \"& span:hover\": {\n        color: theme.palette.text.light,\n      },\n    },\n    backWrapper: {\n      marginBottom: theme.spacing(4.375),\n    },\n    back: {\n      display: \"inline-flex\",\n      width: theme.spacing(3.75),\n      height: theme.spacing(3.75),\n      backgroundColor: theme.palette.grey.A300,\n      borderRadius: \"50%\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      cursor: \"pointer\",\n    },\n    icon: {\n      width: theme.spacing(1.5),\n      height: theme.spacing(1.5),\n      stroke: theme.palette.text.main,\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      email: state.auth.sendVerifCode.data.email,\n      password: state.auth.sendVerifCode.data.password,\n      username: state.auth.sendVerifCode.data.username,\n      isLoading: state.auth.verifCode.isLoading,\n      error: state.auth.verifCode.error,\n      success: state.auth.verifCode.success,\n      code: state.auth.verifCode.code,\n    };\n  },\n  {\n    verifCode,\n    changeLoginStep,\n    sendVerifCode,\n    resetVerifCodeStatus,\n    sendVerifCodeSignup,\n  },\n);\n\nexport const SendCode = connector(_SendCode);\n\nfunction _SendCode({\n  goBack,\n  error,\n  verifCode,\n  isLoading,\n  success,\n  email,\n  username,\n  password,\n  code,\n  changeLoginStep,\n  sendVerifCode,\n  resetVerifCodeStatus,\n  sendVerifCodeSignup,\n  type,\n  handleSignup,\n}) {\n  const classes = useStyles();\n  const [canSendAgain, setCanSendAgain] = useState(false);\n  const timeBeforeSendAgain = 60000; // ms\n  const inputsComp = useRef(null);\n  const reCaptchaRef = useRef();\n  const recaptchaDisabled =\n    process.env.REACT_APP_GOOGLE_RECAPTCHA_DISABLED === \"true\";\n\n  const handleSendAgain = async (type, params) => {\n    if (canSendAgain) {\n      const token = recaptchaDisabled\n        ? null\n        : await reCaptchaRef.current?.executeAsync();\n\n      // reset inputs values\n      inputsComp.current.__clearvalues__();\n\n      // reset status\n      resetVerifCodeStatus();\n\n      let res;\n\n      if (type === userConstants.VERIF_CODE_TYPE_F_PWD) {\n        res = await sendVerifCode({...params, token});\n      } else if (type === userConstants.VERIF_CODE_TYPE_SIGNUP) {\n        res = await sendVerifCodeSignup({...params, token});\n      }\n\n      !recaptchaDisabled && reCaptchaRef.current?.reset();\n\n      if (res && res?.payload) {\n        // success notification\n        toast(\n          <NotifMessage\n            message={t(\"getter_fe.auth.common.sendCodeSuccessAgain\")}\n          />,\n          {\n            position: toast.POSITION.TOP_CENTER,\n            type: AppConst.NOTIF_MESSAGE_SUCCESS,\n          },\n        );\n      } else {\n        // error notification\n        toast(\n          <NotifMessage\n            message={t(\"getter_fe.auth.common.failedToChangePassword\")}\n          />,\n          {\n            position: toast.POSITION.TOP_CENTER,\n            type: AppConst.NOTIF_MESSAGE_ERROR,\n          },\n        );\n      }\n    }\n\n    setCanSendAgain(false);\n    setTimeout(() => {\n      setCanSendAgain(true);\n    }, timeBeforeSendAgain);\n  };\n\n  useEffect(() => {\n    if (!email) {\n      goBack();\n    }\n    setTimeout(() => {\n      setCanSendAgain(true);\n    }, timeBeforeSendAgain);\n  }, []);\n\n  useEffect(() => {\n    if (type === userConstants.VERIF_CODE_TYPE_F_PWD) {\n      success &&\n        toast(\n          <NotifMessage message={t(\"getter_fe.auth.common.codeVerified\")} />,\n          {\n            position: toast.POSITION.TOP_CENTER,\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n\n      success && changeLoginStep(userConstants.STEP_CHANGE_PASSWORD);\n    }\n\n    if (type === userConstants.VERIF_CODE_TYPE_SIGNUP) {\n      success && handleSignup();\n    }\n  }, [success]);\n\n  useEffect(() => {\n    resetVerifCodeStatus();\n  }, []);\n\n  return (\n    <div className={classes.formContainer}>\n      <div className={classes.backWrapper}>\n        <span className={classes.back} onClick={goBack}>\n          <ArrowLeftIcon className={classes.icon} />\n        </span>\n      </div>\n      <Typography\n        variant=\"h1\"\n        className={clsx(classes.title, classes.titleMbSmall)}\n      >\n        {t(\"getter_fe.auth.forgotPwd.weSentYouCode\")}\n      </Typography>\n\n      <Typography variant=\"body2\" className={classes.textHelper}>\n        {t(\"getter_fe.auth.forgotPwd.interBelowToVerify\")}\n        <br /> {email ? email : \"\"}\n      </Typography>\n\n      <div className={classes.inputsWrapper}>\n        <ReactCodeInput\n          ref={inputsComp}\n          className={classes.inputs}\n          onComplete={async (code) => {\n            const token = recaptchaDisabled\n              ? null\n              : await reCaptchaRef.current?.executeAsync();\n            reCaptchaRef.current?.reset();\n            const params = {\n              type: type,\n              data: {code: code, email: email, token},\n            };\n            verifCode(params);\n            !recaptchaDisabled && reCaptchaRef.current?.reset();\n          }}\n          autoFocus={true}\n          fields={4}\n          fieldWidth={46}\n          fieldHeight={51}\n          loading={!error && isLoading}\n          disabled={!error && isLoading}\n        />\n        {error && (\n          <div className={classes.textHelperContainer}>\n            <WarningIcon className={classes.warningIcon} />\n            <FormHelperText\n              className={clsx(\n                classes.textHelperError,\n                classes.textHelperErrorSendCode,\n              )}\n            >\n              {t(\"getter_fe.auth.common.sendCodeIncorrect\")}\n            </FormHelperText>\n          </div>\n        )}\n      </div>\n\n      <div\n        className={clsx(\n          classes.contentBottom,\n          classes.contentBottomSendCode,\n          !canSendAgain && classes.linkDisabled,\n        )}\n      >\n        {t(\"getter_fe.auth.common.didntReceiveEmail\")}\n        <span\n          className={classes.link}\n          onClick={() => {\n            canSendAgain &&\n              type === userConstants.VERIF_CODE_TYPE_F_PWD &&\n              handleSendAgain(type, {email: email});\n\n            canSendAgain &&\n              type === userConstants.VERIF_CODE_TYPE_SIGNUP &&\n              handleSendAgain(type, {\n                email: email,\n                password: password,\n                username: username,\n              });\n          }}\n        >\n          {t(\"getter_fe.auth.common.sendAgain\")}\n          {!canSendAgain && <Counter time={timeBeforeSendAgain} />}\n        </span>\n      </div>\n      {!recaptchaDisabled && <ReCaptcha recaptchaRef={reCaptchaRef} />}\n    </div>\n  );\n}\n","import React, {useEffect, useRef} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {Formik} from \"formik\";\nimport {object, ref, string} from \"yup\";\nimport {FormControl, FormHelperText, Link, Typography} from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport {GTextField} from \"src/styles/components/GTextField\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport {useTranslation} from \"react-i18next\";\nimport {connect} from \"react-redux\";\nimport {\n  changePassword,\n  changeLoginStep,\n  resetchangePasswordStatus,\n} from \"../store\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {ReactComponent as WarningIcon} from \"src/assets/icons/ico-warning.svg\";\nimport {userConstants} from \"../_constants\";\nimport ReCaptcha from \"./ReCaptcha\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    wrapper: {\n      margin: \"0 auto\",\n      [theme.breakpoints.up(\"xl\")]: {\n        maxWidth: theme.spacing(62.5),\n      },\n      [theme.breakpoints.down(\"lg\")]: {\n        maxWidth: theme.spacing(48.5),\n      },\n      [theme.breakpoints.down(\"sm\")]: {\n        maxWidth: theme.spacing(61),\n      },\n    },\n    formControl: {\n      marginTop: 0,\n      marginBottom: theme.spacing(2.5),\n    },\n    btn: {\n      height: theme.spacing(6),\n      margin: theme.spacing(10.625, 0, 5, 0),\n      borderRadius: 100,\n      \"& .MuiButton-label\": {\n        marginTop: 0,\n      },\n    },\n    textHelperContainer: {\n      display: \"flex\",\n    },\n    warningIcon: {\n      marginRight: 3,\n      minWidth: 16,\n      marginTop: 4,\n    },\n    textHelper: {\n      maxWidth: theme.spacing(42.5),\n      fontSize: 12,\n      lineHeight: \"16px\",\n    },\n    linkHelperWrapper: {\n      textAlign: \"center\",\n    },\n    linkHelper: {\n      marginTop: theme.spacing(0.625),\n      fontSize: 14,\n      lineHeight: \"16.71px\",\n      color: theme.palette.text.link,\n      fontWeight: 400,\n      cursor: \"pointer\",\n      \"&:hover\": {\n        color: theme.palette.primary.main,\n        textDecoration: \"none\",\n      },\n    },\n    formControlCP: {\n      marginTop: 0,\n      marginBottom: 0,\n    },\n    tabTitle: {\n      marginBottom: theme.spacing(4.5),\n      fontSize: 28,\n      lineHeight: \"33px\",\n      fontWeight: 600,\n      color: theme.palette.text.main,\n      textTransform: \"capitalize\",\n    },\n    inputField: {\n      marginTop: 0,\n    },\n    inputFieldError: {\n      \"& fieldset\": {\n        borderWidth: 2,\n        borderColor: theme.palette.error.light,\n      },\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      code: state.auth.verifCode.code,\n      email: state.auth.sendVerifCode.data.email,\n      isLoading: state.auth.changePassword.isLoading,\n      error: state.auth.changePassword.error,\n      success: state.auth.changePassword.success,\n    };\n  },\n  {\n    changePassword,\n    changeLoginStep,\n    resetchangePasswordStatus,\n  },\n);\n\nexport const ChangePasswordForm = connector(_ChangePasswordForm);\n\nfunction _ChangePasswordForm({\n  goBack,\n  email,\n  code,\n  changePassword,\n  isLoading,\n  error,\n  success,\n  changeLoginStep,\n  resetchangePasswordStatus,\n}) {\n  const classes = useStyles();\n  const {t, i18n} = useTranslation();\n  const reCaptchaRef = useRef();\n  const recaptchaDisabled =\n    process.env.REACT_APP_GOOGLE_RECAPTCHA_DISABLED === \"true\";\n\n  useEffect(() => {\n    if (!code || !email) {\n      goBack();\n    }\n  }, []);\n\n  useEffect(() => {\n    success &&\n      toast(<NotifMessage message={t(\"getter_fe.auth.common.pwdUpdated\")} />, {\n        position: toast.POSITION.TOP_CENTER,\n        type: toast.TYPE.SUCCESS,\n      });\n\n    success && changeLoginStep(userConstants.STEP_LOGIN);\n  }, [success]);\n\n  useEffect(() => {\n    error &&\n      toast(\n        <NotifMessage\n          message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n        />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: toast.TYPE.ERROR,\n        },\n      );\n  }, [error]);\n\n  useEffect(() => {\n    return () => {\n      resetchangePasswordStatus();\n    };\n  });\n\n  return (\n    <div className={classes.wrapper}>\n      <Typography variant=\"h1\" className={classes.tabTitle}>\n        {t(\"getter_fe.auth.common.changeYourPwd\")}\n      </Typography>\n      <Formik\n        initialValues={{\n          newPass: \"\",\n          confirmPass: \"\",\n        }}\n        validationSchema={object().shape({\n          newPass: string()\n            .required(t(\"getter_fe.auth.common.newPwdRequired\"))\n            .min(6, t(\"getter_fe.auth.common.minCharact\"))\n            .matches(\n              /^(?=.*[a-zA-Z\\d].*)[a-zA-Z\\d!#$&()*+,\\-.:;<=>?@[\\]^_{|}~]{6,128}$/,\n              t(\"getter_fe.settings.errors.passwordValidation\"),\n            ),\n          confirmPass: string()\n            .oneOf(\n              [ref(\"newPass\")],\n              t(\"getter_fe.settings.errors.passwordsNotMatch\"),\n            )\n            .required(t(\"getter_fe.settings.errors.confirmPasswordRequired\")),\n        })}\n        onSubmit={async ({newPass}) => {\n          const token = recaptchaDisabled\n            ? null\n            : await reCaptchaRef.current?.executeAsync();\n\n          changePassword({\n            newPwd: newPass,\n            email: email,\n            code: code,\n            token,\n          });\n\n          !recaptchaDisabled && reCaptchaRef.current?.reset();\n        }}\n      >\n        {(props) => {\n          const {\n            values,\n            touched,\n            errors,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            isValid,\n            dirty,\n            setFieldTouched,\n          } = props;\n\n          i18n.on(\"languageChanged\", (lng) => {\n            setTimeout(() => {\n              Object.keys(errors).forEach((fieldName) => {\n                if (touched[fieldName]) {\n                  setFieldTouched(fieldName);\n                }\n              });\n            }, 50);\n          });\n\n          return (\n            <form className=\"form\" onSubmit={handleSubmit}>\n              <FormControl\n                fullWidth\n                margin=\"dense\"\n                className={classes.formControl}\n              >\n                <GTextField\n                  id=\"password-new\"\n                  type=\"password\"\n                  name=\"newPass\"\n                  value={values.newPass}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  error={Boolean(touched.newPass && errors.newPass)}\n                  className={clsx(\n                    classes.inputField,\n                    Boolean(touched.newPass && errors.newPass) &&\n                      classes.inputFieldError,\n                  )}\n                  label={t(\"getter_fe.settings.common.newPassword\")}\n                  disabled={isLoading}\n                />\n\n                {touched.newPass && errors.newPass && (\n                  <div className={classes.textHelperContainer}>\n                    <WarningIcon className={classes.warningIcon} />\n                    <FormHelperText\n                      className={classes.textHelper}\n                      error={Boolean(touched.newPass && errors.newPass)}\n                    >\n                      {errors.newPass}\n                    </FormHelperText>\n                  </div>\n                )}\n              </FormControl>\n              <FormControl\n                fullWidth\n                margin=\"dense\"\n                className={clsx(classes.formControl, classes.formControlCP)}\n              >\n                <GTextField\n                  id=\"password-confirm\"\n                  type=\"password\"\n                  name=\"confirmPass\"\n                  value={values.confirmPass}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  error={Boolean(touched.confirmPass && errors.confirmPass)}\n                  className={clsx(\n                    classes.inputField,\n                    Boolean(touched.confirmPass && errors.confirmPass) &&\n                      classes.inputFieldError,\n                  )}\n                  label={t(\"getter_fe.settings.common.confirmPassword\")}\n                  disabled={isLoading}\n                />\n                {touched.confirmPass && errors.confirmPass && (\n                  <div className={classes.textHelperContainer}>\n                    <WarningIcon className={classes.warningIcon} />\n                    <FormHelperText\n                      error={Boolean(touched.confirmPass && errors.confirmPass)}\n                    >\n                      {errors.confirmPass}\n                    </FormHelperText>\n                  </div>\n                )}\n              </FormControl>\n\n              <GButton\n                type=\"submit\"\n                variant=\"contained\"\n                className={classes.btn}\n                disabled={Boolean(!isValid || isLoading || !dirty)}\n                loading={isLoading}\n              >\n                {t(\"getter_fe.auth.common.save\")}\n              </GButton>\n\n              <div className={classes.linkHelperWrapper}>\n                <Link\n                  href=\"/login\"\n                  className={clsx(classes.linkHelper, \"text-link\")}\n                >\n                  {t(\"getter_fe.auth.common.backToLogin\")}\n                </Link>\n              </div>\n              {!recaptchaDisabled && <ReCaptcha recaptchaRef={reCaptchaRef} />}\n            </form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n}\n","import React, {useEffect, useState} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {connect} from \"react-redux\";\nimport {useHistory} from \"react-router-dom\";\nimport {LoginForm} from \"../../components/auth/comps/LoginForm\";\nimport {ForgotLoginForm} from \"../../components/auth/comps/ForgotLoginForm\";\nimport {SendCode} from \"../../components/auth/comps/SendCode\";\nimport {ChangePasswordForm} from \"../../components/auth/comps/ChangePasswordForm\";\nimport {changeLoginStep} from \"../../components/auth/store\";\nimport {userConstants} from \"../../components/auth/_constants\";\nimport {\n  resetTimelineStatus,\n  resetTimelineData,\n} from \"src/app/components/timeline/store\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    contentContainer: {\n      margin: \"0 auto\",\n      [theme.breakpoints.up(\"xl\")]: {\n        maxWidth: theme.spacing(62.5),\n      },\n      [theme.breakpoints.down(\"lg\")]: {\n        minWidth: theme.spacing(52.125),\n      },\n      [theme.breakpoints.down(\"sm\")]: {\n        maxWidth: theme.spacing(61),\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        maxWidth: \"auto\",\n        minWidth: \"auto\",\n        paddingLeft: theme.spacing(2.5),\n        paddingRight: theme.spacing(2.5),\n      },\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      authenticated: state.auth?.session?.authenticated,\n      currentStep: state.auth.loginStep.step,\n    };\n  },\n  {changeLoginStep, resetTimelineStatus, resetTimelineData},\n);\n\nexport const LoginPageNew = connector(_LoginPageNew);\n\nfunction _LoginPageNew({\n  setPageSeo,\n  currentStep,\n  changeLoginStep,\n  portal,\n  authenticated,\n  resetTimelineStatus,\n  resetTimelineData,\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [step, setStep] = useState(currentStep);\n\n  useEffect(() => {\n    return () => {\n      goToLogin();\n    };\n  }, []);\n\n  useEffect(() => {\n    setStep(currentStep);\n  }, [currentStep]);\n\n  useEffect(() => {\n    if (authenticated) {\n      resetTimelineData();\n      resetTimelineStatus();\n      authenticated && history.push(\"/\");\n    }\n  }, [authenticated]);\n\n  function goToLogin() {\n    setStep(userConstants.STEP_LOGIN);\n    changeLoginStep(userConstants.STEP_LOGIN);\n  }\n\n  function goToSendCode() {\n    setStep(userConstants.STEP_SEND_CODE);\n    changeLoginStep(userConstants.STEP_SEND_CODE);\n  }\n\n  return (\n    <div className={classes.contentContainer}>\n      {step === userConstants.STEP_LOGIN && (\n        <LoginForm\n          setPageSeo={setPageSeo}\n          gotoForgotPassword={() => goToSendCode()}\n          portal={portal}\n        />\n      )}\n\n      {step === userConstants.STEP_SEND_CODE && (\n        <ForgotLoginForm\n          setPageSeo={setPageSeo}\n          goBack={() => goToLogin()}\n          handleErrorEmail={() => {}}\n        />\n      )}\n\n      {step === userConstants.STEP_VERIF_CODE && (\n        <SendCode\n          setPageSeo={setPageSeo}\n          goBack={() => {\n            goToSendCode();\n          }}\n          type={userConstants.VERIF_CODE_TYPE_F_PWD}\n          handleSignup={() => {}}\n        />\n      )}\n\n      {step === userConstants.STEP_CHANGE_PASSWORD && (\n        <ChangePasswordForm\n          setPageSeo={setPageSeo}\n          submitRequest={() => {}}\n          goBack={() => {}}\n        />\n      )}\n    </div>\n  );\n}\n","import React, {useEffect, useState} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {LoginPageNew} from \"src/app/pages/auth/LoginPageNew\";\nimport {resetTimeline} from \"src/store/modules/timeline\";\nimport {NewUIPage} from \"src/app/base/NewUIPage\";\nimport Global from \"src/system/Global\";\n\nconst styles = (theme) => ({\n  uiPage: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n});\n\n// /**\n//  * Entry point /login\n//  */\n// class LoginRoute extends UIComponent {\n//   constructor(props) {\n//     super(props);\n\n//     this.setClassname(\"Login\");\n//     // this.log(\"constructor\", \"Entering...\");\n\n//     // Declare this so that redirect will not take to login\n//     this.setPublicPage();\n//     this.state = {\n//       pageTitle: \"\",\n//       pageDescription: \"\",\n//     };\n//     this.setPageSeo = this.setPageSeo.bind(this);\n//   }\n\n//   componentDidMount() {\n//     this.props.resetTimeline({\n//       field: \"postTimeline\",\n//     });\n//   }\n\n//   setPageSeo(title, description) {\n//     if (title) {\n//       this.setState({pageTitle: title});\n//     }\n\n//     if (description) {\n//       this.setState({pageDescription: description});\n//     }\n//   }\n\n//   render() {\n//     const {classes} = this.props;\n\n//     const portal = this.getPortal();\n\n//     let comp = (\n//       <UIPage\n//         id=\"login-route\"\n//         // title={t(\"getter_fe.auth.login.seoTitle\")}\n//         // description={t(\"getter_fe.auth.login.seoDescription\")}\n//         title={this.state.pageTitle}\n//         description={this.state.pageDescription}\n//         className={classes.uiPage}\n//       >\n//         <AuthLayout\n//           appContext={this.getAppContext()}\n//           text={t(\"getter_fe.auth.common.layoutText\")}\n//         >\n//           <LoginPageNew setPageSeo={this.setPageSeo} portal={portal} />\n//         </AuthLayout>\n//       </UIPage>\n//     );\n//     return comp;\n//   }\n// } // Login\n\nexport const NewLogin = () => {\n  const dispatch = useDispatch();\n  const [pageTitle, setPageTitle] = useState(\"\");\n  const [pageDescription, setPageDescription] = useState(\"\");\n\n  useEffect(() => {\n    dispatch(\n      resetTimeline({\n        field: \"postTimeline\",\n      }),\n    );\n  }, []);\n\n  const setPageSeo = (title, description) => {\n    if (title) {\n      setPageTitle(title);\n    }\n\n    if (description) {\n      setPageDescription(description);\n    }\n  };\n\n  const portal = Global.GetPortal();\n\n  return (\n    <NewUIPage title={pageTitle} description={pageDescription}>\n      <LoginPageNew setPageSeo={setPageSeo} portal={portal} />\n    </NewUIPage>\n  );\n};\n\nconst mapDispatchToProps = {\n  resetTimeline,\n};\n// export default withStyles(styles)(\n//   withRouter(connect(null, mapDispatchToProps)(LoginRoute)),\n// );\n","import React, {useState, useEffect, useRef} from \"react\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  FormControl,\n  FormHelperText,\n  Typography,\n} from \"@material-ui/core\";\nimport {Alert, AlertTitle} from \"@material-ui/lab\";\nimport {GTextField} from \"src/styles/components/GTextField\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport {Formik} from \"formik\";\nimport * as Yup from \"yup\";\nimport clsx from \"clsx\";\nimport AppConst from \"src/app/AppConsts\";\nimport {userConstants} from \"../_constants\";\nimport {useTranslation} from \"react-i18next\";\nimport GAxios from \"src/util/GAxios\";\nimport {useDispatch, connect} from \"react-redux\";\n\nimport {\n  checkUsername,\n  checkEmail,\n  sendVerifCodeSignup,\n  resetVerifCodeStatus,\n  resetSendVerifCodeStatus,\n  changeSignupStep,\n  setClaimUsername,\n} from \"../store\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {t} from \"src/i18n/utils\";\nimport ReCaptcha from \"./ReCaptcha\";\nimport {ReactComponent as WarningIcon} from \"src/assets/icons/ico-warning.svg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    title: {\n      marginBottom: theme.spacing(4.375),\n      fontSize: 28,\n      lineHeight: \"33px\",\n      fontWeight: 600,\n      color: theme.palette.text.main,\n      [theme.breakpoints.down(\"xs\")]: {\n        marginTop: theme.spacing(8.125),\n      },\n    },\n    formContainer: {},\n    formControl: {\n      marginTop: 0,\n      marginBottom: theme.spacing(2.5),\n    },\n    inputField: {\n      \"& input:not([type=checkbox]):not([type=radio])\": {\n        fontSize: 15,\n        fontWeight: 400,\n        [theme.breakpoints.down(\"xs\")]: {\n          fontSize: 16,\n        },\n      },\n    },\n    inputFieldError: {\n      \"& fieldset\": {\n        borderWidth: 2,\n        borderColor: theme.palette.error.light,\n      },\n    },\n    textHelperPrivacy: {\n      marginTop: theme.spacing(1.875),\n      fontSize: 14,\n      lineHeight: \"16.71px\",\n      fontWeight: 400,\n      color: theme.palette.text.secondary,\n    },\n    btn: {\n      height: theme.spacing(6),\n      margin: theme.spacing(0, 0, 5, 0),\n      borderRadius: 100,\n      \"& .MuiButton-label\": {\n        marginTop: 0,\n      },\n    },\n\n    contentBottom: {\n      fontSize: 14,\n      color: theme.palette.text.main,\n      textAlign: \"center\",\n      \"& a\": {\n        display: \"inline-block\",\n        marginLeft: theme.spacing(1),\n        color: theme.palette.text.link,\n        fontWeight: 400,\n        lineHeight: \"17px\",\n        \"&:hover\": {\n          color: theme.palette.text.link,\n        },\n      },\n    },\n    textHelper: {\n      display: \"flex\",\n      fontSize: 12,\n      lineHeight: \"16px\",\n      color: theme.palette.text.secondary,\n      fontWeight: \"normal\",\n    },\n    passwordTextHelperContainer: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    warningIcon: {\n      marginRight: 3,\n      minWidth: 16,\n    },\n    iconMargin: {\n      marginTop: 4,\n    },\n    conditionsWrapper: {\n      marginTop: theme.spacing(8.125),\n      marginBottom: theme.spacing(1.5),\n      textAlign: \"center\",\n    },\n    conditions: {\n      fontSize: 13,\n      lineHeight: \"15.51px\",\n      fontWeight: 300,\n      color: theme.palette.text.secondary,\n      \"& a\": {\n        fontWeight: \"normal\",\n      },\n    },\n    alertLink: {\n      textDecoration: \"underline\",\n      color: \"#016EDC\",\n    },\n    alertTitle: {\n      color: \"#016EDC\",\n      marginBottom: \"13px\",\n    },\n    alert: {\n      color: \"#6E7187\",\n      \"& .MuiSvgIcon-root\": {\n        color: \"#016EDC\",\n      },\n    },\n    dialog: {\n      \"& .MuiPaper-root\": {\n        borderRadius: 10,\n        padding: theme.spacing(6, 0, 3, 0),\n      },\n    },\n    dialogTitle: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      color: theme.palette.text.main,\n      \"& h2\": {\n        fontSize: 28,\n      },\n    },\n    dialogContent: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      flexDirection: \"column\",\n      textAlign: \"center\",\n      padding: theme.spacing(2, 4),\n      \"& p\": {\n        fontSize: 20,\n        color: theme.palette.text.main,\n\n        marginBottom: theme.spacing(6),\n        lineHeight: \"26px\",\n      },\n      \"& button\": {\n        width: theme.spacing(32),\n        height: theme.spacing(6),\n        borderRadius: 100,\n      },\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      success: state.auth.sendVerifCode.success,\n      error: state.auth.sendVerifCode.error,\n      isLoading: state.auth.sendVerifCode.isLoading,\n    };\n  },\n  {\n    checkUsername,\n    setClaimUsername,\n    checkEmail,\n    sendVerifCodeSignup,\n    resetVerifCodeStatus,\n    resetSendVerifCodeStatus,\n    changeSignupStep,\n  },\n);\n\nexport const SignupForm = connector(_SignupForm);\n\nfunction _SignupForm({\n  checkUsername,\n  setClaimUsername,\n  checkEmail,\n  sendVerifCodeSignup,\n  resetVerifCodeStatus,\n  resetSendVerifCodeStatus,\n  isLoading,\n  success,\n  error,\n  changeSignupStep,\n}) {\n  const classes = useStyles();\n  const [usernameExistError, setUsernameExistError] = useState(false);\n  const [usernameClaimable, setUsernameClaimable] = useState(false);\n  const [claimUrl, setClaimUrl] = useState();\n  const [popupDialogOpen, setPopupDialogOpen] = useState(false);\n  const [serverError, setServerError] = useState(false);\n  const [emailExistError, setEmailExistError] = useState(false);\n  const [emailServerError, setEmailServerError] = useState(false);\n  const [showPwd, setShowPwd] = useState(false);\n  const {t, i18n} = useTranslation();\n  const history = useHistory();\n  const reCaptchaRef = useRef();\n  const dispatch = useDispatch();\n  const recaptchaDisabled =\n    process.env.REACT_APP_GOOGLE_RECAPTCHA_DISABLED === \"true\";\n\n  useEffect(() => {\n    return () => {\n      resetVerifCodeStatus();\n      resetSendVerifCodeStatus();\n    };\n  });\n\n  useEffect(() => {\n    success &&\n      toast(\n        <NotifMessage message={t(\"getter_fe.auth.common.sendCodeSuccess\")} />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: AppConst.NOTIF_MESSAGE_SUCCESS,\n        },\n      );\n\n    success && changeSignupStep(userConstants.STEP_VERIF_CODE);\n  }, [success]);\n\n  const handleClaim = async (userId) => {\n    if (userId) {\n      const claimStatus = await checkClaimStatus();\n      if (claimStatus) {\n        setPopupDialogOpen(false);\n        window.sessionStorage.setItem(\"ClaimUsername\", userId);\n        const config = {\n          method: \"get\",\n          url: `${process.env.REACT_APP_API_URL}/u/user/openauth/${userId}`,\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        };\n        let res = await GAxios(\n          config,\n          (response) => {\n            let twitterUrl = response.data.result;\n            window.location.href = twitterUrl;\n          },\n          (err) => {\n            console.info(err);\n            toast(<NotifMessage message={err.response.data.error.emsg} />, {\n              position: toast.POSITION.TOP_CENTER,\n              type: toast.TYPE.ERROR,\n            });\n            history.push(\"/claim-failed\");\n          },\n        );\n      } else {\n        setPopupDialogOpen(true);\n      }\n    }\n  };\n\n  const checkClaimStatus = async () => {\n    let result = false;\n    const config = {\n      method: \"get\",\n      url: `${process.env.REACT_APP_API_URL}/s/openauth/status`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    let res = await GAxios(\n      config,\n      (response) => {\n        setPopupDialogOpen(false);\n        result = response?.data?.result?.status;\n      },\n      (err) => {\n        console.info(err);\n        setPopupDialogOpen(true);\n        result = false;\n      },\n    );\n    return result;\n  };\n\n  const onCancel = () => {\n    setPopupDialogOpen(false);\n    window.location.reload();\n  };\n\n  return (\n    <>\n      <Dialog\n        open={popupDialogOpen}\n        onClose={onCancel}\n        className={classes.dialog}\n        maxWidth=\"sm\"\n      >\n        <DialogTitle className={classes.dialogTitle}>\n          {t(\"getter_fe.auth.claim.serviceNotAvailable\")}\n        </DialogTitle>\n        <DialogContent className={classes.dialogContent}>\n          <p>{t(\"getter_fe.auth.claim.serviceNotAvailableDesc\")}</p>\n          <GButton onClick={() => setPopupDialogOpen(false)}>\n            {t(\"getter_fe.auth.claim.buttonText\")}\n          </GButton>\n        </DialogContent>\n      </Dialog>\n      <div className={classes.formContainer}>\n        <Typography variant=\"h1\" component=\"h2\" className={classes.title}>\n          {t(\"getter_fe.auth.signup.seoDescription\")}\n        </Typography>\n\n        <Formik\n          initialValues={{\n            username: \"\",\n            email: \"\",\n            password: \"\",\n            confirmPass: \"\",\n          }}\n          validationSchema={Yup.object().shape({\n            username: Yup.string()\n              .required(t(\"getter_fe.auth.errors.usernameRequired\"))\n              .matches(\n                /^[a-zA-Z0-9_]*$/,\n                t(\"getter_fe.auth.errors.usernameInvalid\"),\n              )\n              .min(5, t(\"getter_fe.auth.errors.usernameMinMax\"))\n              .max(15, t(\"getter_fe.auth.errors.usernameMinMax\")),\n            email: Yup.string()\n              .required(t(\"getter_fe.auth.errors.emailRequired\"))\n              .matches(\n                /^[a-zA-Z0-9!#$%&'*+\\-/=?^_`{|}~.@]*$/,\n                t(\"getter_fe.auth.errors.emailInvalid\"),\n              )\n              .email(t(\"getter_fe.auth.errors.emailInvalid\")),\n            password: Yup.string()\n              .required(t(\"getter_fe.auth.common.pwdRequired\"))\n              .matches(\n                /^(?=.*[a-zA-Z\\d].*)[a-zA-Z\\d!#$&()*+,\\-.:;<=>?@[\\]^_{|}~]{6,128}$/,\n                t(\"getter_fe.settings.errors.passwordValidation\"),\n              ),\n            confirmPass: Yup.string()\n              .oneOf(\n                [Yup.ref(\"password\")],\n                t(\"getter_fe.settings.errors.passwordsNotMatch\"),\n              )\n              .required(t(\"getter_fe.settings.errors.confirmPasswordRequired\")),\n          })}\n          onSubmit={async ({username, email, password}, {setSubmitting}) => {\n            const token = recaptchaDisabled\n              ? null\n              : await reCaptchaRef.current?.executeAsync();\n            sendVerifCodeSignup({\n              username: username,\n              email: email,\n              password: password,\n              token: token,\n            });\n            !recaptchaDisabled && reCaptchaRef.current?.reset();\n\n            // setSubmitting(false);\n            // handleSendVerifCode({\n            //   username: username,\n            //   email: email,\n            //   password: password,\n            // });\n          }}\n        >\n          {(props) => {\n            const {\n              values,\n              touched,\n              errors,\n              handleChange,\n              handleBlur,\n              handleSubmit,\n              isValid,\n              isSubmitting,\n              dirty,\n              setFieldTouched,\n            } = props;\n\n            i18n.on(\"languageChanged\", (lng) => {\n              setTimeout(() => {\n                Object.keys(errors).forEach((fieldName) => {\n                  if (touched[fieldName]) {\n                    setFieldTouched(fieldName);\n                  }\n                });\n              }, 50);\n            });\n\n            return (\n              <form className=\"form\" onSubmit={handleSubmit}>\n                <FormControl\n                  fullWidth\n                  margin=\"dense\"\n                  className={classes.formControl}\n                >\n                  <GTextField\n                    id=\"username\"\n                    type=\"text\"\n                    name=\"username\"\n                    value={values.username}\n                    onChange={async (e) => {\n                      setUsernameExistError(false);\n                      handleChange(e);\n                      const value = e.target.value;\n                      if (value.length >= 3) {\n                        const checkRes = await checkUsername(value);\n                        const exist = checkRes?.payload;\n                        // const exist = await handleUsernameExist(value);\n                        if (\n                          exist === userConstants.ERROR_TYPE_SERVER ||\n                          !exist\n                        ) {\n                          setServerError(true);\n                          return;\n                        } else {\n                          setServerError(false);\n                        }\n\n                        if (exist.success && !exist.claimable) {\n                          setUsernameExistError(true);\n                          setUsernameClaimable(false);\n                        } else if (!exist.success && !exist.claimable) {\n                          setUsernameExistError(false);\n                          setUsernameClaimable(false);\n                        } else if (exist.success && exist.claimable) {\n                          setUsernameClaimable(true);\n                          setClaimUrl(\"/u/user/oenauth/\" + value);\n                        } else {\n                          setUsernameClaimable(false);\n                        }\n                      }\n                    }}\n                    onBlur={async (e) => {\n                      handleBlur(e);\n                    }}\n                    error={Boolean(\n                      (touched.username && errors.username) ||\n                        usernameExistError ||\n                        serverError ||\n                        usernameClaimable,\n                    )}\n                    className={clsx(\n                      classes.inputField,\n                      Boolean(\n                        (touched.username && errors.username) ||\n                          usernameExistError ||\n                          serverError ||\n                          usernameClaimable,\n                      ) && classes.inputFieldError,\n                    )}\n                    label={`${t(\"getter_fe.auth.common.username\")}`}\n                    disabled={isLoading}\n                  />\n\n                  {touched.username && errors.username && (\n                    <FormHelperText\n                      className={classes.textHelper}\n                      error={Boolean(touched.username && errors.username)}\n                    >\n                      <WarningIcon className={classes.warningIcon} />\n                      {touched.username && errors.username}\n                    </FormHelperText>\n                  )}\n\n                  {usernameExistError && (\n                    <FormHelperText className={classes.textHelper} error={true}>\n                      <WarningIcon className={classes.warningIcon} />\n                      {usernameExistError &&\n                        t(\"getter_fe.auth.errors.usernameExist\")}\n                    </FormHelperText>\n                  )}\n\n                  {usernameClaimable && (\n                    <Alert severity=\"info\" className={classes.alert}>\n                      <AlertTitle className={classes.alertTitle}>\n                        {t(\"getter_fe.auth.claim.claimDesc1\", {\n                          username: values.username,\n                        })}\n                      </AlertTitle>\n                      {t(\"getter_fe.auth.claim.claimDesc2\", {\n                        username: values.username,\n                      })}\n                      <br />\n                      <Link\n                        className={classes.alertLink}\n                        href=\"#\"\n                        onClick={() => handleClaim(values.username)}\n                        variant=\"body2\"\n                      >\n                        {t(\"getter_fe.auth.claim.claimYourAccount\")}\n                      </Link>{\" \"}\n                      <br />\n                      {t(\"getter_fe.auth.claim.claimDesc3\")}\n                    </Alert>\n                  )}\n\n                  {serverError && (\n                    <FormHelperText className={classes.textHelper} error={true}>\n                      <WarningIcon className={classes.warningIcon} />\n                      {serverError &&\n                        t(\"getter_fe.auth.errors.somethingWentWrong\")}\n                    </FormHelperText>\n                  )}\n                </FormControl>\n                <FormControl\n                  fullWidth\n                  margin=\"dense\"\n                  className={classes.formControl}\n                >\n                  <GTextField\n                    id=\"email\"\n                    type=\"text\"\n                    name=\"email\"\n                    value={values.email}\n                    onChange={async (e) => {\n                      setEmailExistError(false);\n                      handleChange(e);\n                    }}\n                    onBlur={async (e) => {\n                      const value = e.target.value;\n                      handleBlur(e);\n                      if (!errors.email) {\n                        const checkRes = await checkEmail(value);\n                        const exist = checkRes?.payload;\n\n                        if (exist === AppConst.STATUS_SERVER_ERROR) {\n                          setEmailServerError(true);\n                          return;\n                        } else {\n                          setEmailServerError(false);\n                        }\n\n                        if (exist) {\n                          setEmailExistError(true);\n                        } else {\n                          setEmailExistError(false);\n                        }\n                      }\n                    }}\n                    error={Boolean(touched.email && errors.email)}\n                    className={clsx(\n                      classes.inputField,\n                      Boolean(touched.email && errors.email) &&\n                        classes.inputFieldError,\n                    )}\n                    label={t(\"getter_fe.auth.common.email\")}\n                    disabled={isLoading}\n                  />\n\n                  {touched.email && errors.email && (\n                    <FormHelperText\n                      className={classes.textHelper}\n                      error={Boolean(touched.email && errors.email)}\n                    >\n                      <WarningIcon className={classes.warningIcon} />\n                      {errors.email}\n                    </FormHelperText>\n                  )}\n\n                  {emailExistError && (\n                    <FormHelperText className={classes.textHelper} error={true}>\n                      <WarningIcon className={classes.warningIcon} />\n                      {emailExistError && t(\"getter_fe.auth.errors.emailExist\")}\n                    </FormHelperText>\n                  )}\n\n                  {emailServerError && (\n                    <FormHelperText className={classes.textHelper} error={true}>\n                      <WarningIcon className={classes.warningIcon} />\n                      {emailServerError &&\n                        t(\"getter_fe.auth.errors.somethingWentWrong\")}\n                    </FormHelperText>\n                  )}\n                </FormControl>\n                <FormControl\n                  fullWidth\n                  margin=\"dense\"\n                  className={classes.formControl}\n                >\n                  <GTextField\n                    id=\"password-new\"\n                    type=\"password\"\n                    name=\"password\"\n                    value={values.password}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    error={Boolean(touched.password && errors.password)}\n                    className={clsx(\n                      classes.inputField,\n                      Boolean(touched.password && errors.password) &&\n                        classes.inputFieldError,\n                    )}\n                    label={t(\"getter_fe.auth.common.password\")}\n                    disabled={isLoading}\n                    showPwd={showPwd}\n                    iconBtnClick={() => {\n                      setShowPwd(!showPwd);\n                    }}\n                  />\n\n                  {touched.password && errors.password && (\n                    <div className={classes.passwordTextHelperContainer}>\n                      <WarningIcon\n                        className={clsx(\n                          classes.warningIcon,\n                          classes.iconMargin,\n                        )}\n                      />\n                      <FormHelperText\n                        className={classes.textHelper}\n                        error={Boolean(touched.password && errors.password)}\n                      >\n                        {errors.password}\n                      </FormHelperText>\n                    </div>\n                  )}\n                </FormControl>\n                <FormControl\n                  fullWidth\n                  margin=\"dense\"\n                  className={clsx(classes.formControl, classes.formControlCP)}\n                >\n                  <GTextField\n                    id=\"password-confirm\"\n                    type=\"password\"\n                    name=\"confirmPass\"\n                    value={values.confirmPass}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    error={Boolean(touched.confirmPass && errors.confirmPass)}\n                    className={clsx(\n                      classes.inputField,\n                      Boolean(touched.confirmPass && errors.confirmPass) &&\n                        classes.inputFieldError,\n                    )}\n                    label={t(\"getter_fe.settings.common.confirmPassword\")}\n                    disabled={isLoading}\n                    showPwd={showPwd}\n                    iconBtnClick={() => {\n                      setShowPwd(!showPwd);\n                    }}\n                  />\n                  {touched.confirmPass && errors.confirmPass && (\n                    <FormHelperText\n                      className={classes.textHelper}\n                      error={Boolean(touched.confirmPass && errors.confirmPass)}\n                    >\n                      <WarningIcon className={classes.warningIcon} />\n                      {errors.confirmPass}\n                    </FormHelperText>\n                  )}\n                </FormControl>\n\n                <div className={classes.conditionsWrapper}>\n                  <div className={classes.conditions}>\n                    {`${t(\"getter_fe.auth.common.byClicking\")} `}\n                    <a\n                      href={\"/terms\"}\n                      rel=\"noopener noreferrer\"\n                      className=\"text-link\"\n                      target=\"_blank\"\n                    >\n                      {t(\"getter_fe.auth.common.termsOfuse\")}\n                    </a>\n                    {` ${t(\"getter_fe.auth.common.and\")} `}\n                    <a\n                      href={\"/privacy\"}\n                      rel=\"noopener noreferrer\"\n                      className=\"text-link\"\n                      target=\"_blank\"\n                    >\n                      {`${t(\"getter_fe.auth.common.privacyPolicy\")}`}\n                    </a>\n                  </div>\n                </div>\n\n                <GButton\n                  type=\"submit\"\n                  variant=\"contained\"\n                  className={classes.btn}\n                  disabled={Boolean(\n                    !isValid ||\n                      isLoading ||\n                      !dirty ||\n                      usernameExistError ||\n                      serverError ||\n                      emailExistError ||\n                      usernameClaimable ||\n                      emailServerError,\n                  )}\n                  loading={isLoading}\n                >\n                  {t(\"getter_fe.auth.common.next\")}\n                </GButton>\n\n                <div className={classes.contentBottom}>\n                  {t(\"getter_fe.auth.common.haveAccountAlready\")}\n                  <Link\n                    to={\"/login\"}\n                    className={clsx(classes.link, \"text-link\")}\n                  >\n                    {` ${t(\"getter_fe.auth.common.login\")}`}\n                  </Link>\n                </div>\n\n                {!recaptchaDisabled && (\n                  <ReCaptcha recaptchaRef={reCaptchaRef} />\n                )}\n              </form>\n            );\n          }}\n        </Formik>\n      </div>\n    </>\n  ); // renderSignup form\n} // class SignupForm\n","import React, {useState, useEffect, useCallback} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Waypoint} from \"react-waypoint\";\nimport {t, getLang} from \"../../i18n/utils\";\nimport clsx from \"clsx\";\nimport {Loader} from \"../pages/settings/Loader\";\nimport axios from \"axios\";\nimport {UserLayout} from \"./UserLayout\";\nimport {GTypography} from \"../../styles/components/GTypography\";\nimport {useHistory} from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    // height: \"100%\",\n  },\n  cardWrapper: {\n    height: \"100%\",\n  },\n  footerContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    height: theme.spacing(5.625),\n    cursor: \"pointer\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.grey[\"A300\"],\n      borderRadius: \"0 0 10px 10px\",\n    },\n  },\n  footerText: {\n    marginLeft: theme.spacing(1.875),\n    position: \"relative\",\n    color: theme.blue.light,\n    fontWeight: 600,\n    fontSize: 14,\n    \"&.zh,&.tw\": {\n      fontWeight: 500,\n      letterSpacing: \"0.05em\",\n    },\n    \"& .underline\": {\n      position: \"absolute\",\n      left: 0,\n      bottom: 2,\n      width: \"100%\",\n      height: 1,\n      backgroundColor: theme.blue.light,\n      opacity: 0,\n      transition: \"opacity 300ms ease\",\n    },\n    \"&:hover .underline\": {\n      opacity: 1,\n    },\n  },\n}));\n\nexport const PopularUsersFeed = ({\n  userId,\n  token,\n  isMaxPerpageFixed,\n  sidebar,\n  isPage,\n}) => {\n  const classes = useStyles();\n  const maxPerPage = isMaxPerpageFixed ? 10 : 20;\n  const loadCutOffSize = 10;\n  const [items, setItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const [pageNumber, setPageNumber] = useState(0);\n  const [removed, setRemoved] = useState(0);\n  const [totalNum, setTotalNum] = useState(0);\n  const history = useHistory();\n\n  const fetchData = async (offset) => {\n    let dataArr = [];\n    let removedNum = 0;\n    setIsLoading(true);\n    let xAuth =\n      userId === null\n        ? `{\"user\": null, \"token\": null}`\n        : `{\"user\": \"${userId}\", \"token\": \"${token}\"}`;\n    // get muted users list\n    await axios\n      .get(\n        `${process.env.REACT_APP_API_URL}/s/usertag/suggest?offset=${offset}&max=${maxPerPage}&incl=userinfo|followings`,\n        {\n          headers: {\n            \"x-app-auth\": xAuth,\n          },\n        },\n      )\n      .then((res) => {\n        const data = res.data?.result?.aux?.uinf;\n        const followings = res.data?.result?.aux?.fws;\n\n        if (data) {\n          for (const [_, value] of Object.entries(data)) {\n            if (value?._id && followings.includes(value?._id)) {\n              value.isFollowing = true;\n            } else {\n              value.isFollowing = false;\n            }\n\n            if (items.filter(({_id}) => value._id === _id).length) {\n              // return if the id already exits in the items array\n            } else {\n              dataArr.push(value);\n            }\n          }\n\n          removedNum = res.data?.result?.aux?.removed + removed;\n          setRemoved(removedNum);\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n    if (dataArr.length + removedNum < maxPerPage) {\n      setHasMore(false);\n    }\n\n    if (dataArr.length) {\n      setTotalNum(items.length);\n      setItems([...items, ...dataArr]);\n    }\n\n    setPageNumber(offset + maxPerPage);\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    items.length <= 0 && fetchData(0);\n  }, []);\n\n  useEffect(() => {\n    if (isMaxPerpageFixed && items.length <= 5 && hasMore && pageNumber > 0) {\n      fetchData(pageNumber + 10);\n    }\n  }, [items, pageNumber]);\n\n  const gotoPopularUsersList = () => {\n    history.push(\"/popular-users\");\n  };\n\n  return (\n    <div className={classes.wrapper}>\n      {!isLoading && items.length <= 0 && \"\"}\n\n      <div className={clsx(!isLoading ? classes.cardWrapper : \"\", \"u-card\")}>\n        {isMaxPerpageFixed\n          ? items &&\n            items.slice(0, 5).map((user, idx) => {\n              const userId = user._id;\n              const hasWhiteSpaceAtbeginning = /^\\s/.test(userId);\n\n              return (\n                <React.Fragment key={`pul-${idx}`}>\n                  {!hasWhiteSpaceAtbeginning ? (\n                    <UserLayout\n                      userInfo={user}\n                      sidebar={sidebar}\n                      isPage={isPage}\n                      disableHistoryPush={true}\n                    />\n                  ) : null}\n                </React.Fragment>\n              );\n            })\n          : items &&\n            items.map((user, idx) => {\n              const userId = user._id;\n              const hasWhiteSpaceAtbeginning = /^\\s/.test(userId);\n\n              return (\n                <React.Fragment key={`pul-${idx}`}>\n                  {!hasWhiteSpaceAtbeginning ? (\n                    <UserLayout\n                      userInfo={user}\n                      sidebar={sidebar}\n                      isPage={isPage}\n                      disableHistoryPush={true}\n                    />\n                  ) : null}\n\n                  {idx === totalNum && !isLoading && hasMore && (\n                    <Waypoint\n                      scrollableAncestor={window}\n                      fireOnRapidScroll={false}\n                      onEnter={() => fetchData(pageNumber)}\n                    />\n                  )}\n                </React.Fragment>\n              );\n            })}\n        {items.length && isMaxPerpageFixed ? (\n          <div className={classes.footerContent} onClick={gotoPopularUsersList}>\n            <GTypography\n              className={clsx(classes.footerText, getLang())}\n              isBold\n              variant=\"body2\"\n            >\n              {t(\"getter_fe.common.trends.viewMore\")}\n              {/* <span className=\"underline\" /> */}\n            </GTypography>\n          </div>\n        ) : null}\n      </div>\n\n      {isLoading && <Loader />}\n    </div>\n  );\n};\n","import React, {useEffect} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {Typography} from \"@material-ui/core\";\nimport {t} from \"src/i18n/utils\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport clsx from \"clsx\";\nimport {PopularUsersFeed} from \"src/app/components/PopularUsersFeed\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    contentWrapper: {\n      maxWidth: theme.spacing(67.5),\n    },\n    title: {\n      marginBottom: theme.spacing(1.875),\n      fontSize: 28,\n      lineHeight: \"33px\",\n      fontWeight: 600,\n      color: theme.palette.text.main,\n      [theme.breakpoints.down(\"xs\")]: {\n        marginTop: theme.spacing(8.125),\n      },\n    },\n    paragraph: {\n      marginBottom: theme.spacing(5),\n      fontSize: 20,\n      fontWeight: 400,\n      lineHeight: \"28px\",\n      color: theme.palette.text.secondary,\n      [theme.breakpoints.down(\"sm\")]: {\n        fontSize: 16,\n        lineHeight: \"22px\",\n      },\n    },\n    wrapper: {\n      maxHeight: theme.spacing(64.5),\n      overflowY: \"scroll\",\n      \"& .u-card div:first-child a\": {\n        borderTop: `1px solid ${theme.palette.grey.A700}`,\n      },\n    },\n    btn: {\n      display: \"block\",\n      maxWidth: theme.spacing(37.5),\n      height: theme.spacing(6),\n      margin: theme.spacing(5, 0, 5, 0),\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      borderRadius: 100,\n      \"& .MuiButton-label\": {\n        marginTop: 0,\n      },\n    },\n  }),\n);\n\nexport const DiscoverPeople = ({nextURL}) => {\n  const classes = useStyles();\n  const api = Global.GetPortal().getAppService();\n\n  const token = api.getUserToken();\n  const userId = api.getUserId();\n\n  const handleNext = (nextURL) => {\n    if(nextURL)\n      window.location.href = nextURL;\n\n    window.location.href = \"/\";\n  };\n\n  return (\n    <div className={classes.contentWrapper}>\n      <Typography variant=\"h1\" component=\"h2\" className={classes.title}>\n        {t(\"getter_fe.common.people.whoToFollow\")}\n      </Typography>\n      <Typography variant=\"body1\" className={classes.paragraph}>\n        {t(\"getter_fe.common.people.whoToFollowDescr\")}\n      </Typography>\n\n      <div className={classes.wrapper}>\n        <PopularUsersFeed\n          sidebar={false}\n          token={token}\n          userId={userId}\n          isPage={true}\n        />\n      </div>\n\n      <GButton\n        type=\"submit\"\n        variant=\"contained\"\n        className={classes.btn}\n        onClick={handleNext}\n      >\n        {t(\"getter_fe.auth.common.next\")}\n      </GButton>\n    </div>\n  );\n};\n","import React, {useEffect, useState, useRef, Fragment} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {connect} from \"react-redux\";\nimport {SignupForm} from \"src/app/components/auth/comps/SignupForm\";\nimport {SendCode} from \"src/app/components/auth/comps/SendCode\";\nimport {ReCaptcha} from \"src/app/components/auth/comps/ReCaptcha\";\nimport {changeSignupStep} from \"src/app/components/auth/store\";\nimport {userConstants} from \"src/app/components/auth/_constants\";\nimport {signup, login} from \"src/app/components/auth/store\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {getLang, t} from \"src/i18n/utils\";\nimport {useHistory} from \"react-router-dom\";\nimport {DiscoverPeople} from \"src/app/components/auth/comps/DiscoverPeople\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    contentWrapper: {\n      margin: \"0 auto\",\n      [theme.breakpoints.up(\"xl\")]: {\n        maxWidth: theme.spacing(62.5),\n      },\n      [theme.breakpoints.down(\"lg\")]: {\n        maxWidth: theme.spacing(52.125),\n      },\n      [theme.breakpoints.down(\"sm\")]: {\n        maxWidth: theme.spacing(61),\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        maxWidth: \"auto\",\n        minWidth: \"auto\",\n        paddingLeft: theme.spacing(2.5),\n        paddingRight: theme.spacing(2.5),\n      },\n    },\n    contentWrapperW: {\n      maxWidth: theme.spacing(74.625),\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      authenticated: state.auth?.session?.authenticated,\n      currentStep: state.auth.signupStep.step,\n      email: state.auth.sendVerifCode.data.email,\n      password: state.auth.sendVerifCode.data.password,\n      username: state.auth.sendVerifCode.data.username,\n      code: state.auth.verifCode.code,\n    };\n  },\n  {changeSignupStep, signup, login},\n);\n\nexport const SignupPageNew = connector(_SignupPageNew);\n\nfunction _SignupPageNew({\n  setPageSeo,\n  currentStep,\n  changeSignupStep,\n  portal,\n  signup,\n  login,\n  code,\n  email,\n  password,\n  username,\n  authenticated,\n}) {\n  const classes = useStyles();\n  const [step, setStep] = useState(currentStep);\n  const history = useHistory();\n  const reCaptchaRef = useRef();\n  const recaptchaDisabled =\n    process.env.REACT_APP_GOOGLE_RECAPTCHA_DISABLED === \"true\";\n\n  useEffect(() => {\n    return () => {\n      goToSignup();\n    };\n  }, []);\n\n  useEffect(() => {\n    setStep(currentStep);\n  }, [currentStep]);\n\n  function goToSignup() {\n    setStep(userConstants.STEP_SIGNUP);\n    changeSignupStep(userConstants.STEP_SIGNUP);\n  }\n\n  async function handleSignup() {\n    const lang = getLang();\n    const token = recaptchaDisabled\n      ? null\n      : await reCaptchaRef.current?.executeAsync();\n    const loginState = await signup({\n      pwd: password,\n      email: email,\n      lang: lang,\n      username: username,\n      code: code,\n      token: token,\n      portal: portal,\n    });\n    !recaptchaDisabled && reCaptchaRef.current?.reset();\n\n    loginState.payload?.authenticated &&\n      toast(\n        <NotifMessage message={t(\"getter_fe.auth.common.accountCreated\")} />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: toast.TYPE.SUCCESS,\n        },\n      );\n\n    setStep(userConstants.DISCOVER_PEOPLE_TYPE_SIGNUP);\n    changeSignupStep(userConstants.DISCOVER_PEOPLE_TYPE_SIGNUP);\n  }\n\n  return (\n    <div\n      className={clsx(\n        classes.contentWrapper,\n        step === userConstants.DISCOVER_PEOPLE_TYPE_SIGNUP\n          ? classes.contentWrapperW\n          : \"\",\n      )}\n    >\n      {step === userConstants.STEP_SIGNUP && <SignupForm portal={portal} />}\n\n      {step === userConstants.STEP_VERIF_CODE && (\n        <Fragment>\n          <SendCode\n            goBack={() => goToSignup()}\n            type={userConstants.VERIF_CODE_TYPE_SIGNUP}\n            handleSignup={() => handleSignup()}\n          />\n          {!recaptchaDisabled && <ReCaptcha recaptchaRef={reCaptchaRef} />}\n        </Fragment>\n      )}\n\n      {step === userConstants.DISCOVER_PEOPLE_TYPE_SIGNUP && <DiscoverPeople />}\n    </div>\n  );\n}\n","import React from \"react\";\nimport {SignupPageNew} from \"src/app/pages/auth/SignupPageNew\";\nimport {t} from \"src/i18n/utils\";\nimport {NewUIPage} from \"src/app/base/NewUIPage\";\nimport Global from \"src/system/Global\";\n\nconst styles = (theme) => ({\n  uiPage: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n});\n\n// /**\n//  * Entry point /signup\n//  */\n// class SignUp extends UIComponent {\n//   constructor(props) {\n//     super(props);\n\n//     this.setClassname(\"Signup\");\n\n//     // Declare this so that redirect will not take to login\n//     this.setPublicPage();\n\n//     this.state = {\n//       pageTitle: \"\",\n//       pageDescription: \"\",\n//     };\n//     this.setPageSeo = this.setPageSeo.bind(this);\n//   }\n\n//   componentDidMount() {}\n\n//   setPageSeo(title, description) {\n//     if (title) {\n//       this.setState({pageTitle: title});\n//     }\n\n//     if (description) {\n//       this.setState({pageDescription: description});\n//     }\n//   }\n\n//   render() {\n//     const {classes} = this.props;\n\n//     const portal = this.getPortal();\n\n//     let comp = (\n//       <UIPage\n//         id=\"Signup-route\"\n//         title={t(\"getter_fe.auth.signup.seoTitle\")}\n//         description={t(\"getter_fe.auth.signup.seoDescription\")}\n//         className={classes.uiPage}\n//       >\n//         <AuthLayout\n//           appContext={this.getAppContext()}\n//           text={t(\"getter_fe.auth.common.layoutText\")}\n//         >\n//           <SignupPageNew setPageSeo={this.setPageSeo} portal={portal} />\n//         </AuthLayout>\n//       </UIPage>\n//     );\n//     return comp;\n//   }\n// } // Login\n\nexport const NewSignup = () => {\n  const portal = Global.GetPortal();\n\n  return (\n    <NewUIPage\n      title={t(\"getter_fe.auth.signup.seoTitle\")}\n      description={t(\"getter_fe.auth.signup.seoDescription\")}\n    >\n      <SignupPageNew portal={portal} />\n    </NewUIPage>\n  );\n};\n\n// export default withStyles(styles)(withRouter(SignUp));\n","import {useHistory} from \"react-router\";\nimport {connect} from \"react-redux\";\nimport {\n  resetTimelineStatus,\n  resetTimelineData,\n} from \"src/app/components/timeline/store\";\nimport AppConsts from \"../AppConsts\";\nimport {userConstants} from \"../components/auth/_constants\";\nimport Global from \"src/system/Global\";\nimport {useEffect} from \"react\";\nimport {logout} from \"src/app/components/auth/store\";\n\nconst connector = connect(\n  (state) => {\n    return {};\n  },\n  {resetTimelineStatus, resetTimelineData, logout},\n);\n\nconst _NewLogout = ({logout, resetTimelineStatus, resetTimelineData}) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    const portal = Global.GetPortal();\n\n    resetTimelineData();\n    resetTimelineStatus();\n\n    portal.logout();\n    localStorage.setItem(userConstants.LS_SESSION_INFO, null);\n    localStorage.setItem(\"localStorageRecentSearch\", null);\n    logout();\n    resetTimelineData();\n    resetTimelineStatus();\n\n    history.replace(AppConsts.URL_LOGIN);\n  }, []);\n\n  return null;\n};\n\nexport const NewLogout = connector(_NewLogout);\n","import React, {useState, useEffect} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport {Waypoint} from \"react-waypoint\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport API from \"../../../core/API\";\nimport {setPostStatus} from \"src/app/components/timeline/store\";\nimport {PostFeedItem} from \"src/app/components/post/comps/PostFeedItem\";\nimport {t} from \"../../../i18n/utils\";\nimport {PostComposer} from \"src/app/components/post/comps/PostComposer\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport {connect} from \"react-redux\";\nimport {\n  getPinnedPost,\n  resetPinnedPost,\n  resetRefreshProfileFeed,\n  setPostCounts,\n} from \"src/app/components/timeline/store\";\nimport {deletePinPost} from \"src/app/components/auth/store\";\nimport Global from \"src/system/Global\";\nimport GAxios from \"src/util/GAxios\";\n\nconst LOAD_MORE_CUTOFF_SIZE = 10;\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      marginBottom: theme.spacing(1),\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    claimTop: {\n      width: \"100%\",\n      height: \"44px\",\n      marginBottom: \"15px\",\n    },\n    tellTwitter: {\n      width: \"100%\",\n      background: \"rgba(47, 128, 237, 0.15)\",\n      alignItems: \"center\",\n      textAlign: \"center\",\n      height: \"44px\",\n      paddingTop: \"10px\",\n    },\n    link: {\n      fontFamily: \"PingFang SC\",\n      fontStyle: \"normal\",\n      fontWeight: \"600\",\n      fontSize: \"16px\",\n      lineHeight: \"22px\",\n      color: \"#2F80ED\",\n    },\n    sync: {\n      width: \"100%\",\n      fontFamily: \"PingFang SC\",\n      fontStyle: \"normal\",\n      fontWeight: \"600\",\n      fontSize: \"16px\",\n      lineHeight: \"22px\",\n      textAlign: \"center\",\n      marginTop: \"40px\",\n      marginBottom: \"8px\",\n      color: \"#333333\",\n    },\n    sync2: {\n      width: \"100%\",\n      fontFamily: \"PingFang SC\",\n      fontStyle: \"normal\",\n      fontWeight: \"normal\",\n      fontSize: \"16px\",\n      lineHeight: \"22px\",\n      textAlign: \"center\",\n      marginBottom: \"20px\",\n      color: \"#999999\",\n    },\n    noDataWrapper: {\n      textAlign: \"center\",\n      marginTop: \"80px\",\n      // marginTop: \"32px\",\n      marginBottom: \"32px\",\n    },\n    noDataTips: {\n      fontSize: \"18px\",\n      lineHeight: \"21px\",\n      color: \"#000\",\n      marginBottom: theme.spacing(1),\n    },\n    btn: {\n      borderRadius: \"100px\",\n      padding: \"11px 0\",\n      borderColor: \"#2F80ED !important\",\n      width: \"119%\",\n      background: \"white !important\",\n      \"& span\": {\n        fontWeight: \"600\",\n        fontSize: \"20px\",\n        lineHeight: \"28px\",\n        color: \"#2F80ED\",\n      },\n    },\n    noDataSubtext: {\n      color: theme.palette.text.gray,\n    },\n    noDataTips: {\n      padding: \"50px 0\",\n      textAlign: \"center\",\n      fontSize: \"18px\",\n      lineHeight: \"21px\",\n      color: \"#000\",\n      marginBottom: theme.spacing(1),\n    },\n  }),\n);\n\nconst MAX_BATCH_SIZE = 20;\n\nconst connector = connect(\n  (state) => {\n    return {\n      loggedinUserId: state.auth.session?.userinfo?._id,\n      loggedinUserInfo: state.auth.session?.userinfo,\n      pinnedPosts: state.timelineNew?.pinnedPosts,\n      refreshProfileFeed: state.timelineNew.refreshProfileFeed,\n    };\n  },\n  {\n    getPinnedPost,\n    resetPinnedPost,\n    deletePinPost,\n    resetRefreshProfileFeed,\n    setPostCounts,\n  },\n);\n\nexport const ProfileFeed = connector(_ProfileFeed);\n\nfunction _ProfileFeed({\n  userId,\n  wrapperStyle,\n  isMyProfile,\n  getPinnedPost,\n  pinnedPosts,\n  resetPinnedPost,\n  userInfo,\n  loggedinUserInfo,\n  deletePinPost,\n  loggedinUserId,\n  refreshProfileFeed,\n  resetRefreshProfileFeed,\n  forMedias,\n  setPostCounts,\n}) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [importStatus, setImportStatus] = useState(false);\n  const [tellTwitter, setTellTwitter] = useState(false);\n  const [endHours, setEndHours] = useState(48);\n  const [offset, setOffset] = useState(0);\n  const [isImagePinPost, setIsImagePinPost] = useState(false);\n  const [getters, setGetters] = useState(null);\n  const [sharedPost, setSharedPost] = useState(null);\n  const [reachEnd, setReachEnd] = useState(false);\n  const [canShowPinnedPosts, setCanShowPinnedPosts] = useState(false);\n\n  const api = Global.GetPortal().getAppService();\n\n  const noGetters =\n    !getters?.length || getters?.every((getter) => !getter.getPost());\n\n  let _pinnedPostsIds = userInfo && userInfo.getPinnedPosts();\n  _pinnedPostsIds =\n    _pinnedPostsIds && !Array.isArray(_pinnedPostsIds)\n      ? _pinnedPostsIds.split(\",\")\n      : _pinnedPostsIds;\n\n  if (_pinnedPostsIds && _pinnedPostsIds.length > 0) {\n    _pinnedPostsIds = _pinnedPostsIds.map((id) => {\n      const indx = _pinnedPostsIds.indexOf(id);\n      return {pstId: id, pstOrder: indx};\n    });\n  }\n\n  const [pinnedPostsIds, setPinnedPostsIds] = useState(_pinnedPostsIds);\n\n  const fetchPinnedPosts = async () => {\n    if (!pinnedPostsIds) return;\n\n    if (pinnedPostsIds && pinnedPostsIds.length > 0) {\n      pinnedPostsIds.map(async (pId) => {\n        const data = {api, postId: pId.pstId, pstOrder: pId.pstOrder};\n        const res = await getPinnedPost(data);\n        const post = res.payload && res.payload.getPost();\n\n        if (post && (post.getImageURLs() || post.getVideoUrl()))\n          setIsImagePinPost(true);\n\n        // Unpin the pinned post\n        if (!res?.payload && userId === loggedinUserId) {\n          await deletePinPost({\n            userId: loggedinUserId,\n            postId: pId.pstId,\n          });\n        }\n      });\n    }\n  };\n\n  const removePost = (id) => {\n    if (!id || getters.lenght > 0) {\n      return;\n    }\n\n    let newPosts = getters.filter((post) => {\n      const postId = post.getPostId();\n\n      return postId !== id;\n    });\n\n    setGetters(newPosts);\n  };\n\n  const fetchSharedPost = async (postId) => {\n    const sharedPost = await api.fetchPost(postId);\n    if (sharedPost && !sharedPost.data.nfound) {\n      setSharedPost(sharedPost);\n      setCanShowPinnedPosts(true);\n    }\n  };\n\n  const fetchGetters = async (userId, offset) => {\n    let res = await api.fetchUserPosts(\n      userId?.toLowerCase(),\n      offset * MAX_BATCH_SIZE,\n      MAX_BATCH_SIZE,\n      Date.now(), //1613490289\n      API.DIRECTION_FORWARD,\n      null,\n      null,\n      forMedias,\n    );\n\n    const nbrRemoved = res.aux?.removed;\n\n    dispatch(\n      setPostStatus({\n        likes: res.aux?.lks,\n        shares: res.aux?.shrs,\n      }),\n    );\n\n    const items = res.getXPostItems(true);\n\n    let newItems;\n\n    if (offset === 0) {\n      newItems = [...items];\n    } else {\n      newItems = [...(getters || []), ...items];\n    }\n\n    if (Array.isArray(items) && items.length === 0) {\n      setReachEnd(true);\n    }\n\n    setGetters(newItems);\n  };\n\n  useEffect(() => {\n    pinnedPosts.length <= 0 && fetchPinnedPosts();\n\n    if (!reachEnd) {\n      fetchGetters(userId, offset);\n    }\n  }, [userId, offset]);\n\n  useEffect(() => {\n    if (refreshProfileFeed) {\n      setOffset(0);\n      fetchGetters(userId, 0);\n      setReachEnd(false);\n      resetRefreshProfileFeed();\n    }\n  }, [refreshProfileFeed]);\n\n  useEffect(() => {\n    return () => {\n      if (!forMedias) {\n        resetPinnedPost();\n      }\n    };\n  }, []);\n\n  const fetchAsyncStatus = async () => {\n    if (userId === loggedinUserId) {\n      let response;\n      const config = {\n        method: \"get\",\n        url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/import`,\n      };\n\n      await GAxios(\n        config,\n        (res) => {\n          if (!res?.data?.result?.status?.finished) {\n            setImportStatus(true);\n          }\n          if (!res.data.result) {\n            response = false;\n          }\n        },\n        (err) => {\n          console.error(err);\n          response = false;\n        },\n      );\n      return response;\n    }\n  };\n\n  useEffect(() => {\n    if (userId === loggedinUserId) {\n      let now = Date.now();\n      let hours = (now - loggedinUserInfo?.cdate) / (1000 * 60 * 60);\n      setEndHours(48 - Math.floor(hours));\n      let mins = (now - loggedinUserInfo?.cdate) / (1000 * 60);\n      const imPost = localStorage.getItem(userId + \"_imPost\");\n      if (hours < 48 && mins > 1 && imPost) {\n        let res = fetchAsyncStatus();\n      }\n\n      if (mins < 1 && imPost) {\n        setImportStatus(true);\n      }\n      if (hours < 24) {\n        // setTellTwitter(true);\n      }\n    }\n  }, [userId]);\n\n  const updatePinnedPostsIds = (arr) => {\n    let _pinnedPostsIds = arr.map((id) => {\n      const indx = arr.indexOf(id);\n      return {pstId: id, pstOrder: indx};\n    });\n    setPinnedPostsIds(_pinnedPostsIds);\n    setGetters(getters);\n  };\n\n  useEffect(() => {\n    if (!forMedias && pinnedPosts.length > 0) {\n      if (pinnedPosts[0]?.aux?.shrdpst?._id) {\n        const sharedPostId = pinnedPosts[0].aux.shrdpst._id;\n        fetchSharedPost(sharedPostId);\n      } else {\n        setCanShowPinnedPosts(true);\n      }\n    } else {\n      setCanShowPinnedPosts(false);\n    }\n  }, [pinnedPosts, forMedias]);\n\n  const onPostSubmit = () => {\n    history.push(`/dashboard`);\n  };\n\n  const postBox = (\n    <PostComposer\n      onSubmit={onPostSubmit}\n      trigger={\n        <GButton\n          isBold\n          // color=\"primary\"\n          variant=\"outlined\"\n          className={classes.btn}\n        >\n          {t(\"getter_fe.profile.common.createAPost\")}\n        </GButton>\n      }\n      isPopup={true}\n    />\n  );\n\n  if (!getters) {\n    return <GLoader wrapperStyle={wrapperStyle} />;\n  }\n\n  if (getters.length <= 0 && !isMyProfile) {\n    return (\n      <h5 className={classes.noDataTips}>\n        {t(\"getter_fe.profile.common.otherHasntPosted\", {\n          name: userInfo.data.ousername || userInfo.data.username,\n        })}\n      </h5>\n    );\n  }\n\n  return (\n    <div className={classes.root}>\n      {tellTwitter && !importStatus && (\n        <div className={classes.claimTop}>\n          <div className={classes.tellTwitter}>\n            <Link\n              className={classes.link}\n              onClick={() => {\n                let text = t(\"getter_fe.auth.claim.tellTwitterText\");\n                let href = window.location.origin + `/user/${userId}`;\n                window.open(\n                  `https://twitter.com/intent/tweet?url=${href}&text=${text}`,\n                  \"_blank\",\n                );\n              }}\n            >\n              {t(\"getter_fe.auth.claim.tellTwitter\")}\n            </Link>\n          </div>\n        </div>\n      )}\n      <div>\n        {importStatus && !forMedias && (\n          <div className={classes.claimTop}>\n            <div className={classes.sync}>\n              {t(\"getter_fe.auth.common.importingMSG1\")}\n            </div>\n            <div className={classes.sync2}>\n              {t(\"getter_fe.auth.common.importingMSG2\", {hours: endHours})}\n            </div>\n          </div>\n        )}\n      </div>\n      {((canShowPinnedPosts && !forMedias) || isImagePinPost) &&\n        pinnedPosts &&\n        pinnedPosts.map((post) => {\n          return (\n            <div\n              key={\"pinned-post-\" + post.data.activity.pstid}\n              style={{width: \"100%\"}}\n            >\n              {userInfo ? (\n                <PostFeedItem\n                  item={post}\n                  scene=\"profile\"\n                  userId={userId}\n                  sharedObj={sharedPost}\n                  postId={post.getPostId()}\n                  isPinnedPost={true}\n                  updatePinnedPostsIds={updatePinnedPostsIds}\n                  userInfoProfile={userInfo}\n                />\n              ) : null}\n            </div>\n          );\n        })}\n\n      {noGetters && !forMedias ? (\n        <div className={classes.noDataWrapper}>\n          {isMyProfile ? postBox : null}\n        </div>\n      ) : null}\n\n      {userInfo &&\n        getters?.map((item, idx) => {\n          const sharedPost = item.getSharedPost();\n\n          if (\n            loggedinUserId === userId &&\n            pinnedPostsIds &&\n            pinnedPostsIds.length > 0 &&\n            pinnedPostsIds[0].pstId === item.getPostId()\n          ) {\n            return null;\n          } else {\n            return (\n              <div key={item.data.activity.pstid + idx} style={{width: \"100%\"}}>\n                <PostFeedItem\n                  item={item}\n                  scene=\"profile\"\n                  type={forMedias && \"for-medias\"}\n                  userId={item.getTargetId()}\n                  sharedObj={sharedPost}\n                  postId={item.getPostId()}\n                  updatePinnedPostsIds={updatePinnedPostsIds}\n                  userInfoProfile={userInfo}\n                  removePostFromProfile={removePost}\n                />\n\n                {idx === getters?.length - LOAD_MORE_CUTOFF_SIZE ? (\n                  <Waypoint\n                    scrollableAncestor={window}\n                    onEnter={() => setOffset((oldOffset) => oldOffset + 1)}\n                  />\n                ) : null}\n              </div>\n            );\n          }\n        })}\n\n      {userInfo && (\n        <Waypoint\n          scrollableAncestor={window}\n          onEnter={() => setOffset((oldOffset) => oldOffset + 1)}\n        />\n      )}\n    </div>\n  );\n}\n","import React, {useState} from \"react\";\nimport {makeStyles, createStyles, useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport {GButton} from \"../../styles/components/GButton\";\nimport {GTypography} from \"../../styles/components/GTypography\";\nimport {t} from \"../../i18n/utils\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport {ReactComponent as IconCancel} from \"src/assets/icons/icon_close.svg\";\nimport {ReactComponent as SuccessFilledIcon} from \"src/assets/icons/ico-success-filled.svg\";\n\nconst TOTAL_ANSWERS_CNT = 5;\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    dialogContainer: {\n      \"& .MuiPaper-rounded\": {\n        borderRadius: theme.spacing(1.5),\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        \"& .MuiDialog-paperWidthSm\": {\n          maxWidth: 658,\n        },\n      },\n    },\n    header: {\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      padding: \"23px 0 18px 38px\",\n      \"& .MuiTypography-h6\": {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n      },\n    },\n    closeButton: {\n      // position: \"absolute\",\n      // right: 38,\n      // top: 20,\n      cursor: \"pointer\",\n      width: 26,\n      height: 26,\n      background:\n        \"linear-gradient(0deg, rgba(95, 95, 95, 0.5), rgba(95, 95, 95, 0.5))\",\n      opacity: 0.7,\n      borderRadius: \"50%\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      transition: \"all 0.3s ease-in-out\",\n      marginRight: 20,\n      marginTop: 5,\n      \"&:hover\": {\n        background:\n          \"linear-gradient(0deg, rgba(95, 95, 95, 0.7), rgba(95, 95, 95, 0.7))\",\n      },\n      \"& > svg\": {\n        stroke: \"#FFF\",\n      },\n    },\n    title: {\n      fontSize: \"18px\",\n      lineHeight: \"36px\",\n    },\n    description: {\n      fontWeight: 500,\n      fontSize: \"20px\",\n      color: theme.palette.text.secondary,\n      padding: \"24px 38px\",\n      lineHeight: \"130%\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    },\n    dialogContent: {\n      [theme.breakpoints.up(\"md\")]: {\n        width: 658,\n        // height: 472,\n      },\n    },\n    answer: {\n      fontSize: \"16px\",\n      padding: \"15px 37px\",\n      display: \"flex\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      cursor: \"pointer\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      \"&:hover\": {\n        backgroundColor: theme.palette.grey.A300,\n      },\n      \"& .MuiTypography-root\": {\n        lineHeight: \"24px\",\n      },\n    },\n    reportButton: {\n      textTransform: \"capitalize\",\n      height: 36,\n      width: 100,\n      // marginTop: 30,\n      marginRight: 20,\n      borderRadius: \"100px\",\n      \"& > .MuiButton-label\": {\n        fontSize: \"16px\",\n      },\n    },\n    dialogTitleLeft: {\n      display: \"flex\",\n    },\n  }),\n);\n\nexport function ReportUserDialog({\n  username,\n  isOpen,\n  handleClose,\n  handleSubmit,\n}) {\n  const classes = useStyles();\n  const [selectedAnswerKey, setSelectedAnswerKey] = useState(null);\n  const answerKeys = [...Array(TOTAL_ANSWERS_CNT + 1).keys()].slice(1); // [1,2,3,...]\n\n  const onSubmit = () => {\n    handleSubmit(selectedAnswerKey); // API call\n    handleClose();\n    setSelectedAnswerKey(null); // reset\n  };\n\n  const toggleAnswer = (key) => {\n    if (selectedAnswerKey === key) {\n      setSelectedAnswerKey(null);\n    } else {\n      setSelectedAnswerKey(key);\n    }\n  };\n\n  return (\n    <Dialog\n      fullScreen={useMediaQuery(useTheme().breakpoints.down(\"sm\"))}\n      open={isOpen}\n      onClose={handleClose}\n      className={classes.dialogContainer}\n    >\n      <DialogTitle className={classes.header}>\n        <div className={classes.dialogTitleLeft}>\n          <span className={classes.closeButton} onClick={handleClose}>\n            <IconCancel />\n          </span>\n          <GTypography isBold className={classes.title}>\n            {t(\"getter_fe.common.reportUser.title\", {username})}\n          </GTypography>\n        </div>\n        <GButton\n          fullWidth={false}\n          isBold\n          color=\"primary\"\n          variant=\"contained\"\n          disabled={!selectedAnswerKey}\n          className={classes.reportButton}\n          onClick={onSubmit}\n        >\n          {t(\"getter_fe.common.reportUser.report\")}\n        </GButton>\n      </DialogTitle>\n\n      <div className={classes.dialogContent}>\n        <GTypography className={classes.description}>\n          {t(\"getter_fe.common.reportUser.description\")}\n        </GTypography>\n\n        {answerKeys.map((key) => {\n          return (\n            <div\n              key={key}\n              className={classes.answer}\n              onClick={() => toggleAnswer(key)}\n            >\n              <GTypography>\n                {t(`getter_fe.common.reportUser.answer${key}`)}\n              </GTypography>\n              {selectedAnswerKey === key && <SuccessFilledIcon />}\n            </div>\n          );\n        })}\n      </div>\n    </Dialog>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 13,\n  cy: 13,\n  r: 13\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.3337 8.6665L8.66699 17.3332\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.66699 8.6665L17.3337 17.3332\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIconEditClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26,\n    height: 26,\n    viewBox: \"0 0 26 26\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconEditClose);\nexport default __webpack_public_path__ + \"static/media/icon_edit_close.eddc798b.svg\";\nexport { ForwardRef as ReactComponent };","export const days = [\n  1,\n  2,\n  3,\n  4,\n  5,\n  6,\n  7,\n  8,\n  9,\n  10,\n  11,\n  12,\n  13,\n  14,\n  15,\n  16,\n  17,\n  18,\n  19,\n  20,\n  21,\n  22,\n  23,\n  24,\n  25,\n  26,\n  27,\n  28,\n  29,\n  30,\n  31,\n];\n\nexport const months = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n\nexport const getYears = () => {\n  let currentYear = new Date().getFullYear();\n  let years = [];\n\n  let startYear = currentYear - 150;\n  while (startYear <= currentYear) {\n    years.push(startYear++);\n  }\n\n  return years.reverse();\n};\n\nexport const MIN_USERNAME_LENGTH = 1;\nexport const MAX_USERNAME_LENGTH = 50;\nexport const MAX_BIO_LENGTH = 160;\nexport const MAX_LOCATION_LENGTH = 30;\nexport const MAX_WEBSITE_LENGTH = 100;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  filter: \"url(#filter0_d)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M36.5 16.2734V30.789C36.5021 31.2663 36.315 31.725 35.9797 32.0647C35.6444 32.4043 35.1882 32.5974 34.7109 32.6015H13.2891C12.8125 32.5953 12.3575 32.4017 12.0226 32.0624C11.6878 31.7232 11.5 31.2657 11.5001 30.789V16.2734C11.498 16.0364 11.5426 15.8013 11.6314 15.5816C11.7202 15.3619 11.8514 15.1618 12.0176 14.9927C12.1837 14.8237 12.3815 14.689 12.5997 14.5965C12.8178 14.5039 13.0521 14.4552 13.2891 14.4531H17.1407C17.3333 14.4543 17.5241 14.4161 17.7015 14.3408C17.8788 14.2656 18.0389 14.1549 18.1719 14.0156L21.1875 10.8906C21.2281 10.846 21.2775 10.8105 21.3327 10.7862C21.3879 10.762 21.4476 10.7497 21.5078 10.75H26.4922C26.5525 10.7497 26.6121 10.762 26.6673 10.7862C26.7225 10.8105 26.772 10.846 26.8125 10.8906L30.1172 14.3437C30.2021 14.4287 30.3173 14.4765 30.4375 14.4766H34.7109C35.1861 14.4786 35.6412 14.6688 35.9765 15.0056C36.3118 15.3424 36.5 15.7982 36.5 16.2734V16.2734Z\",\n  stroke: \"white\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"square\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M24 27.4297C26.1573 27.4297 27.9062 25.6808 27.9062 23.5234C27.9062 21.3661 26.1573 19.6172 24 19.6172C21.8426 19.6172 20.0938 21.3661 20.0938 23.5234C20.0938 25.6808 21.8426 27.4297 24 27.4297Z\",\n  stroke: \"white\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter0_d\",\n  x: -1,\n  y: -3,\n  width: 50,\n  height: 50,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n}), /*#__PURE__*/React.createElement(\"feOffset\", null), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 5\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 0.316667 0 0 0 0 0.316667 0 0 0 0 0.316667 0 0 0 0.71 0\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in2: \"BackgroundImageFix\",\n  result: \"effect1_dropShadow\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"effect1_dropShadow\",\n  result: \"shape\"\n})));\n\nfunction SvgIconCameraBig(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 44,\n    viewBox: \"0 0 48 44\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconCameraBig);\nexport default __webpack_public_path__ + \"static/media/icon_camera_big.b9536986.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.0018 18.9988C12.5846 18.9988 14.1319 18.5295 15.4479 17.6503C16.7639 16.771 17.7895 15.5214 18.395 14.0594C19.0005 12.5974 19.1586 10.9887 18.8494 9.43679C18.5402 7.88491 17.7776 6.45956 16.658 5.34104C15.5384 4.22252 14.1121 3.46109 12.5595 3.15305C11.007 2.845 9.3979 3.0042 7.93586 3.61049C6.47382 4.21678 5.22449 5.24293 4.3459 6.55914C3.46731 7.87535 2.99892 9.42249 3 11.0048C3 12.0551 3.20701 13.095 3.60921 14.0653C4.0114 15.0355 4.60089 15.917 5.344 16.6593C6.08711 17.4017 6.96926 17.9904 7.94005 18.3919C8.91084 18.7933 9.95124 18.9995 11.0018 18.9988V18.9988Z\",\n  stroke: \"#657786\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.9996 21L17.0002 17\",\n  stroke: \"#657786\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.9087 8.04932V13.7749\",\n  stroke: \"#657786\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.04541 10.9121H13.7727\",\n  stroke: \"#657786\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgZoomPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgZoomPlus);\nexport default __webpack_public_path__ + \"static/media/zoomPlus.0daccb04.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.0034 18.9987C12.5865 18.9987 14.1341 18.5294 15.4504 17.6501C16.7666 16.7709 17.7924 15.5213 18.398 14.0593C19.0036 12.5973 19.1618 10.9886 18.8525 9.43673C18.5433 7.88487 17.7805 6.45953 16.6607 5.34102C15.5408 4.22251 14.1143 3.46108 12.5614 3.15304C11.0085 2.845 9.39916 3.0042 7.93683 3.61048C6.4745 4.21677 5.22493 5.24291 4.34616 6.55911C3.4674 7.87531 2.99892 9.42243 3 11.0048C3 12.055 3.20705 13.0949 3.60933 14.0652C4.0116 15.0354 4.60121 15.9169 5.34446 16.6592C6.08772 17.4016 6.97005 17.9903 7.94103 18.3917C8.91201 18.7931 9.95262 18.9994 11.0034 18.9987V18.9987Z\",\n  stroke: \"#657786\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.0032 20.9997L17 17.0088\",\n  stroke: \"#657786\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.0459 10.9121H13.7743\",\n  stroke: \"#657786\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgZoomMinus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgZoomMinus);\nexport default __webpack_public_path__ + \"static/media/zoomMinus.8d8ab8ba.svg\";\nexport { ForwardRef as ReactComponent };","const createImage = (url) =>\n  new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener(\"load\", () => resolve(image));\n    image.addEventListener(\"error\", (error) => reject(error));\n    image.setAttribute(\"crossOrigin\", \"anonymous\"); // needed to avoid cross-origin issues on CodeSandbox\n    image.src = url;\n  });\n\nfunction getRadianAngle(degreeValue) {\n  return (degreeValue * Math.PI) / 180;\n}\n\n/**\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\n * @param {File} image - Image File url\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\n * @param {number} rotation - optional rotation parameter\n */\nexport async function getCroppedImg(props) {\n  const ImgSrc = props.imageSrc !== null ? props.imageSrc : \"\";\n  const image = await createImage(ImgSrc);\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n\n  const maxSize = Math.max(image.width, image.height);\n  const safeArea = 2 * ((maxSize / 2) * Math.sqrt(2));\n\n  // set each dimensions to double largest dimension to allow for a safe area for the\n  // image to rotate in without being clipped by canvas context\n  canvas.width = safeArea;\n  canvas.height = safeArea;\n\n  if (ctx !== null) {\n    // translate canvas context to a central location on image to allow rotating around the center.\n    ctx.translate(safeArea / 2, safeArea / 2);\n    ctx.rotate(getRadianAngle(props.rotation));\n    ctx.translate(-safeArea / 2, -safeArea / 2);\n\n    // draw rotated image and store data.\n    ctx.drawImage(\n      image,\n      safeArea / 2 - image.width * 0.5,\n      safeArea / 2 - image.height * 0.5,\n    );\n    const data = ctx.getImageData(0, 0, safeArea, safeArea);\n\n    // set canvas width to final desired crop size - this will clear existing context\n    canvas.width = props.pixelCrop.width;\n    canvas.height = props.pixelCrop.height;\n\n    // paste generated rotate image with correct offsets for x,y crop values.\n    ctx.putImageData(\n      data,\n      Math.round(0 - safeArea / 2 + image.width * 0.5 - props.pixelCrop.x),\n      Math.round(0 - safeArea / 2 + image.height * 0.5 - props.pixelCrop.y),\n    );\n  }\n\n  // As a blob url\n  return new Promise((resolve) => {\n    canvas.toBlob((file) => {\n      resolve(file);\n    }, \"image/png\");\n  });\n}\n\nexport async function getRotatedImage(imageSrc, rotation = 0) {\n  const image = await createImage(imageSrc);\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n\n  const orientationChanged =\n    rotation === 90 ||\n    rotation === -90 ||\n    rotation === 270 ||\n    rotation === -270;\n  if (orientationChanged) {\n    canvas.width = image.height;\n    canvas.height = image.width;\n  } else {\n    canvas.width = image.width;\n    canvas.height = image.height;\n  }\n\n  if (ctx !== null) {\n    ctx.translate(canvas.width / 2, canvas.height / 2);\n    ctx.rotate((rotation * Math.PI) / 180);\n    ctx.drawImage(image, -image.width / 2, -image.height / 2);\n  }\n\n  return new Promise((resolve) => {\n    canvas.toBlob((file) => {\n      resolve(URL.createObjectURL(file));\n    }, \"image/jpeg\");\n  });\n}\n","import React, {useCallback, useState} from \"react\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport {GButton} from \"../../styles/components/GButton\";\nimport {GTypography} from \"../../styles/components/GTypography\";\nimport Cropper from \"react-easy-crop\";\nimport Slider from \"@material-ui/core/Slider\";\nimport clsx from \"clsx\";\nimport {ReactComponent as ZoomPlusIcon} from \"../../assets/zoomPlus.svg\";\nimport {ReactComponent as ZoomMinusIcon} from \"../../assets/zoomMinus.svg\";\nimport {ReactComponent as EditCloseIcon} from \"src/assets/icons/profile/icon_edit_close.svg\";\nimport {getCroppedImg} from \"../../util/canvasUtils\";\nimport {blobToBase64} from \"../../util/imageUtils\";\nimport {t} from \"../../i18n/utils\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      zIndex: \"10000 !important\",\n    },\n    avatarEditDialogContainer: {\n      \"& .MuiDialog-paperWidthSm\": {\n        maxWidth: 658,\n        borderRadius: theme.spacing(1.5),\n        [theme.breakpoints.down(\"xs\")]: {\n          width: \"100%\",\n          height: \"100%\",\n          borderRadius: 0,\n          margin: 0,\n        },\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        \"& .MuiDialog-paperScrollPaper\": {\n          maxHeight: \"100%\",\n        },\n      },\n    },\n    dialogTitleContainer: {\n      padding: \"16px 24px\",\n    },\n    dialogTitle: {\n      fontSize: \"18px\",\n      padding: \"11px 0\", // same padding top/bottom as GButton\n      flex: \"auto\",\n    },\n    dialogTitleText: {\n      fontWeight: 700,\n    },\n    actionButton: {\n      height: 36,\n      width: 100,\n      borderRadius: 100,\n      marginLeft: \"auto\",\n      \"& > .MuiButton-label\": {\n        fontSize: \"16px\",\n      },\n      \"&:hover\": {\n        backgroundColor: \"#3D3C7C !important\",\n      },\n    },\n    cropContainer: {\n      position: \"relative\",\n      height: 523,\n      backgroundColor: `rgba(34, 34, 34, 0.74)`,\n      backdropFilter: `blur(7px)`,\n      \"& .reactEasyCrop_CropArea\": {\n        borderWidth: 5,\n        borderColor: theme.blue.dark,\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: 500,\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: 658,\n      },\n    },\n    sliderContainer: {\n      padding: theme.spacing(2, 0),\n    },\n    sliderInner: {\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"48.3%\",\n      margin: \"0 auto\",\n\n      \"& .MuiSlider-thumb.MuiSlider-thumbColorPrimary\": {\n        height: 14,\n        width: 14,\n      },\n      \"& .MuiSlider-rail\": {\n        opacity: 0.5,\n        backgroundColor: theme.palette.primary.main,\n        height: 4,\n      },\n      \"& .MuiSlider-track\": {\n        height: 4,\n      },\n    },\n    icon: {\n      cursor: \"pointer\",\n      transform: \"scale(1.1)\",\n    },\n    iconMinus: {\n      marginRight: 15,\n    },\n    iconPlus: {\n      marginLeft: 15,\n    },\n    dialogCloseIcon: {\n      cursor: \"pointer\",\n      marginRight: theme.spacing(3),\n\n      \"& circle\": {\n        transition: \"all 0.1s ease-in\",\n        fill: theme.palette.grey.A300,\n      },\n      \"&:hover\": {\n        \"& circle\": {\n          fill: theme.palette.grey.A200,\n        },\n      },\n    },\n  }),\n);\n\nexport function AvatarEditDialog({\n  originalImage, // base64 string\n  setOriginalImage, // (string) => void\n  setCroppedImage, // (string) => void\n  isOpen, // boolean\n  setIsOpen, // (boolean) => void\n}) {\n  const classes = useStyles();\n\n  const [crop, setCrop] = useState({x: 0, y: 0});\n  const [rotation, setRotation] = useState(0);\n  const [zoom, setZoom] = useState(1.4);\n  const [pixelCrop, setPixelCrop] = useState({\n    height: 0,\n    width: 0,\n    x: 0,\n    y: 0,\n  });\n\n  const handleZoomChange = (event, newValue) => {\n    if (typeof newValue === \"number\") {\n      if (newValue >= 1 && newValue <= 3) {\n        setZoom(newValue);\n      }\n    }\n  };\n\n  const handleZoomPlus = (event) => {\n    event.preventDefault();\n    if (zoom > 0 && zoom <= 3) {\n      setZoom(zoom + 0.2);\n    }\n  };\n\n  const handleZoomMinus = (event) => {\n    event.preventDefault();\n    if (zoom > 1 && zoom <= 4) {\n      setZoom(zoom - 0.2);\n    }\n  };\n\n  const onCropComplete = useCallback((croppedArea, pixelCrop) => {\n    setPixelCrop(pixelCrop);\n  }, []);\n\n  const handleCroppedImage = useCallback(async () => {\n    try {\n      const croppedImage = await getCroppedImg({\n        imageSrc: originalImage,\n        pixelCrop,\n        rotation,\n      });\n      setIsOpen(false);\n\n      if (croppedImage !== null) {\n        const imgBase64 = await blobToBase64(croppedImage);\n        setCroppedImage(imgBase64);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }, [originalImage, setCroppedImage, pixelCrop, rotation]);\n\n  const cancelCroppedImage = useCallback(async () => {\n    setIsOpen(false);\n    setOriginalImage(null);\n  }, []);\n\n  const handleClose = (event) => {\n    event.preventDefault();\n    setIsOpen(false);\n    setOriginalImage(null);\n  };\n\n  return (\n    <Dialog\n      open={isOpen}\n      onClose={handleClose}\n      aria-labelledby=\"avatar-edit-dialog-title\"\n      classes={{root: classes.root}}\n      className={classes.avatarEditDialogContainer}\n    >\n      <DialogTitle\n        id=\"avatar-edit-dialog-title\"\n        className={classes.dialogTitleContainer}\n      >\n        <Box display=\"flex\" alignItems=\"center\">\n          <EditCloseIcon\n            className={classes.dialogCloseIcon}\n            onClick={cancelCroppedImage}\n          />\n          <GTypography variant=\"h2\" className={classes.dialogTitleText}>\n            {t(\"getter_fe.user.editMedia.editMedia\")}\n          </GTypography>\n\n          <GButton\n            onClick={handleCroppedImage}\n            color=\"primary\"\n            variant=\"contained\"\n            fullWidth={false}\n            className={classes.actionButton}\n          >\n            {t(\"getter_fe.user.common.done\")}\n          </GButton>\n        </Box>\n      </DialogTitle>\n      <div className={classes.cropContainer}>\n        <Cropper\n          image={originalImage}\n          crop={crop}\n          rotation={rotation}\n          zoom={zoom}\n          aspect={4 / 4}\n          cropShape=\"round\"\n          onCropChange={setCrop}\n          onRotationChange={setRotation}\n          onCropComplete={onCropComplete}\n          onZoomChange={setZoom}\n          showGrid={false}\n        />\n      </div>\n      <div className={classes.sliderContainer}>\n        <div className={classes.sliderInner}>\n          <ZoomMinusIcon\n            className={clsx(classes.icon, classes.iconMinus)}\n            onClick={(event) => handleZoomMinus(event)}\n          />\n          <Slider\n            value={zoom}\n            min={1}\n            max={3}\n            step={0.1}\n            onChange={handleZoomChange}\n            aria-labelledby=\"continuous-slider\"\n          />\n          <ZoomPlusIcon\n            className={clsx(classes.icon, classes.iconPlus)}\n            onClick={(event) => handleZoomPlus(event)}\n          />\n        </div>\n      </div>\n    </Dialog>\n  );\n}\n","import React, {useCallback, useState} from \"react\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport {GButton} from \"../../styles/components/GButton\";\nimport {GTypography} from \"../../styles/components/GTypography\";\nimport Cropper from \"react-easy-crop\";\nimport Slider from \"@material-ui/core/Slider\";\nimport clsx from \"clsx\";\nimport {ReactComponent as ZoomPlusIcon} from \"../../assets/zoomPlus.svg\";\nimport {ReactComponent as ZoomMinusIcon} from \"../../assets/zoomMinus.svg\";\nimport {ReactComponent as EditCloseIcon} from \"src/assets/icons/profile/icon_edit_close.svg\";\nimport {getCroppedImg} from \"../../util/canvasUtils\";\nimport {blobToBase64, handleMediaUrl} from \"../../util/imageUtils\";\nimport {t} from \"../../i18n/utils\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      zIndex: \"10000 !important\",\n    },\n    avatarEditDialogContainer: {\n      \"& .MuiDialog-paperWidthSm\": {\n        maxWidth: 658,\n        borderRadius: theme.spacing(1.5),\n        [theme.breakpoints.down(\"xs\")]: {\n          width: \"100%\",\n          height: \"100%\",\n          borderRadius: 0,\n          margin: 0,\n        },\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        \"& .MuiDialog-paperScrollPaper\": {\n          maxHeight: \"100%\",\n        },\n      },\n    },\n    dialogTitleContainer: {\n      padding: \"16px 24px\",\n    },\n    dialogTitle: {\n      fontSize: \"18px\",\n      padding: \"11px 0\", // same padding top/bottom as GButton\n      flex: \"auto\",\n    },\n    dialogTitleText: {\n      fontWeight: 700,\n    },\n    actionButton: {\n      height: 36,\n      width: 100,\n      borderRadius: 100,\n      marginLeft: \"auto\",\n      \"& > .MuiButton-label\": {\n        fontSize: \"16px\",\n      },\n      \"&:hover\": {\n        backgroundColor: \"#3D3C7C !important\",\n      },\n    },\n    cropContainer: {\n      position: \"relative\",\n      height: 523,\n      backgroundColor: `rgba(34, 34, 34, 0.74)`,\n      backdropFilter: `blur(7px)`,\n      \"& .reactEasyCrop_CropArea\": {\n        borderWidth: 5,\n        borderColor: theme.blue.dark,\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: 500,\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: 658,\n      },\n    },\n    sliderContainer: {\n      padding: theme.spacing(2, 0),\n    },\n    sliderInner: {\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"48.3%\",\n      margin: \"0 auto\",\n\n      \"& .MuiSlider-thumb.MuiSlider-thumbColorPrimary\": {\n        height: 14,\n        width: 14,\n      },\n      \"& .MuiSlider-rail\": {\n        opacity: 0.5,\n        backgroundColor: theme.palette.primary.main,\n        height: 4,\n      },\n      \"& .MuiSlider-track\": {\n        height: 4,\n      },\n    },\n    icon: {\n      cursor: \"pointer\",\n      transform: \"scale(1.1)\",\n    },\n    iconMinus: {\n      marginRight: 15,\n    },\n    iconPlus: {\n      marginLeft: 15,\n    },\n    dialogCloseIcon: {\n      cursor: \"pointer\",\n      marginRight: theme.spacing(3),\n\n      \"& circle\": {\n        transition: \"all 0.1s ease-in\",\n        fill: theme.palette.grey.A300,\n      },\n      \"&:hover\": {\n        \"& circle\": {\n          fill: theme.palette.grey.A200,\n        },\n      },\n    },\n  }),\n);\n\nexport function BannerEditDialog({\n  croppedBannerImage, // image from the server\n  originalImage, // base64 string\n  setOriginalImage, // (string) => void\n  setCroppedImage, // (string) => void\n  isOpen, // boolean\n  setIsOpen, // (boolean) => void\n}) {\n  const classes = useStyles();\n\n  const [crop, setCrop] = useState({x: 0, y: 0});\n  const [rotation, setRotation] = useState(0);\n  const [zoom, setZoom] = useState(1.4);\n  const [pixelCrop, setPixelCrop] = useState({\n    height: 0,\n    width: 0,\n    x: 0,\n    y: 0,\n  });\n\n  const handleZoomChange = (event, newValue) => {\n    if (typeof newValue === \"number\") {\n      if (newValue >= 1 && newValue <= 3) {\n        setZoom(newValue);\n      }\n    }\n  };\n\n  const handleZoomPlus = (event) => {\n    event.preventDefault();\n    if (zoom > 0 && zoom <= 3) {\n      setZoom(zoom + 0.2);\n    }\n  };\n\n  const handleZoomMinus = (event) => {\n    event.preventDefault();\n    if (zoom > 1 && zoom <= 3) {\n      setZoom(zoom - 0.2);\n    }\n  };\n\n  const onCropComplete = useCallback((croppedArea, pixelCrop) => {\n    setPixelCrop(pixelCrop);\n  }, []);\n\n  const handleCroppedImage = useCallback(async () => {\n    try {\n      const croppedImage = await getCroppedImg({\n        imageSrc: originalImage,\n        pixelCrop,\n        rotation,\n      });\n      setIsOpen(false);\n\n      if (croppedImage !== null) {\n        const imgBase64 = await blobToBase64(croppedImage);\n        setCroppedImage(imgBase64);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }, [originalImage, setCroppedImage, pixelCrop, rotation]);\n\n  const cancelCroppedImage = useCallback(async () => {\n    setIsOpen(false);\n    setOriginalImage(\n      handleMediaUrl(process.env.REACT_APP_MEDIA_BASE, croppedBannerImage),\n    );\n  }, []);\n\n  const handleClose = (event) => {\n    event.preventDefault();\n    setIsOpen(false);\n    setOriginalImage(null);\n  };\n\n  return (\n    <Dialog\n      open={isOpen}\n      onClose={handleClose}\n      aria-labelledby=\"avatar-edit-dialog-title\"\n      classes={{root: classes.root}}\n      className={classes.avatarEditDialogContainer}\n    >\n      <DialogTitle\n        id=\"avatar-edit-dialog-title\"\n        className={classes.dialogTitleContainer}\n      >\n        <Box display=\"flex\" alignItems=\"center\">\n          <EditCloseIcon\n            className={classes.dialogCloseIcon}\n            onClick={cancelCroppedImage}\n          />\n          <GTypography variant=\"h2\" className={classes.dialogTitleText}>\n            {t(\"getter_fe.user.editMedia.editMedia\")}\n          </GTypography>\n\n          <GButton\n            onClick={handleCroppedImage}\n            color=\"primary\"\n            variant=\"contained\"\n            fullWidth={false}\n            className={classes.actionButton}\n          >\n            {t(\"getter_fe.user.common.done\")}\n          </GButton>\n        </Box>\n      </DialogTitle>\n      <div className={classes.cropContainer}>\n        <Cropper\n          image={originalImage}\n          crop={crop}\n          rotation={rotation}\n          zoom={zoom}\n          aspect={598 / 199}\n          cropShape=\"rect\"\n          onCropChange={setCrop}\n          onRotationChange={setRotation}\n          onCropComplete={onCropComplete}\n          onZoomChange={setZoom}\n          showGrid={false}\n        />\n      </div>\n      <div className={classes.sliderContainer}>\n        <div className={classes.sliderInner}>\n          <ZoomMinusIcon\n            className={clsx(classes.icon, classes.iconMinus)}\n            onClick={(event) => handleZoomMinus(event)}\n          />\n          <Slider\n            value={zoom}\n            min={1}\n            max={3}\n            step={0.1}\n            onChange={handleZoomChange}\n            aria-labelledby=\"continuous-slider\"\n          />\n          <ZoomPlusIcon\n            className={clsx(classes.icon, classes.iconPlus)}\n            onClick={(event) => handleZoomPlus(event)}\n          />\n        </div>\n      </div>\n    </Dialog>\n  );\n}\n","import {makeStyles} from \"@material-ui/core\";\nimport {useRef} from \"react\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {compressImage, handleMediaUrl, readFile} from \"src/util/imageUtils\";\n\nimport {ReactComponent as CameraIcon} from \"src/assets/icons/profile/icon_camera_big.svg\";\n\nimport {AvatarEditDialog} from \"../../../components/AvatarEditDialog\";\nimport {BannerEditDialog} from \"../../../components/BannerEditDialog\";\nimport {Avatar} from \"@material-ui/core\";\nimport {t} from \"../../../../i18n/utils\";\nimport Global from \"src/system/Global\";\n\nconst IMAGE_FILE_EXTENSIONS = [\"png\", \"jpg\", \"jpeg\"];\nconst ALLOWED_EXTENSIONS = [\"image/jpeg\", \"image/png\"];\n\nconst MAX_AVATAR_SIZE = 5 * 1024 * 1024; // 5MB\n\nconst MAX_BANNER_SIZE = 15 * 1024 * 1024; // 15MB\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    display: \"flex\",\n    position: \"relative\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: 112,\n    height: 112,\n    border: \"2px solid #FFFFFF\",\n    borderRadius: \"100%\",\n    overflow: \"hidden\",\n    transform: \"translateY(-50%)\",\n    marginLeft: 24,\n    marginBottom: -36,\n\n    \"& img\": {\n      maxWidth: \"100%\",\n      maxHeight: \"100%\",\n    },\n\n    \"& input.file-input\": {\n      position: \"absolute\",\n      top: \"40px\",\n      width: \"100%\",\n      cursor: \"pointer\",\n      opacity: 0,\n      zIndex: 1,\n    },\n    '& input[type=\"file\"]::-webkit-file-upload-button': {\n      cursor: \"pointer\",\n    },\n    \"& .MuiAvatar-root\": {\n      height: \"112px !important\",\n      width: \"112px !important\",\n    },\n    \"& svg\": {\n      position: \"absolute\",\n\n      transition: \"0.1s all ease-in\",\n      borderRadius: 50,\n      height: 40,\n      width: 40,\n      zIndex: 2,\n      opacity: 0.9,\n      cursor: \"pointer\",\n      \"&:hover\": {\n        backgroundColor: \"#5F5F5F\",\n      },\n    },\n  },\n  bannerImageContainer: {\n    width: \"100%\",\n    height: 214,\n    overflow: \"hidden\",\n    backgroundColor: \"#DEDEDE\",\n  },\n  banner: {\n    position: \"relative\",\n    backgroundColor: \"#DEDEDE\",\n    width: \"100%\",\n    height: 214,\n    overflow: \"hidden\",\n\n    \"& img\": {\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n    },\n\n    \"& input.file-input\": {\n      position: \"absolute\",\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      opacity: 0,\n      cursor: \"pointer\",\n      width: \"100%\",\n    },\n\n    \"& svg\": {\n      zIndex: 1,\n      cursor: \"pointer\",\n      transition: \"0.1s all ease-in\",\n      position: \"absolute\",\n      borderRadius: \"100%\",\n      left: \"50%\",\n      top: \"50%\",\n      height: 55,\n      width: 55,\n      opacity: 0.9,\n      transform: \"translate(-50%, -50%)\",\n      \"&:hover\": {\n        backgroundColor: \"red\",\n        backgroundColor: \"#5F5F5F\",\n      },\n    },\n  },\n}));\n\nexport const ImageSettings = ({\n  croppedBannerImage,\n  croppedAvatarImage,\n  bannerLocalImage,\n  setAvatarOpen,\n  isAvatarOpen,\n  isBannerOpen,\n  setAvatarLocalImage,\n  setBannerOpen,\n  avatarLocalImage,\n  setCroppedAvatarImage,\n  setBannerLocalImage,\n  setCroppedBannerImage,\n}) => {\n  const classes = useStyles();\n\n  const bannerFileInputRef = useRef(null);\n  const avatarFileInputRef = useRef(null);\n\n  const api = Global.GetPortal().getAppService();\n\n  const avatar =\n    croppedAvatarImage?.indexOf(\"data:image\") < 0\n      ? handleMediaUrl(process.env.REACT_APP_MEDIA_BASE, croppedAvatarImage)\n      : croppedAvatarImage;\n\n  const handleAvatarInputChange = async (event) => {\n    if (event.target.files && event.target.files.length > 0) {\n      setAvatarOpen(!isAvatarOpen);\n      let file = event.target.files[0];\n      const imgExt = ALLOWED_EXTENSIONS.includes(file.type);\n      if (!imgExt) {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.profile.errors.imageExtError\", {\n              allowedTypes: [...IMAGE_FILE_EXTENSIONS].join(\", \"),\n            })}\n          />,\n          {\n            type: toast.TYPE.WARNING,\n          },\n        );\n        setAvatarOpen(false);\n        return;\n      }\n      file = await compressImage({file}); // compress image first\n\n      const imageDataUrl = await readFile(file);\n\n      const imgSize = file.size;\n      if (imgSize > MAX_AVATAR_SIZE) {\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.profile.errors.imageSizeError\")}\n          />,\n          {\n            type: toast.TYPE.WARNING,\n          },\n        );\n        setAvatarOpen(false);\n        return;\n      }\n      setAvatarLocalImage(imageDataUrl);\n    }\n  };\n\n  const handleBannerInputChange = async (event) => {\n    if (event.target.files && event.target.files.length > 0) {\n      setBannerOpen(!isBannerOpen);\n\n      let file = event.target.files[0];\n      const imgExt = ALLOWED_EXTENSIONS.includes(file.type);\n      if (!imgExt) {\n        setBannerOpen(false);\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.profile.errors.imageExtError\", {\n              allowedTypes: [...IMAGE_FILE_EXTENSIONS].join(\", \"),\n            })}\n          />,\n          {\n            type: toast.TYPE.WARNING,\n          },\n        );\n        return;\n      }\n      file = await compressImage({\n        file: file,\n        maxFileSize: MAX_BANNER_SIZE,\n      }); // compress image first\n      const imageDataUrl = await readFile(file);\n\n      const imgSize = file.size;\n      if (imgSize > MAX_BANNER_SIZE) {\n        setBannerOpen(false);\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.profile.errors.imageSizeError\")}\n          />,\n          {\n            type: toast.TYPE.WARNING,\n          },\n        );\n        return;\n      }\n      setBannerLocalImage(imageDataUrl);\n    }\n  };\n\n  return (\n    <>\n      <div className={classes.bannerImageContainer}>\n        <div className={classes.banner}>\n          <CameraIcon onClick={() => bannerFileInputRef.current?.click()} />\n          {croppedBannerImage || bannerLocalImage ? (\n            <img\n              src={\n                croppedBannerImage\n                  ? croppedBannerImage.indexOf(\"data:image\") < 0\n                    ? handleMediaUrl(\n                        process.env.REACT_APP_MEDIA_BASE,\n                        croppedBannerImage,\n                      )\n                    : croppedBannerImage\n                  : bannerLocalImage\n              }\n              onError={(event) => (event.target.style.display = \"none\")}\n            />\n          ) : null}\n          <input\n            ref={bannerFileInputRef}\n            type=\"file\"\n            onChange={handleBannerInputChange}\n            className=\"file-input\"\n            accept=\"image/*\"\n          />\n        </div>\n      </div>\n      <div className={classes.avatar}>\n        <Avatar src={avatar || api.getAvatarUrl()} />\n        <CameraIcon onClick={() => avatarFileInputRef.current?.click()} />\n        <input\n          ref={avatarFileInputRef}\n          type=\"file\"\n          onChange={handleAvatarInputChange}\n          className=\"file-input\"\n          accept=\"image/*\"\n        />\n      </div>\n      <AvatarEditDialog\n        originalImage={avatarLocalImage ? avatarLocalImage : api.getAvatarUrl()}\n        setOriginalImage={setAvatarLocalImage}\n        setCroppedImage={setCroppedAvatarImage}\n        isOpen={isAvatarOpen}\n        setIsOpen={setAvatarOpen}\n      />\n\n      <BannerEditDialog\n        originalImage={bannerLocalImage}\n        croppedBannerImage={croppedBannerImage}\n        setOriginalImage={setBannerLocalImage}\n        setCroppedImage={setCroppedBannerImage}\n        isOpen={isBannerOpen}\n        setIsOpen={setBannerOpen}\n      />\n    </>\n  );\n};\n","import React, {useState, useEffect} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {Formik} from \"formik\";\nimport {object, string} from \"yup\";\nimport moment from \"moment\";\nimport {toast} from \"react-toastify\";\nimport {\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  MenuItem,\n  Select,\n  DialogTitle,\n  DialogContent,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport {ReactComponent as EditCloseIcon} from \"src/assets/icons/profile/icon_edit_close.svg\";\nimport {GTextField} from \"../../../../styles/components/GTextField\";\nimport {GButton} from \"../../../../styles/components/GButton\";\nimport {GTypography} from \"../../../../styles/components/GTypography\";\nimport {\n  months,\n  days,\n  getYears,\n  MAX_USERNAME_LENGTH,\n  MAX_BIO_LENGTH,\n  MAX_LOCATION_LENGTH,\n  MAX_WEBSITE_LENGTH,\n  MIN_USERNAME_LENGTH,\n} from \"./consts\";\nimport clsx from \"clsx\";\nimport {dataURLtoFile} from \"src/util/imageUtils\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {useTranslation} from \"react-i18next\";\nimport {refreshUserInfo} from \"src/app/components/auth/store\";\nimport {NotifMessage} from \"../../../components/notifications/NotifMessage\";\nimport {ReactComponent as WarningIcon} from \"../../../../assets/icons/ico-warning.svg\";\nimport {ImageSettings} from \"./ImageSettings\";\nimport {LINK_PATTERN_STRING} from \"src/styles/components/GMentionsInput\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) =>\n  /**\n   * TODO: update the colors when the light/dark theme mode ready\n   */\n  createStyles({\n    formControl: {\n      marginTop: 0,\n      marginBottom: theme.spacing(2),\n    },\n    ImageSettingsStyle: {\n      minHeight: \"250px\",\n      paddingTop: theme.spacing(8),\n    },\n    error: {\n      color: \"red\",\n    },\n    dialogContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n    },\n    dialogPaper: {\n      height: \"max-content\",\n      maxHeight: 1000,\n    },\n    dialogTitle: {\n      position: \"fixed\",\n      width: \"100%\",\n      maxWidth: theme.spacing(82.25),\n      fontSize: 18,\n      backgroundColor: theme.palette.background.default,\n      borderTopLeftRadius: theme.spacing(1.5),\n      borderTopRightRadius: theme.spacing(1.5),\n      zIndex: 99,\n      [theme.breakpoints.down(\"sm\")]: {\n        borderTopLeftRadius: 0,\n        borderTopRightRadius: 0,\n      },\n      \"& > h2\": {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: 36,\n        // justifyContent: \"space-between\",\n      },\n    },\n    dialogTitleOptions: {\n      marginLeft: \"auto\",\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    dialogCloseIcon: {\n      cursor: \"pointer\",\n      marginRight: theme.spacing(3),\n\n      \"& circle\": {\n        transition: \"all 0.1s ease-in\",\n        fill: theme.palette.grey.A300,\n      },\n      \"&:hover\": {\n        \"& circle\": {\n          fill: theme.palette.grey.A200,\n        },\n      },\n    },\n    dialogBanner: {\n      position: \"relative\",\n      height: 150,\n      backgroundColor: \"#DEDEDE\",\n    },\n    dialogCameraBig: {\n      position: \"absolute\",\n      top: \"40%\",\n      left: \"46%\",\n      cursor: \"pointer\",\n    },\n    dialogCameraSmall: {\n      cursor: \"pointer\",\n      position: \"absolute\",\n      zIndex: 1,\n      top: \"40%\",\n      left: \"6.75%\",\n    },\n    dialogTitleText: {\n      fontWeight: 700,\n    },\n    dialogAvatar: {\n      position: \"relative\",\n      \"& > div\": {\n        borderRadius: \"50%\",\n        border: \"3px solid white\",\n      },\n    },\n    avatar: {\n      height: 100,\n      width: 100,\n    },\n    btn: {\n      height: 36,\n      width: 80,\n      borderRadius: 100,\n      \"&:hover\": {\n        backgroundColor: \"#3D3C7C !important\",\n      },\n    },\n    formHelperContainer: {\n      display: \"flex\",\n    },\n    textHelper: {\n      maxWidth: 340,\n      fontSize: 12,\n      lineHeight: \"16px\",\n    },\n    warningIcon: {\n      marginRight: 3,\n      minWidth: 16,\n      marginTop: 4,\n    },\n    linkHelperWrapper: {\n      marginBottom: theme.spacing(10),\n      textAlign: \"center\",\n    },\n    linkHelper: {\n      marginTop: theme.spacing(0.625),\n      fontSize: \"14\",\n      color: theme.palette.primary.main,\n      fontWeight: 500,\n      cursor: \"pointer\",\n      textDecoration: \"none\",\n      \"&:hover\": {\n        color: theme.palette.primary.main,\n      },\n    },\n    formControlCP: {\n      marginTop: theme.spacing(1.25),\n    },\n    alertWrapper: {\n      textAlign: \"center\",\n    },\n    alert: {\n      display: \"inline-flex\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      marginBottom: theme.spacing(6.625),\n      \"& .MuiAlert-message\": {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n      },\n    },\n    dialogBirthDateComment: {\n      color: theme.palette.text.secondary,\n    },\n    selectsWrapper: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      flexWrap: \"wrap\",\n      alignItems: \"center\",\n      marginTop: 10,\n      marginBottom: 20,\n    },\n    birthDateControl: {\n      minWidth: 120,\n      \"& .MuiSelect-select\": {\n        \"&:focus\": {\n          background: theme.palette.background.default,\n        },\n      },\n      \"& .MuiSelect-icon\": {\n        display: \"none\",\n      },\n    },\n    dialogBirthDateTitle: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n    },\n    removeBirthDate: {\n      fontSize: 15,\n      color: \"#DD1818\",\n      cursor: \"pointer\",\n    },\n    dialogContent: {\n      paddingBottom: \"25px\",\n    },\n  }),\n);\n\nexport const EditProfileForm = ({\n  objId,\n  handleClose,\n  birthdate,\n  ico,\n  bgimg,\n  refreshView,\n  nickname,\n  website,\n  dsc,\n  location,\n  userId,\n}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const years = getYears();\n  const [birthSplit, setBirthSplit] = useState([]);\n  const [renderCount, setRenderCount] = useState(0);\n  const [isAvatarOpen, setAvatarOpen] = useState(false);\n  const [avatarLocalImage, setAvatarLocalImage] = useState(null);\n  const [croppedAvatarImage, setCroppedAvatarImage] = useState(\"\");\n  const [isBannerOpen, setBannerOpen] = useState(false);\n  const [bannerLocalImage, setBannerLocalImage] = useState(null);\n  const [croppedBannerImage, setCroppedBannerImage] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [progress, setProgress] = useState(-1);\n  const {t, i18n} = useTranslation();\n  const theme = useTheme();\n  const isTabletOrMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const api = Global.GetPortal().getAppService();\n\n  useEffect(() => {\n    if (birthdate) {\n      setBirthSplit(birthdate.split(\"-\"));\n    }\n\n    ico && setCroppedAvatarImage(ico);\n    bgimg && setCroppedBannerImage(bgimg);\n  }, [birthdate, ico, bgimg]);\n\n  const uploadFiles = (files, callback) => {\n    let realUrls = [];\n    let allProgress = [];\n    for (let i = 0; i < files.length; i++) {\n      if (files[i]?.name) {\n        const path =\n          i === 0 ? \"/media/upload_avatar\" : \"/media/upload_background_image\";\n        setTimeout(() => {\n          api.uploadFile(\n            files[i],\n            false,\n            (error, result, progress) => {\n              if (error) {\n                toast.info(\n                  <NotifMessage\n                    message={t(\"getter_fe.profile.errors.imageUploadError\")}\n                  />,\n                  {type: toast.TYPE.WARNING},\n                );\n                setIsLoading(false);\n                return;\n              } else if (result) {\n                realUrls[i] = result.ori;\n              } else if (progress) {\n                allProgress[i] = progress;\n                callback(\n                  null,\n                  allProgress.reduce((prev = 0, current = 0) => {\n                    return prev + current;\n                  }) / files.length,\n                  error,\n                );\n              }\n              if (\n                realUrls.length === files.length &&\n                !/(^,)|[,]{2,}/.test(realUrls.join())\n              ) {\n                callback(realUrls);\n              }\n            },\n            path,\n          );\n        }, i * 1000);\n      } else {\n        realUrls[i] = files[i] || \"none\";\n        if (\n          realUrls.length === files.length &&\n          !/(^,)|[,]{2,}/.test(realUrls.join())\n        ) {\n          callback(realUrls);\n        }\n      }\n    }\n  };\n\n  const _handleSubmit = (data) => {\n    const removeDate = () => {\n      delete data.year;\n      delete data.month;\n      delete data.day;\n      delete data.birthDate;\n      return;\n    };\n    const trimData = () => {\n      data.location = data.location.trim();\n      data.bio = data.bio.trim();\n      data.website = data.website.trim();\n      data.username = data.username.trim();\n      if (!data.username.length) {\n        throw new Error(\"Username cannot consist of only spaces\");\n      }\n    };\n    const checkDate = () => {\n      return data.year === \"\" || data.month === \"\" || data.day === \"\";\n    };\n\n    try {\n      trimData();\n      if (checkDate() && !data.birthDate) {\n        removeDate();\n        data.birthdate = \"\";\n      } else {\n        let birthDate = data.birthDate\n          ? moment(data.birthDate)\n          : moment(`${data.year}-${data.month}-${data.day}`, \"YYYY-MM-DD\");\n        if (birthDate.isValid() === false || birthDate.isAfter()) {\n          toast.info(\n            <NotifMessage\n              message={t(\"getter_fe.profile.errors.invalidDate\")}\n            />,\n            {\n              type: toast.TYPE.ERROR,\n            },\n          );\n          return;\n        }\n        birthDate = birthDate.format(\"YYYY-MM-DD\");\n        removeDate();\n        data = {\n          ...data,\n          birthdate: birthDate,\n        };\n      }\n      setIsLoading(true);\n\n      uploadFiles(\n        [dataURLtoFile(data.ico), dataURLtoFile(data.bgimg)],\n        async (realUrls, progress, error) => {\n          if (error) {\n            return;\n          }\n          if (realUrls) {\n            setProgress(-1);\n            data.ico = realUrls[0] !== \"none\" ? realUrls[0] : \"\";\n            data.bgimg = realUrls[1] !== \"none\" ? realUrls[1] : \"\";\n            const formatData = {\n              ...data,\n            };\n\n            let result = await api.updateUserProfile(objId, formatData, userId);\n            if (result?.status === 200) {\n              await api.refreshUserInfo((err, result) => {\n                dispatch(\n                  refreshUserInfo({\n                    userinfo: result.data,\n                  }),\n                );\n                api.updateUserInfo(result);\n                // const user = JSON.parse(\n                //   localStorage.getItem(userConstants.LS_SESSION_INFO),\n                // );\n                // user.userinfo = result.data;\n                // const newUser = JSON.stringify(user);\n                // localStorage.setItem(userConstants.LS_SESSION_INFO, newUser);\n              });\n              toast.info(\n                <NotifMessage\n                  message={t(\"getter_fe.profile.common.yourProfileWasSaved\")}\n                />,\n                {\n                  type: toast.TYPE.SUCCESS,\n                },\n              );\n            } else {\n              toast.error(\n                <NotifMessage\n                  message={t(\n                    \"getter_fe.profile.common.yourProfileWasSavedError\",\n                  )}\n                />,\n                {\n                  type: toast.TYPE.ERROR,\n                },\n              );\n            }\n            handleClose();\n            setIsLoading(false);\n            // if (result?.status === 200) {\n            //   refreshView();\n            // }\n          } else {\n            setProgress(progress);\n          }\n        },\n      );\n      // history.go(0);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <>\n      {isLoading && (\n        <GLoader\n          progress={progress}\n          isPopup={true}\n          tips={\n            progress > -1\n              ? t(\"getter_fe.profile.common.uploadingFile\")\n              : t(\"getter_fe.profile.common.savingProfile\")\n          }\n        />\n      )}\n      <Formik\n        enableReinitialize={true}\n        initialValues={{\n          username: nickname,\n          bio: dsc || \"\",\n          location: location || \"\",\n          website: website || \"\",\n          birthDate: birthdate || \"\",\n          month: Number(birthSplit[1]) || \"\",\n          day: Number(birthSplit[2]) || \"\",\n          year: Number(birthSplit[0]) || \"\",\n          ico: ico || \"\",\n          bgimg: bgimg || \"\",\n        }}\n        validationSchema={object().shape({\n          username: string()\n            .trim()\n            .label(\"Username\")\n            .min(\n              MIN_USERNAME_LENGTH,\n              t(\"getter_fe.profile.errors.displayNameMinLength\", {\n                minLength: MIN_USERNAME_LENGTH,\n                maxLength: MAX_USERNAME_LENGTH,\n              }),\n            )\n            .max(\n              MAX_USERNAME_LENGTH,\n              t(\"getter_fe.profile.errors.displayNameMaxLength\", {\n                maxLength: MAX_USERNAME_LENGTH,\n              }),\n            )\n            .required(t(\"getter_fe.profile.errors.displayNameRequired\")),\n          bio: string()\n            .label(\"bio\")\n            .max(\n              MAX_BIO_LENGTH,\n              t(\"getter_fe.profile.errors.bioMaxLength\", {\n                maxLength: MAX_BIO_LENGTH,\n              }),\n            ),\n          location: string()\n            .label(\"location\")\n            .max(\n              MAX_LOCATION_LENGTH,\n              t(\"getter_fe.profile.errors.locationMaxLength\", {\n                maxLength: MAX_LOCATION_LENGTH,\n              }),\n            ),\n          website: string()\n            .label(\"website\")\n            .matches(\n              new RegExp(LINK_PATTERN_STRING, \"gi\"),\n              t(\"getter_fe.profile.errors.websiteInvalidUrl\"),\n            )\n            .max(\n              MAX_WEBSITE_LENGTH,\n              t(\"getter_fe.profile.errors.websiteMaxLength\", {\n                maxLength: MAX_WEBSITE_LENGTH,\n              }),\n            ),\n        })}\n        onSubmit={(\n          {username, bio, location, website, month, day, year, birthDate},\n          {setSubmitting, resetForm},\n        ) =>\n          _handleSubmit({\n            username,\n            bio,\n            location,\n            website,\n            month,\n            day,\n            year,\n            ico: croppedAvatarImage,\n            bgimg: croppedBannerImage,\n            birthDate: birthdate !== birthDate ? birthDate : null,\n          })\n        }\n      >\n        {({\n          values,\n          touched,\n          errors,\n          initialValues,\n          handleChange,\n          handleSubmit,\n          setFieldValue,\n          setFieldTouched,\n        }) => {\n          i18n.on(\"languageChanged\", (lng) => {\n            setTimeout(() => {\n              Object.keys(errors).forEach((fieldName) => {\n                if (touched[fieldName]) {\n                  setFieldTouched(fieldName);\n                }\n              });\n            }, 50);\n          });\n\n          const birthdayKeys = [\"month\", \"day\", \"year\"];\n\n          const isInitialValues =\n            Object.keys(initialValues).every((key) => {\n              if (birthdayKeys.indexOf(key) > -1 && !initialValues[key]) {\n                return birthdayKeys.some(\n                  (birthdayKey) =>\n                    initialValues[birthdayKey] === values[birthdayKey],\n                );\n              }\n              return initialValues[key] === values[key];\n            }) &&\n            (croppedBannerImage.length === 0 || bgimg === croppedBannerImage) &&\n            (croppedAvatarImage.length === 0 || ico === croppedAvatarImage);\n\n          return (\n            <form className=\"form\" onSubmit={handleSubmit}>\n              <DialogTitle className={classes.dialogTitle}>\n                <EditCloseIcon\n                  className={classes.dialogCloseIcon}\n                  onClick={handleClose}\n                />\n                <GTypography variant=\"h2\" className={classes.dialogTitleText}>\n                  {t(\"getter_fe.profile.common.editProfile\")}\n                </GTypography>\n                <div className={classes.dialogTitleOptions}>\n                  <GButton\n                    type=\"submit\"\n                    variant=\"contained\"\n                    className={classes.btn}\n                    onClick={handleSubmit}\n                    disabled={\n                      errors.username ||\n                      errors.location ||\n                      errors.bio ||\n                      errors.website ||\n                      errors.year ||\n                      errors.day ||\n                      errors.month ||\n                      isInitialValues\n                    }\n                  >\n                    {t(\"getter_fe.profile.common.save\")}\n                  </GButton>\n                </div>\n              </DialogTitle>\n              <div className={classes.ImageSettingsStyle}>\n                <ImageSettings\n                  renderCount={renderCount}\n                  setRenderCount={setRenderCount}\n                  isAvatarOpen={isAvatarOpen}\n                  setAvatarOpen={setAvatarOpen}\n                  avatarLocalImage={avatarLocalImage}\n                  setAvatarLocalImage={setAvatarLocalImage}\n                  croppedAvatarImage={croppedAvatarImage}\n                  setCroppedAvatarImage={setCroppedAvatarImage}\n                  isBannerOpen={isBannerOpen}\n                  setBannerOpen={setBannerOpen}\n                  bannerLocalImage={bannerLocalImage}\n                  setBannerLocalImage={setBannerLocalImage}\n                  croppedBannerImage={croppedBannerImage}\n                  setCroppedBannerImage={setCroppedBannerImage}\n                />\n              </div>\n              <DialogContent className={classes.dialogContent}>\n                <FormControl fullWidth className={classes.formControl}>\n                  <GTextField\n                    id=\"username-field\"\n                    type=\"charValidate\"\n                    name=\"username\"\n                    value={values.username ? values.username : \"\"}\n                    onChange={handleChange}\n                    error={errors.username}\n                    className={classes.inputField}\n                    label={t(\"getter_fe.profile.common.displayName\")}\n                    charCount={values.username?.length || 0}\n                    maxCharLength={MAX_USERNAME_LENGTH}\n                  />\n                  <div className={classes.formHelperContainer}>\n                    {errors.username && (\n                      <WarningIcon className={classes.warningIcon} />\n                    )}\n                    <FormHelperText\n                      className={classes.error}\n                      error={Boolean(touched.username || errors.username)}\n                    >\n                      {touched.username || errors.username\n                        ? errors.username\n                        : \"\"}\n                    </FormHelperText>\n                  </div>\n                </FormControl>\n                <FormControl\n                  fullWidth\n                  error={Boolean(touched.bio || errors.bio)}\n                  className={classes.formControl}\n                >\n                  <GTextField\n                    id=\"bio-field\"\n                    type=\"charValidate\"\n                    name=\"bio\"\n                    value={values.bio ? values.bio : \"\"}\n                    onChange={handleChange}\n                    error={errors.bio}\n                    className={classes.inputField}\n                    label={t(\"getter_fe.profile.common.bio\")}\n                    charCount={values.bio?.length || 0}\n                    maxCharLength={MAX_BIO_LENGTH}\n                  />\n                  <div className={classes.formHelperContainer}>\n                    {errors.bio && (\n                      <WarningIcon className={classes.warningIcon} />\n                    )}\n                    <FormHelperText\n                      className={classes.error}\n                      error={Boolean(touched.bio || errors.bio)}\n                    >\n                      {touched.bio || errors.bio ? errors.bio : \"\"}\n                    </FormHelperText>\n                  </div>\n                </FormControl>\n                <FormControl\n                  fullWidth\n                  className={clsx(classes.formControl, classes.formControlCP)}\n                >\n                  <GTextField\n                    id=\"location-field\"\n                    type=\"charValidate\"\n                    name=\"location\"\n                    value={values.location ? values.location : \"\"}\n                    onChange={handleChange}\n                    error={errors.location}\n                    className={classes.inputField}\n                    label={t(\"getter_fe.profile.common.location\")}\n                    charCount={values.location?.length || 0}\n                    maxCharLength={MAX_LOCATION_LENGTH}\n                  />\n                  <div className={classes.formHelperContainer}>\n                    {errors.location && (\n                      <WarningIcon className={classes.warningIcon} />\n                    )}\n                    <FormHelperText\n                      className={classes.error}\n                      error={Boolean(touched.location || errors.location)}\n                    >\n                      {touched.location || errors.location\n                        ? errors.location\n                        : \"\"}\n                    </FormHelperText>\n                  </div>\n                </FormControl>\n                <FormControl\n                  fullWidth\n                  className={clsx(classes.formControl, classes.formControlCP)}\n                >\n                  <GTextField\n                    id=\"website-field\"\n                    type=\"charValidate\"\n                    name=\"website\"\n                    value={\n                      values.website && values.website !== \"null\"\n                        ? values.website\n                        : \"\"\n                    }\n                    onChange={handleChange}\n                    error={errors.website}\n                    className={classes.inputField}\n                    label={t(\"getter_fe.profile.common.website\")}\n                    charCount={values.website?.length || 0}\n                    maxCharLength={MAX_WEBSITE_LENGTH}\n                  />\n                  <div className={classes.formHelperContainer}>\n                    {errors.website && (\n                      <WarningIcon className={classes.warningIcon} />\n                    )}\n                    <FormHelperText\n                      className={classes.error}\n                      error={Boolean(touched.website || errors.website)}\n                    >\n                      {touched.website || errors.website ? errors.website : \"\"}\n                    </FormHelperText>\n                  </div>\n                </FormControl>\n                <div className={classes.dialogBirthDateTitle}>\n                  <div>{t(\"getter_fe.profile.common.birth_date\")}</div>\n                </div>\n                <div className={classes.dialogBirthDateComment}>\n                  {t(\"getter_fe.profile.common.birth_date_helper_text\")}\n                </div>\n                {isTabletOrMobile ? (\n                  <FormControl>\n                    <input\n                      type=\"date\"\n                      name=\"birthDate\"\n                      id=\"birthDate\"\n                      value={values.birthDate}\n                      onChange={handleChange}\n                      style={{padding: 0}}\n                    />\n                  </FormControl>\n                ) : (\n                  <div className={classes.selectsWrapper}>\n                    <FormControl className={classes.birthDateControl}>\n                      <InputLabel id=\"year-label\">\n                        {t(\"getter_fe.profile.common.year\")}\n                      </InputLabel>\n                      <Select\n                        labelId=\"year-label\"\n                        id=\"year\"\n                        name=\"year\"\n                        onChange={handleChange}\n                        value={values.year}\n                        className={classes.select}\n                      >\n                        <MenuItem aria-label=\"None\" value=\"\">\n                          {t(\"getter_fe.profile.common.year\")}\n                        </MenuItem>\n                        {years.map((year, idx) => {\n                          return (\n                            <MenuItem key={`${year}-${idx}`} value={year}>\n                              {year}\n                            </MenuItem>\n                          );\n                        })}\n                      </Select>\n                    </FormControl>\n                    <FormControl className={classes.birthDateControl}>\n                      <InputLabel id=\"month-label\">\n                        {t(\"getter_fe.profile.common.month\")}\n                      </InputLabel>\n                      <Select\n                        labelId=\"month-label\"\n                        id=\"month\"\n                        name=\"month\"\n                        onChange={handleChange}\n                        value={values.month}\n                        className={classes.select}\n                      >\n                        <MenuItem aria-label=\"None\" value=\"\">\n                          {t(\"getter_fe.profile.common.month\")}\n                        </MenuItem>\n                        {months.map((month, idx) => {\n                          return (\n                            <MenuItem key={`${month}-${idx}`} value={month}>\n                              {month < 10 ? `0${month}` : month}\n                            </MenuItem>\n                          );\n                        })}\n                      </Select>\n                    </FormControl>\n                    <FormControl className={classes.birthDateControl}>\n                      <InputLabel id=\"day-label\">\n                        {t(\"getter_fe.profile.common.day\")}\n                      </InputLabel>\n                      <Select\n                        labelId=\"day-label\"\n                        id=\"day\"\n                        name=\"day\"\n                        onChange={handleChange}\n                        value={values.day}\n                        className={classes.select}\n                      >\n                        <MenuItem aria-label=\"None\" value=\"\">\n                          {t(\"getter_fe.profile.common.day\")}\n                        </MenuItem>\n                        {days.map((day, idx) => {\n                          return (\n                            <MenuItem key={`${day}-${idx}`} value={day}>\n                              {day < 10 ? `0${day}` : day}\n                            </MenuItem>\n                          );\n                        })}\n                      </Select>\n                    </FormControl>\n                  </div>\n                )}\n\n                {errors.year && (\n                  <div className={classes.formHelperContainer}>\n                    <WarningIcon className={classes.warningIcon} />\n                    <FormHelperText error={true} className={classes.errorTxt}>\n                      {errors.year}\n                    </FormHelperText>\n                  </div>\n                )}\n                {values.year && values.month && values.day ? (\n                  <div\n                    className={classes.removeBirthDate}\n                    onClick={() => {\n                      setFieldValue(\"year\", \"\");\n                      setFieldValue(\"month\", \"\");\n                      setFieldValue(\"day\", \"\");\n                      setFieldValue(\"birthDate\", \"\");\n                    }}\n                  >\n                    {t(\"getter_fe.profile.common.removeBirthDate\")}\n                  </div>\n                ) : null}\n              </DialogContent>\n            </form>\n          );\n        }}\n      </Formik>\n    </>\n  );\n};\n","import React, {useState} from \"react\";\nimport {Dialog} from \"@material-ui/core\";\nimport {createStyles, makeStyles, useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport {GButton} from \"../../../../styles/components/GButton\";\nimport {EditProfileForm} from \"./EditProfileForm\";\n\nimport {t} from \"../../../../i18n/utils\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      zIndex: \"1300 !important\",\n      \"& .MuiDialog-container\": {\n        backgroundColor: \"rgba(27, 27, 27, 0.9)\",\n      },\n    },\n    dialogPaper: {\n      height: \"max-content\",\n      maxHeight: 1000,\n      maxHeight: \"96vh\",\n      \"&.MuiDialog-paperWidthSm\": {\n        maxWidth: 658,\n      },\n      borderRadius: theme.spacing(1.5),\n      [theme.breakpoints.down(\"sm\")]: {\n        borderRadius: 0,\n        maxHeight: \"100vh\",\n        height: \"100%\",\n      },\n    },\n    dialogCloseIcon: {\n      cursor: \"pointer\",\n    },\n    dialogBanner: {\n      position: \"relative\",\n      height: 150,\n      backgroundColor: \"#DEDEDE\",\n    },\n    dialogCameraBig: {\n      position: \"absolute\",\n      top: \"40%\",\n      left: \"46%\",\n      cursor: \"pointer\",\n    },\n    dialogCameraSmall: {\n      cursor: \"pointer\",\n      position: \"absolute\",\n      zIndex: 1,\n      top: \"40%\",\n      left: \"6.75%\",\n    },\n    dialogContent: {\n      transform: \"translateY(-50px)\",\n    },\n    dialogAvatar: {\n      position: \"relative\",\n      \"& > div\": {\n        borderRadius: \"50%\",\n        border: \"3px solid white\",\n      },\n    },\n    avatar: {\n      height: 100,\n      width: 100,\n    },\n    btn: {\n      borderRadius: 20,\n      width: 110,\n      height: 40,\n      \"& .MuiButton-label\": {\n        fontWeight: 700,\n        fontSize: 15,\n        lineHeight: \"18px\",\n        width: 80,\n        whiteSpace: \"nowrap\",\n      },\n      \"&:hover\": {\n        backgroundColor: `${theme.palette.background.notif} !important`,\n      },\n    },\n  }),\n);\n\nexport default function EditProfileDialog({\n  objId,\n  avatarUrl,\n  userId,\n  nickname,\n  location,\n  website,\n  birthdate,\n  dsc,\n  bgimg,\n  refreshView,\n}) {\n  const [open, setOpen] = useState(false);\n  const classes = useStyles();\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  return (\n    <>\n      <GButton\n        className={classes.btn}\n        variant=\"outlined\"\n        onClick={handleClickOpen}\n      >\n        {t(\"getter_fe.profile.common.editProfile\")}\n      </GButton>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth={true}\n        maxWidth={\"sm\"}\n        fullScreen={fullScreen}\n        classes={{root: classes.root, paper: classes.dialogPaper}}\n      >\n        <div style={{overflow: \"auto\"}}>\n          <EditProfileForm\n            objId={objId}\n            userId={userId}\n            nickname={nickname}\n            location={location}\n            birthdate={birthdate}\n            website={website}\n            ico={avatarUrl}\n            bgimg={bgimg}\n            dsc={dsc}\n            handleClose={handleClose}\n            refreshView={refreshView}\n          />\n        </div>\n      </Dialog>\n    </>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.8514 3.69727H3.1486C2.65232 3.69727 2.25 4.09958 2.25 4.59586V14.8517C2.25 15.3479 2.65232 15.7503 3.1486 15.7503H14.8514C15.3477 15.7503 15.75 15.3479 15.75 14.8517V4.59586C15.75 4.09958 15.3477 3.69727 14.8514 3.69727Z\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.73096 8.03418H15.2691\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.8942 2.25V4.39407\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.10596 2.25V4.39407\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoDate(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoDate);\nexport default __webpack_public_path__ + \"static/media/ico-date.7697ac19.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.8891 23.3102C17.8499 24.6728 15.4525 25.4 13 25.4C9.71131 25.4 6.55731 24.0936 4.23186 21.7681C1.90642 19.4427 0.6 16.2887 0.6 13C0.6 10.5475 1.32724 8.1501 2.68976 6.11093C4.05229 4.07176 5.98893 2.48243 8.25473 1.5439C10.5205 0.605373 13.0138 0.359812 15.4191 0.838268C17.8245 1.31672 20.034 2.49771 21.7681 4.23188C23.5023 5.96606 24.6833 8.17551 25.1617 10.5809C25.6402 12.9862 25.3946 15.4795 24.4561 17.7453C23.5176 20.0111 21.9282 21.9477 19.8891 23.3102Z\",\n  stroke: \"#232255\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 13,\n  cy: 13.0003,\n  r: 1.08333,\n  fill: \"#232255\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 7.58333,\n  cy: 13.0003,\n  r: 1.08333,\n  fill: \"#232255\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 18.4167,\n  cy: 13.0003,\n  rx: 1.08333,\n  ry: 1.08333,\n  fill: \"#232255\"\n});\n\nfunction SvgIconProfileOptions(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26,\n    height: 26,\n    viewBox: \"0 0 26 26\",\n    fill: \"none\",\n    className: \"jss2155\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconProfileOptions);\nexport default __webpack_public_path__ + \"static/media/icon_profile_options.7471ff14.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.15672 0.75C7.52034 0.755218 5.95292 1.4096 4.79859 2.56947C3.64427 3.72933 2.99739 5.29988 3.00001 6.93627C3.00001 10.3545 9.15672 17.25 9.15672 17.25C9.15672 17.25 15.3134 10.3545 15.3134 6.93627C15.3161 5.29988 14.6692 3.72933 13.5149 2.56947C12.3605 1.4096 10.7931 0.755218 9.15672 0.75V0.75ZM9.15672 9.46791C8.65539 9.47084 8.16448 9.32485 7.74621 9.04845C7.32795 8.77206 7.00116 8.3777 6.80728 7.91537C6.6134 7.45304 6.56116 6.94355 6.65717 6.45149C6.75318 5.95943 6.99312 5.50695 7.34658 5.15142C7.70004 4.79588 8.1511 4.5533 8.64259 4.45441C9.13408 4.35552 9.64386 4.40478 10.1073 4.59596C10.5708 4.78713 10.967 5.1116 11.2459 5.52824C11.5247 5.94488 11.6736 6.43493 11.6736 6.93627C11.6749 7.60554 11.4106 8.248 10.9388 8.72264C10.4669 9.19727 9.826 9.4653 9.15672 9.46791V9.46791Z\",\n  stroke: \"#4D6384\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoLocation(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 18,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoLocation);\nexport default __webpack_public_path__ + \"static/media/ico-location.ddcf5408.svg\";\nexport { ForwardRef as ReactComponent };","import {makeStyles} from \"@material-ui/core\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport {t} from \"../../../../i18n/utils\";\n\nimport {ReactComponent as IconShare} from \"src/assets/icons/ico-share.svg\";\nimport {ReactComponent as UnmuteIcon} from \"src/assets/icons/ico-unmute.svg\";\nimport {ReactComponent as BlockIcon} from \"src/assets/icons/ico-block.svg\";\nimport {ReactComponent as ReportIcon} from \"src/assets/icons/ico-report.svg\";\nimport {ReactComponent as MuteIcon} from \"src/assets/icons/ico-mute.svg\";\nimport {ReactComponent as DeleteIcon} from \"src/assets/icons/ico-delete.svg\";\nimport {UIStyleConsts} from \"src/app/AppConsts\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) => ({\n  iconShare: {\n    \"& path\": {\n      stroke: \"#000\",\n    },\n  },\n}));\n\nexport const DropdownMenuItems = ({\n  username,\n  setDrawerOpen,\n  isMuted,\n  isBlocked,\n  isSuspended,\n  handleMute,\n  handleBlock,\n  handleSuspend,\n  handleReport,\n  canShowMuted,\n  canShowBlocked,\n  handleClaim,\n}) => {\n  const classes = useStyles();\n  const userHasModeratorRole = Global.GetPortal().userHasModeratorRole();\n\n  return (\n    <>\n      <div className={UIStyleConsts.DROPDOWN_MENU_ITEM} onClick={setDrawerOpen}>\n        <CopyToClipboard\n          text={window.location.origin + location.pathname}\n          onCopy={() => {\n            toast.info(\n              <NotifMessage\n                message={t(\"getter_fe.post.tips.link_has_been_copied\")}\n              />,\n              {\n                type: toast.TYPE.SUCCESS,\n              },\n            );\n          }}\n        >\n          <div className=\"wrapper\">\n            <div className=\"icon\">\n              <IconShare className={classes.iconShare} />\n            </div>\n            <div className=\"menu-item-name\">\n              {t(\"getter_fe.profile.common.shareUsername\", {username})}\n            </div>\n          </div>\n        </CopyToClipboard>\n      </div>\n      {/*<div\n        className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n        onClick={() => handleClaim()}\n      >\n        <div className=\"wrapper\">\n          <div className=\"icon\">\n            <ReportIcon />\n          </div>\n          <div className=\"menu-item-name\">\n            {t(\"getter_fe.profile.common.claim\", {\n              username,\n            })}\n          </div>\n        </div>\n      </div>*/}\n      {canShowMuted &&\n        isMuted && ( //this.state.ismuted\n          <div\n            className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n            onClick={() => handleMute()}\n          >\n            <div className=\"wrapper\">\n              <div className=\"icon\">\n                <UnmuteIcon />\n              </div>\n              <div className=\"menu-item-name\">\n                {t(\"getter_fe.profile.common.unmuteUsername\", {\n                  username,\n                })}\n              </div>\n            </div>\n          </div>\n        )}\n\n      {canShowMuted && !isMuted && (\n        <div\n          className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n          onClick={() => handleMute()}\n        >\n          <div className=\"wrapper\">\n            <div className=\"icon\">\n              <MuteIcon />\n            </div>\n            <div className=\"menu-item-name\">\n              {t(\"getter_fe.profile.common.muteUsername\", {\n                username,\n              })}\n            </div>\n          </div>\n        </div>\n      )}\n      {canShowBlocked &&\n        isBlocked && ( //this.state.isblocked\n          <div\n            className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n            onClick={() => handleBlock()}\n          >\n            <div className=\"wrapper\">\n              <div className=\"icon\">\n                <BlockIcon />\n              </div>\n              <div className=\"menu-item-name\">\n                {t(\"getter_fe.profile.common.unblockUsername\", {\n                  username,\n                })}\n              </div>\n            </div>\n          </div>\n        )}\n\n      {canShowBlocked && !isBlocked && (\n        <div\n          className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n          onClick={() => handleBlock()}\n        >\n          <div className=\"wrapper\">\n            <div className=\"icon\">\n              <BlockIcon />\n            </div>\n            <div className=\"menu-item-name\">\n              {t(\"getter_fe.profile.common.blockUsername\", {username})}\n            </div>\n          </div>\n        </div>\n      )}\n      <div\n        className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n        onClick={() => handleReport()}\n      >\n        <div className=\"wrapper\">\n          <div className=\"icon\">\n            <ReportIcon />\n          </div>\n          <div className=\"menu-item-name\">\n            {t(\"getter_fe.profile.common.reportUsername\", {username})}\n          </div>\n        </div>\n      </div>\n      {/* {userHasModeratorRole && isSuspended && (\n        <div\n          className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n          onClick={() => handleSuspend()}\n        >\n          <div className=\"wrapper\">\n            <div className=\"icon\">\n              <DeleteIcon />\n            </div>\n            <div className=\"menu-item-name\">\n              {t(\"getter_fe.profile.common.unsuspendUser\", {\n                username,\n              })}\n            </div>\n          </div>\n        </div>\n      )} */}\n      {userHasModeratorRole && !isSuspended && (\n        <div\n          className={UIStyleConsts.DROPDOWN_MENU_ITEM}\n          onClick={() => handleSuspend()}\n        >\n          <div className=\"wrapper\">\n            <div className=\"icon\">\n              <DeleteIcon />\n            </div>\n            <div className=\"menu-item-name\">\n              {t(\"getter_fe.profile.common.suspendUser\", {\n                username,\n              })}\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n","import {makeStyles} from \"@material-ui/core\";\nimport {useEffect, useState} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Link} from \"react-router-dom\";\nimport {Waypoint} from \"react-waypoint\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {CommentFeedItem} from \"src/app/components/post/comps/CommentFeedItem\";\nimport {\n  fetchUserComments,\n  clearUserComments,\n  incrementOffset,\n} from \"src/app/components/comment/store\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport {t} from \"src/i18n/utils\";\nimport {commentsConstants} from \"src/app/components/comment/_constants\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(1),\n  },\n  commentContainer: {\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n  },\n  claimTop: {\n    width: \"100%\",\n    height: \"44px\",\n    marginBottom: \"15px\",\n  },\n  tellTwitter: {\n    width: \"100%\",\n    background: \"rgba(47, 128, 237, 0.15)\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    height: \"44px\",\n    paddingTop: \"10px\",\n  },\n\n  link: {\n    fontFamily: \"PingFang SC\",\n    fontStyle: \"normal\",\n    fontWeight: \"600\",\n    fontSize: \"16px\",\n    lineHeight: \"22px\",\n    color: \"#2F80ED\",\n  },\n  sync: {\n    width: \"100%\",\n    fontFamily: \"PingFang SC\",\n    fontStyle: \"normal\",\n    fontWeight: \"600\",\n    fontSize: \"16px\",\n    lineHeight: \"22px\",\n    textAlign: \"center\",\n    marginTop: \"40px\",\n    marginBottom: \"8px\",\n    color: \"#333333\",\n  },\n  sync2: {\n    width: \"100%\",\n    fontFamily: \"PingFang SC\",\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    fontSize: \"16px\",\n    lineHeight: \"22px\",\n    textAlign: \"center\",\n    marginBottom: \"20px\",\n    color: \"#999999\",\n  },\n  noDataWrapper: {\n    textAlign: \"center\",\n    marginTop: \"32px\",\n    marginBottom: \"32px\",\n  },\n  noDataTips: {\n    fontSize: \"18px\",\n    lineHeight: \"21px\",\n    color: \"#000\",\n    marginBottom: theme.spacing(1),\n  },\n  noDataSubtext: {\n    color: theme.palette.text.gray,\n  },\n}));\n\nconst connector = connect(\n  (state) => {\n    return {\n      loggedinUserId: state.auth.session?.userinfo?._id,\n      loggedinUserInfo: state.auth.session?.userinfo,\n      isLoading: state.userComments.commentFeed.isLoading,\n      data: state.userComments.commentFeed.data,\n      reachEnd: state.userComments.commentFeed.reachEnd,\n      offset: state.userComments.commentFeed.offset,\n    };\n  },\n  {fetchUserComments, clearUserComments, incrementOffset},\n);\n\nexport const CommentFeed = connector(_CommentFeed);\n\nfunction _CommentFeed({\n  userId,\n  loggedinUserId,\n  loggedinUserInfo,\n  wrapperStyle,\n  userNickname,\n  isMyProfile,\n  isLoading,\n  data,\n  offset,\n  fetchUserComments,\n  clearUserComments,\n  incrementOffset,\n  reachEnd,\n}) {\n  const classes = useStyles();\n  const {MAX_BATCH_SIZE: maxBatchSize} = commentsConstants;\n  const [importStatus, setImportStatus] = useState(false);\n  const [tellTwitter, setTellTwitter] = useState(false);\n  const [endHours, setEndHours] = useState(48);\n\n  const api = Global.GetPortal().getAppService();\n\n  useEffect(() => {\n    return () => clearUserComments();\n  }, []);\n\n  useEffect(() => {\n    // code for keeping comments when other routes are using redux\n    // const userCommentId = data[0]?.getPosterId();\n\n    // if (userCommentId && userCommentId !== userId) {\n    //   // handles the case where you view a new comment feed\n    //   clearUserComments();\n    // } else if ((offset + 1) * maxBatchSize === data.length || reachEnd) {\n    //   // handles the case where youve left the page and returned to the same comment feed\n    //   return;\n    // }\n\n    fetchUserComments({\n      userId,\n      offset,\n      maxBatchSize,\n      api,\n    });\n  }, [userId, offset]);\n\n  const fetchAsyncStatus = async () => {\n    if (userId === loggedinUserId) {\n      let response;\n      const config = {\n        method: \"get\",\n        url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/import`,\n      };\n\n      await GAxios(\n        config,\n        (res) => {\n          if (!res?.data?.result?.status?.finished) {\n            setImportStatus(true);\n          }\n          if (!res.data.result) {\n            response = false;\n          }\n        },\n        (err) => {\n          console.error(err);\n          response = false;\n        },\n      );\n      return response;\n    }\n  };\n\n  useEffect(() => {\n    if (userId === loggedinUserId) {\n      let now = Date.now();\n      let hours = (now - loggedinUserInfo?.cdate) / (1000 * 60 * 60);\n      setEndHours(48 - Math.floor(hours));\n      let mins = (now - loggedinUserInfo?.cdate) / (1000 * 60);\n      const imPost = localStorage.getItem(userId + \"_imPost\");\n\n      if (hours < 48 && mins > 1 && imPost) {\n        let res = fetchAsyncStatus();\n      }\n\n      if (mins < 1 && imPost) {\n        setImportStatus(true);\n      }\n      if (hours < 24) {\n        // setTellTwitter(true);\n      }\n    }\n  }, [userId]);\n\n  if (!data.length && isLoading) {\n    return <GLoader wrapperStyle={wrapperStyle} />;\n  }\n\n  if (!data.length) {\n    return (\n      <>\n        {tellTwitter && !importStatus && (\n          <div className={classes.claimTop}>\n            <div className={classes.tellTwitter}>\n              <Link\n                className={classes.link}\n                onClick={() => {\n                  let text = t(\"getter_fe.auth.claim.tellTwitterText\");\n                  let href = window.location.origin + `/user/${userId}`;\n                  window.open(\n                    `https://twitter.com/intent/tweet?url=${href}&text=${text}`,\n                    \"_blank\",\n                  );\n                }}\n              >\n                {t(\"getter_fe.auth.claim.tellTwitter\")}\n              </Link>\n            </div>\n          </div>\n        )}\n        <div className={classes.noDataWrapper}>\n          <h5 className={classes.noDataTips}>\n            <GTwemoji\n              text={\n                isMyProfile\n                  ? t(\"getter_fe.profile.common.youHaventCommented\")\n                  : t(\"getter_fe.profile.common.otherHasntCommented\", {\n                      name: userNickname,\n                    })\n              }\n            />\n          </h5>\n          <p className={classes.noDataSubtext}>\n            {isMyProfile\n              ? t(\"getter_fe.profile.common.youNoPostLikeOrCommentSubtext\")\n              : t(\"getter_fe.profile.common.otherNoPostLikeOrCommentSubtext\")}\n          </p>\n        </div>\n      </>\n    );\n  }\n  return (\n    <div className={classes.root}>\n      {tellTwitter && !importStatus && (\n        <div className={classes.claimTop}>\n          <div className={classes.tellTwitter}>\n            <Link\n              className={classes.link}\n              onClick={() => {\n                let text = t(\"getter_fe.auth.claim.tellTwitterText\");\n                let href = window.location.origin + `/user/${userId}`;\n                window.open(\n                  `https://twitter.com/intent/tweet?url=${href}&text=${text}`,\n                  \"_blank\",\n                );\n              }}\n            >\n              {t(\"getter_fe.auth.claim.tellTwitter\")}\n            </Link>\n          </div>\n        </div>\n      )}\n      <div>\n        {importStatus && !forMedias && (\n          <div className={classes.claimTop}>\n            <div className={classes.sync}>\n              {t(\"getter_fe.auth.common.importingMSG1\")}\n            </div>\n            <div className={classes.sync2}>\n              {t(\"getter_fe.auth.common.importingMSG2\", {hours: endHours})}\n            </div>\n          </div>\n        )}\n      </div>\n      {data.map((comment, idx) => (\n        <div key={idx} className={classes.commentContainer}>\n          <CommentFeedItem comment={comment} />\n        </div>\n      ))}\n      {reachEnd ? null : (\n        <Waypoint\n          scrollableAncestor={window}\n          onEnter={() => incrementOffset()}\n        />\n      )}\n    </div>\n  );\n}\n","import {makeStyles} from \"@material-ui/core\";\nimport {connect} from \"react-redux\";\nimport {Link} from \"react-router-dom\";\nimport {useEffect, useState} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {Waypoint} from \"react-waypoint\";\nimport API from \"src/core/API\";\nimport {t} from \"src/i18n/utils\";\nimport {setPostStatus} from \"src/app/components/timeline/store\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {CommentFeedItem} from \"src/app/components/post/comps/CommentFeedItem\";\nimport {PostFeedItem} from \"src/app/components/post/comps/PostFeedItem\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport {postConstants} from \"src/app/components/post/_constants\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(1),\n  },\n  commentContainer: {\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n  },\n  claimTop: {\n    width: \"100%\",\n    height: \"44px\",\n    marginBottom: \"15px\",\n  },\n  tellTwitter: {\n    width: \"100%\",\n    background: \"rgba(47, 128, 237, 0.15)\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    height: \"44px\",\n    paddingTop: \"10px\",\n  },\n  link: {\n    fontFamily: \"PingFang SC\",\n    fontStyle: \"normal\",\n    fontWeight: \"600\",\n    fontSize: \"16px\",\n    lineHeight: \"22px\",\n    color: \"#2F80ED\",\n  },\n  sync: {\n    width: \"100%\",\n    fontFamily: \"PingFang SC\",\n    fontStyle: \"normal\",\n    fontWeight: \"600\",\n    fontSize: \"16px\",\n    lineHeight: \"22px\",\n    textAlign: \"center\",\n    marginTop: \"40px\",\n    marginBottom: \"8px\",\n    color: \"#333333\",\n  },\n  sync2: {\n    width: \"100%\",\n    fontFamily: \"PingFang SC\",\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    fontSize: \"16px\",\n    lineHeight: \"22px\",\n    textAlign: \"center\",\n    marginBottom: \"20px\",\n    color: \"#999999\",\n  },\n  noDataWrapper: {\n    textAlign: \"center\",\n    marginTop: \"32px\",\n    marginBottom: \"32px\",\n  },\n  noDataTips: {\n    fontSize: \"18px\",\n    lineHeight: \"21px\",\n    color: \"#000\",\n    marginBottom: theme.spacing(1),\n  },\n  noDataSubtext: {\n    color: theme.palette.text.gray,\n  },\n}));\n\nconst MAX_BATCH_SIZE = 20;\n\nconst connector = connect((state) => {\n  return {\n    loggedinUserInfo: state.auth.session?.userinfo,\n    authenticated: state.auth?.session?.authenticated,\n    loggedinUserId: state.auth.session?.userinfo?._id,\n    likedPosts: state.timelineNew.userFeed.likedPosts,\n  };\n}, {});\n\nexport const LikeFeed = connector(_LikeFeed);\n\nfunction _LikeFeed({\n  likedPosts,\n  userId,\n  loggedinUserId,\n  loggedinUserInfo,\n  wrapperStyle,\n  isMyProfile,\n  userNickname,\n  authenticated,\n}) {\n  const dispatch = useDispatch();\n  const [likedItems, setLikedItems] = useState(null);\n  const [offset, setOffset] = useState(0);\n  const [nbrRemoved, setNbrRemoved] = useState(0);\n  const [userList, setUserList] = useState(null);\n  const [likedComments, setLikedComments] = useState([]);\n  const [sharedComments, setSharedComments] = useState([]);\n  const [importStatus, setImportStatus] = useState(false);\n  const [tellTwitter, setTellTwitter] = useState(false);\n  const [endHours, setEndHours] = useState(48);\n\n  const classes = useStyles();\n\n  const api = Global.GetPortal().getAppService();\n\n  const reachedEnd =\n    Array.isArray(likedItems) &&\n    (likedItems.length === 0 ||\n      (likedItems.length + nbrRemoved) % MAX_BATCH_SIZE !== 0);\n\n  const fetchAsyncStatus = async () => {\n    if (userId === loggedinUserId) {\n      let response;\n      const config = {\n        method: \"get\",\n        url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/import`,\n      };\n\n      await GAxios(\n        config,\n        (res) => {\n          if (!res?.data?.result?.status?.finished) {\n            setImportStatus(true);\n          }\n          if (!res.data.result) {\n            response = false;\n          }\n        },\n        (err) => {\n          console.error(err);\n          response = false;\n        },\n      );\n      return response;\n    }\n  };\n\n  useEffect(() => {\n    const fetchLikedPostsAndComments = async () => {\n      const res = await api.fetchUserPosts(\n        userId,\n        offset * MAX_BATCH_SIZE,\n        MAX_BATCH_SIZE,\n        Date.now(),\n        API.DIRECTION_FORWARD,\n        null,\n        \"l\", // l for liked\n      );\n      // set liked comments\n      if (res.aux?.lks) {\n        setLikedComments(res.aux.lks);\n      }\n\n      // set shared comments\n      if (res.aux?.shrs) {\n        setSharedComments(res.aux.shrs);\n      }\n\n      if (res?.aux?.removed) {\n        setNbrRemoved(res?.aux?.removed);\n      }\n\n      if (res?.aux?.uinf) {\n        setUserList(res.aux.uinf);\n      }\n\n      dispatch(\n        setPostStatus({\n          likes: res.aux?.lks,\n          shares: res.aux?.shrs,\n        }),\n      );\n      const items = res.getXPostItems(true);\n      return items;\n    };\n\n    (async () => {\n      const items = await fetchLikedPostsAndComments();\n      setLikedItems(items);\n    })();\n  }, [userId, offset]);\n\n  useEffect(() => {\n    if (userId === loggedinUserId) {\n      let now = Date.now();\n      let hours = (now - loggedinUserInfo?.cdate) / (1000 * 60 * 60);\n      setEndHours(48 - Math.floor(hours));\n      let mins = (now - loggedinUserInfo?.cdate) / (1000 * 60);\n      const imPost = localStorage.getItem(userId + \"_imPost\");\n      if (hours < 48 && mins > 1 && imPost) {\n        let res = fetchAsyncStatus();\n      }\n      if (mins < 1 && imPost) {\n        setImportStatus(true);\n      }\n      if (hours < 24) {\n        // setTellTwitter(true);\n      }\n    }\n  }, [userId]);\n\n  if (!likedItems) {\n    return <GLoader wrapperStyle={wrapperStyle} />;\n  }\n\n  if (!likedItems.length) {\n    return (\n      <>\n        {tellTwitter && !importStatus && (\n          <div className={classes.claimTop}>\n            <div className={classes.tellTwitter}>\n              <Link\n                className={classes.link}\n                onClick={() => {\n                  let text = t(\"getter_fe.auth.claim.tellTwitterText\");\n                  let href = window.location.origin + `/user/${userId}`;\n                  window.open(\n                    `https://twitter.com/intent/tweet?url=${href}&text=${text}`,\n                    \"_blank\",\n                  );\n                }}\n              >\n                {t(\"getter_fe.auth.claim.tellTwitter\")}\n              </Link>\n            </div>\n          </div>\n        )}\n        <div className={classes.noDataWrapper}>\n          <h5 className={classes.noDataTips}>\n            <GTwemoji\n              text={\n                isMyProfile\n                  ? t(\"getter_fe.profile.common.youHaventLiked\")\n                  : t(\"getter_fe.profile.common.otherHasntLiked\", {\n                      name: userNickname,\n                    })\n              }\n            />\n          </h5>\n          <p className={classes.noDataSubtext}>\n            {isMyProfile\n              ? t(\"getter_fe.profile.common.youNoPostLikeOrCommentSubtext\")\n              : t(\"getter_fe.profile.common.otherNoPostLikeOrCommentSubtext\")}\n          </p>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <div className={classes.root}>\n      {tellTwitter && !importStatus && (\n        <div className={classes.claimTop}>\n          <div className={classes.tellTwitter}>\n            <Link\n              className={classes.link}\n              onClick={() => {\n                let text = t(\"getter_fe.auth.claim.tellTwitterText\");\n                let href = window.location.origin + `/user/${userId}`;\n                window.open(\n                  `https://twitter.com/intent/tweet?url=${href}&text=${text}`,\n                  \"_blank\",\n                );\n              }}\n            >\n              {t(\"getter_fe.auth.claim.tellTwitter\")}\n            </Link>\n          </div>\n        </div>\n      )}\n      {likedItems?.map((item, idx) => {\n        const sharedPost = item.getLikedSharedPost && item.getLikedSharedPost();\n        const thePosterId = item?.data?.activity?.tgt_oid;\n        const replyToUserId = item?.data?.activity?.opuid;\n\n        return item.data.activity.action === \"likes_cm\" ? (\n          <div\n            className={classes.commentContainer}\n            style={{\n              display:\n                loggedinUserId === userId &&\n                !likedPosts.includes(item.getPostId())\n                  ? \"none\"\n                  : \"\",\n            }}\n            key={idx}\n          >\n            {userList ? (\n              <CommentFeedItem\n                comment={item}\n                usermap={userList}\n                thePosterId={thePosterId}\n                replyToUserId={replyToUserId}\n                likedCommentsTab={likedComments}\n                sharedCommentsTab={sharedComments}\n                type={postConstants.TAB_LIKE}\n              />\n            ) : null}\n          </div>\n        ) : (\n          <div\n            style={{\n              display:\n                loggedinUserId === userId &&\n                !likedPosts.includes(item.getPostId())\n                  ? \"none\"\n                  : \"\",\n            }}\n          >\n            <PostFeedItem\n              item={item}\n              userId={userId}\n              scene=\"profile\"\n              key={item.data.activity.pstid + idx}\n              userId={item.getTargetId()}\n              sharedObj={sharedPost}\n              postId={item.getPostId()}\n            />\n          </div>\n        );\n      })}\n      {reachedEnd ? null : (\n        <Waypoint\n          scrollableAncestor={window}\n          onEnter={() => setOffset((oldOffset) => oldOffset + 1)}\n        />\n      )}\n    </div>\n  );\n}\n","import {connect} from \"react-redux\";\nimport {\n  makeStyles,\n  Tab,\n  Tabs,\n  useMediaQuery,\n  useTheme,\n  ClickAwayListener,\n} from \"@material-ui/core\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport {AvatarLink} from \"src/app/components/AvatarLink\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\n\nimport {ProfileFeed} from \"../ProfileFeed\";\n\nimport {userConstants} from \"src/app/components/auth/_constants\";\nimport {handleMediaUrl} from \"src/util/imageUtils\";\nimport {useEffect, useRef, useState} from \"react\";\nimport {shortNum} from \"src/util/NumberUtil\";\nimport {getLang, t} from \"../../../../i18n/utils\";\n\nimport classnames from \"classnames\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport {TimeUtil} from \"src/core/Util\";\nimport {ReportUserDialog} from \"src/app/components/ReportUserDialog\";\nimport {FollowUserButton} from \"src/app/components/FollowUserButton\";\nimport EditProfileDialog from \"./EditProfileDialog\";\nimport AppConsts from \"src/app/AppConsts\";\nimport XUserInfo from \"src/core/model/user/XUserInfo\";\n\nimport Dropdown, {\n  DropdownTrigger,\n  DropdownContent,\n} from \"react-simple-dropdown\";\n\nimport {ReactComponent as VerificationIcon} from \"../../../../assets/icons/ico-verification.svg\";\nimport {ReactComponent as DateIcon} from \"src/assets/icons/ico-date.svg\";\nimport {ReactComponent as ProfileOptionsIcon} from \"src/assets/icons/icon_profile_options.svg\";\nimport {ReactComponent as LinkIcon} from \"src/assets/icons/ico-link.svg\";\nimport {ReactComponent as LocationIcon} from \"src/assets/icons/ico-location.svg\";\n\nimport {GMobileDrawer} from \"src/styles/components/GMobileDrawer\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {toast} from \"react-toastify\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport {DropdownMenuItems} from \"./DropdownMenuItems\";\nimport Global from \"src/system/Global\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {TabPanel} from \"src/app/components/TabPanel\";\nimport {CommentFeed} from \"../CommentFeed\";\nimport {LikeFeed} from \"../LikeFeed\";\nimport UIUtil from \"src/util/UIUtil\";\nimport parse from \"html-react-parser\";\nimport {renderToString} from \"react-dom/server\";\nimport GAxios from \"src/util/GAxios\";\nimport {loginRefresh} from \"src/app/components/auth/store\";\nimport {scrollHelper} from \"src/util/scrollUtils\";\n\nconst useStyles = makeStyles((theme) => ({\n  userProfileDetails: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  columnHeader: {\n    position: \"sticky\",\n    display: \"flex\",\n    alignItems: \"center\",\n    top: \"0\",\n    zIndex: 100,\n    backgroundColor: \"white\",\n    height: \"56px\",\n    flexShrink: 0,\n    fontSize: \"19px\",\n    borderBottom: \"1px solid var(--border-color)\",\n    padding: \"0px 15px\",\n    fontWeight: \"bold\",\n  },\n  primaryColumn: {\n    maxWidth: \"600px\",\n    width: \"100%\",\n    boxShadow: \"0px 4px 34px 5px rgba(236, 239, 245, 0.35);\",\n    minHeight: \"calc(var(--vh, 1vh) * 100 - 60px)\",\n    height: \"100%\",\n  },\n  headerContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginLeft: theme.spacing(2),\n  },\n  headerIcon: {\n    cursor: \"pointer\",\n  },\n  headerSubtitle: {\n    fontSize: 16,\n    color: theme.palette.background.gray,\n  },\n  userBannerImage: {\n    height: 199,\n    backgroundColor: \"#DEDEDE\",\n    \"& img\": {\n      objectFit: \"cover\",\n    },\n  },\n  userProfileContent: {\n    marginLeft: theme.spacing(2.5),\n    marginRight: theme.spacing(1.625),\n  },\n  userProfile__top: {\n    display: \"flex\",\n    position: \"relative\",\n    justifyContent: \"flex-end\",\n    height: 62,\n  },\n  userProfileAvatar: {\n    cursor: \"pointer\",\n    position: \"absolute\",\n    left: 0,\n    top: -75,\n  },\n  avatar: {\n    height: 134,\n    width: 134,\n    // border: \"4px solid #fff\",\n    boxShadow: \"0 0 0 4px #fff\",\n    borderRadius: \"50%\",\n  },\n\n  userProfileOptions: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginTop: theme.spacing(1.625),\n    height: \"fit-content\",\n  },\n  profileOptionsIcon: {\n    marginRight: theme.spacing(2),\n    cursor: \"pointer\",\n    \"&:hover path\": {\n      stroke: theme.palette.primary.dark,\n    },\n    \"&:hover circle\": {\n      fill: theme.palette.primary.dark,\n    },\n    \"&:hover ellipse\": {\n      fill: theme.palette.primary.dark,\n    },\n  },\n  userProfileNickname: {\n    fontSize: 20,\n    paddingTop: 2,\n    fontWeight: 800,\n    lineHeight: \"24px\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n    \"& svg\": {\n      marginTop: \"6px\",\n      verticalAlign: \"top\",\n    },\n  },\n  userProfileUsername: {\n    marginTop: theme.spacing(0.5),\n    lineHeight: \"15px\",\n    fontSize: 15,\n    fontWeight: 400,\n    color: theme.palette.text.gray,\n  },\n  userProfileStats: {\n    marginTop: theme.spacing(1.625),\n    wordBreak: \"break-word\",\n  },\n  description: {\n    fontSize: 15,\n    fontWeight: 400,\n    lineHeight: \"20px\",\n    color: theme.palette.text.main,\n  },\n  userSubtext: {\n    color: theme.palette.text.gray,\n  },\n  userStatsContainer: {\n    display: \"flex\",\n    marginTop: 15,\n    marginBottom: 29,\n    [theme.breakpoints.down(\"xs\")]: {\n      marginTop: 0,\n    },\n    \" & a:first-child\": {\n      marginRight: theme.spacing(3),\n    },\n    \"& a span:hover\": {\n      // textDecoration: \"underline\",\n    },\n  },\n  userStatsCount: {\n    marginRight: 5,\n    fontSize: 15,\n    fontWeight: 700,\n    color: theme.palette.text.main,\n    lineHeight: \"20px\",\n    cursor: \"pointer\",\n  },\n  link: {\n    position: \"relative\",\n    \"&::after\": {\n      content: \"' '\",\n      position: \"absolute\",\n      width: \"100%\",\n      height: 1,\n      bottom: 0,\n      left: 0,\n      backgroundColor: theme.palette.text.gray,\n      opacity: 0,\n    },\n\n    \"&:hover::after\": {\n      opacity: 1,\n    },\n  },\n  userStatsText: {\n    fontSize: 15,\n    fontWeight: 400,\n    opacity: 0.9,\n    lineHeight: \"18px\",\n    cursor: \"pointer\",\n    color: theme.palette.text.gray,\n  },\n  userProfileSubtitle: {\n    marginTop: 15,\n    display: \"flex\",\n    alignItems: \"center\",\n    fontSize: 14,\n    color: theme.palette.text.gray,\n    [theme.breakpoints.down(\"xs\")]: {\n      flexDirection: \"column\",\n      alignItems: \"flex-start\",\n    },\n    \"& .subItem\": {\n      position: \"relative\",\n      marginRight: 20,\n      display: \"flex\",\n      alignItems: \"center\",\n      fontSize: 15,\n      fontWeight: 400,\n      lineHeight: \"18px\",\n      whiteSpace: \"nowrap\",\n      [theme.breakpoints.down(\"xs\")]: {\n        marginBottom: \"9px\",\n      },\n      \"& svg\": {\n        marginRight: 5,\n      },\n      \"& span\": {\n        opacity: 0.9,\n      },\n      \"& a\": {\n        color: theme.palette.text.link,\n        fontWeight: theme.typography.fontWeightMedium,\n        fontWeight: 400,\n        \"&:hover\": {\n          textDecoration: \"underline\",\n        },\n      },\n      \"&:last-child\": {\n        marginRight: 0,\n      },\n      \"&-with-link\": {\n        position: \"relative\",\n        paddingLeft: \"24px\",\n        \"& svg\": {\n          position: \"absolute\",\n          left: 0,\n        },\n        \"& a\": {\n          whiteSpace: \"normal\",\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          display: \"-webkit-box\",\n          \"-webkit-line-clamp\": \"1\",\n          \"-webkit-box-orient\": \"vertical\",\n          wordBreak: \"break-all\",\n        },\n      },\n    },\n  },\n  dropdownContent: {\n    width: theme.mixins.dropdownMenu.width,\n    position: \"absolute\",\n    right: 10,\n    top: -5,\n    borderRadius: 6,\n\n    \"& .menu-item\": {\n      padding: theme.spacing(1),\n      borderRadius: 0,\n\n      \"& .wrapper\": {\n        display: \"flex\",\n      },\n\n      \"& .icon\": {\n        marginRight: theme.spacing(1),\n      },\n\n      \"& .menu-item-name\": {\n        lineHeight: \"31px\",\n        whiteSpace: \"nowrap\",\n      },\n    },\n  },\n  ExploreSideBar: {\n    maxWidth: \"425px\",\n    [theme.breakpoints.up(\"lg\")]: {\n      width: \"100%\",\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none !important\",\n    },\n  },\n  icon: {\n    width: theme.spacing(1.875),\n    margin: theme.spacing(0, 0, 0, 0.5),\n    height: \"auto\",\n  },\n  joinDate: {\n    marginLeft: theme.spacing(0.5),\n  },\n\n  noDataWrapper: {\n    textAlign: \"center\",\n    paddingTop: \"32px\",\n    marginTop: \"32px\",\n    borderTop: `1px solid ${theme.palette.grey.A200}`,\n  },\n  noDataTips: {\n    fontSize: \"18px\",\n    lineHeight: \"21px\",\n    color: \"#000\",\n  },\n  noDataSubTips: {\n    fontSize: \"18px\",\n    lineHeight: \"21px\",\n    color: \"#000\",\n    marginTop: \"10px\",\n  },\n  tabsContainer: {\n    minHeight: 1000,\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingBottom: 52,\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      minHeight: 640,\n    },\n  },\n  tabs: {\n    \"& .MuiTabs-indicator\": {\n      backgroundColor: theme.palette.primary.main,\n    },\n  },\n  tab: {\n    textTransform: \"capitalize\",\n    fontSize: 16,\n    lineHeight: \"16px\",\n    letterSpacing: \"0.033em\",\n    opacity: 1,\n    fontWeight: 600,\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    minWidth: \"auto\",\n    \"&:hover\": {\n      backgroundColor: theme.palette.background.notif,\n      \"& .MuiTab-wrapper\": {\n        opacity: 1,\n        color: theme.palette.primary.main,\n      },\n    },\n    \"&.Mui-selected\": {\n      color: theme.palette.primary.main,\n    },\n    \"& .MuiTab-wrapper\": {\n      opacity: 0.5,\n      color: theme.palette.text.lightGray,\n    },\n    \"&.Mui-selected .MuiTab-wrapper\": {\n      opacity: 1,\n      color: theme.palette.primary.main,\n    },\n  },\n}));\n\nconst GETTERS_ROUTE = \"getters\";\nconst COMMENT_ROUTE = \"comments\";\nconst MEDIAS_ROUTE = \"medias\";\nconst LIKES_ROUTE = \"likes\";\n\nconst views = [GETTERS_ROUTE, COMMENT_ROUTE, MEDIAS_ROUTE, LIKES_ROUTE];\n\nconst renderHtml = (html) => {\n  let content = parse(html, {\n    replace: (domNode) => {\n      if (domNode.name === \"emoji\") {\n        return <GTwemoji text={domNode.attribs.value} />;\n      } else if (domNode.type === \"tag\") {\n        return <></>;\n      }\n    },\n  });\n  return renderToString(content);\n};\n\nconst connector = connect(\n  (state) => {\n    return {\n      userObj: state.auth.session?.userinfo,\n      loggedInUserId: state.auth.session?.userinfo?._id,\n      authenticated: state.auth?.session?.authenticated,\n    };\n  },\n  {loginRefresh},\n);\n\nexport const NewPublicUserView = connector(_NewPublicUserView);\n\nfunction _NewPublicUserView({\n  userId,\n  view,\n  userObj,\n  profileUsername,\n  loggedInUserId,\n  authenticated,\n  loginRefresh,\n  setLayoutUserInfo = null,\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const theme = useTheme();\n  const mobileMatches = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const tabletMatches = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const [userInfo, setUserInfo] = useState(null);\n  const [isMuted, setIsMuted] = useState(false);\n  const [canShowMuted, setCanShowMuted] = useState(false);\n  const [isBlocked, setIsBlocked] = useState(false);\n  const [canShowBlocked, setCanShowBlocked] = useState(false);\n  const [isSuspended, setIsSuspended] = useState(false);\n  const [statFollowers, setStatFollowers] = useState(0);\n  const [statFollows, setStatFollows] = useState(0);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [isClaiming, setIsClaiming] = useState(false);\n  const [isReloading, setIsReloading] = useState(true);\n\n  const dropdownRef = useRef(null);\n\n  const username = userId;\n  const api = Global.GetPortal().getAppService();\n  const userHasModeratorRole = Global.GetPortal().userHasModeratorRole();\n\n  const viewIndex = views.indexOf(view);\n  const tabValue = viewIndex > -1 ? viewIndex : 0;\n  const isMyProfile = userId === loggedInUserId;\n\n  const headerHeight = 0; // theme.mixins.header.height;\n  const othersHeight = 552; // 56px(columnHeader) - 496px(userProfileDetail)\n  const wrapperStyle = {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: tabletMatches ? 40 : 100,\n    maxHeight: 600,\n    height: `calc(100vh - ${headerHeight + othersHeight}px)`, // handle if the screen height is small\n  };\n\n  const checkProfileChanged = (object1, object2) => {\n    if (!object1 || !object2) {\n      return false;\n    }\n\n    const profileChanged =\n      object1.bgimg !== object2.bgimg ||\n      object1.ico !== object2.ico ||\n      object1.nickname !== object2.nickname ||\n      object1.dsc !== object2.dsc ||\n      object1.location !== object2.location ||\n      object1.website !== object2.website ||\n      object1.birthdate !== object2.birthdate ||\n      object1.pinpsts !== object2.pinpsts;\n\n    return profileChanged;\n  };\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      setUserInfo(null); //set to null for profile feed\n      try {\n        const res = await api.fetchUserInfo(userId);\n\n        // refresh loggedin user info\n        if (\n          authenticated &&\n          username === loggedInUserId &&\n          userObj &&\n          res?.data\n        ) {\n          const profileChanged = checkProfileChanged(userObj, res.data);\n\n          if (profileChanged) {\n            let LSUserInfo = JSON.parse(\n              localStorage.getItem(userConstants.LS_SESSION_INFO),\n            );\n\n            if (LSUserInfo?.userinfo) {\n              LSUserInfo.userinfo = res?.data;\n              LSUserInfo.userinfo.token = userObj.token;\n              localStorage.setItem(\n                userConstants.LS_SESSION_INFO,\n                JSON.stringify(LSUserInfo),\n              );\n              loginRefresh(LSUserInfo);\n            }\n          }\n        }\n\n        setUserInfo(res);\n        setLayoutUserInfo && setLayoutUserInfo(res);\n\n        let flg = res?.data?.flg ? res?.data?.flg : 0;\n        let twitter = res?.data?.twt_flg ? res?.data?.twt_flg : 0;\n        setStatFollowers(flg * 1 + twitter * 1);\n        setStatFollows(res.getFollowsCount(0));\n\n        if (res?.data?.status === \"s\") {\n          setIsSuspended(true);\n        } else {\n          setIsSuspended(false);\n        }\n\n        return true;\n      } catch (err) {\n        console.log(err);\n        if (err?.data?.code !== \"E_NOT_ALLOWED\") {\n          history.replace(`/account-doesnt-exist/${userId}`);\n        } else {\n          setUserInfo(\"blocked\");\n        }\n      }\n    };\n\n    const checkIfMuted = async () => {\n      if (!loggedInUserId) return;\n      const res = await api.getMutedUsers();\n\n      setCanShowMuted(true);\n      const mutedUserList = res?.data?.list;\n      if (Array.isArray(mutedUserList)) {\n        setIsMuted(mutedUserList.indexOf(username) >= 0);\n      }\n    };\n\n    const checkIfBlocked = async () => {\n      const loggedInUserId = api.getUserId();\n      if (!loggedInUserId) return;\n\n      setCanShowBlocked(true);\n      const res = await api.getBlockedUsers(loggedInUserId);\n      const blockedUserList = res?.data?.list;\n      if (Array.isArray(blockedUserList)) {\n        setIsBlocked(blockedUserList.indexOf(username) >= 0);\n      }\n    };\n\n    (async () => {\n      const userExists = await fetchUserInfo();\n      if (userExists) {\n        checkIfMuted();\n        checkIfBlocked();\n      }\n    })();\n  }, [userId]);\n\n  useEffect(() => {\n    if (userId == loggedInUserId) {\n      const user = XUserInfo.Wrap(userObj);\n      setUserInfo(user);\n      setLayoutUserInfo && setLayoutUserInfo(user);\n      setIsReloading(true);\n    }\n  }, [userObj]);\n\n  useEffect(() => {\n    setIsReloading(false);\n  }, [isReloading]);\n\n  const handleScroll = () => {\n    scrollHelper.lock();\n\n    setTimeout(() => {\n      scrollHelper.unlock();\n    }, 100);\n  };\n\n  const handleNotAuthenticated = () => {\n    history.push(AppConsts.URL_LOGIN);\n    return;\n  };\n\n  const toggleDrawer = () => {\n    if (drawerOpen) {\n      setDrawerOpen(false);\n      dropdownRef.current?.hide();\n    } else {\n      setDrawerOpen(true);\n      dropdownRef.current?.show();\n    }\n  };\n\n  const handleReport = () => {\n    if (!authenticated) {\n      handleNotAuthenticated();\n    } else {\n      setDialogOpen(true);\n      setDrawerOpen(false);\n    }\n  };\n\n  const handleClaim = async () => {\n    if (userId) {\n      setIsClaiming(true);\n      const config = {\n        method: \"post\",\n        url: `${process.env.REACT_APP_API_URL}/s/openauth/request/${userId}`,\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n      let res = await GAxios(\n        config,\n        (response) => {\n          let twitterUrl = response.data.result;\n          window.location.href = twitterUrl;\n        },\n        (err) => {\n          setIsClaiming(false);\n          history.push(\"/claim-failed\");\n        },\n      );\n    }\n  };\n\n  const handleMute = () => {\n    if (!authenticated) {\n      handleNotAuthenticated();\n      return;\n    }\n    toggleDrawer();\n    let title;\n    if (isMuted) {\n      title = t(\"getter_fe.profile.common.unmuteUsername\", {\n        username: profileUsername,\n      });\n    } else {\n      title = t(\"getter_fe.profile.common.muteUsername\", {\n        username: profileUsername,\n      });\n    }\n    if (!isMuted) {\n      GConfirmAlert({\n        title,\n        text: isMuted\n          ? \" \"\n          : t(\"getter_fe.post.tips.mute_getter_tips\", {\n              username: profileUsername,\n            }),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n        },\n        confirm: {\n          text: isMuted\n            ? t(\"getter_fe.profile.common.unmute\")\n            : t(\"getter_fe.profile.common.mute\"),\n          type: \"danger\",\n          callback: (callback) => {\n            handleToggleMute(callback);\n          },\n        },\n      });\n    } else {\n      handleToggleMute();\n    }\n  };\n\n  const handleToggleMute = (callback) => {\n    if (isMuted) {\n      api.unmuteUser(username, () => {\n        setIsMuted(false);\n        callback && callback();\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.unmute_success\", {\n              username: profileUsername,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    } else {\n      api.muteUser(username, () => {\n        setIsMuted(true);\n        callback && callback();\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.mute_success\", {\n              username: profileUsername,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    }\n  };\n\n  const handleBlock = () => {\n    if (!authenticated) {\n      handleNotAuthenticated();\n      return;\n    }\n    toggleDrawer();\n    let title;\n    if (isBlocked) {\n      title = t(\"getter_fe.profile.common.unblockUsername\", {\n        username: profileUsername,\n      });\n    } else {\n      title = t(\"getter_fe.profile.common.blockUsername\", {\n        username: profileUsername,\n      });\n    }\n    if (!isBlocked) {\n      GConfirmAlert({\n        title,\n        text: isBlocked\n          ? \" \"\n          : t(\"getter_fe.post.tips.block_getter_tips\", {\n              username: profileUsername,\n            }),\n        close: {\n          text: t(\"getter_fe.post.button.cancel\"),\n          type: \"default\",\n        },\n        confirm: {\n          text: isBlocked\n            ? t(\"getter_fe.profile.common.unblock\")\n            : t(\"getter_fe.profile.common.block\"),\n          type: \"danger\",\n          callback: (callback) => {\n            handleToggleBlock(callback);\n          },\n        },\n      });\n    } else {\n      handleToggleBlock();\n    }\n  };\n\n  const handleToggleBlock = (callback) => {\n    if (isBlocked) {\n      api.unblockUser(username, () => {\n        setIsBlocked(false);\n        callback && callback();\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.unblock_success\", {\n              username: profileUsername,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    } else {\n      api.blockUser(username, () => {\n        setIsBlocked(true);\n        callback && callback();\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.block_success\", {\n              username: profileUsername,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    }\n  };\n\n  const handleSuspend = () => {\n    if (!authenticated) {\n      handleNotAuthenticated();\n      return;\n    }\n    if (!userHasModeratorRole) return;\n    toggleDrawer();\n    let title;\n    if (isSuspended) {\n      title = t(\"getter_fe.profile.common.unsuspendUser\", {\n        username: profileUsername,\n      });\n    } else {\n      title = t(\"getter_fe.profile.common.suspendUser\", {\n        username: profileUsername,\n      });\n    }\n    GConfirmAlert({\n      title,\n      text: isSuspended\n        ? \" \"\n        : t(\"getter_fe.post.tips.suspend_getter_tips\", {\n            username: profileUsername,\n          }),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: isSuspended\n          ? t(\"getter_fe.profile.common.unSuspend\")\n          : t(\"getter_fe.profile.common.suspend\"),\n        type: \"danger\",\n        callback: (callback) => {\n          if (isSuspended) {\n            api.unSuspendUser(username, (err, result) => {\n              if (err) {\n                console.log(err);\n                toast.info(\n                  <NotifMessage message={\"Error Code: \" + err.data?.code} />,\n                  {\n                    type: toast.TYPE.ERROR,\n                  },\n                );\n                callback();\n                return;\n              }\n              setIsSuspended(false);\n              callback();\n              toast.info(\n                <NotifMessage\n                  message={t(\"getter_fe.post.tips.unsuspend_success\", {\n                    username: profileUsername,\n                  })}\n                />,\n                {\n                  type: toast.TYPE.SUCCESS,\n                },\n              );\n            });\n          } else {\n            api.suspendUser(username, (err, result) => {\n              if (err) {\n                console.log(err);\n                toast.info(\n                  <NotifMessage message={\"Error Code: \" + err.data?.code} />,\n                  {\n                    type: toast.TYPE.ERROR,\n                  },\n                );\n                callback();\n                return;\n              }\n              setIsSuspended(true);\n              callback();\n              toast.info(\n                <NotifMessage\n                  message={t(\"getter_fe.post.tips.suspend_success\", {\n                    username: profileUsername,\n                  })}\n                />,\n                {\n                  type: toast.TYPE.SUCCESS,\n                },\n              );\n            });\n          }\n        },\n      },\n    });\n  };\n\n  let bodyComp = <GLoader />;\n  if (userInfo === \"blocked\") {\n    bodyComp = (\n      <>\n        <div className={classes.userProfileDetails}>\n          <div className={classes.userBannerImage}></div>\n          <div className={classes.userProfileContent}>\n            <div className={classes.userProfile__top}>\n              <div className={classes.userProfileAvatar}>\n                <AvatarLink\n                  styleClasses={classes.avatar}\n                  userNotExist\n                  noRedirect\n                />\n              </div>\n              <div className={classes.userProfileOptions}></div>\n            </div>\n            <p className={classes.userProfileNickname}>\n              <GTwemoji text={userId} />\n            </p>\n            <p className={classes.userProfileUsername}></p>\n          </div>\n        </div>\n        <div className={classes.tabsContainer}>\n          <div className={classes.noDataWrapper}>\n            <h5 className={classes.noDataTips}>\n              {t(\"getter_fe.profile.common.accountBlocked\")}\n            </h5>\n            <div className={classes.noDataSubTips}>\n              {t(\"getter_fe.profile.common.accountBlockedDesc\", {\n                username: userId,\n              })}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  } else if (userInfo) {\n    const profileUsername = userInfo.getOriginalUsername();\n    const profileName = userInfo.getNickname(false, profileUsername);\n    const profileUserId = userInfo.getUserId();\n\n    const profileBgimg = userInfo.data.bgimg;\n    const avatarUrl = userInfo.getIconUrl();\n\n    const profileDescription =\n      userInfo.data.dsc === \"null\" ? null : userInfo.data.dsc;\n    const profileDescriptionHtml = profileDescription\n      ? renderHtml(UIUtil.WrapEmojiToText(profileDescription))\n      : null;\n    const profileLocation =\n      userInfo.data.location === \"null\" ? null : userInfo.data.location;\n    const profileWebsite =\n      userInfo.data.website === \"null\" ? null : userInfo.data.website;\n    const profileBirthDate = userInfo.data.birthdate;\n    const _profileWebsite = /(^https?:\\/\\/)|(^no$)/.test(profileWebsite)\n      ? profileWebsite\n      : `https://${profileWebsite}`;\n\n    const lang = getLang();\n    const jointTS = userInfo.getCreatedTS(-1);\n    const jointMMYYYY =\n      jointTS > 0 ? TimeUtil.Ts2MMYYYYV2(parseInt(jointTS), lang) : null;\n\n    const isInfluencer = userInfo.isInfluencer();\n    let rightOptions;\n    if (!isMyProfile) {\n      rightOptions = (\n        <>\n          {/* dropdown */}\n          {mobileMatches ? (\n            <>\n              <ProfileOptionsIcon\n                className={classes.profileOptionsIcon}\n                onClick={() => setDrawerOpen(true)}\n              />\n              {/* the crazy arrow is necessary because of the way GMobile drawer calls toggle drawer */}\n              <GMobileDrawer\n                open={drawerOpen}\n                toggleDrawer={(open) => () => setDrawerOpen(open)}\n              >\n                <DropdownMenuItems\n                  username={profileUsername}\n                  setDrawerOpen={setDrawerOpen}\n                  isMuted={isMuted}\n                  isBlocked={isBlocked}\n                  isSuspended={isSuspended}\n                  handleMute={handleMute}\n                  handleBlock={handleBlock}\n                  handleSuspend={handleSuspend}\n                  handleReport={handleReport}\n                  handleClaim={handleClaim}\n                  canShowMuted={canShowMuted}\n                  canShowBlocked={canShowBlocked}\n                />\n              </GMobileDrawer>\n            </>\n          ) : (\n            <ClickAwayListener\n              onClickAway={(e) => {\n                e.stopPropagation();\n                dropdownRef.current?.hide();\n                setDrawerOpen(false);\n              }}\n            >\n              <Dropdown removeElement={true} ref={dropdownRef}>\n                <DropdownTrigger>\n                  <ProfileOptionsIcon\n                    className={classes.profileOptionsIcon}\n                    onClick={() => setDrawerOpen(true)}\n                  />\n                </DropdownTrigger>\n                <DropdownContent className={classes.dropdownContent}>\n                  <DropdownMenuItems\n                    username={profileUsername}\n                    setDrawerOpen={toggleDrawer}\n                    isMuted={isMuted}\n                    isBlocked={isBlocked}\n                    isSuspended={isSuspended}\n                    handleMute={handleMute}\n                    handleBlock={handleBlock}\n                    handleSuspend={handleSuspend}\n                    handleReport={handleReport}\n                    handleClaim={handleClaim}\n                    canShowMuted={canShowMuted}\n                    canShowBlocked={canShowBlocked}\n                  />\n                </DropdownContent>\n              </Dropdown>\n            </ClickAwayListener>\n          )}\n\n          {/* endDropdown */}\n          <ReportUserDialog\n            username={profileUsername}\n            isOpen={dialogOpen}\n            handleClose={() => setDialogOpen(false)}\n            handleSubmit={(reasonId) => {\n              api.reportUser(profileUserId, reasonId, (result) => {\n                toast.info(\n                  <NotifMessage\n                    message={t(\n                      \"getter_fe.common.reportUser.reportSuccessMessage\",\n                    )}\n                  />,\n                  {\n                    type: toast.TYPE.SUCCESS,\n                  },\n                );\n              });\n            }}\n          />\n          <FollowUserButton\n            userId={userId}\n            username={profileUsername}\n            scene=\"public-user-view\"\n          />\n        </>\n      );\n    } else {\n      rightOptions = (\n        <EditProfileDialog\n          objId={userId}\n          avatarUrl={avatarUrl}\n          userId={profileUserId}\n          nickname={profileName}\n          location={profileLocation}\n          website={profileWebsite}\n          birthdate={profileBirthDate}\n          dsc={profileDescription}\n          bgimg={profileBgimg}\n          refreshView={() => window.location.reload()}\n        />\n      );\n    }\n\n    let feed;\n    if (isSuspended) {\n      feed = (\n        <div className={classes.noDataWrapper}>\n          <h5 className={classes.noDataTips}>\n            {t(\"getter_fe.profile.common.accountSuspended\", {\n              profileUsername,\n            })}\n          </h5>\n        </div>\n      );\n    } else {\n      feed = (\n        <>\n          <Tabs\n            value={tabValue}\n            onChange={(e, newValue) => {\n              e.preventDefault();\n              const newRoute =\n                views[newValue] && views[newValue] !== \"getters\"\n                  ? `/${views[newValue]}`\n                  : \"\";\n              history.replace(`/user/${userId}${newRoute}`);\n              handleScroll();\n            }}\n            variant=\"fullWidth\"\n            className={classes.tabs}\n          >\n            <Tab\n              label={t(\"getter_fe.profile.common.getters\")}\n              className={classes.tab}\n              disableRipple={true}\n            />\n            <Tab\n              label={t(\"getter_fe.profile.common.comments\")}\n              className={classes.tab}\n              disableRipple={true}\n            />\n            <Tab\n              label={t(\"getter_fe.profile.common.medias\")}\n              className={classes.tab}\n              disableRipple={true}\n            />\n            <Tab\n              label={t(\"getter_fe.profile.common.likes\")}\n              className={classes.tab}\n              disableRipple={true}\n            />\n          </Tabs>\n          <TabPanel value={tabValue} index={0}>\n            {userInfo ? (\n              <ProfileFeed\n                userId={userId}\n                userNickname={profileName}\n                isMyProfile={isMyProfile}\n                wrapperStyle={wrapperStyle}\n                userInfo={userInfo}\n              />\n            ) : null}\n          </TabPanel>\n          <TabPanel value={tabValue} index={1}>\n            <CommentFeed\n              userId={userId}\n              wrapperStyle={wrapperStyle}\n              userNickname={profileName}\n              isMyProfile={isMyProfile}\n            />\n          </TabPanel>\n\n          <TabPanel value={tabValue} index={2}>\n            {userInfo ? (\n              <ProfileFeed\n                userId={userId}\n                userNickname={profileName}\n                isMyProfile={isMyProfile}\n                wrapperStyle={wrapperStyle}\n                userInfo={userInfo}\n                forMedias={true}\n              />\n            ) : null}\n          </TabPanel>\n          <TabPanel value={tabValue} index={3}>\n            <LikeFeed\n              userId={userId}\n              wrapperStyle={wrapperStyle}\n              userNickname={profileName}\n              isMyProfile={isMyProfile}\n            />\n          </TabPanel>\n        </>\n      );\n    }\n\n    bodyComp = (\n      <>\n        {isClaiming && (\n          <GLoader\n            isPopup={true}\n            notCloseOnDocumentClick={true}\n            tips={t(\"getter_fe.post.tips.popup_generic_loader_tips\")}\n          />\n        )}\n        <GBackTitle title={profileName} />\n        <div className={classes.userProfileDetails}>\n          <div className={classes.userBannerImage}>\n            {profileBgimg && profileBgimg !== \"Error: Network Error\" ? (\n              <img\n                src={handleMediaUrl(\n                  process.env.REACT_APP_MEDIA_BASE,\n                  profileBgimg,\n                )}\n                alt=\"\"\n                width=\"100%\"\n                height=\"100%\"\n                onError={(event) => (event.target.style.display = \"none\")}\n              />\n            ) : null}\n          </div>\n          <div className={classes.userProfileContent}>\n            <div className={classes.userProfile__top}>\n              <div className={classes.userProfileAvatar}>\n                <AvatarLink\n                  avatarUrl={avatarUrl}\n                  styleClasses={classes.avatar}\n                  userId={profileUserId}\n                  username={profileName}\n                  noRedirect\n                />\n              </div>\n              <div className={classes.userProfileOptions}>\n                {!isSuspended && rightOptions}\n              </div>\n            </div>\n            <p className={classes.userProfileNickname}>\n              <GTwemoji text={profileName} />\n              {isInfluencer > 0 && (\n                <VerificationIcon className={classes.icon} />\n              )}\n            </p>\n            <p\n              className={classes.userProfileUsername}\n            >{`@${profileUsername}`}</p>\n            {!isSuspended && (\n              <div className={classes.userProfileStats}>\n                <div\n                  className={classes.description}\n                  dangerouslySetInnerHTML={{__html: profileDescriptionHtml}}\n                />\n                <div>\n                  {/* subtitleComp */}\n                  <div className={classes.userProfileSubtitle}>\n                    {profileLocation && (\n                      <div className=\"subItem\">\n                        <LocationIcon />\n                        <span>{profileLocation}</span>\n                      </div>\n                    )}\n                    {profileWebsite && (\n                      <div className=\"subItem subItem-with-link\">\n                        <LinkIcon />\n                        <a\n                          href={_profileWebsite}\n                          target=\"_blank\"\n                          className={classes.url}\n                          dangerouslySetInnerHTML={{\n                            __html: profileWebsite\n                              .replace(/(^\\w+:|^)\\/\\//, \"\")\n                              .replace(/(^[^\\/]+\\/.{14})(.+)/, \"$1<br>$2\"),\n                          }}\n                        />\n                      </div>\n                    )}\n                    {jointTS > 0 && (\n                      <div className=\"subItem\">\n                        <DateIcon />\n                        {t(\"getter_fe.profile.common.joinedSince\")}\n                        <span className={classes.joinDate}>{jointMMYYYY}</span>\n                      </div>\n                    )}\n                  </div>\n                  {/* endsubtitlecomp */}\n                </div>\n                {/* statscomp */}\n                <div className={classes.userStatsContainer}>\n                  <Link\n                    to={`/user/${userId}/following`}\n                    className={classes.link}\n                  >\n                    <span className={classes.userStatsCount}>\n                      {shortNum(statFollows)}\n                    </span>\n                    <span\n                      className={classnames(\n                        classes.userStatsText,\n                        classes.userSubtext,\n                      )}\n                    >\n                      {t(\"getter_fe.profile.common.following\")}\n                    </span>\n                  </Link>\n                  <Link\n                    to={`/user/${userId}/followers`}\n                    className={classes.link}\n                  >\n                    <span className={classes.userStatsCount}>\n                      {shortNum(statFollowers)}\n                    </span>\n                    <span\n                      className={classnames(\n                        classes.userStatsText,\n                        classes.userSubtext,\n                      )}\n                    >\n                      {t(\"getter_fe.profile.common.followers\")}\n                    </span>\n                  </Link>\n                </div>\n                {/* endstatscomp */}\n              </div>\n            )}\n          </div>\n        </div>\n        {/* endUserProfileDetails */}\n        <div className={classes.tabsContainer}>{feed}</div>\n      </>\n    );\n  }\n\n  if (isMyProfile && isSuspended) {\n    window.location.replace(AppConsts.URL_LOGOUT);\n  }\n\n  return (\n    <div className={classes.primaryColumn}>\n      {isReloading ? <GLoader /> : bodyComp}\n    </div>\n  );\n}\n","import React, {useEffect, useState} from \"react\";\n\nimport AppConsts from \"../AppConsts\";\nimport {NewPublicUserView} from \"../pages/profile/public_user_view/NewPublicUserView\";\nimport {NewUIPage} from \"../base/NewUIPage\";\n\nexport const NewUserInfo = ({match}) => {\n  const {id: username, view} = match.params;\n  const id = `userinfo${username}`;\n  const [userInfo, setUserInfo] = useState(null);\n  const [ousername, setOusername] = useState(username);\n  const description = `${AppConsts.APP_NAME} user ${ousername}`;\n\n  useEffect(() => {\n    if (userInfo) {\n      const name = userInfo.getOriginalUsername();\n      setOusername(name);\n    }\n  }, [userInfo]);\n\n  return (\n    <NewUIPage id={id} title={ousername} description={description}>\n      <NewPublicUserView\n        userId={username}\n        profileUsername={ousername}\n        view={view}\n        setLayoutUserInfo={setUserInfo}\n      />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\n\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport {t} from \"src/i18n/utils\";\nimport {NewUIPage} from \"../base/NewUIPage\";\nimport {makeStyles} from \"@material-ui/core\";\nimport {AvatarLink} from \"src/app/components/AvatarLink\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport {GTypography} from \"src/styles/components/GTypography\";\n\nconst useStyles = makeStyles((theme) => ({\n  userProfileDetails: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    borderBottom: `1px solid ${theme.palette.grey[200]}`,\n    paddingBottom: theme.spacing(5),\n  },\n  userBannerImage: {\n    height: 199,\n    backgroundColor: theme.palette.grey.A800,\n  },\n  userProfileContent: {\n    marginLeft: theme.spacing(2.5),\n    marginRight: theme.spacing(1.625),\n  },\n  userProfile__top: {\n    display: \"flex\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    height: \"90px\",\n  },\n  userProfileAvatar: {\n    transform: \"translateY(-51px)\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    height: 134,\n    width: 134,\n    border: \"4px solid #fff\",\n    borderRadius: \"50%\",\n  },\n  userId: {\n    fontSize: 20,\n    fontWeight: 800,\n    lineHeight: \"24px\",\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n  },\n  userProfileNickname: {\n    fontSize: 20,\n    fontWeight: 800,\n    lineHeight: \"24px\",\n  },\n  userProfileSubtitle: {\n    marginTop: theme.spacing(0.5),\n    fontWeight: 500,\n    fontSize: 16,\n    color: theme.palette.text.gray,\n  },\n  userProfileBody: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: 175,\n  },\n}));\n\nexport const NewUserNotExist = ({match}) => {\n  const {id} = match.params;\n  const classes = useStyles();\n  return (\n    <NewUIPage title=\"Account Doesn't Exist\">\n      <GBackTitle title={t(\"getter_fe.menu.common.profile\")} />\n      <div className={classes.userProfileDetails}>\n        <div className={classes.userBannerImage} />\n        <div className={classes.userProfileContent}>\n          <div className={classes.userProfile__top}>\n            <div className={classes.userProfileAvatar}>\n              <AvatarLink\n                styleClasses={classes.avatar}\n                userNotExist\n                noRedirect\n              />\n            </div>\n          </div>\n\n          <p className={classes.userId}>\n            <GTwemoji text={`@${id}`} />\n          </p>\n        </div>\n      </div>\n      <div className={classes.userProfileBody}>\n        <GTypography isBold className={classes.userProfileNickname}>\n          This account doesn't exist\n        </GTypography>\n        <GTypography className={classes.userProfileSubtitle}>\n          Try searching for another\n        </GTypography>\n      </div>\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Typography} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    marginTop: theme.spacing(5.625),\n  },\n  title: {\n    fontSize: 18,\n    lineHeight: \"21.48px\",\n    fontWeight: 800,\n    color: theme.palette.text.primary,\n    textAlign: \"center\",\n  },\n  message: {\n    maxWidth: theme.spacing(65),\n    marginTop: theme.spacing(0.375),\n    marginRight: \"auto\",\n    marginLeft: \"auto\",\n    fontSize: 15,\n    lineHeight: \"22.4px\",\n    fontWeight: 300,\n    textAlign: \"center\",\n    color: theme.palette.text.secondary,\n  },\n}));\n\nexport const NoDataMessage = ({title, message}) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.wrapper}>\n      <Typography variant=\"h3\" component=\"h2\" className={classes.title}>\n        {title}\n      </Typography>\n      <Typography variant=\"body2\" className={classes.message}>\n        {message}\n      </Typography>\n    </div>\n  );\n};\n","import React, {useState, useEffect, useCallback} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {UserLayout} from \"src/app/components/UserLayout\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Waypoint} from \"react-waypoint\";\nimport {t} from \"../../../../i18n/utils\";\nimport {shortNum} from \"src/util/NumberUtil\";\nimport {Loader} from \"../../settings/Loader\";\nimport axios from \"axios\";\nimport {useHistory} from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport {NoDataMessage} from \"../../settings/NoDataMessage\";\nimport {changeFollowingStatus} from \"src/store/modules/status\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    height: \"100%\",\n  },\n  cardWrapper: {\n    height: \"auto\",\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n    marginBottom: theme.spacing(20),\n  },\n  followFeedHeader: {\n    display: \"flex\",\n    height: theme.spacing(7),\n  },\n  twitterFollower: {\n    width: \"100%\",\n    height: theme.spacing(5.125),\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    background: \"#F2F9FF\",\n    \"& span\": {\n      padding: \"0px\",\n      fontSize: \"13px\",\n      lineHeight: \"130%\",\n      color: \"#566F94\",\n    },\n  },\n  headerContent: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    borderBottom: `1px solid ${theme.input.borderColor}`,\n    cursor: \"pointer\",\n    fontSize: 16,\n    lineHeight: \"16px\",\n    fontWeight: 600,\n    color: theme.palette.text.secondary,\n    \"& span\": {\n      opacity: 0.5,\n    },\n  },\n  tabActive: {\n    color: theme.palette.primary.main,\n    borderColor: theme.palette.primary.main,\n    borderWidth: 2,\n    opacity: 1,\n    \"& span\": {\n      opacity: 1,\n    },\n  },\n}));\n\nexport const FollowFeed = ({\n  userId,\n  currentUserId,\n  userInfo,\n  content,\n  token,\n}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const maxPerPage = 10;\n  const history = useHistory();\n  const FOLLOWING = \"FOLLOWING\";\n  const FOLLOWERS = \"FOLLOWERS\";\n  const [itemsGroup, setItemsGroup] = useState({});\n  const [items, setItems] = useState([]);\n  const [itemsExists, setItemsExists] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const api = Global.GetPortal().getAppService();\n\n  const fetchData = useCallback(async () => {\n    const type = content === FOLLOWING ? \"followings\" : \"followers\";\n    let data = {};\n    let dataArr = [];\n    setIsLoading(true);\n\n    let xAuth =\n      currentUserId === null\n        ? `{\"user\": null, \"token\": null}`\n        : `{\"user\": \"${currentUserId}\", \"token\": \"${token}\"}`;\n    await axios\n      .get(\n        `${process.env.REACT_APP_API_URL}/u/user/${userId}/${type}/?offset=${pageNumber}&max=${maxPerPage}&incl=userstats|userinfo|followings`,\n        {\n          headers: {\"x-app-auth\": xAuth},\n        },\n      )\n      .then((res) => {\n        const dataExists = res.data?.result?.aux?.fws;\n        data = res.data?.result?.aux?.uinf;\n        dataArr = res.data?.result?.data?.list;\n\n        // if (data) {\n        //   for (const [key, value] of Object.entries(data)) {\n        //     dataArr.push(value);\n        //   }\n        // }\n\n        if (dataExists) {\n          setItemsExists([...itemsExists, ...dataExists]);\n          for (const [key, value] of Object.entries(dataExists)) {\n            dispatch(\n              changeFollowingStatus({\n                userId: value,\n                status: true,\n              }),\n            );\n          }\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n    setPageNumber(pageNumber + maxPerPage);\n\n    if (dataArr.length < maxPerPage) {\n      setHasMore(false);\n    }\n\n    setItemsGroup({...itemsGroup, ...data});\n    setItems([...items, ...dataArr]);\n\n    setIsLoading(false);\n  });\n  const handleRedirect = (page) => {\n    page === FOLLOWING\n      ? history.replace(`/user/${userId}/following`)\n      : history.replace(`/user/${userId}/followers`);\n  };\n\n  const removeItem = (id) => {\n    if (content === FOLLOWING) {\n      const filterItems = [...items].filter((item) => item._id !== id);\n      setItems([...filterItems]);\n    }\n  };\n\n  useEffect(() => {\n    items.length <= 0 && fetchData();\n  }, []);\n\n  const renderItems = () => {\n    if (items) {\n      return items.map((username) => {\n        const user = itemsGroup[username];\n        if (itemsExists.includes(user._id)) {\n          user.isFollowing = true;\n        } else {\n          user.isFollowing = false;\n        }\n        return <UserLayout userInfo={user} isPage isProfile />;\n      });\n    }\n    return null;\n  };\n\n  const getTWTFollowers = () => {\n    // let flg = userInfo?.data?.flg ? userInfo?.data?.flg : 0;\n    let twitter = userInfo?.data?.twt_flg ? userInfo?.data?.twt_flg : 0;\n    return shortNum(twitter * 1);\n  };\n  return (\n    <div className={classes.wrapper}>\n      <div className={classes.followFeedHeader}>\n        <div\n          className={clsx(\n            classes.headerContent,\n            content === FOLLOWERS ? classes.tabActive : \"\",\n          )}\n          onClick={() => handleRedirect(FOLLOWERS)}\n        >\n          <span>{t(\"getter_fe.profile.common.followers\")}</span>\n        </div>\n        <div\n          className={clsx(\n            classes.headerContent,\n            content === FOLLOWING ? classes.tabActive : \"\",\n          )}\n          onClick={() => handleRedirect(FOLLOWING)}\n        >\n          <span>{t(\"getter_fe.profile.common.following\")}</span>\n        </div>\n      </div>\n      {getTWTFollowers() === 0 || content === FOLLOWING ? null : (\n        <div className={classes.twitterFollower}>\n          <span>\n            {t(\"getter_fe.profile.common.twitterFollowers\", {\n              userId: userId,\n              number: getTWTFollowers(),\n            })}\n          </span>\n        </div>\n      )}\n      {!isLoading &&\n        items.length <= 0 &&\n        (currentUserId === userId ? (\n          <NoDataMessage\n            title={\n              content === FOLLOWING\n                ? t(\"getter_fe.profile.common.noFollowingTitle\")\n                : t(\"getter_fe.profile.common.noFollowersTitle\")\n            }\n            message={\n              content === FOLLOWING\n                ? t(\"getter_fe.profile.common.noFollowingDescription\")\n                : t(\"getter_fe.profile.common.noFollowersDescription\")\n            }\n          />\n        ) : (\n          <NoDataMessage\n            title={\n              content === FOLLOWING\n                ? t(\"getter_fe.profile.common.otherUserNoFollowingTitle\")\n                : t(\"getter_fe.profile.common.otherUserNoFollowersTitle\")\n            }\n            message={\n              content === FOLLOWING\n                ? t(\"getter_fe.profile.common.otherUserNoFollowingDescription\")\n                : t(\"getter_fe.profile.common.otherUserNoFollowersDescription\")\n            }\n          />\n        ))}\n\n      <div className={!isLoading && items.length ? classes.cardWrapper : \"\"}>\n        {renderItems()}\n      </div>\n      {isLoading && <Loader />}\n      {!isLoading && hasMore && items.length > 0 && (\n        <Waypoint\n          scrollableAncestor={window}\n          fireOnRapidScroll={false}\n          onEnter={fetchData}\n          className={classes.wayPoint}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default FollowFeed;\n","import {makeStyles} from \"@material-ui/core\";\nimport {useEffect, useState} from \"react\";\nimport {t} from \"src/i18n/utils\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport Global from \"src/system/Global\";\nimport {useHistory} from \"react-router-dom\";\nimport {FollowFeed} from \"./FollowFeed\";\nimport {shortNum} from \"src/util/NumberUtil\";\n\nconst useStyles = makeStyles((theme) => ({\n  userProfileDetails: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    borderBottom: \"1px solid #C4C4C4\",\n  },\n  columnHeader: {\n    position: \"sticky\",\n    display: \"flex\",\n    alignItems: \"center\",\n    top: \"0\",\n    zIndex: 100,\n    backgroundColor: \"white\",\n    height: \"56px\",\n    flexShrink: 0,\n    fontSize: \"19px\",\n    borderBottom: \"1px solid var(--border-color)\",\n    padding: \"0px 15px\",\n    fontWeight: \"bold\",\n  },\n  headerContent: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginLeft: theme.spacing(2),\n  },\n  headerSubtitle: {\n    fontSize: 16,\n    color: theme.palette.background.gray,\n  },\n  userBannerImage: {\n    height: 136,\n    backgroundColor: \"#DEDEDE\",\n  },\n  userProfileContent: {\n    marginLeft: 20,\n    marginRight: 20,\n  },\n  userProfile__top: {\n    display: \"flex\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    height: 50,\n  },\n  userProfileAvatar: {\n    cursor: \"pointer\",\n    transform: \"translateY(-15px)\",\n    \"& > div\": {\n      borderRadius: \"50%\",\n    },\n  },\n  profileOptionsIcon: {\n    marginRight: theme.spacing(2),\n    cursor: \"pointer\",\n  },\n  userProfileNickname: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n  },\n  userProfileUsername: {\n    lineHeight: \"16px\",\n    color: \"#999999\",\n  },\n  userProfileStats: {\n    marginTop: 10,\n  },\n  userSubtext: {\n    color: \"#999999\",\n  },\n  userStatsContainer: {\n    display: \"flex\",\n    marginTop: 15,\n    marginBottom: 29,\n    \" & div:first-child\": {\n      marginRight: theme.spacing(3),\n    },\n  },\n  userStatsCount: {\n    fontWeight: 700,\n    color: \"#333333\",\n    marginRight: 5,\n  },\n  userStatsText: {\n    fontWeight: 400,\n  },\n  userProfileSubtitle: {\n    marginTop: 15,\n  },\n  leftDashBoardWrapper: {\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\",\n    },\n  },\n  explorSideBarWrapper: {\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none!important\",\n    },\n  },\n  // title: {\n  //   display: \"flex\",\n  //   alignItems: \"center\",\n  //   borderBottom: `1px solid ${theme.palette.grey.A800}`,\n\n  //   \"& > div\": {\n  //     borderBottom: \"none\",\n  //     width: \"75%\",\n  //     flexGrow: 1,\n  //   },\n\n  //   \"& span\": {\n  //     color: theme.palette.text.gray,\n  //     marginLeft: 10,\n  //     marginRight: 12,\n  //     fontSize: 16,\n  //     whiteSpace: \"nowrap\",\n  //   },\n  // },\n}));\n\nexport const NewUserFollowView = ({userId, content}) => {\n  const classes = useStyles();\n  const [userInfo, setUserInfo] = useState(null);\n  const history = useHistory();\n  const api = Global.GetPortal().getAppService();\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      setUserInfo(null);\n      try {\n        const res = await api.fetchUserInfo(userId);\n        setUserInfo(res);\n        return true;\n      } catch (err) {\n        console.log(err);\n        history.push(\"/account-doesnt-exist\");\n      }\n    };\n\n    (async () => {\n      await fetchUserInfo();\n    })();\n  }, [userId]);\n\n  let bodyComp = null;\n  if (userInfo) {\n    const profileName = userInfo.getNickname(true);\n    const profileOriginalUsername =\n      userInfo.getOriginalUsername() || userInfo.getUsername();\n    const token = api.portal.getUserToken();\n    const currentUserId = api.getUserId();\n\n    // const getTotalFollowers = () => {\n    //   let flg = userInfo?.data?.flg ? userInfo?.data?.flg : 0;\n    //   let twitter = userInfo?.data?.twt_flg ? userInfo?.data?.twt_flg : 0;\n    //   return shortNum(flg * 1 + twitter * 1);\n    // };\n\n    bodyComp = (\n      <>\n        <GBackTitle\n          title={profileName}\n          subTitle={`@${profileOriginalUsername}`}\n        />\n        {/* <span>\n            {content === \"FOLLOWING\"\n              ? `${shortNum(userStats.getFollowsCount(0))} ${t(\n                \"getter_fe.profile.common.following\",\n              )}`\n              : getTotalFollowers() + t(\n                \"getter_fe.profile.common.followers\",\n              )}\n          </span> */}\n\n        <FollowFeed\n          userId={userId}\n          currentUserId={currentUserId}\n          userInfo={userInfo}\n          content={content}\n          token={token}\n        />\n      </>\n    );\n  }\n\n  return <div className={classes.leftDashBoardWrapper}>{bodyComp}</div>;\n};\n","import React, {useState, useEffect, useCallback} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Waypoint} from \"react-waypoint\";\nimport API from \"../../../core/API\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {CommentFeedItem} from \"src/app/components/post/comps/CommentFeedItem\";\nimport eventBus from \"src/util/EventUtils\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {t} from \"../../../i18n/utils\";\nimport {changeCommentStats} from \"src/store/modules/status\";\nimport {updatePostCommentCount} from \"src/app/components/timeline/store\";\nimport Global from \"src/system/Global\";\n\nconst MAX_BATCH_SIZE = 20;\nconst LOAD_MORE_CUTOFF_SIZE = 10;\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    postCommentFeedContainer: {},\n    noMoreComment: {\n      padding: theme.spacing(4, 0),\n      color: theme.palette.text.gray,\n      textAlign: \"center\",\n    },\n    commentListItemContainer: {\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    },\n  }),\n);\n\nexport const PostCommentFeed = (props) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const {postStats} = useSelector((state) => state.timelineNew.userFeed);\n  const {commentStats} = useSelector((state) => state.status);\n  const [offset, setOffset] = useState(0);\n  const [startTs, setStartTs] = useState(null);\n  const [userList, setUserList] = useState(null);\n  const [commentList, setCommentList] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [reachEnd, setReachEnd] = useState(false);\n\n  const api = Global.GetPortal().getAppService();\n\n  const loadMore = (refresh = false) => {\n    setIsLoading(true);\n    api.fetchComments(\n      props.postId,\n      refresh ? 0 : offset,\n      MAX_BATCH_SIZE,\n      startTs,\n      API.DIRECTION_REVERSE,\n      (err, commentFeed) => {\n        if (err == null && commentFeed) {\n          const newFeed = commentFeed.getXComments(true);\n          const newUserFeed = commentFeed.getXUserInfoMap() || {};\n          if (!refresh && commentList) {\n            setCommentList([...commentList, ...newFeed]);\n          } else {\n            setCommentList(newFeed);\n          }\n          if (!refresh && userList) {\n            setUserList({...userList, ...newUserFeed});\n          } else {\n            setUserList(newUserFeed);\n          }\n          if (!newFeed || newFeed.length < MAX_BATCH_SIZE) {\n            setReachEnd(true);\n          }\n          setIsLoading(false);\n        }\n      },\n    );\n    setOffset(offset + MAX_BATCH_SIZE);\n  };\n\n  useEffect(() => {\n    if (!reachEnd) {\n      setStartTs(Date.now());\n    }\n  }, [reachEnd]);\n\n  useEffect(() => {\n    setReachEnd(false);\n  }, [props.postId]);\n\n  useEffect(() => {\n    if (startTs) {\n      loadMore(true);\n    }\n  }, [startTs]);\n\n  const loadNew = useCallback(\n    (newFeed) => {\n      let comment = newFeed.result;\n      let user = newFeed.userFeed;\n\n      if (commentList) {\n        setCommentList([comment, ...commentList]);\n      } else {\n        setCommentList([comment]);\n      }\n      if (userList) {\n        setUserList({...user, ...userList});\n      } else {\n        setUserList(user);\n      }\n    },\n    [commentList, userList],\n  );\n\n  const deleteComment = (commentId) => {\n    const newComments = commentList.filter(\n      (item) => item.getId() !== commentId,\n    );\n    setCommentList(newComments);\n\n    const commentCount = postStats[props.postId]?.numComments;\n    const commentCommentCount = commentStats[props.postId]?.num_comment;\n\n    if (commentCount) {\n      dispatch(\n        updatePostCommentCount({\n          postId: props.postId,\n          count: commentCount - 1,\n        }),\n      );\n    } else if (commentCommentCount) {\n      // backend is does not decrement comment count so this only happens on front-end\n      dispatch(\n        changeCommentStats({\n          commentId: props.postId,\n          stats: {\n            num_comment: commentCommentCount - 1,\n          },\n        }),\n      );\n    }\n  };\n\n  useEffect(() => {\n    if (startTs) {\n      loadMore(true);\n      setReachEnd(false);\n    }\n  }, [props.postId]);\n\n  useEffect(() => {\n    eventBus.remove(\"commentPublish_\" + props.postId);\n    eventBus.on(\"commentPublish_\" + props.postId, loadNew);\n    return eventBus.remove(\"commentPublish_\" + props.postId);\n  }, [props.postId, loadNew]);\n\n  if (isLoading && !commentList?.length) {\n    const headerHeight = 0; // theme.mixins.header.height;\n    const othersHeight = 552; // 56px(columnHeader) - 496px(userProfileDetail)\n    const wrapperStyle = {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      maxHeight: 600,\n      height: `calc(100vh - ${headerHeight + othersHeight}px)`, // handle if the screen height is small\n    };\n\n    return <GLoader wrapperStyle={wrapperStyle} />;\n  }\n\n  return (\n    <div className={classes.postCommentFeedContainer}>\n      {commentList && commentList.length > 0\n        ? commentList.map((item, index) => {\n            let commentId = item.getId();\n            // let commentStats = item.getCommentStats();\n\n            return (\n              <div key={index} className={classes.commentListItemContainer}>\n                <CommentFeedItem\n                  key={commentId}\n                  comment={item}\n                  // stats={commentStats}\n                  usermap={userList}\n                  postPosterInfo={props.posterInfo}\n                  deleteComment={deleteComment}\n                />\n                {index === commentList.length - LOAD_MORE_CUTOFF_SIZE &&\n                !reachEnd ? (\n                  <Waypoint\n                    scrollableAncestor={window}\n                    onEnter={() => loadMore()}\n                  />\n                ) : null}\n              </div>\n            );\n          })\n        : null}\n\n      {commentList && commentList.length % MAX_BATCH_SIZE !== 0 && (\n        <div className={classes.noMoreComment}>\n          {t(\"getter_fe.post.text.noMoreComments\")}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PostCommentFeed;\n","import {makeStyles} from \"@material-ui/core\";\nimport {useEffect, useState} from \"react\";\nimport {useHistory} from \"react-router\";\nimport {toast} from \"react-toastify\";\nimport AppConsts from \"src/app/AppConsts\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {t} from \"src/i18n/utils\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport Global from \"src/system/Global\";\nimport {refreshHelper} from \"src/util/refreshHelper\";\nimport PostCommentFeed from \"../dashboard/PostCommentFeed\";\nimport {PostFeedItem} from \"src/app/components/post/comps/PostFeedItem\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    color: theme.palette.text.primary,\n  },\n  header: {\n    padding: theme.spacing(4, 6),\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n    display: \"flex\",\n    alignItems: \"center\",\n    cursor: \"pointer\",\n\n    \"& > h1\": {\n      fontWeight: \"bold\",\n      color: theme.palette.text.primary,\n      fontSize: \"22px\",\n    },\n\n    \"& > svg\": {\n      margin: theme.spacing(1),\n      fill: theme.palette.text.primary,\n    },\n  },\n  unavailablePost: {\n    border: \"1px solid #E0E6EA\",\n    backgroundColor: \"#F3F5F8\",\n    borderRadius: 10,\n    width: \"auto\",\n    padding: theme.spacing(1.75),\n    color: theme.palette.text.gray,\n    lineHeight: \"15px\",\n    margin: theme.spacing(3.75, 2.5, 0, 2.5),\n  },\n}));\n\nexport const NewPostPageView = ({postId}) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [postInfo, setPostInfo] = useState(null);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isBlocked, setIsBlocked] = useState(false);\n  const [isFollowing, setIsFollowing] = useState(false);\n  const [isUnavailable, setIsUnavailable] = useState(false);\n\n  const api = Global.GetPortal().getAppService();\n\n  useEffect(() => {\n    const fetchPostInfo = async () => {\n      setPostInfo(null); // in order for rerender in PostFeeditem\n      const res = await api.fetchPostWithStats_UserInfo(postId);\n      // if the post doesnt exist redirect to the dashboard\n      if (res.data.nfound) {\n        setIsUnavailable(true);\n      } else {\n        setPostInfo(res);\n      }\n    };\n    fetchPostInfo();\n  }, [postId]);\n\n  const handleNotAuth = () => {\n    history.push(AppConsts.URL_LOGIN);\n  };\n\n  const toggleMute = (userId, posterName, callback) => {\n    if (isMuted) {\n      api.unmuteUser(userId, (error, result) => {\n        if (!result) {\n          handleNotAuth();\n          return;\n        }\n        setIsMuted(false);\n        callback();\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.unmute_success\", {\n              username: upperCaseId || posterId,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    } else {\n      api.muteUser(userId, (error, result) => {\n        if (!result) {\n          handleNotAuth();\n          return;\n        }\n        setIsMuted(true);\n        callback();\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.mute_success\", {\n              username: upperCaseId || posterId,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    }\n  };\n\n  const toggleFollowing = (userId, posterName, callback) => {\n    if (isFollowing) {\n      api.unfollowUser(userId, (error, result) => {\n        if (!result) {\n          handleNotAuth();\n          return;\n        }\n        setIsFollowing(false);\n        callback();\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.unfollow_success\", {\n              username: upperCaseId || posterId,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    } else {\n      api.followUser(userId, (error, result) => {\n        if (!result) {\n          handleNotAuth();\n          return;\n        }\n        setIsFollowing(true);\n        callback();\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.follow_success\", {\n              username: upperCaseId || posterId,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    }\n  };\n\n  const toggleBlock = (userId, posterName, callback) => {\n    if (isBlocked) {\n      api.unblockUser(userId, (error, result) => {\n        if (!result) {\n          handleNotAuth();\n          return;\n        }\n        setIsBlocked(false);\n        callback();\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.unblock_success\", {\n              username: upperCaseId || posterId,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    } else {\n      api.blockUser(userId, (error, result) => {\n        if (!result) {\n          handleNotAuth();\n          return;\n        }\n        setIsBlocked(true);\n        callback();\n        toast.info(\n          <NotifMessage\n            message={t(\"getter_fe.post.tips.block_success\", {\n              username: upperCaseId || posterId,\n            })}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n      });\n    }\n  };\n\n  const getUnavailableComp = () => {\n    return (\n      <div className=\"unavailable-post-container\">\n        <div className={classes.unavailablePost}>\n          {t(\"getter_fe.post.tips.unavailable_post\")}\n        </div>\n      </div>\n    );\n  };\n\n  let bodyComp = <GLoader />;\n\n  if (isUnavailable) {\n    bodyComp = getUnavailableComp();\n  }\n\n  if (postInfo) {\n    if (postInfo.isComment()) {\n      history.replace(window.location.pathname.replace(\"/post/\", \"/comment/\"));\n      return null;\n    }\n    const xPostItem = postInfo.createXPostItem();\n    const sharedPost = postInfo.getSharedPost();\n    const posterInfo = xPostItem.getUserInfo();\n    const posterId = postInfo.getOwnerId();\n    const upperCaseId = posterInfo?.getOriginalUsername();\n    const isSuspended = posterInfo?.isSuspended();\n\n    if (isSuspended) {\n      bodyComp = getUnavailableComp();\n    } else {\n      bodyComp = (\n        <>\n          <PostFeedItem\n            item={xPostItem}\n            type=\"post-detail\"\n            scene=\"post-page-view\"\n            isMuted={isMuted}\n            isFollowing={isFollowing}\n            isBlocked={isBlocked}\n            toggleMute={toggleMute}\n            toggleFollowing={toggleFollowing}\n            toggleBlock={toggleBlock}\n            handleMute={setIsMuted}\n            handleBlocked={setIsBlocked}\n            handleFollowing={setIsFollowing}\n            userId={posterId}\n            sharedObj={sharedPost}\n            postId={xPostItem.getPostId()}\n          />\n          <PostCommentFeed\n            postId={postId}\n            parentId={postId}\n            posterInfo={posterInfo}\n            setupRefresh={(refreshFunc) => {\n              refreshHelper.setup(`PostCommentFeed`, refreshFunc);\n            }}\n          />\n        </>\n      );\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <GBackTitle title={t(\"getter_fe.post.button.post\")} />\n      {bodyComp}\n    </div>\n  );\n};\n","import {makeStyles} from \"@material-ui/core\";\nimport {useDispatch, connect} from \"react-redux\";\nimport {useEffect, useRef, useState} from \"react\";\nimport {t} from \"src/i18n/utils\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport Global from \"src/system/Global\";\nimport {CommentFeedItem} from \"src/app/components/post/comps/CommentFeedItem\";\nimport {PostFeedItem} from \"src/app/components/post/comps/PostFeedItem\";\nimport {PostCommentFeed} from \"../dashboard/PostCommentFeed\";\nimport {changeCommentStats} from \"src/store/modules/status\";\nimport {addLikedPost, addSharedPost} from \"src/app/components/timeline/store\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    color: theme.palette.primary.main,\n  },\n  header: {\n    padding: theme.spacing(4, 6),\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n    display: \"flex\",\n    alignItems: \"center\",\n    cursor: \"pointer\",\n\n    \"& > h1\": {\n      fontWeight: \"bold\",\n      color: theme.palette.text.primary,\n      fontSize: \"22px\",\n    },\n\n    \"& > svg\": {\n      margin: theme.spacing(1),\n      fill: theme.palette.text.primary,\n    },\n  },\n  commentContainer: {\n    minHeight: \"calc(100vh - 70px)\",\n  },\n  unavailablePost: {\n    border: \"1px solid #E0E6EA\",\n    backgroundColor: \"#F3F5F8\",\n    borderRadius: 10,\n    width: \"auto\",\n    padding: theme.spacing(1.75),\n    color: theme.palette.text.gray,\n    lineHeight: \"15px\",\n    margin: theme.spacing(3.75, 2.5, 0, 2.5),\n  },\n}));\n\nconst connector = connect(\n  (state) => {\n    return {\n      commentStats: state.status.commentStats,\n      likedComments: state.userComments.commentFeed.likedComments,\n      sharedComments: state.userComments.commentFeed.sharedComments,\n    };\n  },\n  {\n    changeCommentStats,\n    addLikedPost,\n    addSharedPost,\n  },\n);\n\nexport const NewCommentPageView = connector(_NewCommentPageView);\n\nfunction _NewCommentPageView({\n  commentId,\n  changeCommentStats,\n  addLikedPost,\n  addSharedPost,\n}) {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const [commentObj, setCommentObj] = useState(null);\n  const [notFound, setNotFound] = useState(false);\n  const ref = useRef(null);\n\n  const api = Global.GetPortal().getAppService();\n\n  const changeStats = (val) => {\n    dispatch(changeCommentStats(val));\n  };\n\n  useEffect(() => {\n    const fetchLikeStatus = async (id, isPost = false) => {\n      try {\n        let res;\n        if (isPost) {\n          res = await api.userLikePostStatus(id);\n          if (res === \"y\") {\n            addLikedPost(id);\n          }\n        } else {\n          res = await api.userLikeCommentStatus(id);\n          changeStats({\n            commentId: id,\n            stats: {\n              likeStatus: res,\n            },\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    const fetchRepostStatus = async (id, isPost = false) => {\n      try {\n        let res = null;\n        if (isPost) {\n          res = await api.userSharePostStatus(id);\n          if (res === \"y\") {\n            addSharedPost(id);\n          }\n        } else {\n          res = await api.userShareCommentStatus(id);\n          if (res === null) {\n            // for some reason null is returned if the comment has been reposted\n            changeStats({\n              commentId: id,\n              stats: {repostStatus: \"y\"},\n            });\n          } else {\n            changeStats({\n              commentId: id,\n              stats: {repostStatus: res},\n            });\n          }\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    const fetchCommentObj = async () => {\n      const res = await api.fetchCommentWithStats_UserInfo_Post(commentId);\n      if (res.data.nfound) {\n        setNotFound(true);\n        return;\n      }\n      let postId = res.getPostId(); //post or comment\n      let isPost = res.getPost().isPost();\n      fetchLikeStatus(postId, isPost);\n      fetchRepostStatus(postId, isPost);\n      setCommentObj(res);\n    };\n\n    fetchCommentObj();\n    fetchLikeStatus(commentId);\n    fetchRepostStatus(commentId);\n  }, [commentId]);\n\n  useEffect(() => {\n    if (commentObj && ref) {\n      setTimeout(() => {\n        const headerOffset = 110;\n        const elementPosition = ref.current.getBoundingClientRect().top;\n        const offsetPosition = elementPosition - headerOffset;\n\n        window.scrollTo({\n          top: offsetPosition,\n        });\n      }, 100);\n    }\n  }, [commentObj]);\n\n  if (notFound) {\n    return <GBackTitle title={t(\"getter_fe.common.pageNotFoundTitle\")} />;\n  }\n\n  let bodyComp = null;\n  if (commentObj) {\n    const commentItem = commentObj.createXPostItem();\n    const postObj = commentObj.getPost();\n    const xPostItem = postObj.createXPostItem();\n    const sharedPost = xPostItem.getSharedPost();\n    const posterInfo = xPostItem.getUserInfo();\n    const isSuspended = posterInfo?.isSuspended();\n\n    const comments = (parentId) => {\n      return (\n        <PostCommentFeed\n          postId={parentId}\n          posterInfo={commentItem && commentItem.getUserInfo()}\n        />\n      );\n    };\n\n    bodyComp = (\n      <>\n        {postObj.isPost() ? (\n          <PostFeedItem\n            item={xPostItem}\n            type=\"comment-detail\"\n            scene=\"post-detail\"\n            userId={xPostItem.getTargetId()}\n            sharedObj={sharedPost}\n            postId={xPostItem.getPostId()}\n          />\n        ) : (\n          <div>\n            <CommentFeedItem\n              commentId={postObj.getId()}\n              comment={postObj}\n              postPosterInfo={xPostItem && xPostItem.getUserInfo()}\n              type=\"comment-comment-detail\"\n            />\n          </div>\n        )}\n\n        {isSuspended ? (\n          <div className=\"unavailable-post-container\" ref={ref}>\n            <div className={classes.unavailablePost}>\n              {t(\"getter_fe.post.tips.unavailable_comment\")}\n            </div>\n          </div>\n        ) : (\n          <div className={classes.commentContainer} ref={ref}>\n            <CommentFeedItem\n              commentId={commentObj.getId()}\n              item={commentItem}\n              comment={commentObj}\n              postPosterInfo={xPostItem.getUserInfo()}\n              type=\"comment-detail\"\n            />\n\n            {comments(commentId)}\n          </div>\n        )}\n      </>\n    );\n  }\n\n  return (\n    <>\n      <GBackTitle title={t(\"getter_fe.post.button.post\")} />\n      {bodyComp}\n    </>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.0002 12H5.00024\",\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.0002 19L5.00024 12L12.0002 5\",\n  stroke: \"#0F6CF6\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoArrow);\nexport default __webpack_public_path__ + \"static/media/ico-arrow.2f352ab5.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {Formik} from \"formik\";\nimport {object, ref, string} from \"yup\";\nimport {FormControl, FormHelperText, Link, Typography} from \"@material-ui/core\";\nimport {GTextField} from \"../../../styles/components/GTextField\";\nimport {GButton} from \"../../../styles/components/GButton\";\nimport clsx from \"clsx\";\nimport {ReactComponent as BackArrowIcon} from \"../../../assets/icons/ico-arrow.svg\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport {useHistory} from \"react-router-dom\";\nimport AppConsts from \"../../AppConsts\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {useTranslation} from \"react-i18next\";\nimport {useEffect} from \"react\";\nimport {ReactComponent as WarningIcon} from \"../../../assets/icons/ico-warning.svg\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    wrapper: {\n      marginTop: theme.spacing(6),\n      marginLeft: theme.spacing(4),\n      maxWidth: 488,\n    },\n    tabTitle: {\n      height: 58,\n      paddingLeft: theme.spacing(4),\n      fontSize: 20,\n      fontWeight: 800,\n      lineHeight: \"22px\",\n      color: theme.palette.text.primary,\n      textTransform: \"capitalize\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      display: \"flex\",\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"sm\")]: {\n        // tablet or mobile\n        paddingLeft: theme.spacing(1.5),\n        paddingRight: theme.spacing(1.5),\n        borderBottom: `1px solid ${theme.palette.grey.A200}`,\n        marginTop: 0,\n        height: 58,\n        lineHeight: \"58px\",\n        fontSize: 18,\n        \"& > svg\": {\n          // back arrow icon\n          marginRight: theme.spacing(2),\n          verticalAlign: \"top\",\n          cursor: \"pointer\",\n          borderRadius: \"50%\",\n          padding: 1,\n          width: 26,\n          height: 26,\n          \"&:hover\": {\n            backgroundColor: \"#F2F9FF\",\n          },\n        },\n      },\n    },\n    formControl: {\n      marginTop: 0,\n      marginBottom: theme.spacing(2.5),\n    },\n    inputField: {\n      \"& > .MuiInputBase-root\": {\n        \"& > input\": {\n          fontSize: 15,\n        },\n      },\n      \"& .MuiInputLabel-outlined\": {\n        transform: \"translate(0, 15px) scale(1)\",\n      },\n    },\n    error: {\n      color: \"red\",\n    },\n    btn: {\n      height: 48,\n      width: 200,\n      margin: theme.spacing(6, 0, 5, 0),\n      borderRadius: 24,\n      // boxShadow: \"none\",\n      // \"&:hover\": {\n      //   boxShadow: \"none\",\n      // },\n      // \"& .MuiButton-label\": {\n      //   marginTop: 0,\n      // },\n    },\n    mobileBtn: {\n      width: \"auto\",\n      height: theme.spacing(3.5),\n      borderRadius: 24,\n      fontWeight: 700,\n      position: \"absolute\",\n      right: theme.spacing(1.5),\n      top: 15,\n      \"& span\": {\n        fontSize: \"13px !important\",\n      },\n    },\n    passwordTextHelperContainer: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    textHelper: {\n      maxWidth: 340,\n      fontSize: 12,\n      lineHeight: \"16px\",\n    },\n    warningIcon: {\n      marginRight: 3,\n      minWidth: 16,\n      marginTop: 4,\n    },\n    linkHelperWrapper: {\n      textAlign: \"center\",\n    },\n    linkHelper: {\n      marginTop: theme.spacing(0.625),\n      fontSize: \"14\",\n      color: theme.palette.primary.main,\n      fontWeight: 500,\n      cursor: \"pointer\",\n      textDecoration: \"none\",\n      \"&:hover\": {\n        color: theme.palette.primary.main,\n      },\n    },\n    formControlCP: {\n      marginTop: theme.spacing(1.25),\n    },\n    alertWrapper: {\n      textAlign: \"center\",\n    },\n    alert: {\n      display: \"inline-flex\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      marginBottom: theme.spacing(6.625),\n      \"& .MuiAlert-message\": {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n      },\n    },\n  }),\n);\n\nexport const ChangePasswordForm = ({setPageSeo}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const isTabletOrMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const isMobile = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const history = useHistory();\n  const {t, i18n} = useTranslation();\n  const [showPwd, setShowPwd] = useState(false);\n\n  const api = Global.GetPortal().getAppService();\n\n  const _handleSubmit = (data) => {\n    try {\n      api.submitPasswordChange(\n        data.currentPass,\n        data.newPass,\n        (error, result) => {\n          data.setSubmitting(false);\n          if (result) {\n            toast(\n              <NotifMessage\n                message={t(\"getter_fe.settings.successes.changedPassword\")}\n              />,\n              {\n                position: toast.POSITION.TOP_CENTER,\n                type: toast.TYPE.SUCCESS,\n              },\n            );\n            data.resetForm();\n          } else if (error || !result) {\n            toast(\n              <NotifMessage\n                message={t(\"getter_fe.settings.errors.changePasswordFailure\")}\n              />,\n              {\n                position: toast.POSITION.TOP_CENTER,\n                type: toast.TYPE.WARNING,\n              },\n            );\n          }\n        },\n      );\n    } catch (error) {}\n  };\n\n  useEffect(() => {\n    setPageSeo(t(\"getter_fe.settings.common.changePassword\"));\n  }, []);\n\n  return (\n    <>\n      <Typography variant=\"h1\" className={classes.tabTitle}>\n        {isTabletOrMobile && (\n          <BackArrowIcon\n            onClick={() =>\n              history.push(`/settings/${AppConsts.URL_SETTINGS_MOBILE_INDEX}`)\n            }\n          />\n        )}\n        {t(\"getter_fe.settings.common.changePassword\")}\n      </Typography>\n      <div className={classes.wrapper}>\n        <Formik\n          initialValues={{\n            currentPass: \"\",\n            newPass: \"\",\n            confirmPass: \"\",\n          }}\n          validationSchema={object().shape({\n            currentPass: string().required(\n              t(\"getter_fe.settings.errors.oldPasswordRequired\"),\n            ),\n            newPass: string()\n              .required(t(\"getter_fe.auth.common.newPwdRequired\"))\n              .min(6, t(\"getter_fe.auth.common.minCharact\"))\n              .matches(\n                /^(?=.*[a-zA-Z\\d].*)[a-zA-Z\\d!#$&()*+,\\-.:;<=>?@[\\]^_{|}~]{6,128}$/,\n                t(\"getter_fe.settings.errors.passwordValidation\"),\n              ),\n            confirmPass: string()\n              .oneOf(\n                [ref(\"newPass\")],\n                t(\"getter_fe.settings.errors.passwordsNotMatch\"),\n              )\n              .required(t(\"getter_fe.settings.errors.confirmPasswordRequired\")),\n          })}\n          onSubmit={(\n            {currentPass, newPass, confirmPass},\n            {setSubmitting, resetForm},\n          ) =>\n            _handleSubmit({\n              currentPass,\n              newPass,\n              confirmPass,\n              setSubmitting,\n              resetForm,\n            })\n          }\n        >\n          {(props) => {\n            const {\n              values,\n              touched,\n              errors,\n              handleChange,\n              handleBlur,\n              handleSubmit,\n              isValid,\n              isSubmitting,\n              dirty,\n              setFieldTouched,\n            } = props;\n\n            i18n.on(\"languageChanged\", (lng) => {\n              setTimeout(() => {\n                Object.keys(errors).forEach((fieldName) => {\n                  if (touched[fieldName]) {\n                    setFieldTouched(fieldName);\n                  }\n                });\n              }, 50);\n            });\n\n            return (\n              <form className=\"form\" onSubmit={handleSubmit}>\n                <FormControl\n                  fullWidth\n                  margin=\"dense\"\n                  className={classes.formControl}\n                >\n                  <GTextField\n                    id=\"password-current\"\n                    type=\"password\"\n                    name=\"currentPass\"\n                    value={values.currentPass}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    error={Boolean(touched.currentPass && errors.currentPass)}\n                    className={classes.inputField}\n                    label={t(\"getter_fe.settings.common.oldPassword\")}\n                    disabled={isSubmitting}\n                    showPwd={showPwd}\n                    iconBtnClick={() => {\n                      setShowPwd(!showPwd);\n                    }}\n                  />\n\n                  {touched.currentPass && errors.currentPass && (\n                    <div className={classes.passwordTextHelperContainer}>\n                      <WarningIcon className={classes.warningIcon} />\n                      <FormHelperText\n                        error={Boolean(\n                          touched.currentPass && errors.currentPass,\n                        )}\n                      >\n                        {errors.currentPass}\n                      </FormHelperText>\n                    </div>\n                  )}\n                </FormControl>\n                <FormControl\n                  fullWidth\n                  margin=\"dense\"\n                  className={classes.formControl}\n                >\n                  <GTextField\n                    id=\"password-new\"\n                    type=\"password\"\n                    name=\"newPass\"\n                    value={values.newPass}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    error={Boolean(touched.newPass && errors.newPass)}\n                    className={classes.inputField}\n                    label={t(\"getter_fe.settings.common.newPassword\")}\n                    disabled={isSubmitting}\n                    showPwd={showPwd}\n                    iconBtnClick={() => {\n                      setShowPwd(!showPwd);\n                    }}\n                  />\n                  {touched.newPass && errors.newPass && (\n                    <div className={classes.passwordTextHelperContainer}>\n                      <WarningIcon className={classes.warningIcon} />\n                      <FormHelperText\n                        className={classes.textHelper}\n                        error={Boolean(touched.newPass && errors.newPass)}\n                      >\n                        {errors.newPass}\n                      </FormHelperText>\n                    </div>\n                  )}\n                </FormControl>\n                <FormControl\n                  fullWidth\n                  margin=\"dense\"\n                  className={clsx(classes.formControl, classes.formControlCP)}\n                >\n                  <GTextField\n                    id=\"password-confirm\"\n                    type=\"password\"\n                    name=\"confirmPass\"\n                    value={values.confirmPass}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    error={Boolean(touched.confirmPass && errors.confirmPass)}\n                    className={classes.inputField}\n                    label={t(\"getter_fe.settings.common.confirmPassword\")}\n                    disabled={isSubmitting}\n                    showPwd={showPwd}\n                    iconBtnClick={() => {\n                      setShowPwd(!showPwd);\n                    }}\n                  />\n\n                  {touched.confirmPass && errors.confirmPass && (\n                    <div className={classes.passwordTextHelperContainer}>\n                      <WarningIcon className={classes.warningIcon} />\n                      <FormHelperText\n                        error={Boolean(\n                          touched.confirmPass && errors.confirmPass,\n                        )}\n                      >\n                        {errors.confirmPass}\n                      </FormHelperText>\n                    </div>\n                  )}\n                </FormControl>\n                {isMobile ? (\n                  <GButton\n                    type=\"submit\"\n                    variant=\"contained\"\n                    className={classes.mobileBtn}\n                    disabled={Boolean(!isValid || isSubmitting || !dirty)}\n                    loading={isSubmitting}\n                  >\n                    {t(\"getter_fe.profile.common.save\")}\n                  </GButton>\n                ) : (\n                  <GButton\n                    type=\"submit\"\n                    variant=\"contained\"\n                    className={classes.btn}\n                    disabled={Boolean(!isValid || isSubmitting || !dirty)}\n                    loading={isSubmitting}\n                  >\n                    {t(\"getter_fe.settings.common.saveChanges\")}\n                  </GButton>\n                )}\n              </form>\n            );\n          }}\n        </Formik>\n      </div>\n    </>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.77299 0.708769C9.70731 0.64254 9.62916 0.589972 9.54305 0.554099C9.45694 0.518225 9.36458 0.499756 9.2713 0.499756C9.17802 0.499756 9.08567 0.518225 8.99956 0.554099C8.91345 0.589972 8.8353 0.64254 8.76962 0.708769L3.5054 5.98005L1.29373 3.7613C1.2258 3.69405 1.14521 3.64095 1.05661 3.60509C0.968007 3.56922 0.873168 3.5513 0.77759 3.55236C0.682012 3.55343 0.587596 3.57345 0.499817 3.61128C0.412038 3.64911 0.332642 3.70399 0.266233 3.77274C0.199824 3.84149 0.147724 3.92274 0.112953 4.01177C0.0781821 4.10081 0.0614324 4.19586 0.0636754 4.29142C0.0659184 4.38697 0.0871096 4.48114 0.12602 4.56844C0.16493 4.65575 0.220785 4.73446 0.290346 4.80002L3.00371 7.51338C3.0694 7.57961 3.14755 7.63218 3.23366 7.66805C3.31976 7.70392 3.41212 7.72239 3.5054 7.72239C3.59868 7.72239 3.69104 7.70392 3.77715 7.66805C3.86325 7.63218 3.9414 7.57961 4.00709 7.51338L9.77299 1.74748C9.84472 1.68131 9.90196 1.601 9.94111 1.51162C9.98026 1.42223 10.0005 1.32571 10.0005 1.22812C10.0005 1.13054 9.98026 1.03401 9.94111 0.944629C9.90196 0.855244 9.84472 0.774937 9.77299 0.708769Z\",\n  fill: \"white\"\n});\n\nfunction SvgCheck(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 8,\n    viewBox: \"0 0 10 8\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheck);\nexport default __webpack_public_path__ + \"static/media/check.33c2c5b5.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useEffect, useState} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {\n  Typography,\n  Radio,\n  RadioGroup,\n  FormControlLabel,\n  FormControl,\n} from \"@material-ui/core\";\nimport {t, setLang, getLang} from \"../../../i18n/utils\";\nimport {GButton} from \"../../../styles/components/GButton\";\nimport clsx from \"clsx\";\nimport {ReactComponent as Check} from \"../../../assets/icons/check.svg\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"../../components/notifications/NotifMessage\";\nimport {ReactComponent as BackArrowIcon} from \"../../../assets/icons/ico-arrow.svg\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport {useHistory} from \"react-router-dom\";\nimport AppConsts from \"../../AppConsts\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    wrapper: {\n      marginTop: theme.spacing(3.75),\n      marginLeft: theme.spacing(4),\n    },\n    tabTitle: {\n      height: 58,\n      paddingLeft: theme.spacing(4),\n      fontWeight: 800,\n      fontSize: 20,\n      lineHeight: \"22px\",\n      color: theme.palette.text.primary,\n      textTransform: \"capitalize\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      display: \"flex\",\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"sm\")]: {\n        // tablet or mobile\n        paddingLeft: theme.spacing(1.5),\n        paddingRight: theme.spacing(1.5),\n        borderBottom: `1px solid ${theme.palette.grey.A200}`,\n        marginTop: 0,\n        height: 58,\n        lineHeight: \"58px\",\n        fontSize: 18,\n        \"& > svg\": {\n          // back arrow icon\n          marginRight: theme.spacing(2),\n          verticalAlign: \"top\",\n          cursor: \"pointer\",\n          borderRadius: \"50%\",\n          padding: 1,\n          width: 26,\n          height: 26,\n          \"&:hover\": {\n            backgroundColor: \"#F2F9FF\",\n          },\n        },\n      },\n    },\n    description: {\n      fontSize: 16,\n      lineHeight: \"20.8px\",\n      fontWeight: 400,\n      letterSpacing: \"0.03em\",\n      color: theme.palette.text.secondary,\n    },\n    actions: {\n      maxWidth: theme.spacing(61),\n    },\n    btn: {\n      maxWidth: theme.spacing(25),\n      height: theme.spacing(6),\n      margin: theme.spacing(3.75, 0, 5, 0),\n      borderRadius: 24,\n      // boxShadow: \"none\",\n      // textTransform: \"capitalize\",\n      // \"&:hover\": {\n      //   boxShadow: \"none\",\n      // },\n      // \"& .MuiButton-label\": {\n      //   marginTop: 0,\n      // },\n    },\n    mobileBtn: {\n      width: \"auto\",\n      marginLeft: \"auto\",\n      height: theme.spacing(3.5),\n      borderRadius: 24,\n      fontWeight: 700,\n      \"& span\": {\n        fontSize: \"13px !important\",\n      },\n    },\n    options: {\n      marginTop: theme.spacing(3.75),\n    },\n    option: {\n      margin: theme.spacing(0, 0, 2.5, 0),\n      \"& .MuiTypography-body1\": {\n        fontSize: 16,\n        lineHeight: \"20.8px\",\n        color: theme.palette.text.primary,\n        fontWeight: 400,\n      },\n      \"&:last-child\": {\n        marginBottom: 0,\n      },\n    },\n    radio: {\n      padding: theme.spacing(0, 1.5, 0, 0),\n      \"&:hover\": {\n        backgroundColor: \"transparent\",\n      },\n    },\n    icon: {\n      width: theme.spacing(2.375),\n      height: theme.spacing(2.375),\n      borderRadius: \"50%\",\n      boxShadow: \"none\",\n      backgroundColor: \"transparent\",\n      backgroundImage: \"none\",\n      border: `1px solid ${theme.radio.borderColor}`,\n      \"$root.Mui-focusVisible &\": {\n        backgroundColor: \"red\",\n      },\n      \"input:hover ~ &\": {\n        backgroundColor: \"transparent\",\n      },\n    },\n    checkedIcon: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      backgroundColor: theme.palette.primary.main,\n      border: `1px solid ${theme.palette.primary.main}`,\n      backgroundImage: \"none\",\n      \"input:hover ~ &\": {\n        backgroundColor: theme.palette.primary.main,\n      },\n    },\n    check: {\n      width: theme.spacing(1.125),\n      height: \"auto\",\n    },\n  }),\n);\n\nexport const Languages = ({setPageSeo}) => {\n  const api = Global.GetPortal().getAppService();\n  const classes = useStyles();\n  const allLangs = api.getSupportedLanguageList();\n  const [value, setValue] = useState(getLang());\n  const [prevLang, setprevLang] = useState(getLang());\n  const [changed, setChanged] = useState(false);\n  const theme = useTheme();\n  const isTabletOrMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const isMobile = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const history = useHistory();\n\n  const handleChange = (event) => {\n    const lang = event.target.value;\n    setValue(lang);\n\n    if (lang !== prevLang) {\n      setChanged(true);\n    } else {\n      setChanged(false);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (api.setLanguagePref(value)) {\n      // success\n      setLang(value, () => {\n        setChanged(!changed);\n\n        toast.dismiss();\n\n        toast(\n          <NotifMessage\n            message={t(\"getter_fe.settings.common.languageSaved\")}\n          />,\n          {\n            type: toast.TYPE.SUCCESS,\n          },\n        );\n        window.location.reload();\n      });\n    } else {\n      console.error(\"Oops! Cannot change to the language you desired.\");\n    }\n  };\n\n  useEffect(() => {\n    setPageSeo(t(\"getter_fe.settings.common.interfaceLanguages\"));\n  }, []);\n\n  return (\n    <>\n      <Typography variant=\"h1\" className={classes.tabTitle}>\n        {isTabletOrMobile && (\n          <BackArrowIcon\n            onClick={() =>\n              history.push(`/settings/${AppConsts.URL_SETTINGS_MOBILE_INDEX}`)\n            }\n          />\n        )}\n        {t(\"getter_fe.settings.common.interfaceLanguages\")}\n        {isMobile && (\n          <GButton\n            type=\"submit\"\n            variant=\"contained\"\n            className={classes.mobileBtn}\n            onClick={(e) => handleSubmit(e)}\n          >\n            {t(\"getter_fe.profile.common.save\")}\n          </GButton>\n        )}\n      </Typography>\n      <div className={classes.wrapper}>\n        <Typography variant=\"body2\" className={classes.description}>\n          {t(\"getter_fe.settings.common.languagesDescription\")}\n        </Typography>\n\n        <div className={classes.options}>\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"languages\"\n              name=\"languages\"\n              value={value}\n              onChange={handleChange}\n            >\n              {allLangs &&\n                allLangs.map((lang, idx) => {\n                  return (\n                    <FormControlLabel\n                      key={idx}\n                      value={lang.code}\n                      control={\n                        <Radio\n                          className={classes.radio}\n                          disableRipple\n                          color=\"default\"\n                          checkedIcon={\n                            <div\n                              className={clsx(\n                                classes.icon,\n                                classes.checkedIcon,\n                              )}\n                            >\n                              <Check className={classes.check} />\n                            </div>\n                          }\n                          icon={<span className={classes.icon} />}\n                        />\n                      }\n                      className={classes.option}\n                      label={`${lang.name} - ${lang.nativeName}`}\n                    />\n                  );\n                })}\n            </RadioGroup>\n          </FormControl>\n        </div>\n        {!isMobile && (\n          <div className={classes.actions}>\n            <GButton\n              type=\"submit\"\n              variant=\"contained\"\n              className={classes.btn}\n              onClick={(e) => handleSubmit(e)}\n            >\n              {t(\"getter_fe.settings.common.saveChanges\")}\n            </GButton>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n","import React, {useEffect, useState} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {ReactComponent as VerificationIcon} from \"../../../assets/icons/ico-verification.svg\";\nimport {GButton} from \"../../../styles/components/GButton\";\nimport {AvatarLink} from \"../../components/AvatarLink\";\nimport {FollowUserButton} from \"../../components/FollowUserButton\";\nimport clsx from \"clsx\";\nimport {t} from \"../../../i18n/utils\";\nimport AppConsts from \"../../AppConsts\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport HoverPopup from \"src/app/components/HoverPopup\";\nimport {changeMutedStatus, changeBlockedStatus} from \"src/store/modules/status\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    display: \"flex\",\n    paddingRight: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    marginTop: theme.spacing(2),\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n  },\n  right: {\n    flex: 1,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    cursor: \"pointer\",\n  },\n  check: {\n    width: theme.spacing(1.875),\n    margin: theme.spacing(0, 0, 0, 0.5),\n    height: \"auto\",\n  },\n  displayNameWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  displayName: {\n    fontSize: \"16px\",\n    lineHeight: \"19px\",\n    fontWeight: 700,\n    color: theme.palette.text.primary,\n    letterSpacing: \"0.01em\",\n    textTransform: \"capitalize\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    display: \"inline-block\",\n    maxWidth: theme.spacing(45),\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    cursor: \"pointer\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: theme.spacing(22.5),\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      maxWidth: theme.spacing(17.5),\n    },\n  },\n  usernameWrapper: {\n    display: \"grid\",\n    marginTop: theme.spacing(0.375),\n  },\n  username: {\n    fontWeight: 400,\n    fontSize: \"16px\",\n    lineHeight: \"16px\",\n    color: theme.palette.secondary.light,\n    letterSpacing: \"0.01em\",\n  },\n  btn: {\n    width: 100,\n    minWidth: theme.spacing(12.5),\n    height: theme.spacing(4),\n    minHeight: theme.spacing(4),\n    // borderRadius: 5,\n    // boxShadow: \"none\",\n    textTransform: \"capitalize\",\n    padding: theme.spacing(1),\n    \"& .MuiButton-label\": {\n      fontSize: 16,\n      fontWeight: \"bold\",\n      lineHeight: \"14px\",\n    },\n    // \"&:hover\": {\n    //   boxShadow: \"none\",\n    // },\n  },\n  btnOutlined: {\n    // border: `1px solid ${theme.palette.error.light}`,\n    // color: theme.palette.error.light,\n    // \"&.MuiButton-containedPrimary:not(:disabled)\": {\n    //   background: \"transparent\",\n    // },\n  },\n  followBtn: {\n    // \"&:hover\": {\n    //   border: `1px solid ${theme.palette.error.light}`,\n    //   color: theme.palette.error.light,\n    //   \"&.MuiButton-containedPrimary:not(:disabled)\": {\n    //     background: \"transparent\",\n    //   },\n    // },\n    // \"& div span:last-child\": {\n    //   display: \"none\",\n    // },\n    // \"&:hover div span:last-child\": {\n    //   display: \"inline-block\",\n    // },\n    // \"&:hover div span:first-child\": {\n    //   display: \"none\",\n    // },\n  },\n}));\n\nexport const UserLayout = ({\n  user,\n  notChecked,\n  type,\n  xUserStats,\n  updateUserStats,\n  removeItem = null,\n}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [isChecked, setIsChecked] = useState(notChecked ? false : true);\n  const [userData] = useState(user);\n  const [xUserInfo, setXUserInfo] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const api = Global.GetPortal().getAppService();\n\n  const isLoggedIn = api.portal.userLoggedIn();\n\n  const fetchUserInfo = async () => {\n    if (isLoading) return;\n    setIsLoading(true);\n\n    try {\n      if (user._id) {\n        const userRes = await api.fetchUserInfo(user._id);\n        userRes && setXUserInfo(userRes);\n      }\n      setIsLoading(false);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const goToLoginPage = () => {\n    history.push(AppConsts.URL_LOGIN);\n  };\n\n  const handleMute = async () => {\n    if (!isLoggedIn) {\n      goToLoginPage();\n      return;\n    }\n    api.muteUser(user._id, (error, result) => {\n      if (result === null) {\n        toast(\n          <NotifMessage\n            message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n          />,\n          {\n            position: toast.POSITION.TOP_CENTER,\n            type: toast.TYPE.ERROR,\n          },\n        );\n      } else {\n        setIsChecked(true);\n        dispatch(\n          changeMutedStatus({\n            userId: user._id,\n            status: true,\n          }),\n        );\n      }\n    });\n  };\n\n  const handleUnmute = async () => {\n    if (!isLoggedIn) {\n      goToLoginPage();\n      return;\n    }\n    await api.unmuteUser(user._id, (error, result) => {\n      if (result === null) {\n        toast(\n          <NotifMessage\n            message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n          />,\n          {\n            position: toast.POSITION.TOP_CENTER,\n            type: toast.TYPE.ERROR,\n          },\n        );\n      } else {\n        setIsChecked(false);\n        dispatch(\n          changeMutedStatus({\n            userId: user._id,\n            status: false,\n          }),\n        );\n      }\n    });\n  };\n\n  const handleUnblock = async () => {\n    if (!isLoggedIn) {\n      goToLoginPage();\n      return;\n    }\n    api.unblockUser(user._id, (error, result) => {\n      if (result === null) {\n        toast(\n          <NotifMessage\n            message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n          />,\n          {\n            position: toast.POSITION.TOP_CENTER,\n            type: toast.TYPE.ERROR,\n          },\n        );\n      } else {\n        setIsChecked(false);\n        dispatch(\n          changeBlockedStatus({\n            userId: user._id,\n            status: false,\n          }),\n        );\n      }\n    });\n  };\n\n  const handleBlock = async () => {\n    if (!isLoggedIn) {\n      goToLoginPage();\n      return;\n    }\n    api.blockUser(user._id, (error, result) => {\n      if (result === null) {\n        toast(\n          <NotifMessage\n            message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n          />,\n          {\n            position: toast.POSITION.TOP_CENTER,\n            type: toast.TYPE.ERROR,\n          },\n        );\n      } else {\n        setIsChecked(true);\n        dispatch(\n          changeBlockedStatus({\n            userId: user._id,\n            status: true,\n          }),\n        );\n      }\n    });\n  };\n\n  const handleFollow = async () => {\n    if (!isLoggedIn) {\n      goToLoginPage();\n      return;\n    }\n    setIsChecked(true);\n    await api.userFollows(user._id, null, (err, res) => {\n      /**\n       * will take any reponse different from \"AppConsts.STATUS_ACCEPTED\" as an error\n       */\n      res !== AppConsts.STATUS_ACCEPTED && setIsChecked(false);\n\n      /**\n       * will take \"AppConsts.STATUS_ACCEPTED\" as success reponse for now until the BE will fix it\n       */\n      if (res === AppConsts.STATUS_ACCEPTED) {\n        xUserStats.setFollowsCount(xUserStats.getFollowsCount() + 1);\n        updateUserStats();\n        setIsChecked(true);\n      }\n    });\n  };\n\n  const handleUnfollow = async () => {\n    if (!isLoggedIn) {\n      goToLoginPage();\n      return;\n    }\n    const title = t(\"getter_fe.profile.common.unfollowUsername\", {\n      username: user._id,\n    });\n    GConfirmAlert({\n      title,\n      text: t(\"getter_fe.post.tips.unfollow_tips\", {\n        username: user._id,\n      }),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: t(\"getter_fe.post.button.unfollow\"),\n        type: \"danger\",\n        callback: (close) => {\n          requestUnfollow(close);\n        },\n      },\n    });\n  };\n\n  const requestUnfollow = async (callback) => {\n    setIsChecked(true);\n\n    callback();\n    await api.userUnfollows(user._id, null, (err, res) => {\n      /**\n       * will take any reponse different from \"AppConsts.STATUS_ACCEPTED\" as an success\n       */\n      if (res !== AppConsts.STATUS_ACCEPTED) {\n        xUserStats.setFollowsCount(xUserStats.getFollowsCount() - 1);\n        updateUserStats();\n        setIsChecked(false);\n      } else {\n        setIsChecked(true);\n      }\n    });\n  };\n\n  const getUserStatus = (status) => {\n    setIsChecked(status);\n  };\n\n  return (\n    <>\n      {userData && (\n        <div className={classes.card}>\n          <div className={classes.left}>\n            <HoverPopup\n              userId={userData._id}\n              userInfoTemp={userData}\n              getUserStatus={getUserStatus}\n            >\n              <div key=\"popup-handler\" className=\"user-avatar\">\n                <AvatarLink\n                  avatarUrl={userData.ico}\n                  styleClasses={classes.avatar}\n                  userId={userData._id}\n                  username={userData.nickname}\n                />\n              </div>\n            </HoverPopup>\n          </div>\n          <div className={classes.right}>\n            <div className={classes.userInfoContainer}>\n              <div className={classes.displayNameWrapper}>\n                <HoverPopup\n                  userId={userData._id}\n                  userInfoTemp={userData}\n                  getUserStatus={getUserStatus}\n                  leftAligned={true}\n                >\n                  <div\n                    key=\"popup-handler\"\n                    className={clsx(classes.userAvatarContainer, \"user-avatar\")}\n                  >\n                    <Link\n                      className={classes.displayName}\n                      to={`/user/${userData._id}`}\n                    >\n                      {userData.nickname || userData.username}\n                    </Link>\n                  </div>\n                </HoverPopup>\n                {xUserInfo?.isInfluencer && xUserInfo?.isInfluencer() > 0 && (\n                  <VerificationIcon className={classes.check} />\n                )}\n              </div>\n              <div className={classes.usernameWrapper}>\n                <span className={classes.username}>{`@${\n                  userData.ousername || userData.username\n                }`}</span>\n              </div>\n            </div>\n            <div>\n              {type === AppConsts.USER_LIST_BLOCKED && (\n                <GButton\n                  variant={isChecked ? \"outlined\" : \"contained\"}\n                  className={clsx(classes.btn, \"danger\")}\n                  onClick={() => (isChecked ? handleUnblock() : handleBlock())}\n                >\n                  {isChecked\n                    ? t(\"getter_fe.settings.common.blocked\")\n                    : t(\"getter_fe.settings.common.block\")}\n                </GButton>\n              )}{\" \"}\n              {type === AppConsts.USER_LIST_MUTED && (\n                <GButton\n                  variant={isChecked ? \"outlined\" : \"contained\"}\n                  className={clsx(classes.btn, \"danger\")}\n                  onClick={() => (isChecked ? handleUnmute() : handleMute())}\n                >\n                  {isChecked\n                    ? t(\"getter_fe.settings.common.muted\")\n                    : t(\"getter_fe.settings.common.mute\")}\n                </GButton>\n              )}\n              {type === AppConsts.USER_LIST_FOLLOW &&\n                userData.username !== api.getUserId() && (\n                  <FollowUserButton\n                    xUserStats={xUserStats}\n                    updateUserStats={updateUserStats}\n                    userId={user._id}\n                    status={isChecked}\n                  />\n                )}\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n","import React, {useState, useEffect, useCallback} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {UserLayout} from \"./UserLayout\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Waypoint} from \"react-waypoint\";\nimport {t} from \"../../../i18n/utils\";\nimport {Loader} from \"./Loader\";\nimport {NoDataMessage} from \"./NoDataMessage\";\nimport AppConsts from \"../../AppConsts\";\nimport axios from \"axios\";\nimport {changeMutedStatus} from \"src/store/modules/status\";\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    height: \"100%\",\n  },\n  cardWrapper: {\n    height: \"100%\",\n  },\n}));\n\nexport const Muted = ({userId, token}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const maxPerPage = 10;\n  const [items, setItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const fetchData = useCallback(async () => {\n    let dataArr = [];\n    setIsLoading(true);\n    let xAuth =\n      userId === null\n        ? `{\"user\": null, \"token\": null}`\n        : `{\"user\": \"${userId}\", \"token\": \"${token}\"}`;\n    // get muted users list\n    await axios\n      .get(\n        `${process.env.REACT_APP_API_URL}/u/user/${userId}/mutes/?offset=${pageNumber}&max=${maxPerPage}&incl=userstats|userinfo`,\n        {\n          headers: {\n            \"x-app-auth\": xAuth,\n          },\n        },\n      )\n      .then((res) => {\n        const data = res.data?.result?.aux?.uinf;\n\n        if (data) {\n          for (const [key, value] of Object.entries(data)) {\n            if (value.username !== \"\") {\n              dataArr.push(value);\n              dispatch(\n                changeMutedStatus({\n                  userId: value.username,\n                  status: true,\n                }),\n              );\n            }\n          }\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n    setPageNumber(pageNumber + 1);\n\n    if (dataArr.length < maxPerPage) {\n      setHasMore(false);\n    }\n\n    setItems([...items, ...dataArr]);\n\n    setIsLoading(false);\n  });\n\n  useEffect(() => {\n    items.length <= 0 && fetchData();\n  }, []);\n\n  return (\n    <div className={classes.wrapper}>\n      {!isLoading && items.length <= 0 && (\n        <NoDataMessage\n          title={t(\"getter_fe.settings.muted.noDataTitle\")}\n          message={t(\"getter_fe.settings.muted.noDataMessage\")}\n        />\n      )}\n\n      <div className={!isLoading ? classes.cardWrapper : \"\"}>\n        {items &&\n          items.map((user, idx) => {\n            return (\n              <UserLayout\n                user={user}\n                key={idx}\n                type={AppConsts.USER_LIST_MUTED}\n              />\n            );\n          })}\n      </div>\n\n      {isLoading && <Loader />}\n\n      {!isLoading && hasMore && items.length > 0 && (\n        <Waypoint\n          scrollableAncestor={window}\n          fireOnRapidScroll={false}\n          onEnter={fetchData}\n          className={classes.wayPoint}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Muted;\n","import React, {useState, useEffect, useCallback} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {UserLayout} from \"./UserLayout\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Waypoint} from \"react-waypoint\";\nimport {t} from \"../../../i18n/utils\";\nimport {Loader} from \"./Loader\";\nimport {NoDataMessage} from \"./NoDataMessage\";\nimport AppConsts from \"../../AppConsts\";\nimport axios from \"axios\";\nimport {changeBlockedStatus} from \"src/store/modules/status\";\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    height: \"100%\",\n  },\n  cardWrapper: {\n    height: \"100%\",\n  },\n}));\n\nexport const Blocked = ({userId, token}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const maxPerPage = 10;\n  const [items, setItems] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const fetchData = useCallback(async () => {\n    let dataArr = [];\n    setIsLoading(true);\n    let xAuth =\n      userId === null\n        ? `{\"user\": null, \"token\": null}`\n        : `{\"user\": \"${userId}\", \"token\": \"${token}\"}`;\n    // get muted users list\n    await axios\n      .get(\n        `${process.env.REACT_APP_API_URL}/u/user/${userId}/blockers/?offset=${pageNumber}&max=${maxPerPage}&incl=userstats|userinfo`,\n        {\n          headers: {\n            \"x-app-auth\": xAuth,\n          },\n        },\n      )\n      .then((res) => {\n        const data = res.data?.result?.aux?.uinf;\n\n        if (data) {\n          for (const [key, value] of Object.entries(data)) {\n            if (value.username !== \"\") {\n              dataArr.push(value);\n              dispatch(\n                changeBlockedStatus({\n                  userId: value.username,\n                  status: true,\n                }),\n              );\n            }\n          }\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n    setPageNumber(pageNumber + 1);\n\n    if (dataArr.length < maxPerPage) {\n      setHasMore(false);\n    }\n\n    setItems([...items, ...dataArr]);\n\n    setIsLoading(false);\n  });\n\n  useEffect(() => {\n    items.length <= 0 && fetchData();\n  }, []);\n\n  return (\n    <div className={classes.wrapper}>\n      {!isLoading && items.length <= 0 && (\n        <NoDataMessage\n          title={t(\"getter_fe.settings.blocked.noDataTitle\")}\n          message={t(\"getter_fe.settings.blocked.noDataMessage\")}\n        />\n      )}\n\n      <div className={!isLoading ? classes.cardWrapper : \"\"}>\n        {items &&\n          items.map((user, idx) => {\n            return (\n              <UserLayout\n                user={user}\n                key={idx}\n                type={AppConsts.USER_LIST_BLOCKED}\n              />\n            );\n          })}\n      </div>\n\n      {isLoading && <Loader />}\n\n      {!isLoading && hasMore && items.length > 0 && (\n        <Waypoint\n          scrollableAncestor={window}\n          fireOnRapidScroll={false}\n          onEnter={fetchData}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Blocked;\n","import React, {useEffect} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Tabs, Tab, Typography} from \"@material-ui/core\";\nimport {t} from \"../../../i18n/utils\";\nimport Muted from \"./Muted\";\nimport Blocked from \"./Blocked\";\nimport {ReactComponent as BackArrowIcon} from \"../../../assets/icons/ico-arrow.svg\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport {useHistory} from \"react-router-dom\";\nimport AppConsts from \"../../AppConsts\";\nimport Global from \"src/system/Global\";\n\nfunction TabPanel({children, value, index, ...other}) {\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`tabpanel-${index}`}\n      aria-labelledby={`tab-${index}`}\n      {...other}\n    >\n      {value === index && children}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `tab-${index}`,\n    \"aria-controls\": `tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  tabTitle: {\n    height: 58,\n    paddingLeft: theme.spacing(4),\n    fontWeight: 800,\n    fontSize: 20,\n    lineHeight: \"22px\",\n    color: theme.palette.text.primary,\n    textTransform: \"capitalize\",\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    display: \"flex\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"sm\")]: {\n      // tablet or mobile\n      paddingLeft: theme.spacing(1.5),\n      paddingRight: theme.spacing(1.5),\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      marginTop: 0,\n      height: 58,\n      lineHeight: \"58px\",\n      fontSize: 18,\n      \"& > svg\": {\n        // back arrow icon\n        marginRight: theme.spacing(2),\n        verticalAlign: \"top\",\n        cursor: \"pointer\",\n        borderRadius: \"50%\",\n        padding: 1,\n        width: 26,\n        height: 26,\n        \"&:hover\": {\n          backgroundColor: \"#F2F9FF\",\n        },\n      },\n    },\n  },\n  root: {\n    width: \"100%\",\n    height: \"100%\",\n    minHeight: \"calc(100vh - 58px)\",\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    [theme.breakpoints.down(\"sm\")]: {\n      minHeight: `calc(100vh - ${\n        58\n        // theme.mixins.header.height + tabTitleHeight\n      }px)`,\n    },\n  },\n  tabPanel: {\n    height: \"100%\",\n  },\n  tabs: {\n    \"& .MuiTabs-indicator\": {\n      backgroundColor: theme.palette.primary.main,\n    },\n  },\n  tab: {\n    color: theme.palette.text.secondary,\n    textTransform: \"capitalize\",\n    fontSize: 16,\n    lineHeight: \"16px\",\n    letterSpacing: \"0.033em\",\n    opacity: 1,\n    fontWeight: 600,\n    height: \"56px\",\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    \"&.Mui-selected\": {\n      color: theme.palette.primary.main,\n    },\n    \"& .MuiTab-wrapper\": {\n      opacity: 0.5,\n    },\n    \"&.Mui-selected .MuiTab-wrapper\": {\n      opacity: 1,\n    },\n  },\n}));\n\nexport default function PrivacyTabs({userId, token, setPageSeo}) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n  const theme = useTheme();\n  const isTabletOrMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const history = useHistory();\n\n  const handleChange = (event, newValue) => {\n    event.preventDefault();\n    setValue(newValue);\n  };\n\n  useEffect(() => {\n    setPageSeo(t(\"getter_fe.settings.common.privacy\"));\n  }, []);\n\n  return (\n    <>\n      <Typography variant=\"h1\" className={classes.tabTitle}>\n        {isTabletOrMobile && (\n          <BackArrowIcon\n            onClick={() =>\n              history.push(`/settings/${AppConsts.URL_SETTINGS_MOBILE_INDEX}`)\n            }\n          />\n        )}\n        {t(\"getter_fe.settings.common.privacy\")}\n      </Typography>\n      <div className={classes.root}>\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          variant=\"fullWidth\"\n          className={classes.tabs}\n        >\n          <Tab\n            label={t(\"getter_fe.settings.common.mutedTitle\")}\n            {...a11yProps(0)}\n            className={classes.tab}\n            disableRipple={true}\n          />\n          <Tab\n            label={t(\"getter_fe.settings.common.blockedTitle\")}\n            {...a11yProps(1)}\n            className={classes.tab}\n            disableRipple={true}\n          />\n        </Tabs>\n        <TabPanel value={value} index={0} className={classes.tabPanel}>\n          <Muted userId={userId} token={token} />\n        </TabPanel>\n        <TabPanel value={value} index={1} className={classes.tabPanel}>\n          <Blocked userId={userId} token={token} />\n        </TabPanel>\n      </div>\n    </>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.00012 4L16.0001 12L8.00012 20\",\n  stroke: \"#737881\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoRightArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoRightArrow);\nexport default __webpack_public_path__ + \"static/media/ico-right-arrow.9289fa31.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 19.167H11.5217L12.6892 16.3049H17.3108L18.4783 19.167H20L15.7166 9.16699H14.2834L10 19.167ZM14.9356 10.7817H15.0644L16.8841 15.2446H13.1159L14.9356 10.7817Z\",\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.25002 19.1663H4.83335C2.62421 19.1663 0.833355 17.3755 0.833355 15.1663V13.208M19.1667 7.16634L19.1667 4.83301C19.1667 2.62387 17.3758 0.833008 15.1667 0.833008L12.2917 0.833008\",\n  stroke: \"black\",\n  strokeWidth: 1.16667,\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 0V11.6667\",\n  stroke: \"black\",\n  strokeWidth: 1.25\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 0.583333,\n  y: 3.08333,\n  width: 8.83333,\n  height: 4.66667,\n  stroke: \"black\",\n  strokeWidth: 1.16667\n});\n\nfunction SvgIcoSettingsLanguage(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoSettingsLanguage);\nexport default __webpack_public_path__ + \"static/media/ico-settings-language.2d6190d3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5729 13.3236L19.1667 10.0007L15.5729 6.67773\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.0936 10.001H8.02594\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.3542 14.167V17.2087C12.3542 17.8285 11.8594 18.3337 11.25 18.3337H3.60417C2.99479 18.3337 2.5 17.8285 2.5 17.2087V2.79199C2.5 2.1722 2.99479 1.66699 3.60417 1.66699H11.25C11.8594 1.66699 12.3542 2.1722 12.3542 2.79199V5.77637\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoSettingsLogout(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoSettingsLogout);\nexport default __webpack_public_path__ + \"static/media/ico-settings-logout.83b1e702.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3.33331,\n  y: 9.44434,\n  width: 13.6111,\n  height: 9.72222,\n  rx: 1,\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.27777 6.52811C5.27777 3.84339 7.45416 1.66699 10.1389 1.66699V1.66699C12.8236 1.66699 15 3.84339 15 6.52811V9.44477H5.27777V6.52811Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoSettingsPassword(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoSettingsPassword);\nexport default __webpack_public_path__ + \"static/media/ico-settings-password.82738c3a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 19.1663C10 19.1663 18.3334 15.4997 18.3334 9.99967V3.58301L10 0.833008L1.66669 3.58301V9.99967C1.66669 15.4997 10 19.1663 10 19.1663Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.3334 7.5L8.75002 12.5L6.66669 10.2273\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoSettingsPrivacy(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoSettingsPrivacy);\nexport default __webpack_public_path__ + \"static/media/ico-settings-privacy.0e2b91fb.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {t} from \"../../../i18n/utils\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport {GConfirmAlert} from \"src/styles/components/GConfirmAlert\";\nimport {toast} from \"react-toastify\";\nimport AppConsts from \"../../AppConsts\";\nimport {ReactComponent as RightArrowIcon} from \"../../../assets/icons/ico-right-arrow.svg\";\nimport {ReactComponent as LanguageIcon} from \"../../../assets/icons/ico-settings-language.svg\";\nimport {ReactComponent as LogoutIcon} from \"../../../assets/icons/ico-settings-logout.svg\";\nimport {ReactComponent as PasswordIcon} from \"../../../assets/icons/ico-settings-password.svg\";\nimport {ReactComponent as PrivacyIcon} from \"../../../assets/icons/ico-settings-privacy.svg\";\nimport {NotifMessage} from \"../../components/notifications/NotifMessage\";\nimport {GBackTitle} from \"../../../styles/components/GBackTitle\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    wrapper: {\n      width: \"100%\",\n    },\n    title: {\n      marginBottom: 10,\n    },\n    link: {\n      paddingLeft: theme.spacing(2),\n      display: \"block\",\n      textTransform: \"capitalize\",\n      height: 51,\n      lineHeight: \"51px\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      color: theme.palette.text.main,\n      fontSize: 16,\n      fontWeight: \"bold\",\n      \"&.no-border\": {\n        borderBottom: \"none\",\n      },\n      \"&:hover\": {\n        color: theme.palette.text.main,\n      },\n      \"& > svg.menu-icon\": {\n        float: \"left\",\n        marginTop: 16,\n        marginRight: 15,\n        marginLeft: 5,\n        verticalAlign: \"top\",\n      },\n      \"& > svg.right-arrow\": {\n        float: \"right\",\n        marginTop: 15,\n        marginRight: 15,\n        verticalAlign: \"top\",\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingLeft: 0,\n        marginLeft: 20,\n        marginRight: 20,\n        \"& > svg.right-arrow\": {\n          marginRight: 0,\n        },\n      },\n    },\n    divider: {\n      background: theme.input.background,\n      height: 10,\n      border: \"none\",\n    },\n  }),\n);\n\nexport const MobileIndex = (props) => {\n  const classes = useStyles();\n  const {nickname} = props;\n  const history = useHistory();\n\n  const handleLogout = (e) => {\n    e.preventDefault();\n    GConfirmAlert({\n      title: nickname,\n      text: t(\"getter_fe.auth.common.logOutConfirm\"),\n      close: {\n        text: t(\"getter_fe.post.button.cancel\"),\n        type: \"default\",\n      },\n      confirm: {\n        text: t(\"getter_fe.menu.common.logout\"),\n        type: \"danger\",\n        callback: (close) => {\n          toast.info(\n            <NotifMessage message={t(\"getter_fe.auth.common.youLoggedOut\")} />,\n            {\n              type: toast.TYPE.SUCCESS,\n            },\n          );\n          setTimeout(() => {\n            history.push(AppConsts.URL_LOGOUT);\n          }, 1000);\n          close();\n        },\n      },\n      showCloseIcon: false,\n    });\n\n    return;\n  };\n\n  return (\n    <div className={classes.wrapper}>\n      <GBackTitle\n        title={t(\"getter_fe.menu.common.settings\")}\n        className={classes.title}\n        handleClick={() => history.push(\"/account\")}\n      />\n      <Link\n        to={`/settings/${AppConsts.URL_SETTINGS_INTERFACE_LANGUAGE}`}\n        className={classes.link}\n      >\n        <LanguageIcon className=\"menu-icon\" />\n        {t(\"getter_fe.settings.common.interfaceLanguages\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n      <Link\n        to={`/settings/${AppConsts.URL_SETTINGS_CHANGE_PASSWORD}`}\n        className={classes.link}\n      >\n        <PasswordIcon className=\"menu-icon\" />\n        {t(\"getter_fe.settings.common.changePassword\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n      <Link\n        to={`/settings/${AppConsts.URL_SETTINGS_PRIVACY}`}\n        className={`${classes.link} no-border`}\n      >\n        <PrivacyIcon className=\"menu-icon\" />\n        {t(\"getter_fe.settings.common.privacy\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n      <hr className={classes.divider} />\n      <Link\n        to={AppConsts.URL_LOGOUT}\n        className={classes.link}\n        onClick={(e) => handleLogout(e)}\n      >\n        <LogoutIcon className=\"menu-icon\" />\n        {t(\"getter_fe.menu.common.logout\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n    </div>\n  );\n};\n","import {makeStyles} from \"@material-ui/core\";\nimport {Tabs, Tab} from \"@material-ui/core\";\nimport AppConsts from \"src/app/AppConsts\";\nimport {ChangePasswordForm} from \"./ChangePasswordForm\";\nimport {TabPanel} from \"src/app/components/TabPanel\";\nimport {t} from \"src/i18n/utils\";\nimport Global from \"src/system/Global\";\nimport {Languages} from \"./Languages\";\nimport PrivacyTabs from \"./PrivacyTabs\";\nimport {useHistory} from \"react-router\";\nimport {MobileIndex} from \"./MobileIndex\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\n\nimport {ReactComponent as RightArrowIcon} from \"src/assets/icons/ico-right-arrow.svg\";\n\nconst selectTabByUrlQuery = (tab) => {\n  switch (tab) {\n    case AppConsts.URL_SETTINGS_CHANGE_PASSWORD:\n      return 0;\n    case AppConsts.URL_SETTINGS_INTERFACE_LANGUAGE:\n      return 1;\n    case AppConsts.URL_SETTINGS_PRIVACY:\n      return 2;\n    default:\n      return -1;\n  }\n};\n\nconst a11yProps = (index) => {\n  return {\n    id: `vertical-tab-${index}`,\n    \"aria-controls\": `vertical-tabpanel-${index}`,\n  };\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    width: \"100%\",\n    height: \"100%\",\n    padding: 0,\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  container: {\n    height: \"100%\",\n  },\n  tabs: {\n    minWidth: theme.spacing(40),\n    minHeight: \"calc(100vh - 58px)\",\n    borderRight: `1px solid ${theme.palette.grey.A200}`,\n    borderLeft: `1px solid ${theme.palette.grey.A200}`,\n    \"& .MuiTabs-indicator\": {\n      display: \"none\",\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      display: \"none\",\n    },\n  },\n  tab: {\n    maxWidth: \"100%\",\n    minWidth: \"auto\",\n    minHeight: \"auto\",\n    height: \"auto\",\n    padding: \"15px 18px\",\n    fontSize: \"18px\",\n    lineHeight: \"18px\",\n    color: theme.palette.text.main,\n    textTransform: \"capitalize\",\n    fontSize: 15,\n    borderRight: `1px solid ${theme.palette.background.default}`,\n\n    \"&:hover\": {\n      backgroundColor: \"#F5F9FF\",\n      opacity: 1,\n      borderRight: \"1px solid #F5F9FF\",\n    },\n    \"&.Mui-selected\": {\n      fontWeight: 700,\n      backgroundColor: \"#F5F9FF\",\n      borderRight: \"1px solid #232255\",\n    },\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n    \"&:last-child\": {\n      marginBottom: 0,\n    },\n    \"& > .MuiTab-wrapper\": {\n      flexDirection: \"row-reverse\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      \"& > svg\": {\n        marginBottom: \"0 !important\",\n        width: 14,\n        height: 14,\n        \"& > path\": {\n          stroke: theme.palette.text.main,\n          strokeWidth: 2,\n        },\n      },\n    },\n  },\n  tabPanel: {\n    width: \"100%\",\n    borderRight: `1px solid ${theme.palette.grey.A200}`,\n    [theme.breakpoints.down(\"sm\")]: {\n      borderLeft: `1px solid ${theme.palette.grey.A200}`,\n    },\n  },\n  menuContainer: {\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n\n  tabMenuTitle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    // paddingLeft: 14,\n    fontSize: 20,\n    fontWeight: 800,\n    height: 58,\n    color: \"#000000\",\n    borderLeft: `1px solid ${theme.palette.grey.A200}`,\n    borderRight: `1px solid ${theme.palette.grey.A200}`,\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n  },\n  indexContainer: {\n    display: \"flex\",\n    width: \"100%\",\n  },\n}));\n\nexport const NewSettingsIndex = ({tab, setPageSeo}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const tabNumber = selectTabByUrlQuery(tab);\n\n  const api = Global.GetPortal().getAppService();\n  const userId = api.getUserId();\n  const token = api.getUserToken();\n\n  const handleUrl = (e, tabNumber) => {\n    e.preventDefault();\n    switch (tabNumber) {\n      case 1:\n        history.push(`/settings/${AppConsts.URL_SETTINGS_INTERFACE_LANGUAGE}`);\n        break;\n      case 2:\n        history.push(`/settings/${AppConsts.URL_SETTINGS_PRIVACY}`);\n        break;\n      default:\n        history.push(`/settings/${AppConsts.URL_SETTINGS_CHANGE_PASSWORD}`);\n        break;\n    }\n  };\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.root}>\n        {tabNumber === -1 ? (\n          <MobileIndex nickname={userId} />\n        ) : (\n          <div className={classes.indexContainer}>\n            <div className={classes.menuContainer}>\n              {/* <div className={classes.tabMenuTitle}>Settings</div> */}\n              <div className={classes.tabMenuTitle}>\n                <GBackTitle\n                  title={t(\"getter_fe.menu.common.settings\")}\n                  hideBackLink\n                />\n              </div>\n              <Tabs\n                orientation=\"vertical\"\n                variant=\"scrollable\"\n                value={tabNumber}\n                onChange={handleUrl}\n                aria-label=\"settings\"\n                className={classes.tabs}\n              >\n                <Tab\n                  icon={<RightArrowIcon />}\n                  label={t(\"getter_fe.settings.common.changePassword\")}\n                  className={classes.tab}\n                  {...a11yProps(0)}\n                  disableRipple={true}\n                />\n                <Tab\n                  icon={<RightArrowIcon />}\n                  label={t(\"getter_fe.settings.common.interfaceLanguages\")}\n                  className={classes.tab}\n                  {...a11yProps(1)}\n                  disableRipple={true}\n                />\n                <Tab\n                  icon={<RightArrowIcon />}\n                  label={t(\"getter_fe.settings.common.privacy\")}\n                  className={classes.tab}\n                  {...a11yProps(2)}\n                  disableRipple={true}\n                />\n              </Tabs>\n            </div>\n            <TabPanel value={tabNumber} index={0} className={classes.tabPanel}>\n              <ChangePasswordForm userId={userId} setPageSeo={setPageSeo} />\n            </TabPanel>\n            <TabPanel value={tabNumber} index={1} className={classes.tabPanel}>\n              <Languages setPageSeo={setPageSeo} />\n            </TabPanel>\n            <TabPanel value={tabNumber} index={2} className={classes.tabPanel}>\n              <PrivacyTabs\n                userId={userId}\n                token={token}\n                setPageSeo={setPageSeo}\n              />\n            </TabPanel>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 0.927014,\n  y: 0.950391,\n  width: 12.144,\n  height: 9.66075,\n  rx: 1.45,\n  strokeWidth: 1.1\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.86038 3.29688L6.66991 5.78012L10.8604 3.29688\",\n  strokeWidth: 1.1,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgEnvelope(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 12,\n    viewBox: \"0 0 14 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEnvelope);\nexport default __webpack_public_path__ + \"static/media/envelope.36bcd2a1.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Typography} from \"@material-ui/core\";\nimport {GButton} from \"../../../styles/components/GButton\";\nimport {t} from \"../../../i18n/utils\";\nimport AppConsts from \"../../AppConsts\";\nimport {ReactComponent as Envelope} from \"../../../assets/icons/envelope.svg\";\nimport {GBackTitle} from \"../../../styles/components/GBackTitle\";\n\nconst useStyles = makeStyles((theme) => ({\n  wrapper: {\n    marginTop: theme.spacing(4),\n    marginLeft: theme.spacing(4),\n    [theme.breakpoints.down(\"xs\")]: {\n      marginLeft: theme.spacing(2.5),\n      marginRight: theme.spacing(2.5),\n    },\n  },\n  GBtitle: {\n    \"& h1\": {\n      [theme.breakpoints.down(\"xs\")]: {\n        fontSize: 18,\n        lineHeight: \"29px\",\n        fontWeight: 700,\n      },\n    },\n  },\n  title: {\n    fontSize: 21,\n    lineHeight: \"25px\",\n    fontWeight: 600,\n    color: theme.palette.text.main,\n  },\n  description: {\n    marginTop: theme.spacing(1.25),\n    marginBottom: theme.spacing(2.5),\n    fontSize: 14,\n    lineHeight: \"20px\",\n    fontWeight: 400,\n    color: theme.palette.text.main,\n  },\n  btn: {\n    width: \"auto\",\n    minHeight: theme.spacing(4.5),\n    padding: theme.spacing(1.125, 2.5),\n    borderRadius: 5,\n    \"& .MuiButton-label\": {\n      fontWeight: 700,\n      fontSize: 14,\n      lineHeight: \"16.8px\",\n      textTransform: \"lowercase !important\",\n    },\n    \"&.MuiButton-containedPrimary:not(:disabled):hover\": {\n      color: theme.palette.text.disabled,\n    },\n    \"& .MuiButton-label svg\": {\n      stroke: theme.palette.primary.main,\n    },\n    \"& .MuiButton-startIcon\": {\n      marginLeft: 0,\n    },\n    \"&:hover .MuiButton-label svg\": {\n      stroke: theme.palette.primary.main,\n    },\n  },\n}));\n\nexport const ContactUs = () => {\n  const classes = useStyles();\n\n  return (\n    <>\n      <GBackTitle\n        title={t(\"getter_fe.helpCenter.common.contactUs\")}\n        className={classes.GBtitle}\n      />\n      <div className={classes.wrapper}>\n        <Typography className={classes.description} variant=\"body1\">\n          {t(\"getter_fe.helpCenter.common.contactUsDescription\")}\n        </Typography>\n        <GButton\n          variant=\"outlined\"\n          className={classes.btn}\n          href={`mailto:${AppConsts.CONTACTUS_EMAIL}`}\n          target=\"_blank\"\n          startIcon={<Envelope />}\n        >\n          {AppConsts.CONTACTUS_EMAIL}\n        </GButton>\n      </div>\n    </>\n  );\n};\n\nexport default ContactUs;\n","import React, {useEffect} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {useTranslation} from \"react-i18next\";\n\nimport {cacheI18nT} from \"src/i18n/utils\";\nimport {Link} from \"react-router-dom\";\nimport AppConsts from \"src/app/AppConsts\";\nimport {ReactComponent as RightArrowIcon} from \"src/assets/icons/ico-right-arrow.svg\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    wrapper: {\n      width: \"100%\",\n      borderLeft: \"1px solid #E8E9EA\",\n    },\n    link: {\n      paddingLeft: theme.spacing(2),\n      display: \"block\",\n      textTransform: \"capitalize\",\n      height: 51,\n      lineHeight: \"51px\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      color: theme.palette.text.main,\n      fontSize: 17,\n      fontWeight: \"500\",\n      overflow: \"hidden\",\n      \"-webkit-tap-highlight-color\": \"rgba(0, 0, 0, 0)\",\n      \"&.no-border\": {\n        borderBottom: \"none\",\n      },\n      \"&:hover\": {\n        color: theme.palette.text.main,\n      },\n      \"& > svg.menu-icon\": {\n        float: \"left\",\n        marginTop: 16,\n        marginRight: 15,\n        marginLeft: 5,\n        verticalAlign: \"top\",\n      },\n      \"& > svg.right-arrow\": {\n        float: \"right\",\n        marginTop: 15,\n        marginRight: 15,\n        verticalAlign: \"top\",\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingLeft: 0,\n        marginLeft: 20,\n        marginRight: 20,\n        \"& > svg.right-arrow\": {\n          marginRight: 0,\n        },\n      },\n    },\n  }),\n);\n\nexport const HelpCenterMobileIndex = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const {t} = useTranslation();\n\n  useEffect(() => {\n    cacheI18nT(t);\n  }, []);\n\n  return (\n    <div className={classes.wrapper}>\n      <GBackTitle\n        title={t(\"getter_fe.menu.common.helpCenter\")}\n        handleClick={() => history.push(\"/account\")}\n      />\n      <Link\n        to={`${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_REGISTRATION}`}\n        className={classes.link}\n      >\n        {t(\"getter_fe.helpCenter.common.registration\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n      <Link\n        to={`${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_POST_REPOST_REPLY}`}\n        className={classes.link}\n      >\n        {t(\"getter_fe.helpCenter.common.postRepostReply\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n      <Link\n        to={`${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_SHARE}`}\n        className={classes.link}\n      >\n        {t(\"getter_fe.helpCenter.common.share\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n      <Link\n        to={`${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_CONTACTUS}`}\n        className={`${classes.link} no-border`}\n      >\n        {t(\"getter_fe.helpCenter.common.contactUs\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.66666 5.33334L7.99999 10.6667L13.3333 5.33334\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgIcoDownArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoDownArrow);\nexport default __webpack_public_path__ + \"static/media/ico-down-arrow.a557b05e.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Typography,\n} from \"@material-ui/core\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport {useHistory} from \"react-router-dom\";\n\nimport AppConsts from \"src/app/AppConsts\";\nimport {ReactComponent as BackArrowIcon} from \"src/assets/icons/ico-arrow.svg\";\nimport {ReactComponent as RightArrowIcon} from \"src/assets/icons/ico-right-arrow.svg\";\nimport {ReactComponent as DownArrowIcon} from \"src/assets/icons/ico-down-arrow.svg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    wrapper: {\n      margin: 0,\n      \"& .MuiAccordion-rounded:first-child\": {\n        borderRadius: 0,\n      },\n      \"& .MuiAccordion-rounded:last-child\": {\n        borderRadius: 0,\n      },\n      \"& .MuiPaper-elevation1\": {\n        boxShadow: \"none\",\n        borderBottom: `1px solid ${theme.palette.grey.A800}`,\n        margin: 0,\n      },\n      \"& .MuiAccordionSummary-root\": {\n        padding: \"0 8px 0 18px\",\n        \"&.Mui-expanded\": {\n          height: 48,\n          minHeight: 48,\n        },\n        \"& .MuiTypography-body1\": {\n          fontSize: 15,\n          fontWeight: 500,\n          textTransform: \"capitalize\",\n        },\n        \"& .MuiSvgIcon-root\": {\n          fill: theme.palette.background.black,\n        },\n        \"& .MuiIconButton-edgeEnd\": {\n          marginRight: 0,\n        },\n      },\n      \"& .MuiAccordionDetails-root\": {\n        padding: \"0 18px 16px\",\n        \"& .MuiTypography-body1\": {\n          fontSize: 15,\n          fontWeight: 300,\n          minHeight: 12,\n        },\n      },\n    },\n    tabTitle: {\n      height: 58,\n      paddingLeft: theme.spacing(2),\n      fontWeight: 800,\n      fontSize: 20,\n      lineHeight: \"22px\",\n      color: theme.palette.text.primary,\n      textTransform: \"capitalize\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      display: \"flex\",\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"sm\")]: {\n        // tablet or mobile\n        paddingLeft: theme.spacing(1.5),\n        paddingRight: theme.spacing(1.5),\n        borderBottom: `1px solid ${theme.palette.grey.A200}`,\n        marginTop: 0,\n        height: 58,\n        lineHeight: \"58px\",\n        fontSize: 18,\n        \"& > svg\": {\n          // back arrow icon\n          marginRight: theme.spacing(2),\n          verticalAlign: \"top\",\n          cursor: \"pointer\",\n          borderRadius: \"50%\",\n          padding: 1,\n          width: 26,\n          height: 26,\n          \"&:hover\": {\n            backgroundColor: \"#F2F9FF\",\n          },\n        },\n      },\n      [theme.breakpoints.only(\"xs\")]: {\n        fontWeight: \"bold\",\n      },\n    },\n    link: {\n      paddingLeft: theme.spacing(2),\n      display: \"block\",\n      textTransform: \"capitalize\",\n      height: 51,\n      lineHeight: \"51px\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      color: theme.palette.text.main,\n      fontSize: 17,\n      fontWeight: \"500\",\n      cursor: \"pointer\",\n      overflow: \"hidden\",\n      \"&.no-border\": {\n        borderBottom: \"none\",\n      },\n      \"&:hover\": {\n        color: theme.palette.text.main,\n      },\n      \"& > svg.menu-icon\": {\n        float: \"left\",\n        marginTop: 16,\n        marginRight: 15,\n        marginLeft: 5,\n        verticalAlign: \"top\",\n      },\n      \"& > svg.right-arrow\": {\n        float: \"right\",\n        marginTop: 15,\n        marginRight: 15,\n        verticalAlign: \"top\",\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        paddingLeft: 0,\n        marginLeft: 20,\n        marginRight: 20,\n        \"& > svg.right-arrow\": {\n          marginRight: 0,\n        },\n      },\n    },\n    accordionDetail: {\n      color: \"#505050\", // @TODO if this color is to be all gray text we need to change the theme. Needs to be confirmed.\n    },\n    itemContainer: {\n      padding: \"0 20px\",\n    },\n    question: {\n      padding: \"15px 0\",\n      fontWeight: 500,\n      fontSize: 17,\n      lineHeight: \"22px\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    },\n    answers: {\n      padding: \"20px 0\",\n      fontWeight: \"normal\",\n      fontSize: 17,\n    },\n    answer: {\n      minHeight: 12,\n    },\n    noteMark: {\n      fontWeight: 500,\n    },\n    notes: {\n      fontWeight: \"normal\",\n      fontSize: 17,\n      marginTop: 12,\n    },\n    note: {\n      paddingLeft: 20,\n    },\n    accordionSummary: {\n      \"&:hover\": {\n        backgroundColor: \"#f5f9ff\",\n      },\n    },\n  }),\n);\n\nexport const HelpCenterContent = ({title, content}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const theme = useTheme();\n  const isTabletOrMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const isMobile = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const [selectedIndex, setSeletedIndex] = useState(0);\n  const [activeAccordion, setActiveAccordion] = useState(-1);\n\n  return (\n    <>\n      <Typography variant=\"h1\" className={classes.tabTitle}>\n        {isTabletOrMobile && (\n          <BackArrowIcon\n            onClick={() => {\n              if (selectedIndex > 0) {\n                setSeletedIndex(0);\n              } else {\n                history.push(\n                  `${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_MOBILE_INDEX}`,\n                );\n              }\n            }}\n          />\n        )}\n        {title}\n      </Typography>\n      <div className={classes.wrapper}>\n        {isMobile ? (\n          selectedIndex ? (\n            <div className={classes.itemContainer}>\n              <Typography className={classes.question}>\n                {content[selectedIndex - 1].question}\n              </Typography>\n              <div className={classes.answers}>\n                {content[selectedIndex - 1].answers.map((answer, index) => (\n                  <Typography key={index} className={classes.answer}>\n                    {answer}\n                  </Typography>\n                ))}\n                {content[selectedIndex - 1].notes && (\n                  <Typography className={classes.notes}>\n                    <span className={classes.noteMark}>Note: </span>\n                    {content[selectedIndex - 1].notes.length === 1\n                      ? content[selectedIndex - 1].notes[0]\n                      : content[selectedIndex - 1].notes.map((note, index) => (\n                          <div key={index} className={classes.note}>\n                            {note}\n                          </div>\n                        ))}\n                  </Typography>\n                )}\n              </div>\n            </div>\n          ) : (\n            <>\n              {content.map((item, index) => (\n                <div\n                  key={index}\n                  className={classes.link}\n                  onClick={() => setSeletedIndex(index + 1)}\n                >\n                  {item.question}\n                  <RightArrowIcon className=\"right-arrow\" />\n                </div>\n              ))}\n            </>\n          )\n        ) : (\n          <>\n            {content.map((item, index) => (\n              <Accordion\n                expanded={index === activeAccordion}\n                key={index}\n                onChange={() => setActiveAccordion(index)}\n              >\n                <AccordionSummary\n                  expandIcon={<DownArrowIcon />}\n                  aria-controls=\"help-center-content\"\n                  id=\"panel1a-header\"\n                  className={classes.accordionSummary}\n                >\n                  <Typography style={{fontWeight: 600}}>\n                    {item.question}\n                  </Typography>\n                </AccordionSummary>\n                <AccordionDetails>\n                  <div className={classes.accordionDetail}>\n                    {item.answers.map((answer, index) => (\n                      <Typography key={index}>{answer}</Typography>\n                    ))}\n                    {item.notes && (\n                      <Typography className={classes.notes}>\n                        <span className={classes.noteMark}>Note: </span>\n                        {item.notes.length === 1\n                          ? item.notes[0]\n                          : item.notes.map((note, index) => (\n                              <div key={index} className={classes.note}>\n                                {note}\n                              </div>\n                            ))}\n                      </Typography>\n                    )}\n                  </div>\n                </AccordionDetails>\n              </Accordion>\n            ))}\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n","import React, {useEffect, useState} from \"react\";\nimport ReactMarkdown from \"react-markdown/with-html\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      margin: 20,\n      padding: 10,\n      maxWidth: 900,\n      color: theme.palette.text.primary,\n      \"& h2\": {\n        fontWeight: \"bolder\",\n      },\n      \"& h5\": {\n        letterSpacing: 1,\n      },\n      \"& p,li\": {\n        fontWeight: 400,\n        lineHeight: \"25px\",\n        letterSpacing: 1,\n      },\n      \"& a\": {\n        color: theme.palette.text.primary,\n        fontWeight: 400,\n        textDecoration: \"underline\",\n        \"&:hover\": {\n          color: \"#000\",\n        },\n      },\n    },\n  }),\n);\n\nexport const TextFileReader = ({file}) => {\n  const classes = useStyles();\n  const [content, setContent] = useState(null);\n\n  useEffect(() => {\n    if (file) {\n      fetch(file)\n        .then((response) => response.text())\n        .then((text) => setContent(text));\n    }\n  }, []);\n\n  if (!content) return null;\n\n  return (\n    <ReactMarkdown\n      className={classes.container}\n      source={content}\n      escapeHtml={false}\n    />\n  );\n};\n","export default __webpack_public_path__ + \"static/media/terms.ddd86452.md\";","import React, {useEffect} from \"react\";\nimport {makeStyles} from \"@material-ui/core\";\nimport {Tabs, Tab} from \"@material-ui/core\";\nimport {useTranslation} from \"react-i18next\";\nimport {useHistory} from \"react-router\";\n\nimport {cacheI18nT} from \"src/i18n/utils\";\nimport AppConsts from \"src/app/AppConsts\";\nimport {TabPanel} from \"src/app/components/TabPanel\";\nimport {ContactUs} from \"./ContactUs\";\nimport {HelpCenterMobileIndex} from \"./HelpCenterMobileIndex\";\nimport {HelpCenterContent} from \"./HelpCenterContent\";\nimport {ReactComponent as RightArrowIcon} from \"src/assets/icons/ico-right-arrow.svg\";\nimport {TextFileReader} from \"src/app/components/TextFileReader\";\nimport termsMdPath from \"src/assets/md/terms.md\";\nimport privacyMdPath from \"src/assets/md/privacy.md\";\n\nconst selectTabByUrlQuery = (tab) => {\n  switch (tab) {\n    case AppConsts.URL_HELPCENTER_REGISTRATION:\n      return 1;\n    case AppConsts.URL_HELPCENTER_POST_REPOST_REPLY:\n      return 2;\n    case AppConsts.URL_HELPCENTER_SHARE:\n      return 3;\n    case AppConsts.URL_HELPCENTER_PRIVACYPOLICY:\n      return 5;\n    case AppConsts.URL_HELPCENTER_TERMSOFUSER:\n      return 6;\n    case AppConsts.URL_HELPCENTER_CONTACTUS:\n      return 10;\n    default:\n      return -1;\n  }\n};\n\nconst a11yProps = (index) => {\n  return {\n    id: `vertical-tab-${index}`,\n    \"aria-controls\": `vertical-tabpanel-${index}`,\n  };\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    width: \"100%\",\n    height: \"100%\",\n    padding: 0,\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  container: {\n    height: \"100%\",\n  },\n  wrapper: {\n    width: \"100%\",\n    borderLeft: \"1px solid #E8E9EA\",\n  },\n  tabs: {\n    minWidth: theme.spacing(40),\n    minHeight: \"calc(100vh - 58px)\",\n    borderLeft: `1px solid ${theme.palette.grey.A200}`,\n    \"& .MuiTabs-indicator\": {\n      display: \"none\",\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      display: \"none\",\n    },\n  },\n  subTitle: {\n    padding: \"15px 18px\",\n    fontWeight: 800,\n    fontSize: 20,\n    lineHeight: \"24px\",\n    color: theme.palette.text.main,\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n  },\n  subTitleGap: {\n    width: \"100%\",\n    height: 10,\n    background: theme.palette.grey[100],\n  },\n  tab: {\n    maxWidth: \"100%\",\n    minWidth: \"auto\",\n    minHeight: \"auto\",\n    height: \"auto\",\n    padding: \"15px 18px\",\n    fontSize: \"18px\",\n    lineHeight: \"18px\",\n    color: theme.palette.text.main,\n    textTransform: \"capitalize\",\n    fontSize: 15,\n    borderRight: `1px solid ${theme.palette.background.default}`,\n\n    \"&:hover\": {\n      backgroundColor: \"#F5F9FF\",\n      opacity: 1,\n      borderRight: \"1px solid #F5F9FF\",\n    },\n    \"&.Mui-selected\": {\n      fontWeight: 700,\n      backgroundColor: \"#F5F9FF\",\n      borderRight: \"1px solid #232255\",\n    },\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n    \"&:last-child\": {\n      marginBottom: 0,\n    },\n    \"& > .MuiTab-wrapper\": {\n      flexDirection: \"row-reverse\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      \"& > svg\": {\n        marginBottom: \"0 !important\",\n        width: 14,\n        height: 14,\n        \"& > path\": {\n          stroke: theme.palette.text.main,\n          strokeWidth: 2,\n        },\n      },\n    },\n  },\n  tabPanel: {\n    width: \"100%\",\n    borderLeft: `1px solid ${theme.palette.grey.A200}`,\n    borderRight: `1px solid ${theme.palette.grey.A200}`,\n    // [theme.breakpoints.down(\"sm\")]: {\n    //   borderLeft: `1px solid ${theme.palette.grey.A200}`,\n    // },\n  },\n  menuContainer: {\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n\n  tabMenuTitle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    fontSize: 20,\n    fontWeight: 800,\n    height: 58,\n    color: \"#000000\",\n    paddingLeft: 20,\n    border: `1px solid ${theme.palette.grey.A200}`,\n    borderTop: `none`,\n  },\n  indexContainer: {\n    display: \"flex\",\n    width: \"100%\",\n  },\n}));\n\nexport const NewHelpCenterIndex = ({tab}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const tabNumber = selectTabByUrlQuery(tab);\n  const {t} = useTranslation();\n\n  useEffect(() => {\n    cacheI18nT(t);\n  }, []);\n\n  const HELPCENTER_CONTENT = {\n    registration: [\n      {\n        question: t(\n          \"getter_fe.helpCenter.common.registrationContent.question1\",\n        ),\n        answers: [\n          t(\"getter_fe.helpCenter.common.registrationContent.answer11\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.registrationContent.answer12\"),\n        ],\n      },\n      {\n        question: t(\n          \"getter_fe.helpCenter.common.registrationContent.question2\",\n        ),\n        answers: [\n          t(\"getter_fe.helpCenter.common.registrationContent.answer21\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.registrationContent.answer22\"),\n          t(\"getter_fe.helpCenter.common.registrationContent.answer23\"),\n        ],\n        notes: [t(\"getter_fe.helpCenter.common.registrationContent.note21\")],\n      },\n      {\n        question: t(\n          \"getter_fe.helpCenter.common.registrationContent.question3\",\n        ),\n        answers: [\n          t(\"getter_fe.helpCenter.common.registrationContent.answer31\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.registrationContent.answer32\"),\n          ,\n          \"\",\n          t(\"getter_fe.helpCenter.common.registrationContent.answer33\"),\n        ],\n        notes: [t(\"getter_fe.helpCenter.common.registrationContent.note31\")],\n      },\n    ],\n    postRepostReply: [\n      {\n        question: t(\n          \"getter_fe.helpCenter.common.postRepostReplyContent.question1\",\n        ),\n        answers: [\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer11\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer12\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer13\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer14\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer15\"),\n        ],\n        notes: [\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.note11\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.note12\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.note13\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.note14\"),\n        ],\n      },\n      {\n        question: t(\n          \"getter_fe.helpCenter.common.postRepostReplyContent.question2\",\n        ),\n        answers: [\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer21\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer22\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer23\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer24\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer25\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer26\"),\n        ],\n      },\n    ],\n    share: [\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question1\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer11\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer12\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer13\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question2\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer21\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer22\"),\n        ],\n        notes: [\n          t(\"getter_fe.helpCenter.common.shareContent.note21\"),\n          t(\"getter_fe.helpCenter.common.shareContent.note22\"),\n          t(\"getter_fe.helpCenter.common.shareContent.note23\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question3\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer31\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer32\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer33\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer34\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question4\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer41\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer42\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer43\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer44\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer45\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question5\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer51\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer52\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer53\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer54\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer55\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question6\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer61\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer62\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer63\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer64\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer65\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question7\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer71\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer72\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer73\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer74\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer75\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer76\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer77\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer78\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer79\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question8\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer81\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer82\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer83\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer84\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer85\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer86\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer87\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer88\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer89\"),\n        ],\n      },\n    ],\n  };\n\n  const handleUrl = (e, tabNumber) => {\n    e.preventDefault();\n    switch (tabNumber) {\n      case 1:\n        history.push(\n          `${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_REGISTRATION}`,\n        );\n        break;\n      case 2:\n        history.push(\n          `${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_POST_REPOST_REPLY}`,\n        );\n        break;\n      case 3:\n        history.push(\n          `${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_SHARE}`,\n        );\n        break;\n      case 5:\n        history.push(\n          `${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_PRIVACYPOLICY}`,\n        );\n        break;\n      case 6:\n        history.push(\n          `${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_TERMSOFUSER}`,\n        );\n        break;\n      default:\n        history.push(\n          `${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_REGISTRATION}`,\n        );\n        break;\n    }\n  };\n  return (\n    <div className={classes.container}>\n      <div className={classes.root}>\n        {tabNumber === -1 ? (\n          <HelpCenterMobileIndex />\n        ) : tabNumber === 10 ? (\n          <div className={classes.wrapper}>\n            <ContactUs />\n          </div>\n        ) : (\n          <div className={classes.indexContainer}>\n            <div className={classes.menuContainer}>\n              <div className={classes.tabMenuTitle}>\n                {t(\"getter_fe.menu.common.helpCenter\")}\n              </div>\n              <Tabs\n                orientation=\"vertical\"\n                variant=\"scrollable\"\n                value={tabNumber}\n                onChange={handleUrl}\n                aria-label=\"helpCenter\"\n                className={classes.tabs}\n              >\n                <div>\n                  <div className={classes.subTitleGap} />\n                  <div className={classes.subTitle}>\n                    {t(\"getter_fe.helpCenter.common.popularTopics\")}\n                  </div>\n                </div>\n                <Tab\n                  icon={<RightArrowIcon />}\n                  label={t(\"getter_fe.helpCenter.common.registration\")}\n                  className={classes.tab}\n                  {...a11yProps(1)}\n                  disableRipple={true}\n                />\n                <Tab\n                  icon={<RightArrowIcon />}\n                  label={t(\"getter_fe.helpCenter.common.postRepostReply\")}\n                  className={classes.tab}\n                  {...a11yProps(2)}\n                  disableRipple={true}\n                />\n                <Tab\n                  icon={<RightArrowIcon />}\n                  label={t(\"getter_fe.helpCenter.common.share\")}\n                  className={classes.tab}\n                  {...a11yProps(3)}\n                  disableRipple={true}\n                />\n                <div>\n                  <div className={classes.subTitleGap} />\n                  <div className={classes.subTitle}>\n                    {t(\"getter_fe.helpCenter.common.ruleAndPolicy\")}\n                  </div>\n                </div>\n                <Tab\n                  icon={<RightArrowIcon />}\n                  label={t(\"getter_fe.helpCenter.common.privacyPolicy\")}\n                  className={classes.tab}\n                  {...a11yProps(5)}\n                  disableRipple={true}\n                />\n                <Tab\n                  icon={<RightArrowIcon />}\n                  label={t(\"getter_fe.helpCenter.common.termsOfUse\")}\n                  className={classes.tab}\n                  {...a11yProps(6)}\n                  disableRipple={true}\n                />\n              </Tabs>\n            </div>\n            <TabPanel value={tabNumber} index={1} className={classes.tabPanel}>\n              <HelpCenterContent\n                title={t(\"getter_fe.helpCenter.common.registration\")}\n                content={HELPCENTER_CONTENT.registration}\n              />\n            </TabPanel>\n            <TabPanel value={tabNumber} index={2} className={classes.tabPanel}>\n              <HelpCenterContent\n                title={t(\"getter_fe.helpCenter.common.postRepostReply\")}\n                content={HELPCENTER_CONTENT.postRepostReply}\n              />\n            </TabPanel>\n            <TabPanel value={tabNumber} index={3} className={classes.tabPanel}>\n              <HelpCenterContent\n                title={t(\"getter_fe.helpCenter.common.share\")}\n                content={HELPCENTER_CONTENT.share}\n              />\n            </TabPanel>\n            <TabPanel value={tabNumber} index={5} className={classes.tabPanel}>\n              <TextFileReader file={privacyMdPath} />\n            </TabPanel>\n            <TabPanel value={tabNumber} index={6} className={classes.tabPanel}>\n              <TextFileReader file={termsMdPath} />\n            </TabPanel>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React, {useEffect, useState} from \"react\";\nimport {makeStyles, Typography} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport {useTranslation} from \"react-i18next\";\n\nimport AppConsts from \"src/app/AppConsts\";\nimport {cacheI18nT} from \"src/i18n/utils\";\nimport {ReactComponent as RightArrowIcon} from \"src/assets/icons/ico-right-arrow.svg\";\n\nconst selectTabByUrlQuery = (tab) => {\n  switch (tab) {\n    case AppConsts.URL_HELPCENTER_REGISTRATION:\n      return 0;\n    case AppConsts.URL_HELPCENTER_POST_REPOST_REPLY:\n      return 1;\n    case AppConsts.URL_HELPCENTER_SHARE:\n      return 2;\n    default:\n      return -1;\n  }\n};\n\nconst contentType = (tab) => {\n  if (tab === \"post-repost-reply\") {\n    return \"postRepostReply\";\n  }\n  return tab;\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    height: \"100%\",\n    padding: 0,\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  container: {\n    height: \"100%\",\n  },\n  title: {\n    display: \"flex\",\n    alignItems: \"center\",\n    fontSize: 20,\n    fontWeight: 800,\n    height: 58,\n    color: \"#000000\",\n    paddingLeft: 20,\n    border: `1px solid ${theme.palette.grey.A200}`,\n    borderTop: `none`,\n  },\n  tabTitle: {\n    height: 58,\n    paddingLeft: theme.spacing(4),\n    fontWeight: 800,\n    fontSize: 20,\n    lineHeight: \"22px\",\n    color: theme.palette.text.primary,\n    textTransform: \"capitalize\",\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    display: \"flex\",\n    alignItems: \"center\",\n    [theme.breakpoints.down(\"sm\")]: {\n      // tablet or mobile\n      paddingLeft: theme.spacing(2.5),\n      paddingRight: theme.spacing(1.5),\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      marginTop: 0,\n      height: 58,\n      lineHeight: \"58px\",\n      fontSize: 18,\n      \"& > svg\": {\n        // back arrow icon\n        marginRight: theme.spacing(2),\n        verticalAlign: \"top\",\n        cursor: \"pointer\",\n        borderRadius: \"50%\",\n        padding: 1,\n        width: 26,\n        height: 26,\n        \"&:hover\": {\n          backgroundColor: \"#F2F9FF\",\n        },\n      },\n    },\n    [theme.breakpoints.only(\"xs\")]: {\n      fontWeight: \"bold\",\n    },\n  },\n  link: {\n    paddingLeft: theme.spacing(2),\n    display: \"block\",\n    textTransform: \"capitalize\",\n    height: 51,\n    lineHeight: \"51px\",\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    color: theme.palette.text.main,\n    fontSize: 17,\n    fontWeight: \"500\",\n    cursor: \"pointer\",\n    overflow: \"hidden\",\n    \"&.no-border\": {\n      borderBottom: \"none\",\n    },\n    \"&:hover\": {\n      color: theme.palette.text.main,\n    },\n    \"& > svg.menu-icon\": {\n      float: \"left\",\n      marginTop: 16,\n      marginRight: 15,\n      marginLeft: 5,\n      verticalAlign: \"top\",\n    },\n    \"& > svg.right-arrow\": {\n      float: \"right\",\n      marginTop: 15,\n      marginRight: 15,\n      verticalAlign: \"top\",\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingLeft: 0,\n      marginLeft: 20,\n      marginRight: 20,\n      \"& > svg.right-arrow\": {\n        marginRight: 0,\n      },\n    },\n  },\n  itemContainer: {\n    padding: \"0 20px\",\n  },\n  question: {\n    padding: \"15px 0\",\n    fontWeight: 500,\n    fontSize: 17,\n    lineHeight: \"22px\",\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n  },\n  answers: {\n    padding: \"20px 0\",\n    fontWeight: \"normal\",\n    fontSize: 17,\n  },\n  answer: {\n    minHeight: 12,\n  },\n  noteMark: {\n    fontWeight: 500,\n  },\n  notes: {\n    fontWeight: \"normal\",\n    fontSize: 17,\n    marginTop: 12,\n  },\n  note: {\n    paddingLeft: 20,\n  },\n}));\n\nexport const MobileAppHelpCenterIndex = ({tab}) => {\n  const classes = useStyles();\n  const tabNumber = selectTabByUrlQuery(tab);\n  const type = contentType(tab);\n  const [selectedIndex, setSeletedIndex] = useState(0);\n  const {t} = useTranslation();\n\n  useEffect(() => {\n    cacheI18nT(t);\n  }, []);\n\n  const HELPCENTER_CONTENT = {\n    registration: [\n      {\n        question: t(\n          \"getter_fe.helpCenter.common.registrationContent.question1\",\n        ),\n        answers: [\n          t(\"getter_fe.helpCenter.common.registrationContent.answer11\"),\n          t(\"getter_fe.helpCenter.common.registrationContent.answer12\"),\n        ],\n      },\n      {\n        question: t(\n          \"getter_fe.helpCenter.common.registrationContent.question2\",\n        ),\n        answers: [\n          t(\"getter_fe.helpCenter.common.registrationContent.answer21\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.registrationContent.answer22\"),\n          t(\"getter_fe.helpCenter.common.registrationContent.answer23\"),\n        ],\n        notes: [t(\"getter_fe.helpCenter.common.registrationContent.note21\")],\n      },\n      {\n        question: t(\n          \"getter_fe.helpCenter.common.registrationContent.question3\",\n        ),\n        answers: [\n          t(\"getter_fe.helpCenter.common.registrationContent.answer31\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.registrationContent.answer32\"),\n          ,\n          \"\",\n          t(\"getter_fe.helpCenter.common.registrationContent.answer33\"),\n        ],\n        notes: [t(\"getter_fe.helpCenter.common.registrationContent.note31\")],\n      },\n    ],\n    postRepostReply: [\n      {\n        question: t(\n          \"getter_fe.helpCenter.common.postRepostReplyContent.question1\",\n        ),\n        answers: [\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer11\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer12\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer13\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer14\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer15\"),\n        ],\n        notes: [\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.note11\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.note12\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.note13\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.note14\"),\n        ],\n      },\n      {\n        question: t(\n          \"getter_fe.helpCenter.common.postRepostReplyContent.question2\",\n        ),\n        answers: [\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer21\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer22\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer23\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer24\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer25\"),\n          t(\"getter_fe.helpCenter.common.postRepostReplyContent.answer26\"),\n        ],\n      },\n    ],\n    share: [\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question1\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer11\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer12\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer13\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question2\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer21\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer22\"),\n        ],\n        notes: [\n          t(\"getter_fe.helpCenter.common.shareContent.note21\"),\n          t(\"getter_fe.helpCenter.common.shareContent.note22\"),\n          t(\"getter_fe.helpCenter.common.shareContent.note23\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question3\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer31\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer32\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer33\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer34\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question4\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer41\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer42\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer43\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer44\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer45\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question5\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer51\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer52\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer53\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer54\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer55\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question6\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer61\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer62\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer63\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer64\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer65\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question7\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer71\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer72\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer73\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer74\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer75\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer76\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer77\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer78\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer79\"),\n        ],\n      },\n      {\n        question: t(\"getter_fe.helpCenter.common.shareContent.question8\"),\n        answers: [\n          t(\"getter_fe.helpCenter.common.shareContent.answer81\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer82\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer83\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer84\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer85\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer86\"),\n          \"\",\n          t(\"getter_fe.helpCenter.common.shareContent.answer87\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer88\"),\n          t(\"getter_fe.helpCenter.common.shareContent.answer89\"),\n        ],\n      },\n    ],\n  };\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.root}>\n        {tabNumber === -1 ? (\n          <>\n            <div className={classes.title}>\n              {t(\"getter_fe.menu.common.helpCenter\")}\n            </div>\n            <Link\n              to={`${AppConsts.URL_HELP_CENTER_MOBILE_APP}/${AppConsts.URL_HELPCENTER_REGISTRATION}`}\n              className={classes.link}\n            >\n              {t(\"getter_fe.helpCenter.common.registration\")}\n              <RightArrowIcon className=\"right-arrow\" />\n            </Link>\n            <Link\n              to={`${AppConsts.URL_HELP_CENTER_MOBILE_APP}/${AppConsts.URL_HELPCENTER_POST_REPOST_REPLY}`}\n              className={classes.link}\n            >\n              {t(\"getter_fe.helpCenter.common.postRepostReply\")}\n              <RightArrowIcon className=\"right-arrow\" />\n            </Link>\n            <Link\n              to={`${AppConsts.URL_HELP_CENTER_MOBILE_APP}/${AppConsts.URL_HELPCENTER_SHARE}`}\n              className={`${classes.link} no-border`}\n            >\n              {t(\"getter_fe.helpCenter.common.share\")}\n              <RightArrowIcon className=\"right-arrow\" />\n            </Link>\n          </>\n        ) : (\n          <>\n            <Typography variant=\"h1\" className={classes.tabTitle}>\n              {t(`getter_fe.helpCenter.common.${type}`)}\n            </Typography>\n            {selectedIndex ? (\n              <div className={classes.itemContainer}>\n                <Typography className={classes.question}>\n                  {HELPCENTER_CONTENT[type][selectedIndex - 1].question}\n                </Typography>\n                <div className={classes.answers}>\n                  {HELPCENTER_CONTENT[type][selectedIndex - 1].answers.map(\n                    (answer, index) => (\n                      <Typography key={index} className={classes.answer}>\n                        {answer}\n                      </Typography>\n                    ),\n                  )}\n                  {HELPCENTER_CONTENT[type][selectedIndex - 1].notes && (\n                    <Typography className={classes.notes}>\n                      <span className={classes.noteMark}>Note: </span>\n                      {HELPCENTER_CONTENT[type][selectedIndex - 1].notes\n                        .length === 1\n                        ? HELPCENTER_CONTENT[type][selectedIndex - 1].notes[0]\n                        : HELPCENTER_CONTENT[type][selectedIndex - 1].notes.map(\n                            (note, index) => (\n                              <div key={index} className={classes.note}>\n                                {note}\n                              </div>\n                            ),\n                          )}\n                    </Typography>\n                  )}\n                </div>\n              </div>\n            ) : (\n              <>\n                {HELPCENTER_CONTENT[type].map((item, index) => (\n                  <div\n                    key={index}\n                    className={classes.link}\n                    onClick={() => setSeletedIndex(index + 1)}\n                  >\n                    {item.question}\n                  </div>\n                ))}\n              </>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport {t} from \"../../i18n/utils\";\nimport {MobileAppHelpCenterIndex} from \"../pages/helpCenter/MobileAppHelpCenterIndex\";\nimport {NewUIPage} from \"../base/NewUIPage\";\n\nexport const MobileAppHelpCenter = ({match}) => {\n  const {tab} = match.params;\n  return (\n    <NewUIPage title={t(\"getter_fe.menu.common.helpCenter\")}>\n      <MobileAppHelpCenterIndex tab={tab} />\n    </NewUIPage>\n  );\n};\n","import React, {useState} from \"react\";\nimport ReactMarkdown from \"react-markdown/with-html\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport {NewUIPage} from \"src/app/base/NewUIPage\";\nimport AppConsts from \"src/app/AppConsts\";\nimport termsMdPath from \"src/assets/md/terms.md\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    termsContainer: {\n      margin: 20,\n      padding: 10,\n      maxWidth: 900,\n      color: theme.palette.text.primary,\n      \"& h2\": {\n        fontWeight: \"bolder\",\n      },\n      \"& h5\": {\n        letterSpacing: 1,\n      },\n      \"& p,li\": {\n        fontWeight: 400,\n        lineHeight: \"25px\",\n        letterSpacing: 1,\n      },\n      \"& a\": {\n        color: theme.palette.text.primary,\n        fontWeight: 400,\n        textDecoration: \"underline\",\n        \"&:hover\": {\n          color: \"#000\",\n        },\n      },\n    },\n  }),\n);\n\nexport const Terms = () => {\n  const classes = useStyles();\n  const [text, setText] = useState(null);\n  const objTitle = \"Terms of use\";\n  const fullDesc = `${AppConsts.APP_WEB_NAME} - Terms of use`;\n  const wrapperStyle = {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    maxHeight: 600,\n    height: \"50vh\",\n  };\n\n  fetch(termsMdPath)\n    .then((response) => response.text())\n    .then((text) => setText(text));\n\n  return (\n    <NewUIPage title={objTitle} description={fullDesc}>\n      {text ? (\n        <ReactMarkdown\n          className={classes.termsContainer}\n          source={text}\n          escapeHtml={false}\n        />\n      ) : (\n        <GLoader wrapperStyle={wrapperStyle} />\n      )}\n    </NewUIPage>\n  );\n};\n","import React, {useEffect, useState} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {Waypoint} from \"react-waypoint\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\n\nimport {GTypography} from \"../../styles/components/GTypography\";\nimport {GLoader} from \"src/styles/components/GLoader\";\nimport Global from \"src/system/Global\";\n\nconst MAX_BATCH_SIZE = 20;\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      marginBottom: theme.spacing(1),\n      paddingBottom: theme.spacing(6),\n    },\n    feedItem: {\n      \"&:hover\": {\n        backgroundColor: theme.palette.background.dark,\n      },\n      padding: \"25px 30px\",\n      fontSize: \"16px\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      borderBottom: `1px solid ${theme.palette.grey.A800}`,\n    },\n    tagname: {\n      fontSize: 15,\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n    },\n    waypoint: {\n      position: \"relative\",\n      bottom: theme.spacing(8),\n    },\n  }),\n);\n\nexport const TrendingFeed = () => {\n  const classes = useStyles();\n  const [timeline, setTimeline] = useState(null);\n  const [offset, setOffset] = useState(0);\n\n  const api = Global.GetPortal().getAppService();\n\n  const reachedEnd =\n    Array.isArray(timeline) &&\n    (timeline.length === 0 || timeline.length % MAX_BATCH_SIZE !== 0);\n\n  useEffect(() => {\n    const fetchSuggestedHashtags = async () => {\n      try {\n        const res = await api.fetchSuggestedHashtags(\n          offset * MAX_BATCH_SIZE,\n          MAX_BATCH_SIZE,\n        );\n        setTimeline([...(timeline || []), ...res.getList()]);\n      } catch (err) {\n        console.log(err);\n        setTimeline([...(timeline || [])]);\n      }\n    };\n\n    fetchSuggestedHashtags();\n  }, [offset]);\n\n  if (!timeline) {\n    const headerHeight = 0; // theme.mixins.header.height;\n    const othersHeight = 552; // 56px(columnHeader) - 496px(userProfileDetail)\n    const wrapperStyle = {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      maxHeight: 600,\n      height: `calc(100vh - ${headerHeight + othersHeight}px)`, // handle if the screen height is small\n    };\n\n    return <GLoader wrapperStyle={wrapperStyle} />;\n  }\n\n  return (\n    <div className={classes.root}>\n      {timeline.map((item) => {\n        return (\n          <Link\n            key={item}\n            className={classes.feedItem}\n            to={`/hashtag/%23${encodeURIComponent(item)}`}\n          >\n            <GTypography className={classes.tagname} isBold>\n              #{item}\n            </GTypography>\n          </Link>\n        );\n      })}\n      {reachedEnd ? null : (\n        <div className={classes.waypoint}>\n          <Waypoint\n            scrollableAncestor={window}\n            fireOnRapidScroll={false}\n            onEnter={() => setOffset((oldOffset) => oldOffset + 1)}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n","import {makeStyles} from \"@material-ui/core\";\nimport {GTypography} from \"./GTypography\";\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    padding: theme.spacing(2, 3),\n    fontWeight: \"bold\",\n    borderBottom: `1px solid ${theme.palette.grey.A800}`,\n  },\n}));\n\nexport const GSectionHeader = ({title}) => {\n  const classes = useStyles();\n  return (\n    <GTypography variant=\"h2\" className={classes.header}>\n      {title}\n    </GTypography>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.5 19.166C3.39543 19.166 2.47398 18.2551 2.76509 17.1896C3.10584 15.9424 3.76647 14.7929 4.6967 13.8627C6.10322 12.4562 8.01088 11.666 10 11.666C11.9891 11.666 13.8968 12.4562 15.3033 13.8627C16.2335 14.7929 16.8942 15.9424 17.2349 17.1896C17.526 18.2551 16.6046 19.166 15.5 19.166H4.5Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.93446 10.4413C7.51121 10.4413 5.54849 8.29148 5.54849 5.63717C5.54849 2.98287 7.51121 0.833008 9.93446 0.833008C12.3577 0.833008 14.3204 2.98287 14.3204 5.63717C14.3204 8.29148 12.3577 10.4413 9.93446 10.4413Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoAccountProfile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoAccountProfile);\nexport default __webpack_public_path__ + \"static/media/ico-account-profile.26fb24d6.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.959885 8.43925C0.877985 8.95035 0.835266 9.47494 0.835266 10.0104C0.835266 10.5457 0.877853 11.0697 0.959252 11.5796C1.03499 12.054 1.48001 12.3522 1.94471 12.4742C2.16527 12.5321 2.37909 12.6185 2.58097 12.7321C3.02699 12.983 3.39741 13.3571 3.65123 13.8129C3.90506 14.2687 4.0324 14.7885 4.01916 15.3147C4.01262 15.575 3.9718 15.8319 3.89876 16.0785C3.76751 16.5216 3.80052 17.0318 4.15072 17.3333C4.92964 18.004 5.81031 18.5359 6.75668 18.9076C7.20805 19.0849 7.69277 18.8436 8.02316 18.4886C8.18356 18.3163 8.36499 18.1648 8.56369 18.0383C8.99633 17.763 9.49395 17.6173 10.0015 17.6173C10.509 17.6173 11.0066 17.763 11.4393 18.0383C11.638 18.1648 11.8194 18.3163 11.9798 18.4886C12.3102 18.8436 12.7949 19.0849 13.2463 18.9076C14.1927 18.5359 15.0735 18.0039 15.8525 17.3331C16.2025 17.0317 16.2356 16.5216 16.1046 16.0787C16.0316 15.8321 15.9909 15.5753 15.9844 15.315C15.9713 14.7889 16.0987 14.2693 16.3525 13.8136C16.6063 13.358 16.9766 12.984 17.4224 12.7331C17.6244 12.6195 17.8383 12.5331 18.0589 12.4752C18.5233 12.3532 18.9681 12.0554 19.044 11.5813C19.1259 11.0703 19.1686 10.5458 19.1686 10.0104C19.1686 9.47526 19.1259 8.95097 19.0441 8.44043C18.9682 7.96633 18.5234 7.66863 18.0589 7.54681C17.8381 7.48889 17.6241 7.40248 17.422 7.28877C16.976 7.03783 16.6055 6.66375 16.3517 6.20794C16.0979 5.75213 15.9706 5.23236 15.9838 4.70612C15.9903 4.44581 16.0312 4.18893 16.1042 3.94236C16.2354 3.49928 16.2024 2.98899 15.8522 2.68748C15.0733 2.01685 14.1926 1.48488 13.2463 1.11319C12.7949 0.935904 12.3102 1.17727 11.9798 1.53224C11.8194 1.70458 11.638 1.85608 11.4393 1.98251C11.0066 2.2578 10.509 2.4035 10.0015 2.4035C9.49395 2.4035 8.99633 2.2578 8.56369 1.98251C8.36499 1.85608 8.18356 1.70458 8.02316 1.53224C7.69277 1.17727 7.20805 0.935904 6.75668 1.11319C5.8102 1.48493 4.92944 2.01697 4.15046 2.68771C3.80039 2.98913 3.76729 3.4992 3.89836 3.94216C3.97129 4.18865 4.01203 4.44541 4.01853 4.7056C4.03166 5.2316 3.90436 5.75112 3.65068 6.20674C3.397 6.66236 3.02683 7.03632 2.58109 7.2873C2.37916 7.401 2.16529 7.48745 1.94465 7.54544C1.48038 7.66746 1.03584 7.96527 0.959885 8.43925Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.99896 12.7589C9.45372 12.7589 8.92073 12.5971 8.46738 12.294C8.01403 11.9909 7.6607 11.5601 7.45205 11.0561C7.24339 10.5521 7.18878 9.99747 7.29515 9.4624C7.40153 8.92734 7.66409 8.43585 8.04963 8.05009C8.43517 7.66433 8.92639 7.40162 9.46115 7.29519C9.99591 7.18876 10.5502 7.24338 11.0539 7.45215C11.5577 7.66093 11.9882 8.01447 12.2911 8.46808C12.594 8.92168 12.7557 9.45498 12.7557 10.0005C12.7557 10.3628 12.6844 10.7214 12.5459 11.0561C12.4073 11.3907 12.2043 11.6948 11.9483 11.951C11.6923 12.2071 11.3884 12.4103 11.0539 12.5489C10.7195 12.6875 10.361 12.7589 9.99896 12.7589Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeMiterlimit: 10\n});\n\nfunction SvgIcoAccountSettings(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoAccountSettings);\nexport default __webpack_public_path__ + \"static/media/ico-account-settings.249c7a4e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.3333 1.25C16.9902 1.25 18.3333 2.59315 18.3333 4.25L18.3333 15.75C18.3333 17.4069 16.9902 18.75 15.3333 18.75L4.66665 18.75C3.00979 18.75 1.66665 17.4069 1.66665 15.75L1.66665 4.25C1.66665 2.59315 3.00979 1.25 4.66665 1.25L15.3333 1.25Z\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.25 7.5L13.75 7.5\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.25 12.5H10.4167\",\n  stroke: \"black\",\n  strokeWidth: 1.2,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgIcoAccountHelp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIcoAccountHelp);\nexport default __webpack_public_path__ + \"static/media/ico-account-help.e246090a.svg\";\nexport { ForwardRef as ReactComponent };","import {makeStyles} from \"@material-ui/core\";\nimport {useHistory} from \"react-router-dom\";\nimport {AvatarLink} from \"src/app/components/AvatarLink\";\nimport {GTwemoji} from \"src/styles/components/GTwemoji\";\nimport {t} from \"../../../i18n/utils\";\nimport {shortNum} from \"src/util/NumberUtil\";\nimport {Link} from \"react-router-dom\";\nimport AppConsts from \"../../AppConsts\";\nimport {ReactComponent as VerificationIcon} from \"../../../assets/icons/ico-verification.svg\";\nimport {ReactComponent as RightArrowIcon} from \"../../../assets/icons/ico-right-arrow.svg\";\nimport {ReactComponent as ProfileIcon} from \"../../../assets/icons/ico-account-profile.svg\";\nimport {ReactComponent as SettingsIcon} from \"../../../assets/icons/ico-account-settings.svg\";\nimport {ReactComponent as HelpIcon} from \"../../../assets/icons/ico-account-help.svg\";\nimport {useEffect, useState} from \"react\";\nimport Global from \"src/system/Global\";\n\nconst useStyles = makeStyles((theme) => ({\n  accountInfo: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    height: 68,\n    width: 68,\n    border: \"2px solid #fff\",\n    borderRadius: \"50%\",\n    marginTop: 20,\n    marginBottom: 13,\n  },\n  nickname: {\n    maxWidth: \"calc(100% - 10px)\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    fontWeight: 600,\n    fontSize: 28,\n    lineHeight: \"130%\",\n    letterSpacing: \"0.3px\",\n    color: theme.palette.text.main,\n    marginBottom: 6,\n    padding: \"0 20px\",\n  },\n  icon: {\n    width: theme.spacing(1.875),\n    margin: theme.spacing(0, 0, 0, 0.5),\n    height: \"auto\",\n  },\n  username: {\n    height: 23,\n    fontSize: 18,\n    lineHeight: \"130%\",\n    letterSpacing: \"-0.4px\",\n    color: theme.palette.text.gray,\n    marginBottom: 30,\n  },\n  followInfo: {\n    display: \"flex\",\n    width: \"100%\",\n    marginBottom: theme.spacing(4),\n    \"& > div\": {\n      width: \"50%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      position: \"relative\",\n      \"&:not(:last-child):after\": {\n        content: \"''\",\n        position: \"absolute\",\n        right: -1,\n        top: \"5%\",\n        width: 1,\n        height: \"90%\",\n        backgroundColor: theme.palette.grey.A200,\n      },\n    },\n    \"& span.value\": {\n      fontSize: 17,\n      letterSpacing: \"-0.4px\",\n      fontWeight: \"bold\",\n      color: theme.palette.text.main,\n      height: 20,\n      lineHeight: \"20px\",\n      marginBottom: 6,\n    },\n    \"& span.desc\": {\n      fontSize: 14,\n      letterSpacing: \"-0.2px\",\n      color: theme.palette.text.gray,\n      height: 18,\n      lineHeight: \"130%\",\n    },\n  },\n  divider: {\n    background: theme.input.background,\n    height: 10,\n    border: \"none\",\n  },\n  link: {\n    paddingLeft: theme.spacing(2),\n    display: \"block\",\n    textTransform: \"capitalize\",\n    height: 51,\n    lineHeight: \"51px\",\n    borderBottom: `1px solid ${theme.palette.grey.A200}`,\n    color: theme.palette.text.main,\n    fontSize: 16,\n    fontWeight: \"bold\",\n    \"&.no-border\": {\n      borderBottom: \"none\",\n    },\n    \"&:hover\": {\n      color: theme.palette.text.main,\n    },\n    \"& > svg.menu-icon\": {\n      float: \"left\",\n      marginTop: 16,\n      marginRight: 15,\n      marginLeft: 5,\n      verticalAlign: \"top\",\n    },\n    \"& > svg.right-arrow\": {\n      float: \"right\",\n      marginTop: 15,\n      marginRight: 15,\n      verticalAlign: \"top\",\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingLeft: 0,\n      marginLeft: 20,\n      marginRight: 20,\n      \"& > svg.right-arrow\": {\n        marginRight: 0,\n      },\n    },\n  },\n}));\n\nexport const AccountPage = ({userInfo, userId}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [followingCount, setFollowingCount] = useState(0);\n  const [followerCount, setFollowerCount] = useState(0);\n\n  const api = Global.GetPortal().getAppService();\n\n  useEffect(() => {\n    const getFollowingAndFollowersCount = async () => {\n      // need to hit api for proper following and followers count for some reason\n      const res = await api.fetchUserInfo(userId);\n\n      setFollowingCount(res.getFollowsCount(0));\n      let flg = res?.data?.flg ? res?.data?.flg : 0;\n      let twitter = res?.data?.twt_flg ? res?.data?.twt_flg : 0;\n      setFollowerCount(flg * 1 + twitter * 1);\n    };\n\n    getFollowingAndFollowersCount();\n  }, []);\n\n  const profileName = userInfo.getNickname(true);\n  const profileUserId = userInfo.getUsername();\n  const profileUsername = userInfo.getOriginalUsername();\n  const avatarUrl = userInfo.getIconUrl();\n  const isInfluencer = userInfo.isInfluencer && userInfo.isInfluencer();\n\n  return (\n    <div>\n      <div className={classes.accountInfo}>\n        <AvatarLink\n          avatarUrl={avatarUrl}\n          styleClasses={classes.avatar}\n          userId={profileUserId}\n          username={profileName}\n        />\n        <p className={classes.nickname}>\n          <GTwemoji text={profileName} />\n          {isInfluencer > 0 && <VerificationIcon className={classes.icon} />}\n        </p>\n        <p className={classes.username}>{`@${profileUsername}`}</p>\n        <div className={classes.followInfo}>\n          <div onClick={() => history.push(`/user/${profileUserId}/following`)}>\n            <span className=\"value\">{shortNum(followingCount)}</span>\n            <span className=\"desc\">\n              {t(\"getter_fe.profile.common.following\")}\n            </span>\n          </div>\n          <div onClick={() => history.push(`/user/${profileUserId}/followers`)}>\n            <span className=\"value\">{shortNum(followerCount)}</span>\n            <span className=\"desc\">\n              {t(\"getter_fe.profile.common.followers\")}\n            </span>\n          </div>\n        </div>\n      </div>\n      <hr className={classes.divider} />\n      <Link to={`/user/${profileUserId}`} className={classes.link}>\n        <ProfileIcon className=\"menu-icon\" />\n        {t(\"getter_fe.menu.common.profile\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n      <Link\n        to={`/settings/${AppConsts.URL_SETTINGS_MOBILE_INDEX}`}\n        className={classes.link}\n      >\n        <SettingsIcon className=\"menu-icon\" />\n        {t(\"getter_fe.menu.common.settings\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n      <Link\n        to={`${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_MOBILE_INDEX}`}\n        className={classes.link}\n      >\n        <HelpIcon className=\"menu-icon\" />\n        {t(\"getter_fe.menu.common.helpCenter\")}\n        <RightArrowIcon className=\"right-arrow\" />\n      </Link>\n    </div>\n  );\n};\n","import React from \"react\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport {FormControl, Typography} from \"@material-ui/core\";\nimport GAxios from \"src/util/GAxios\";\nimport {GTextField} from \"../../../styles/components/GTextField\";\nimport {GButton} from \"../../../styles/components/GButton\";\nimport {Formik} from \"formik\";\nimport clsx from \"clsx\";\nimport {useTranslation} from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    title: {\n      marginBottom: theme.spacing(4.375),\n      fontSize: 28,\n      lineHeight: \"33px\",\n      fontWeight: 600,\n      color: theme.palette.text.main,\n    },\n    formControl: {\n      marginTop: 0,\n      marginBottom: theme.spacing(2.5),\n    },\n    inputField: {\n      \"& input:not([type=checkbox]):not([type=radio])\": {\n        fontSize: 18,\n        fontWeight: 400,\n      },\n    },\n    inputFieldError: {\n      \"& fieldset\": {\n        borderWidth: 2,\n        borderColor: theme.palette.error.light,\n      },\n    },\n    btn: {\n      height: theme.spacing(6),\n      margin: theme.spacing(0, 0, 5, 0),\n      \"& .MuiButton-label\": {\n        marginTop: 0,\n      },\n    },\n  }),\n);\n\nexport const TopicTrendsPage = (props) => {\n  const classes = useStyles();\n  const {t} = useTranslation();\n\n  const initialData = {\n    content: props.content,\n  };\n\n  const getFinalData = (data) => {\n    let b = data.content.replace(/\\n/g, \"\");\n\n    let result = `{\"content\":{\"values\":${b}}}`;\n    return result;\n  };\n\n  const handleSubmit = async (data) => {\n    let finalData = getFinalData(data);\n    await deleteData();\n    const config = {\n      method: \"post\",\n      url: `${process.env.REACT_APP_API_URL}/admin/config/trending/hashtags`,\n      data: finalData,\n    };\n\n    try {\n      await GAxios(config);\n    } catch (error) {\n      console.warn(error);\n    } finally {\n      window.location.reload();\n    }\n  };\n\n  const deleteData = async () => {\n    let finalData = {\n      content: {\n        values: {...initialData.content},\n      },\n    };\n\n    await GAxios({\n      method: \"delete\",\n      url: `${process.env.REACT_APP_API_URL}/admin/config/trending/hashtags`,\n      data: finalData,\n    });\n  };\n\n  const syntaxHighlight = (json) => {\n    if (json === null || json === undefined) return;\n    if (typeof json != \"string\") {\n      json = JSON.stringify(json, undefined, 2);\n    }\n    json = json.replace(/&/g, \"&\").replace(/</g, \"<\").replace(/>/g, \">\");\n    return json.replace(\n      /(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g,\n      function (match) {\n        var cls = \"number\";\n        if (/^\"/.test(match)) {\n          if (/:$/.test(match)) {\n            cls = \"key\";\n          } else {\n            cls = \"string\";\n          }\n        } else if (/true|false/.test(match)) {\n          cls = \"boolean\";\n        } else if (/null/.test(match)) {\n          cls = \"null\";\n        }\n        return match;\n      },\n    );\n  };\n\n  return (\n    <div>\n      <Typography variant=\"h1\" component=\"h2\" className={classes.title}>\n        {t(\"getter_fe.auth.signup.createYourAccount\")}\n      </Typography>\n      <div style={{fontSize: \"20px\"}}>\n        <pre>{syntaxHighlight(props.content)}</pre>\n      </div>\n\n      <Formik\n        initialValues={{\n          content: props.content,\n        }}\n        onSubmit={({content}, {setSubmitting}) => {\n          setSubmitting(false);\n          handleSubmit({content});\n        }}\n      >\n        {(props) => {\n          const {\n            values,\n            touched,\n            errors,\n            handleChange,\n            handleSubmit,\n            isValid,\n            isSubmitting,\n            dirty,\n            setFieldTouched,\n          } = props;\n          let initStr = JSON.stringify(initialData.content);\n          initStr = initStr && initStr.replace(/},/g, \"},\\n\");\n\n          return (\n            <form className=\"form\" onSubmit={handleSubmit}>\n              <FormControl\n                fullWidth\n                margin=\"dense\"\n                className={classes.formControl}\n              >\n                <GTextField\n                  id=\"content\"\n                  multiline\n                  type=\"text\"\n                  name=\"content\"\n                  rows={40}\n                  onChange={handleChange}\n                  className={clsx(\n                    classes.inputField,\n                    Boolean(touched.topic && errors.topic) &&\n                      classes.inputFieldError,\n                  )}\n                  label={`${t(\"getter_fe.common.trends.topic\")}`}\n                  disabled={isSubmitting}\n                />\n              </FormControl>\n\n              <GButton\n                type=\"submit\"\n                variant=\"contained\"\n                className={classes.btn}\n                disabled={Boolean(isSubmitting)}\n                loading={isSubmitting}\n              >\n                {t(\"getter_fe.post.button.confirm\")}\n              </GButton>\n            </form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n};\n","import React, {useState, useEffect, useRef} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport {Formik} from \"formik\";\nimport {object, ref, string} from \"yup\";\nimport {\n  FormControl,\n  FormHelperText,\n  Typography,\n  FormControlLabel,\n} from \"@material-ui/core\";\nimport {GTextField} from \"src/styles/components/GTextField\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport {GCheckbox} from \"src/styles/components/GCheckbox\";\nimport clsx from \"clsx\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport AppConst from \"src/app/AppConsts\";\nimport {userConstants} from \"src/app/components/auth/_constants\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {useTranslation} from \"react-i18next\";\nimport {connect} from \"react-redux\";\nimport ReCaptcha from \"src/app/components/auth/comps/ReCaptcha\";\nimport {\n  checkEmail,\n  claimSignup,\n  sendVerifCodeSignup,\n  resetVerifCodeStatus,\n  resetSendVerifCodeStatus,\n  changeSignupStep,\n  changeImpost,\n} from \"src/app/components/auth/store\";\nimport {ReactComponent as WarningIcon} from \"src/assets/icons/ico-warning.svg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    title: {\n      marginBottom: theme.spacing(4.375),\n      fontSize: 28,\n      lineHeight: \"33px\",\n      fontWeight: 600,\n      color: theme.palette.text.main,\n      [theme.breakpoints.down(\"xs\")]: {\n        marginTop: theme.spacing(8.125),\n      },\n    },\n    subTitleBold: {\n      color: theme.palette.text.main,\n      fontSize: 15,\n      fontWeight: 700,\n      lineHeight: \"20px\",\n      marginBottom: theme.spacing(0.75),\n    },\n    subTitle: {\n      color: theme.palette.grey.A700,\n      fontSize: 15,\n      fontWeight: 400,\n      lineHeight: \"20px\",\n      marginBottom: theme.spacing(5.25),\n    },\n    contentWrapper: {\n      margin: \"0 auto\",\n      [theme.breakpoints.up(\"xl\")]: {\n        maxWidth: theme.spacing(62.5),\n      },\n      [theme.breakpoints.down(\"lg\")]: {\n        maxWidth: theme.spacing(52.125),\n      },\n      [theme.breakpoints.down(\"sm\")]: {\n        maxWidth: theme.spacing(61),\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        maxWidth: \"auto\",\n        minWidth: \"auto\",\n        paddingLeft: theme.spacing(2.5),\n        paddingRight: theme.spacing(2.5),\n      },\n    },\n    tabTitle: {\n      height: 58,\n      paddingLeft: theme.spacing(4),\n      fontSize: 20,\n      fontWeight: 800,\n      lineHeight: \"22px\",\n      color: theme.palette.text.primary,\n      textTransform: \"capitalize\",\n      borderBottom: `1px solid ${theme.palette.grey.A200}`,\n      display: \"flex\",\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"sm\")]: {\n        // tablet or mobile\n        paddingLeft: theme.spacing(1.5),\n        paddingRight: theme.spacing(1.5),\n        borderBottom: `1px solid ${theme.palette.grey.A200}`,\n        marginTop: 0,\n        height: 58,\n        lineHeight: \"58px\",\n        fontSize: 18,\n        \"& > svg\": {\n          // back arrow icon\n          marginRight: theme.spacing(2),\n          verticalAlign: \"top\",\n          cursor: \"pointer\",\n          borderRadius: \"50%\",\n          padding: 1,\n          width: 26,\n          height: 26,\n          \"&:hover\": {\n            backgroundColor: \"#F2F9FF\",\n          },\n        },\n      },\n    },\n    formControl: {\n      marginTop: 0,\n      marginBottom: theme.spacing(2.5),\n    },\n    inputField: {\n      \"& > .MuiInputBase-root\": {\n        \"& > input\": {\n          fontSize: 15,\n        },\n      },\n      \"& .MuiInputLabel-outlined\": {\n        transform: \"translate(0, 15px) scale(1)\",\n      },\n    },\n    error: {\n      color: \"red\",\n    },\n    checkbox: {\n      padding: theme.spacing(0.5),\n      \"& input\": {\n        display: \"none\",\n      },\n    },\n    checkboxLabel: {\n      fontSize: 16,\n      fontWeight: 600,\n      lineHeight: \"22px\",\n    },\n    btn: {\n      height: theme.spacing(6),\n      // margin: theme.spacing(7, 0, 5, 0),\n      borderRadius: 100,\n      \"& .MuiButton-label\": {\n        marginTop: 0,\n      },\n    },\n    mobileBtn: {\n      height: theme.spacing(6),\n      borderRadius: 24,\n      fontWeight: 700,\n      marginTop: theme.spacing(4),\n    },\n    passwordTextHelperContainer: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    textHelper: {\n      maxWidth: 340,\n      fontSize: 12,\n      lineHeight: \"16px\",\n    },\n    impostDesc: {\n      // color: \"#828282\",\n      color: theme.palette.grey.A700,\n      fontSize: 16,\n      lineHeight: \"140%\",\n      marginBottom: \"50px\",\n      marginLeft: \"4%\",\n    },\n    warningIcon: {\n      marginRight: 3,\n      minWidth: 16,\n      marginTop: 4,\n    },\n    link: {\n      color: theme.palette.text.secondary,\n      fontWeight: \"inherit\",\n    },\n    formControlCP: {\n      marginTop: theme.spacing(1.25),\n    },\n    alertWrapper: {\n      textAlign: \"center\",\n    },\n    alert: {\n      display: \"inline-flex\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      marginBottom: theme.spacing(6.625),\n      \"& .MuiAlert-message\": {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n      },\n    },\n    conditionsWrapper: {\n      marginTop: theme.spacing(8.125),\n      marginBottom: theme.spacing(1.5),\n      textAlign: \"center\",\n    },\n    conditions: {\n      fontSize: 13,\n      lineHeight: \"15.51px\",\n      fontWeight: 300,\n      color: theme.palette.text.secondary,\n      \"& a\": {\n        fontWeight: \"normal\",\n      },\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      success: state.auth.sendVerifCode.success,\n      error: state.auth.sendVerifCode.error,\n      isLoading: state.auth.sendVerifCode.isLoading,\n    };\n  },\n  {\n    checkEmail,\n    claimSignup,\n    changeImpost,\n    sendVerifCodeSignup,\n    resetVerifCodeStatus,\n    resetSendVerifCodeStatus,\n    changeSignupStep,\n  },\n);\n\nexport const VerifyForm = connector(_VerifyForm);\n\nfunction _VerifyForm({\n  checkEmail,\n  sendVerifCodeSignup,\n  resetVerifCodeStatus,\n  resetSendVerifCodeStatus,\n  changeImpost,\n  isLoading,\n  success,\n  error,\n  changeSignupStep,\n}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const reCaptchaRef = useRef();\n  const recaptchaDisabled =\n    process.env.REACT_APP_GOOGLE_RECAPTCHA_DISABLED === \"true\";\n  const {t, i18n} = useTranslation();\n  const [showPwd, setShowPwd] = useState(false);\n\n  const username = window.sessionStorage.getItem(\"ClaimUsername\");\n  const [emailExistError, setEmailExistError] = useState(false);\n  const [emailServerError, setEmailServerError] = useState(false);\n\n  useEffect(() => {\n    return () => {\n      resetVerifCodeStatus();\n      resetSendVerifCodeStatus();\n    };\n  });\n\n  useEffect(() => {\n    success &&\n      toast(\n        <NotifMessage message={t(\"getter_fe.auth.common.sendCodeSuccess\")} />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: AppConst.NOTIF_MESSAGE_SUCCESS,\n        },\n      );\n\n    success && changeSignupStep(userConstants.STEP_VERIF_CODE);\n  }, [success]);\n\n  return (\n    <div className={classes.contentWrapper}>\n      <Typography variant=\"h1\" component=\"h2\" className={classes.title}>\n        {t(\"getter_fe.auth.signup.claimYourAccount\")}\n      </Typography>\n      <p className={classes.subTitleBold}>\n        {t(\"getter_fe.profile.common.claimConfirmed\")}\n        {username}\n        {t(\"getter_fe.profile.common.claimConfirmed2\")}\n      </p>\n      <p className={classes.subTitle}>\n        {t(\"getter_fe.profile.common.claimInstruction\")}\n      </p>\n      <Formik\n        initialValues={{\n          email: \"\",\n          newPass: \"\",\n          confirmPass: \"\",\n          impost: true,\n        }}\n        validationSchema={object().shape({\n          email: string()\n            .required(t(\"getter_fe.auth.errors.emailRequired\"))\n            .matches(\n              /^[a-zA-Z0-9!#$%&'*+\\-/=?^_`{|}~.@]*$/,\n              t(\"getter_fe.auth.errors.emailInvalid\"),\n            )\n            .email(t(\"getter_fe.auth.errors.emailInvalid\")),\n\n          newPass: string()\n            .required(t(\"getter_fe.auth.common.newPwdRequired\"))\n            .min(6, t(\"getter_fe.auth.common.minCharact\"))\n            .matches(\n              /^(?=.*[a-zA-Z\\d].*)[a-zA-Z\\d!#$&()*+,\\-.:;<=>?@[\\]^_{|}~]{6,128}$/,\n              t(\"getter_fe.settings.errors.passwordValidation\"),\n            ),\n          confirmPass: string()\n            .oneOf(\n              [ref(\"newPass\")],\n              t(\"getter_fe.settings.errors.passwordsNotMatch\"),\n            )\n            .required(t(\"getter_fe.settings.errors.confirmPasswordRequired\")),\n        })}\n        onSubmit={async (\n          {email, newPass, impost},\n          {setSubmitting},\n        ) => {\n          changeImpost({imPost: impost});\n          localStorage.setItem(username + \"_imPost\", impost);\n          \n          const token = recaptchaDisabled\n            ? null\n            : await reCaptchaRef.current?.executeAsync();\n          sendVerifCodeSignup({\n            username: email,\n            email: email,\n            password: newPass,\n            token: token,\n          });\n          !recaptchaDisabled && reCaptchaRef.current?.reset();\n        }}\n      >\n        {(props) => {\n          const {\n            values,\n            touched,\n            errors,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            isValid,\n            isSubmitting,\n            dirty,\n            setFieldTouched,\n          } = props;\n\n          i18n.on(\"languageChanged\", (lng) => {\n            setTimeout(() => {\n              Object.keys(errors).forEach((fieldName) => {\n                if (touched[fieldName]) {\n                  setFieldTouched(fieldName);\n                }\n              });\n            }, 50);\n          });\n\n          return (\n            <form className=\"form\" onSubmit={handleSubmit}>\n              <FormControl\n                fullWidth\n                margin=\"dense\"\n                className={classes.formControl}\n              >\n                <GTextField\n                  id=\"email\"\n                  type=\"text\"\n                  name=\"email\"\n                  value={values.email}\n                  onChange={async (e) => {\n                    setEmailExistError(false);\n                    handleChange(e);\n                  }}\n                  onBlur={async (e) => {\n                    const value = e.target.value;\n                    handleBlur(e);\n                    if (!errors.email) {\n                      const checkRes = await checkEmail(value);\n                      const exist = checkRes?.payload;\n                      console.info(exist);\n                      if (exist === AppConst.STATUS_SERVER_ERROR) {\n                        setEmailServerError(true);\n                        return;\n                      } else {\n                        setEmailServerError(false);\n                      }\n\n                      if (exist) {\n                        console.info(exist);\n                        setEmailExistError(true);\n                      } else {\n                        setEmailExistError(false);\n                      }\n                    }\n                  }}\n                  error={Boolean(touched.email && errors.email)}\n                  className={clsx(\n                    classes.inputField,\n                    Boolean(touched.email && errors.email) &&\n                      classes.inputFieldError,\n                  )}\n                  label={t(\"getter_fe.auth.common.email\")}\n                  disabled={isLoading}\n                />\n\n                {touched.email && errors.email && (\n                  <FormHelperText\n                    className={classes.textHelper}\n                    error={Boolean(touched.email && errors.email)}\n                  >\n                    <WarningIcon className={classes.warningIcon} />\n                    {errors.email}\n                  </FormHelperText>\n                )}\n\n                {emailExistError && (\n                  <FormHelperText className={classes.textHelper} error={true}>\n                    <WarningIcon className={classes.warningIcon} />\n                    {emailExistError && t(\"getter_fe.auth.errors.emailExist\")}\n                  </FormHelperText>\n                )}\n\n                {emailServerError && (\n                  <FormHelperText className={classes.textHelper} error={true}>\n                    <WarningIcon className={classes.warningIcon} />\n                    {emailServerError &&\n                      t(\"getter_fe.auth.errors.somethingWentWrong\")}\n                  </FormHelperText>\n                )}\n              </FormControl>\n              <FormControl\n                fullWidth\n                margin=\"dense\"\n                className={classes.formControl}\n              >\n                <GTextField\n                  id=\"password-new\"\n                  type=\"password\"\n                  name=\"newPass\"\n                  value={values.newPass}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  error={Boolean(touched.newPass && errors.newPass)}\n                  className={classes.inputField}\n                  label={t(\"getter_fe.settings.common.newPassword\")}\n                  disabled={isSubmitting}\n                  showPwd={showPwd}\n                  iconBtnClick={() => {\n                    setShowPwd(!showPwd);\n                  }}\n                />\n                {touched.newPass && errors.newPass && (\n                  <div className={classes.passwordTextHelperContainer}>\n                    <WarningIcon className={classes.warningIcon} />\n                    <FormHelperText\n                      className={classes.textHelper}\n                      error={Boolean(touched.newPass && errors.newPass)}\n                    >\n                      {errors.newPass}\n                    </FormHelperText>\n                  </div>\n                )}\n              </FormControl>\n              <FormControl\n                fullWidth\n                margin=\"dense\"\n                className={clsx(classes.formControl, classes.formControlCP)}\n              >\n                <GTextField\n                  id=\"password-confirm\"\n                  type=\"password\"\n                  name=\"confirmPass\"\n                  value={values.confirmPass}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  error={Boolean(touched.confirmPass && errors.confirmPass)}\n                  className={classes.inputField}\n                  label={t(\"getter_fe.settings.common.confirmPassword\")}\n                  disabled={isSubmitting}\n                  showPwd={showPwd}\n                  iconBtnClick={() => {\n                    setShowPwd(!showPwd);\n                  }}\n                />\n\n                {touched.confirmPass && errors.confirmPass && (\n                  <div className={classes.passwordTextHelperContainer}>\n                    <WarningIcon className={classes.warningIcon} />\n                    <FormHelperText\n                      error={Boolean(touched.confirmPass && errors.confirmPass)}\n                    >\n                      {errors.confirmPass}\n                    </FormHelperText>\n                  </div>\n                )}\n              </FormControl>\n              <div>\n                <FormControlLabel\n                  control={\n                    <GCheckbox\n                      checked={values.impost}\n                      onChange={handleChange}\n                      classes={{\n                        root: classes.checkbox,\n                      }}\n                      name=\"impost\"\n                    />\n                  }\n                  label={t(\"getter_fe.profile.common.imPost\")}\n                  classes={{\n                    label: classes.checkboxLabel,\n                  }}\n                />\n                <FormHelperText className={classes.impostDesc}>\n                  {t(\"getter_fe.profile.common.imPostDesc\")}\n                </FormHelperText>\n              </div>\n              <div className={classes.conditionsWrapper}>\n                <div className={classes.conditions}>\n                  {`${t(\"getter_fe.auth.common.byClicking\")} `}\n                  <a\n                    href={\"/terms\"}\n                    rel=\"noopener noreferrer\"\n                    className=\"text-link\"\n                    target=\"_blank\"\n                  >\n                    {t(\"getter_fe.auth.common.termsOfuse\")}\n                  </a>\n                  {` ${t(\"getter_fe.auth.common.and\")} `}\n                  <a\n                    href={\"/privacy\"}\n                    rel=\"noopener noreferrer\"\n                    className=\"text-link\"\n                    target=\"_blank\"\n                  >\n                    {`${t(\"getter_fe.auth.common.privacyPolicy\")}`}\n                  </a>\n                </div>\n              </div>\n              {isMobile ? (\n                <GButton\n                  type=\"submit\"\n                  variant=\"contained\"\n                  className={classes.mobileBtn}\n                  disabled={Boolean(\n                    !isValid ||\n                      isLoading ||\n                      !dirty ||\n                      emailExistError ||\n                      emailServerError,\n                  )}\n                  loading={isSubmitting}\n                >\n                  {t(\"getter_fe.auth.common.next\")}\n                </GButton>\n              ) : (\n                <GButton\n                  type=\"submit\"\n                  variant=\"contained\"\n                  className={classes.btn}\n                  disabled={Boolean(\n                    !isValid ||\n                      isLoading ||\n                      !dirty ||\n                      emailExistError ||\n                      emailServerError,\n                  )}\n                  loading={isSubmitting}\n                >\n                  {t(\"getter_fe.auth.common.next\")}\n                </GButton>\n              )}\n\n              {!recaptchaDisabled && <ReCaptcha recaptchaRef={reCaptchaRef} />}\n            </form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n}\n","import React, {useEffect, useState, useRef, Fragment} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {useDispatch, connect} from \"react-redux\";\nimport {VerifyForm} from \"./VerifyForm\";\nimport {SendCode} from \"src/app/components/auth/comps/SendCode\";\nimport {ReCaptcha} from \"src/app/components/auth/comps/ReCaptcha\";\nimport {changeSignupStep} from \"src/app/components/auth/store\";\nimport {userConstants} from \"src/app/components/auth/_constants\";\nimport {signup, claimSignup, setClaimed} from \"src/app/components/auth/store\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {getLang, t} from \"src/i18n/utils\";\nimport {useHistory} from \"react-router-dom\";\nimport Global from \"src/system/Global\";\nimport GAxios from \"src/util/GAxios\";\nimport {DiscoverPeople} from \"src/app/components/auth/comps/DiscoverPeople\";\nimport clsx from \"clsx\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    contentWrapper: {\n      margin: \"0 auto\",\n      [theme.breakpoints.up(\"xl\")]: {\n        maxWidth: theme.spacing(62.5),\n      },\n      [theme.breakpoints.down(\"lg\")]: {\n        maxWidth: theme.spacing(52.125),\n      },\n      [theme.breakpoints.down(\"sm\")]: {\n        maxWidth: theme.spacing(61),\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        maxWidth: \"auto\",\n        minWidth: \"auto\",\n        paddingLeft: theme.spacing(2.5),\n        paddingRight: theme.spacing(2.5),\n      },\n    },\n    contentWrapperW: {\n      maxWidth: theme.spacing(74.625),\n    },\n  }),\n);\n\nconst connector = connect(\n  (state) => {\n    return {\n      authenticated: state.auth?.session?.authenticated,\n      loggedinUserInfo: state.auth.session?.userinfo,\n      currentStep: state.auth.signupStep.step,\n      email: state.auth.sendVerifCode.data.email,\n      password: state.auth.sendVerifCode.data.password,\n      username: state.auth.claimStep.username,\n      imPost: state.auth.claimStep.imPost,\n      claimed: state.auth.claimStep.claimed,\n      code: state.auth.verifCode.code,\n    };\n  },\n  {changeSignupStep, signup, claimSignup, setClaimed},\n);\n\nexport const ClaimPage = connector(_ClaimPage);\n\nfunction _ClaimPage({\n  setPageSeo,\n  currentStep,\n  changeSignupStep,\n  loggedinUserInfo,\n  signup,\n  claimSignup,\n  code,\n  email,\n  password,\n  username,\n  imPost,\n  authenticated,\n}) {\n  const classes = useStyles();\n  const [step, setStep] = useState(currentStep);\n  const [nextURL, setNextURL] = useState(\"\");\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const reCaptchaRef = useRef();\n  const recaptchaDisabled =\n    process.env.REACT_APP_GOOGLE_RECAPTCHA_DISABLED === \"true\";\n\n  useEffect(() => {\n    return () => {\n      goToSignup();\n    };\n  }, []);\n\n  useEffect(() => {\n    setStep(currentStep);\n  }, [currentStep]);\n\n  function goToSignup() {\n    setStep(userConstants.STEP_SIGNUP);\n    changeSignupStep(userConstants.STEP_SIGNUP);\n  }\n\n  async function handleSignup() {\n    let search = window.location.search;\n    let url = `${process.env.REACT_APP_API_URL}/u/user/openauth/${search}`;\n    const lang = getLang();\n    let portal = Global.GetPortal();\n    const loginState = await claimSignup({\n      username,\n      email,\n      pwd: password,\n      search,\n      portal,\n      url,\n      callback: (err, res) => {\n        console.info(res);\n        console.error(err);\n\n        let emsg = err?.data?.emsg;\n        if (err?.data?.args && err?.data?.args[0]) {\n          emsg = err.data.args[0].error;\n        }\n        if (err) {\n          toast(<NotifMessage message={emsg} />, {\n            position: toast.POSITION.TOP_CENTER,\n            type: toast.TYPE.ERROR,\n          });\n          history.push(\"/claim-failed\");\n        }\n      },\n    });\n\n    if (loginState.payload?.authenticated) {\n      toast(\n        <NotifMessage message={t(\"getter_fe.auth.common.accountClaimed\")} />,\n        {\n          position: toast.POSITION.TOP_CENTER,\n          type: toast.TYPE.SUCCESS,\n        },\n      );\n      username = loginState.payload?.userinfo?._id;\n\n      if (imPost) {\n        //import posts\n        await postImportPosts(username);\n      }\n\n      setStep(userConstants.DISCOVER_PEOPLE_TYPE_SIGNUP);\n      changeSignupStep(userConstants.DISCOVER_PEOPLE_TYPE_SIGNUP);\n      setNextURL(\"/user/\" + username);\n      // window.location.href = \"/user/\" + username;\n    }\n  }\n\n  const postImportPosts = async (userId) => {\n    let data = null;\n    const config = {\n      method: \"post\",\n      url: `${process.env.REACT_APP_API_URL}/u/user/${userId}/import`,\n      data,\n    };\n    await GAxios(\n      config,\n      (res) => {\n        //todo:\n        console.info(res);\n      },\n      (err) => {\n        console.error(err);\n        // history.push(\"/claim-failed\");\n      },\n    );\n  };\n\n  return (\n    <div\n      className={clsx(\n        classes.contentWrapper,\n        step === userConstants.DISCOVER_PEOPLE_TYPE_SIGNUP\n          ? classes.contentWrapperW\n          : \"\",\n      )}\n    >\n      {step === userConstants.STEP_SIGNUP && <VerifyForm />}\n\n      {step === userConstants.STEP_VERIF_CODE && (\n        <Fragment>\n          <SendCode\n            goBack={() => goToSignup()}\n            type={userConstants.VERIF_CODE_TYPE_SIGNUP}\n            handleSignup={() => handleSignup()}\n          />\n          {!recaptchaDisabled && <ReCaptcha recaptchaRef={reCaptchaRef} />}\n        </Fragment>\n      )}\n\n      {step === userConstants.DISCOVER_PEOPLE_TYPE_SIGNUP && (\n        <DiscoverPeople nextURL={nextURL} />\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {ClaimPage} from \"./ClaimPage\";\n\nexport const Claim = () => {\n  const history = useHistory();\n  let denied = new URLSearchParams(window.location.search).get(\"denied\");\n  if (denied) {\n    history.push(\"/signup\");\n    return null;\n  } else {\n    return (\n      <>\n        <ClaimPage />\n      </>\n    );\n  }\n};\n\nexport default Claim;\n","import React from \"react\";\nimport {t} from \"src/i18n/utils\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      marginBottom: theme.spacing(1),\n      paddingBottom: theme.spacing(6),\n    },\n    message: {\n      padding: \"50px 0\",\n      textAlign: \"center\",\n      fontSize: \"18px\",\n      lineHeight: \"21px\",\n      color: \"#000\",\n      marginBottom: theme.spacing(1),\n    },\n  }),\n);\n\nexport const ClaimError = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.message}>\n        {t(\"getter_fe.post.tips.claim_failed\")}\n      </div>\n    </div>\n  );\n};\n","import React, {useState, useRef, useEffect} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Grid, Divider, Link, FormHelperText} from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport {useTranslation} from \"react-i18next\";\nimport {ReactComponent as LogoColor} from \"../../../assets/images/common/logoColor.svg\";\nimport AppConsts from \"../../AppConsts\";\nimport {LanguageDialog} from \"../../LanguageDialog\";\nimport {setLang} from \"../../../i18n/utils\";\nimport {userConstants} from \"src/app/components/auth/_constants\";\nimport {getLang, cacheI18nT} from \"src/i18n/utils\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"100%\",\n  },\n  contentWrapper: {\n    maxWidth: \"60%\",\n    paddingLeft: theme.spacing(5),\n  },\n  gridRight: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    height: \"100%\",\n  },\n  footer: {\n    padding: theme.spacing(3, 2.5, 1.875, 2.5),\n  },\n  textFooter: {\n    fontSize: 12,\n    lineHeight: \"14.32px\",\n    fontWeight: 400,\n    color: theme.palette.text.secondary,\n    textAlign: \"center\",\n  },\n  rightLinksWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    marginTop: theme.spacing(2.25),\n  },\n  header: {\n    paddingRight: theme.spacing(3.75),\n    paddingLeft: theme.spacing(3.75),\n    [theme.breakpoints.down(\"xs\")]: {\n      paddingRight: theme.spacing(2.5),\n      paddingLeft: theme.spacing(2.5),\n    },\n  },\n  logo: {\n    marginTop: theme.spacing(2.75),\n    cursor: \"pointer\",\n  },\n  linkClick: {\n    fontSize: 14,\n    lineHeight: \"16.71px\",\n    fontWeight: 400,\n    color: theme.palette.text.main,\n    cursor: \"pointer\",\n    textTransform: \"capitalize\",\n    textDecoration: \"none\",\n    \"&:hover\": {\n      textDecoration: \"none\",\n    },\n  },\n  linkExternal: {\n    color: theme.palette.secondary.gray,\n    fontWeight: \"normal\",\n    textDecoration: \"underline\",\n  },\n  divider: {\n    display: \"inline-block\",\n    margin: theme.spacing(0, 2.125),\n    height: theme.spacing(3),\n    backgroundColor: theme.divider.color,\n  },\n}));\n\nexport const AuthLayout = ({appContext, children}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [isLangDialogOpen, setIsLangDialogOpen] = useState(false);\n  const initialLangCode = getLang();\n  const [currentLangCode, setCurrentLangCode] = useState(initialLangCode);\n  const [oldLangCode, setOldLangCode] = useState(initialLangCode);\n  const {t} = useTranslation();\n\n  useEffect(() => {\n    cacheI18nT(t);\n  }, []);\n\n  const handleHomePage = () => {\n    history.push(AppConsts.URL_DASHBOARD);\n  };\n\n  const handleLanDialog = () => {\n    if (!isLangDialogOpen) {\n      setOldLangCode(currentLangCode);\n    } else if (currentLangCode !== oldLangCode) {\n      window.location.reload();\n    }\n    setIsLangDialogOpen(!isLangDialogOpen);\n  };\n\n  /**\n   * TODO: remove useComponentWillMount when the routes refactored\n   */\n\n  const useComponentWillMount = (func) => {\n    const willMount = useRef(true);\n    if (willMount.current) {\n      func();\n    }\n  };\n\n  useComponentWillMount(() => {\n    const userInfo = JSON.parse(\n      localStorage.getItem(userConstants.LS_SESSION_INFO),\n    );\n\n    const authenticated = userInfo ? userInfo.authenticated : null;\n\n    if (!window.location.pathname.startsWith(\"/claim\")) {\n      authenticated && history.push(\"/\");\n    }\n  });\n\n  return (\n    <Grid container className={classes.container}>\n      <Grid item xs={12} className={classes.gridRight}>\n        <Grid container className={classes.header}>\n          <Grid item xs={6}>\n            <LogoColor\n              className={classes.logo}\n              onClick={() => handleHomePage()}\n            />\n          </Grid>\n          <Grid item xs={6} className={classes.rightLinksWrapper}>\n            <Link\n              href={`${AppConsts.URL_HELP_CENTER}/${AppConsts.URL_HELPCENTER_REGISTRATION}`}\n              className={clsx(classes.linkClick, \"text-link\")}\n            >\n              {t(\"getter_fe.auth.common.getHelp\")}\n            </Link>\n\n            <Divider orientation=\"vertical\" className={classes.divider} />\n            <span className={classes.linkClick} onClick={handleLanDialog}>\n              {t(\"getter_fe.menu.common.languages\")}\n            </span>\n          </Grid>\n        </Grid>\n        {children}\n        <Grid container className={classes.footer}>\n          <Grid item xs={12}>\n            <FormHelperText className={classes.textFooter}>\n              {t(\"getter_fe.auth.common.recaptcha1\")}\n              <a\n                className={classes.linkExternal}\n                href=\"https://policies.google.com/privacy\"\n                target=\"_blank\"\n              >\n                {t(\"getter_fe.auth.common.recaptcha2\")}\n              </a>\n              {t(\"getter_fe.auth.common.recaptcha3\")}\n              <a\n                className={classes.linkExternal}\n                href=\"https://policies.google.com/terms\"\n                target=\"_blank\"\n              >\n                {t(\"getter_fe.auth.common.recaptcha4\")}\n              </a>\n              {t(\"getter_fe.auth.common.recaptcha5\")}\n            </FormHelperText>\n          </Grid>\n        </Grid>\n      </Grid>\n      <LanguageDialog\n        isOpen={isLangDialogOpen}\n        handleClose={handleLanDialog}\n        allLangs={appContext.getSupportedLanguageList()}\n        currentLangCode={currentLangCode}\n        selectLangCode={(langCode) => {\n          const success = appContext.setLanguagePref(langCode);\n          if (success) {\n            setLang(langCode);\n            setCurrentLangCode(langCode);\n          } else {\n            console.error(\"Oops! Cannot change to the language you desired.\");\n          }\n        }}\n      />\n    </Grid>\n  );\n};\n","import React, {useState, useEffect} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    img: {\n      borderRadius: \"10px\",\n      width: \"69px\",\n      height: \"69px\",\n      marginLeft: \"12px\",\n      objectFit: \"cover\",\n    },\n  }),\n);\n\nexport const TopicImg = ({url}) => {\n  const classes = useStyles();\n  const [imgUrl, setImgUrl] = useState(null);\n\n  useEffect(() => {\n    let img = new Image();\n    img.onload = function () {\n      setImgUrl(url);\n    };\n    img.src = url;\n  }, [url]);\n\n  return imgUrl ? <img src={imgUrl} className={classes.img} /> : null;\n};\n","import React, {useState, useEffect} from \"react\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\nimport GAxios from \"src/util/GAxios\";\nimport {t, getLang} from \"src/i18n/utils\";\nimport {GTypography} from \"src/styles/components/GTypography\";\nimport {TopicImg} from \"./TopicImg\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    sectionHeader: {\n      borderBottom: `1px solid ${theme.palette.grey[\"A800\"]}`,\n      height: \"45px\",\n      fontWeight: \"800\",\n      lineHeight: \"24px\",\n      padding: \"12px 15px\",\n      fontSize: \"20px\",\n    },\n    topicContent: {\n      display: \"flex\",\n      borderBottom: `1px solid ${theme.palette.grey[\"A800\"]}`,\n      padding: \"12px 15px\",\n      \"&:hover\": {\n        backgroundColor: theme.palette.grey[\"A300\"],\n      },\n    },\n    topicName: {\n      fontWeight: \"700\",\n      lineHeight: \"19.5px\",\n      fontSize: \"15px\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n    },\n    topicDesc: {\n      marginLeft: \"14px\",\n      marginRight: \"15px\",\n      marginTop: \"3px\",\n      fontWeight: \"400\",\n      lineHeight: \"17px\",\n      fontSize: \"13px\",\n      \"& .text-content\": {\n        display: \"-webkit-box\",\n        \"-webkit-line-clamp\": 2,\n        \"-webkit-box-orient\": \"vertical\",\n        overflow: \"hidden\",\n      },\n    },\n    textContent: {\n      flexGrow: 1,\n      fontWeight: 700,\n      lineHeight: \"19.5px\",\n      fontSize: \"15px\",\n      width: \"65%\",\n      \"& .text-content\": {\n        display: \"-webkit-box\",\n        \"-webkit-line-clamp\": 2,\n        \"-webkit-box-orient\": \"vertical\",\n        overflow: \"hidden\",\n        wordBreak: \"break-word\",\n        fontSize: 13,\n      },\n      \"& .grey\": {\n        color: theme.palette.secondary.gray,\n        fontWeight: 400,\n      },\n    },\n    img: {\n      borderRadius: \"10px\",\n      width: \"69px\",\n      height: \"69px\",\n      marginLeft: \"12px\",\n      objectFit: \"cover\",\n    },\n    sectionFooter: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: 45,\n      color: theme.palette.primary.main,\n      cursor: \"pointer\",\n      \"&:hover\": {\n        backgroundColor: theme.palette.grey[\"A300\"],\n        borderRadius: \"0 0 10px 10px\",\n      },\n    },\n    footerContent: {\n      marginLeft: 15,\n    },\n    footerText: {\n      color: theme.blue.light,\n      position: \"relative\",\n      fontWeight: 600,\n      \"&.zh,&.tw\": {\n        fontWeight: 500,\n        letterSpacing: \"0.05em\",\n      },\n      \"& .underline\": {\n        position: \"absolute\",\n        left: 0,\n        bottom: 2,\n        width: \"100%\",\n        height: 1,\n        backgroundColor: theme.blue.light,\n        opacity: 0,\n        transition: \"opacity 300ms ease\",\n      },\n      \"&:hover .underline\": {\n        opacity: 1,\n      },\n    },\n  }),\n);\n\nexport const NewSuggestTopics = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  // const portal = Global.GetPortal();\n  // const api = portal.getAppService();\n  const [topics, setTopics] = useState(null);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    // api.fetchSuggestedHashtags(0, 5, (err, resultList) => {\n    //   if (resultList) {\n    //     console.log(resultList);\n    //     setTopics(resultList)\n    //   }\n    // });\n    const config = {\n      method: \"get\",\n      url: `${process.env.REACT_APP_API_URL}/s/hashtag/suggest?max=5`,\n    };\n\n    GAxios(\n      config,\n      (response) => {\n        if (response && response.data?.result?.aux?.htinfo) {\n          setTopics(response.data?.result?.aux?.htinfo);\n        } else {\n          setError(true);\n        }\n      },\n      () => {\n        setError(true);\n      },\n    );\n  }, []);\n\n  if (error) {\n    return null;\n  }\n\n  return (\n    <div className=\"suggest-topics sidebar-section\">\n      <div className={classes.sectionHeader}>\n        {t(\"getter_fe.common.trends.title\")}\n      </div>\n      <div className=\"section-content\">\n        {topics &&\n          Object.keys(topics).map((key, index) => {\n            const data = topics[key];\n            const trendDesc = data[\"description\"];\n\n            let tagname = key;\n\n            return (\n              <Link\n                to={`/search?q=${encodeURIComponent(tagname)}`}\n                key={\"st\" + index}\n                className={classes.topicContent}\n              >\n                <div className={classes.textContent}>\n                  <div className={classes.topicName}>{tagname}</div>\n                  <div\n                    className={clsx(\"text-content\", trendDesc ? \"grey\" : \"\")}\n                  >\n                    {trendDesc\n                      ? trendDesc\n                      : t(\"getter_fe.common.trends.desc\", {key})}\n                  </div>\n                </div>\n                <TopicImg url={data[\"iconUrl\"]} />\n              </Link>\n            );\n          })}\n      </div>\n      <div\n        className={classes.sectionFooter}\n        onClick={() => history.push(\"/trending\")}\n      >\n        <div className={classes.footerContent}>\n          <GTypography\n            className={clsx(classes.footerText, getLang())}\n            variant=\"body2\"\n          >\n            {t(\"getter_fe.common.trends.viewMore\")}\n          </GTypography>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport {makeStyles, createStyles} from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\n\nimport {t, getLang} from \"../../../i18n/utils\";\nimport {PopularUsersFeed} from \"../../components/PopularUsersFeed\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    suggestPeopleContainer: {\n      marginTop: 20,\n      marginBottom: 30,\n    },\n    sectionHeader: {\n      \"&.zh,&.tw\": {\n        fontWeight: \"600 !important\",\n        letterSpacing: \"0.05em\",\n      },\n    },\n  }),\n);\n\nexport const SuggestPeople = ({userId, token}) => {\n  const classes = useStyles();\n  return (\n    <div className={clsx(classes.suggestPeopleContainer, \"sidebar-section\")}>\n      <div className={clsx(\"section-header\", classes.sectionHeader, getLang())}>\n        {t(\"getter_fe.common.people.title\")}\n      </div>\n      <div className=\"section-content\">\n        <PopularUsersFeed\n          userId={userId}\n          token={token}\n          isMaxPerpageFixed={true}\n          sidebar={true}\n        />\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport {makeStyles} from \"@material-ui/core\";\nimport Sticky from \"react-stickynode\";\nimport {NewSuggestTopics} from \"./SuggestTopics\";\nimport {SuggestPeople} from \"./SuggestPeople\";\nimport {t} from \"../../../i18n/utils\";\nimport {PostSearchBoxNew} from \"../../components/PostSearchBoxNew\";\nimport {GButton} from \"../../../styles/components/GButton\";\nimport Global from \"src/system/Global\";\nimport {Link, useHistory} from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  exploreSidebarContainer: {\n    width: \"100%\",\n    height: \"inherit\",\n    paddingLeft: 33,\n    \"&::-webkit-scrollbar\": {\n      display: \"none\",\n    },\n    \"&-ms-overflow-style\": \"none\",\n    scrollbarWidth: \"none\",\n    \"& .sidebar-body\": {\n      maxWidth: 350,\n      \"& .sidebar-section\": {\n        backgroundColor: theme.input.background,\n        borderRadius: 10,\n        \"& .section-header\": {\n          padding: \"16px 15px\",\n          fontSize: 20,\n          fontWeight: 800,\n          borderBottom: theme.notchedOutline.border,\n        },\n        \"& .section-content\": {\n          \"& .sub-section\": {\n            padding: \"15px 15px\",\n            \"&:not(:last-child)\": {\n              borderBottom: theme.notchedOutline.border,\n            },\n          },\n        },\n      },\n    },\n    \"@media (max-width: 1365px)\": {\n      maxWidth: 360,\n      boxSizing: \"content-box\",\n      paddingLeft: 23,\n      width: \"calc(100% - 23px)\",\n      \"& .sidebar-body\": {\n        width: \"100%\",\n        paddingRight: 5,\n      },\n    },\n  },\n  wrapperFooter: {\n    fontSize: \"12px\",\n    fontWeight: theme.typography.fontWeightMedium,\n    letterSpacing: \"0.01em\",\n    paddingBottom: \"25px\",\n    color: theme.palette.text.gray,\n    \"& .link-list\": {\n      marginBottom: 3,\n    },\n    \"& .copy-right\": {\n      fontWeight: 400,\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      width: \"100%\",\n      justifyContent: \"center\",\n    },\n    \"& a\": {\n      marginRight: \"10px\",\n      textDecoration: \"none\",\n      letterSpacing: \"0.01em\",\n      fontWeight: 500,\n      color: theme.palette.text.gray,\n      lineHeight: \"190%\",\n    },\n  },\n  newToGetter: {\n    border: `1px solid ${theme.palette.grey[\"A800\"]}`,\n    boxSizing: \"border-box\",\n    borderRadius: 14,\n    padding: \"14px 10px\",\n    marginBottom: \"15px\",\n    \"& .title\": {\n      fontSize: \"19px\",\n      fontWeight: \"800\",\n      color: theme.palette.text.main,\n      marginLeft: \"6px\",\n    },\n    \"& .description\": {\n      fontSize: \"12px\",\n      lineHeight: \"14px\",\n      color: theme.palette.secondary.gray,\n      padding: \"15px 0\",\n    },\n  },\n  signUpButton: {\n    borderRadius: \"100px\",\n    padding: \"11px 0\",\n    \"& span\": {\n      fontSize: \"14px !important\",\n      lineHeight: \"17px !important\",\n    },\n  },\n  stickySearchBoxWrapper: {\n    \"& > .sticky-inner-wrapper\": {\n      zIndex: 2,\n      backgroundColor: theme.palette.background.default,\n    },\n  },\n}));\n\nexport const NewExploreSideBar = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const api = Global.GetPortal().getAppService();\n  const userId = api.getUserId();\n  const token = api.getUserToken();\n  const loggedIn = !!userId;\n  const registerUrl = api.getUrlSignup();\n\n  return (\n    <div className={classes.exploreSidebarContainer}>\n      <Sticky enableTransforms={false}>\n        <div className=\"sidebar-body\">\n          <div className=\"inner-wrapper\">\n            <Sticky\n              enableTransforms={false}\n              className={classes.stickySearchBoxWrapper}\n            >\n              <PostSearchBoxNew />\n            </Sticky>\n            {!loggedIn && (\n              <div className={classes.newToGetter}>\n                <div className=\"title\">\n                  {t(\"getter_fe.auth.common.newToGetter\")}\n                </div>\n                <div className=\"description\">\n                  {t(\"getter_fe.auth.common.newToGetterTips\")}\n                </div>\n                <GButton\n                  isBold\n                  color=\"primary\"\n                  variant=\"contained\"\n                  className={classes.signUpButton}\n                  onClick={() => history.push(registerUrl)}\n                >\n                  {t(\"getter_fe.auth.common.createAccount\")}\n                </GButton>\n              </div>\n            )}\n            <NewSuggestTopics />\n            <SuggestPeople userId={userId} token={token} />\n            <div className={classes.wrapperFooter}>\n              <div className=\"link-list\">\n                <Link className=\"link text-link\" to=\"/terms\">\n                  {t(\"getter_fe.helpCenter.common.termsOfService\")}\n                </Link>\n                <Link className=\"link text-link\" to=\"/privacy\">\n                  {t(\"getter_fe.helpCenter.common.privacyPolicy\")}\n                </Link>\n              </div>\n              <div dir=\"auto\" className=\"copy-right\">\n                <span> 2021 Getome, Inc.</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Sticky>\n    </div>\n  );\n};\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useTheme} from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    position: \"relative\",\n    minHeight: \"100vh\", // `calc(100vh - ${theme.mixins.header.height}px)`,\n    flexWrap: \"nowrap\",\n  },\n  item: {\n    position: \"relative\",\n  },\n  primaryColumn: {\n    borderLeft: `1px solid  ${theme.palette.grey.A200}`,\n    borderRight: `1px solid  ${theme.palette.grey.A200}`,\n    backgroundColor: \"white\",\n    boxShadow: \"0px 4px 34px 5px rgba(236, 239, 245, 0.35);\",\n    [theme.breakpoints.up(\"md\")]: {\n      minWidth: \"600px\",\n      maxWidth: \"600px\",\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      flexShrink: 1,\n    },\n    [theme.breakpoints.up(\"lg\")]: {\n      flexShrink: 0,\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"600px\",\n      width: \"100%\",\n    },\n    [theme.breakpoints.only(\"xs\")]: {\n      maxWidth: \"100%\",\n    },\n  },\n  secondaryColumn: {\n    height: \"calc(100vh - 60px)\",\n    overflowY: \"auto\",\n    [theme.breakpoints.down(\"md\")]: {\n      flexShrink: 0,\n    },\n  },\n  rightMenu: {\n    height: \"auto\",\n    scrollbarWidth: \"none\",\n    msOverflowStyle: \"none\",\n    \"&::-webkit-scrollbar\": {\n      display: \"none\",\n    },\n  },\n}));\n\nexport const HomeMainContainer = (props) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up(\"md\"));\n\n  const getComponent = (key) => {\n    return props.children.filter((comp) => {\n      return comp.key === key;\n    });\n  };\n\n  return (\n    <Grid container className={clsx(classes.root, \"primary\")}>\n      <Grid\n        item\n        xs={12}\n        md={8}\n        lg={7}\n        className={clsx(classes.primaryColumn, classes.item)}\n      >\n        {getComponent(\"primary\")}\n      </Grid>\n      {matches && (\n        <Grid\n          item\n          md={4}\n          lg={5}\n          className={clsx(\n            classes.secondaryColumn,\n            classes.item,\n            classes.rightMenu,\n          )}\n        >\n          {getComponent(\"secondary\")}\n        </Grid>\n      )}\n    </Grid>\n  );\n};\n","import React from \"react\";\n\nimport {NewExploreSideBar} from \"src/app/pages/dashboard/NewExploreSideBar\";\nimport {HomeMainContainer} from \"./HomeMainContainer\";\n\nexport const RegularLayout = ({children}) => {\n  return (\n    <HomeMainContainer>\n      <React.Fragment key=\"primary\">{children}</React.Fragment>\n      <NewExploreSideBar key=\"secondary\" />\n    </HomeMainContainer>\n  );\n};\n","import {useEffect, useCallback} from \"react\";\nimport {useLocation, useHistory} from \"react-router\";\nimport Global from \"src/system/Global\";\nimport {AuthLayout} from \"./AuthLayout\";\nimport {RegularLayout} from \"./RegularLayout\";\nimport {setLang} from \"src/i18n/utils\";\n\nconst formatRoutes = (routes) => routes.map(({path}) => path.split(\"/\")[1]);\n\nexport const LayoutManager = (props) => {\n  const {pathname} = useLocation();\n  const term = pathname.split(\"/\")[1];\n  const appContext = Global.GetPortal().getAppService();\n\n  const {children, regularRoutes, authRoutes, miscRoutes} = props;\n\n  const useQuery = () => {\n    return new URLSearchParams(window.location.search);\n  };\n\n  const changeLang = () => {\n    const query = useQuery();\n    const langUrl = query.get(\"lang\");\n\n    const langsList = appContext.getSupportedLanguageList();\n    const currentLang = appContext.getLanguagePref();\n\n    if (langUrl) {\n      for (let i = 0; i < langsList.length; i++) {\n        const elem = langsList[i];\n\n        if (langUrl !== currentLang && langUrl === elem.code) {\n          const success = appContext.setLanguagePref(elem.code);\n          success && setLang(elem.code);\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    // google analytics\n    appContext.trackPageView(`/${term}`);\n  }, [pathname]);\n\n  useEffect(() => {\n    changeLang();\n  }, []);\n\n  const formattedRegularRoutes = formatRoutes(regularRoutes);\n  const formattedAuthRoutes = formatRoutes(authRoutes);\n  const formattedMiscRoutes = formatRoutes(miscRoutes);\n\n  const isRegularRoute = formattedRegularRoutes.indexOf(term) >= 0;\n  const isAuthRoute = formattedAuthRoutes.indexOf(term) >= 0;\n  const isNotFoundRoute = !isAuthRoute && formattedMiscRoutes.indexOf(term) < 0;\n\n  if (isRegularRoute || isNotFoundRoute) {\n    return <RegularLayout>{children}</RegularLayout>;\n  } else if (isAuthRoute) {\n    return <AuthLayout appContext={appContext}>{children}</AuthLayout>;\n  } else {\n    return <>{children}</>;\n  }\n};\n","import React, {useEffect, useState} from \"react\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {Grid, Container} from \"@material-ui/core\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {useTheme} from \"@material-ui/core/styles\";\n\nimport {GTypography} from \"src/styles/components/GTypography\";\nimport {t} from \"src/i18n/utils\";\nimport {GButton} from \"src/styles/components/GButton\";\nimport clsx from \"clsx\";\nimport {DownloadDialog} from \"src/app/components/DownloadDialog\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    upperWrapper: {\n      position: \"fixed\",\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundColor: \"transparent\",\n      zIndex: 100,\n    },\n    mb: {\n      bottom: theme.spacing(7.25),\n      [theme.breakpoints.down(\"xs\")]: {\n        bottom: theme.spacing(10),\n      },\n    },\n    overlay: {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      height: \"100%\",\n      width: \"100%\",\n      backgroundColor: theme.palette.primary.main,\n      zIndex: -1,\n      opacity: 0.98,\n    },\n\n    innerWrapper: {\n      display: \"flex\",\n      maxWidth: theme.mixins.app.maxWidth,\n      height: \"100%\",\n      margin: \"0 auto\",\n      padding: theme.spacing(2),\n      zIndex: 9999,\n    },\n    leftGrid: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      padding: theme.spacing(0, 0, 2, 0),\n    },\n    buttons: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      padding: 0,\n    },\n    title: {\n      fontWeight: 700,\n      fontSize: 24,\n      lineHeight: \"31.2px\",\n      color: theme.palette.text.disabled,\n      [theme.breakpoints.down(\"sm\")]: {\n        fontSize: 20,\n      },\n    },\n    subTitle: {\n      fontWeight: 400,\n      fontSize: 15,\n      lineHeight: \"19.5px\",\n      color: theme.palette.text.disabled,\n    },\n    btn: {\n      maxHeight: theme.spacing(3.5),\n      borderRadius: 100,\n      padding: \"6px 24px\",\n      \"& .MuiButton-label\": {\n        fontSize: 14,\n        lineHeight: \"16px\",\n        fontWeight: 800,\n      },\n    },\n    btnCancel: {\n      \"& .MuiButton-label\": {\n        color: theme.palette.text.disabled,\n      },\n      \"&.MuiButton-outlined\": {\n        border: \"1px solid rgba(255, 255, 255, 0.5)\",\n      },\n      \"&.MuiButton-outlined:not(:disabled):hover\": {\n        border: \"1px solid rgba(255, 255, 255, 0.5)\",\n      },\n    },\n    btnDownload: {\n      marginLeft: theme.spacing(1.25),\n      \"&.MuiButton-contained:not(:disabled)\": {\n        backgroundColor: theme.palette.text.disabled,\n      },\n      \"&.MuiButton-contained:not(:disabled):hover\": {\n        backgroundColor: theme.palette.text.disabled,\n      },\n      \"& .MuiButton-label\": {\n        color: theme.palette.primary.main,\n      },\n    },\n  }),\n);\n\nexport const DownloadBar = ({\n  setDownloadCookieAccepted,\n  downloadCookieAccepted,\n  cookiesAccepted,\n}) => {\n  const classes = useStyles();\n  const [open, setOpen] = useState(true);\n  const [isDownloadDialogOpen, setIsDownloadDialogOpen] = useState(false);\n  const theme = useTheme();\n  const mobileMatches = useMediaQuery(theme.breakpoints.only(\"xs\"));\n\n  useEffect(() => {\n    if (!mobileMatches) setIsDownloadDialogOpen(false);\n  }, [mobileMatches]);\n\n  const openDownload = () => {\n    setOpen(false);\n    setIsDownloadDialogOpen(true);\n    setDownloadCookieAccepted(true);\n    window.sessionStorage.setItem(\"downloadCookieAccepted\", \"true\");\n  };\n\n  return (\n    <>\n      {!downloadCookieAccepted && open && (\n        <div\n          className={clsx(classes.upperWrapper, !cookiesAccepted && classes.mb)}\n        >\n          <Container maxWidth=\"lg\" className={classes.innerWrapper}>\n            <Grid container spacing={0}>\n              <Grid item xs={12} className={classes.leftGrid}>\n                <GTypography className={classes.title}>\n                  {t(\"getter_fe.common.download.title\")}\n                </GTypography>\n              </Grid>\n              <Grid item xs={12} className={classes.leftGrid}>\n                <GTypography className={classes.subTitle}>\n                  {t(\"getter_fe.common.download.description\")}\n                </GTypography>\n              </Grid>\n              <Grid item xs={12} className={classes.buttons}>\n                <GButton\n                  fullWidth={false}\n                  variant=\"outlined\"\n                  className={clsx(classes.btn, classes.btnCancel)}\n                  onClick={() => setOpen(false)}\n                >\n                  {t(\"getter_fe.common.download.cancel\")}\n                </GButton>\n                <GButton\n                  fullWidth={false}\n                  className={clsx(classes.btn, classes.btnDownload)}\n                  onClick={openDownload}\n                >\n                  {t(\"getter_fe.common.download.download\")}\n                </GButton>\n              </Grid>\n              <div className={classes.overlay}></div>\n            </Grid>\n          </Container>\n        </div>\n      )}\n      <DownloadDialog\n        isOpen={isDownloadDialogOpen}\n        handleClose={(e) => {\n          e.stopPropagation();\n          setIsDownloadDialogOpen(false);\n        }}\n      />\n    </>\n  );\n};\n","import {useMediaQuery, useTheme} from \"@material-ui/core\";\nimport {useState} from \"react\";\nimport {useLocation} from \"react-router-dom\";\nimport {CookieNotification} from \"./CookieNotification\";\nimport {DownloadBar} from \"./DownloadBar\";\n\nexport const MobilePermissionsBar = () => {\n  const [cookiesAccepted, setCookiesAccepted] = useState(\n    localStorage.getItem(\"cookieAccepted\") === \"true\",\n  );\n  const [downloadCookieAccepted, setDownloadCookieAccepted] = useState(\n    sessionStorage.getItem(\"downloadCookieAccepted\") === \"true\",\n  );\n\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.only(\"xs\"));\n  const location = useLocation();\n  const path = location.pathname.split(\"/\");\n  const isApp = path[1].endsWith(\"-app\");\n  const isFAQPage = path[1].startsWith(\"helpcenter\");\n\n  return isMobile && !isApp && !isFAQPage ? (\n    <>\n      <DownloadBar\n        cookiesAccepted={cookiesAccepted}\n        downloadCookieAccepted={downloadCookieAccepted}\n        setDownloadCookieAccepted={setDownloadCookieAccepted}\n      />\n      <CookieNotification\n        cookiesAccepted={cookiesAccepted}\n        setCookiesAccepted={setCookiesAccepted}\n      />\n    </>\n  ) : null;\n};\n","/**\n * Master Route definitions for Single Page Application (SPA) running\n * inside web browser's Javascript VM.  SSR routes are defined separately.\n *\n * The use of React Loable package is an attempt to associate routes\n * with different pre-build packages for on-demand, incremental loading.\n * Now, how well it works (e.g., how deep loading goes from dependency\n * of the routes is not clear to me and not tested right now).\n */\n\nimport React from \"react\";\nimport {Route, Switch} from \"react-router-dom\";\nimport {NewNotFound} from \"./route-notfound\";\n\nimport {Privacy} from \"./route-privacy\";\nimport {NewHashtag} from \"./route-tag\";\nimport {NewSearchResults} from \"./route-search\";\nimport {NewDashboard} from \"./route-dashboard\";\nimport {NewLogin} from \"./route-login\";\nimport {NewSignup} from \"./route-signup\";\nimport {NewLogout} from \"./route-logout\";\nimport {NewUserInfo} from \"./route-userinfo\";\nimport {NewUserNotExist} from \"./route-usernotexist\";\nimport {NewUserFollowing} from \"./route-user-following\";\nimport {NewUserFollowers} from \"./route-user-followers\";\nimport {NewPost} from \"./route-post\";\nimport {NewComment} from \"./route-comment\";\nimport {NewSettings} from \"./route-settings-index\";\nimport {NewHelpCenter} from \"./route-help-center-index\";\nimport {MobileAppHelpCenter} from \"./route-mobile-app-help-center\";\nimport {Terms} from \"./route-terms\";\nimport {NewTrending} from \"./route-trending\";\nimport {NewPopularUsers} from \"./route-popular-users\";\nimport {NewAccount} from \"./route-account\";\nimport {AdminTopicTrendsRoute} from \"./route-admin-topic-trends\";\nimport {ClaimRoute} from \"./route-claim-callback\";\nimport {ClaimErrorRoute} from \"./route-claim-error\";\nimport {LayoutManager} from \"../components/layout/LayoutManager\";\nimport {MobilePermissionsBar} from \"../components/MobilePermissionsBar\";\n\n// Routes with regularLayout\nexport const regularRoutes = [\n  {path: \"/\", component: NewDashboard},\n  {path: \"/comment/:id\", component: NewComment},\n  {path: \"/post/:id\", component: NewPost},\n  {path: \"/hashtag/:id\", component: NewHashtag},\n  {path: \"/search\", component: NewSearchResults},\n  {path: \"/user/:id\", component: NewUserInfo},\n  {path: \"/user/:id/following\", component: NewUserFollowing},\n  {path: \"/user/:id/followers\", component: NewUserFollowers},\n  {path: \"/user/:id/:view\", component: NewUserInfo},\n  {path: \"/account-doesnt-exist/:id\", component: NewUserNotExist},\n  {path: \"/trending\", component: NewTrending},\n  {path: \"/popular-users\", component: NewPopularUsers},\n  {path: \"/claim-failed\", component: ClaimErrorRoute},\n];\n\n// Routes with authLayout\nexport const authRoutes = [\n  {path: \"/login\", component: NewLogin},\n  {path: \"/claim\", component: ClaimRoute},\n  {path: \"/signup\", component: NewSignup},\n];\n\n// Routes with no standard layout\nexport const miscRoutes = [\n  {path: \"/settings/:tab\", component: NewSettings},\n  {path: \"/helpcenter/:tab\", component: NewHelpCenter},\n  {path: \"/helpcenter-app/:tab\", component: MobileAppHelpCenter},\n  {path: \"/helpcenter-app\", component: MobileAppHelpCenter},\n  {path: \"/account\", component: NewAccount},\n  {path: \"/logout\", component: NewLogout},\n  {path: \"/terms\", component: Terms},\n  {path: \"/privacy\", component: Privacy},\n  {path: \"/cookie-policy\", component: Privacy},\n  {path: \"/terms-app\", component: Terms},\n  {path: \"/privacy-app\", component: Privacy},\n  {path: \"/cookie-policy-app\", component: Privacy},\n  {path: \"/admin/topictrends\", component: AdminTopicTrendsRoute},\n];\n\nconst routes = [...regularRoutes, ...authRoutes, ...miscRoutes];\n\nexport default () => (\n  <LayoutManager\n    regularRoutes={regularRoutes}\n    authRoutes={authRoutes}\n    miscRoutes={miscRoutes}\n  >\n    <Switch>\n      {routes.map(({path, component}, idx) => (\n        <Route exact path={path} component={component} key={idx} />\n      ))}\n      <Route component={NewNotFound} />\n    </Switch>\n    <MobilePermissionsBar />\n  </LayoutManager>\n);\n","import React from \"react\";\nimport {t} from \"../../i18n/utils\";\nimport {NewMyDashboard} from \"../pages/dashboard/NewMyDashboard\";\nimport {NewUIPage} from \"../base/NewUIPage\";\n\n/**\n * (logged in) User Dashboard URL Entry - /dashboard\n */\n\nexport const NewDashboard = () => {\n  return (\n    <NewUIPage id=\"dashboard\" title={t(\"getter_fe.common.home\")} description=\"\">\n      <NewMyDashboard />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\n\nimport {NewCommentPageView} from \"../pages/post/NewCommentPageView\";\nimport {NewUIPage} from \"../base/NewUIPage\";\n\nexport const NewComment = ({match}) => {\n  const {id: commentId} = match.params;\n  const pageId = `cmt${commentId}`;\n\n  return (\n    <NewUIPage id={pageId}>\n      <NewCommentPageView commentId={commentId} />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\n\nimport {NewPostPageView} from \"../pages/post/NewPostPageView\";\nimport {NewUIPage} from \"../base/NewUIPage\";\n\nexport const NewPost = ({match}) => {\n  const {id: postId} = match.params;\n  const pageId = `post${postId}`;\n\n  return (\n    <NewUIPage id={pageId}>\n      <NewPostPageView postId={postId} />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\nimport Global from \"src/system/Global\";\nimport {NewUIPage} from \"../base/NewUIPage\";\nimport {HashtagSearchFeed} from \"src/app/components/HashtagSearchFeed\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\n\nexport const NewHashtag = ({match}) => {\n  const {id: hashtagId} = match.params;\n  const hashtagName = `#${hashtagId.slice(3)}`;\n  const title = `Hashtag: ${hashtagName}`;\n  const description = `What's trending via hashtag #${hashtagName}`;\n\n  return (\n    <NewUIPage id={hashtagName} title={title} description={description}>\n      <GBackTitle title={decodeURIComponent(hashtagId)} />\n      <HashtagSearchFeed phrase={hashtagId} />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\nimport AppConsts from \"src/app/AppConsts\";\nimport Util from \"src/core/Util\";\nimport {NewUIPage} from \"src/app/base/NewUIPage\";\nimport {NewSearchResult} from \"src/app/pages/dashboard/NewSearchResult\";\n\n/**\n * Entry point to display search results. This is equivalent\n * of Twitter's /search?q=<queryTerm>.\n * We won't submit query here and will leave that to the actual\n * rendering component: SearchResultFeed.\n * For SEO purpose, we need to extract the query terms and\n * add to keywords to HTML header.\n */\n\nexport const NewSearchResults = ({location}) => {\n  const query = new URLSearchParams(location.search).get(\"q\");\n  const title = Util.StringIsEmpty(query) ? \"Search\" : \"Results for: \" + query;\n  const description = `${AppConsts.APP_NAME}: ${title}`;\n\n  return (\n    <NewUIPage id=\"search\" title={title} description={description}>\n      <NewSearchResult query={query} searchString={location.search} />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\n\nimport AppConsts from \"../AppConsts\";\nimport {NewUserFollowView} from \"../pages/profile/follow/NewUserFollowView\";\nimport {NewUIPage} from \"../base/NewUIPage\";\n\nconst CONTENT = \"FOLLOWING\";\n\nexport const NewUserFollowing = ({match}) => {\n  const {id: userId} = match.params;\n  const description = `${AppConsts.APP_NAME} user ${userId}`;\n\n  return (\n    <NewUIPage title={userId} description={description}>\n      <NewUserFollowView userId={userId} content={CONTENT} />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\n\nimport AppConsts from \"../AppConsts\";\nimport {NewUserFollowView} from \"../pages/profile/follow/NewUserFollowView\";\nimport {NewUIPage} from \"../base/NewUIPage\";\n\nconst CONTENT = \"FOLLOWERS\";\n\nexport const NewUserFollowers = ({match}) => {\n  const {id: userId} = match.params;\n  const description = `${AppConsts.APP_NAME} user ${userId}`;\n\n  return (\n    <NewUIPage title={userId} description={description}>\n      <NewUserFollowView userId={userId} content={CONTENT} />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\nimport {t} from \"../../i18n/utils\";\nimport {NewUIPage} from \"../base/NewUIPage\";\nimport {TrendingFeed} from \"src/app/components/TrendingFeed\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport Global from \"src/system/Global\";\nimport {GSectionHeader} from \"src/styles/components/GSectionHeader\";\n\nexport const NewTrending = () => {\n  return (\n    <NewUIPage\n      id=\"trending\"\n      title={t(\"getter_fe.common.trends.title\")}\n      description=\"\"\n    >\n      <GBackTitle title={t(\"getter_fe.common.trends.title\")} />\n      <GSectionHeader title={t(\"getter_fe.common.trends.subTitle\")} />\n      <TrendingFeed />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\nimport {PopularUsersFeed} from \"src/app/components/PopularUsersFeed\";\nimport {t} from \"../../i18n/utils\";\nimport {NewUIPage} from \"../base/NewUIPage\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\nimport Global from \"src/system/Global\";\nimport {GSectionHeader} from \"src/styles/components/GSectionHeader\";\n\nexport const NewPopularUsers = () => {\n  const api = Global.GetPortal().getAppService();\n\n  const token = api.getUserToken();\n  const userId = api.getUserId();\n\n  return (\n    <NewUIPage\n      id=\"popular-users\"\n      title={t(\"getter_fe.menu.common.connect\")}\n      description=\"\"\n    >\n      <GBackTitle title={t(\"getter_fe.menu.common.connect\")} />\n      <GSectionHeader title={t(\"getter_fe.timeline.common.popularUsers\")} />\n      <PopularUsersFeed\n        sidebar={false}\n        token={token}\n        userId={userId}\n        isPage={true}\n        isMaxPerpageFixed={false}\n      />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {t} from \"../../i18n/utils\";\nimport {NewUIPage} from \"../base/NewUIPage\";\nimport {ClaimError} from \"src/app/pages/auth/ClaimError\";\nimport {GBackTitle} from \"src/styles/components/GBackTitle\";\n\nexport const ClaimErrorRoute = () => {\n  const history = useHistory();\n\n  return (\n    <NewUIPage\n      id=\"verify-failed\"\n      title={t(\"getter_fe.settings.common.verify\")}\n      description=\"\"\n    >\n      <GBackTitle\n        title={t(\"getter_fe.settings.common.verify\")}\n        handleClick={() => {\n          history.push(`/`);\n        }}\n      />\n      <ClaimError />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\nimport {t} from \"../../i18n/utils\";\nimport Claim from \"../pages/auth/Claim\";\nimport {NewUIPage} from \"../base/NewUIPage\";\n\nexport const ClaimRoute = () => {\n  return (\n    <NewUIPage title={t(\"getter_fe.menu.common.verify\")}>\n      <Claim />\n    </NewUIPage>\n  );\n};\n","import React, {useState} from \"react\";\n\nimport {NewUIPage} from \"../base/NewUIPage\";\nimport {NewSettingsIndex} from \"../pages/settings/NewSettingsIndex\";\nimport {t} from \"src/i18n/utils\";\n\nexport const NewSettings = ({match}) => {\n  const [seo, setPageSeo] = useState(\n    t(\"getter_fe.settings.common.changePassword\"),\n  );\n  const {tab} = match.params;\n\n  return (\n    <NewUIPage title={seo}>\n      <NewSettingsIndex tab={tab} setPageSeo={setPageSeo} />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\nimport {t} from \"../../i18n/utils\";\nimport {NewHelpCenterIndex} from \"../pages/helpCenter/NewHelpCenterIndex\";\nimport {NewUIPage} from \"../base/NewUIPage\";\n\nexport const NewHelpCenter = (props) => {\n  const {match} = props;\n\n  const {tab} = match.params;\n\n  return (\n    <NewUIPage title={t(\"getter_fe.menu.common.helpCenter\")}>\n      <NewHelpCenterIndex tab={tab} />\n    </NewUIPage>\n  );\n};\n","import React from \"react\";\nimport {AccountPage} from \"../pages/profile/AccountPage\";\nimport AppConsts from \"../AppConsts\";\nimport {NewUIPage} from \"../base/NewUIPage\";\nimport Global from \"src/system/Global\";\nimport XUserInfo from \"src/core/model/user/XUserInfo\";\n\nexport const NewAccount = ({history}) => {\n  const api = Global.GetPortal().getAppService();\n  const title = api.getUserId();\n\n  if (title === null || title === undefined) {\n    history.replace(\"/login\");\n    return null;\n  }\n\n  const userInfo = XUserInfo.Wrap(api.getUserInfo());\n\n  return (\n    <NewUIPage\n      title={title}\n      description={`${AppConsts.APP_NAME} user ${title}`}\n    >\n      <AccountPage userInfo={userInfo} userId={title} />\n    </NewUIPage>\n  );\n};\n","import React, {useState, useEffect} from \"react\";\nimport GAxios from \"src/util/GAxios\";\nimport Global from \"src/system/Global\";\nimport {TopicTrendsPage} from \"../pages/admin/TopicTrendsPage\";\nimport {NewUIPage} from \"src/app/base/NewUIPage\";\n\nexport const AdminTopicTrendsRoute = () => {\n  const [data, setData] = useState(null);\n  const api = Global.GetPortal().getAppService();\n\n  useEffect(() => {\n    const config = {\n      method: \"get\",\n      url: `${process.env.REACT_APP_API_URL}/admin/config/trending/hashtags`,\n    };\n\n    GAxios(config, (res) => {\n      setData(res?.data?.result);\n    });\n  }, []);\n\n  if (!api.userHasAdminRole()) {\n    return null;\n  }\n\n  return (\n    <NewUIPage>\n      <TopicTrendsPage content={data} />\n    </NewUIPage>\n  );\n};\n","import React, {useEffect, useState} from \"react\";\nimport {useLocation} from \"react-router-dom\";\nimport Zendesk from \"react-zendesk\";\n\nconst ZENDESK_KEY = process.env.REACT_APP_ZENDESK_KEY;\n\nconst setting = {\n  color: {\n    theme: \"#000\",\n  },\n  launcher: {\n    chatLabel: {\n      \"*\": \"Contact US\",\n      \"en-US\": \"Contact US\",\n    },\n  },\n  offset: {\n    mobile: {\n      vertical: \"60px\",\n    },\n  },\n};\n\nexport const ZendeskChat = () => {\n  const location = useLocation();\n  const [isZendesk, setIsZendesk] = useState(false);\n\n  useEffect(() => {\n    const zendeskEl = document.getElementById(\"launcher\");\n\n    if (location.pathname.includes(\"/helpcenter/\")) {\n      setIsZendesk(true);\n      if (zendeskEl) zendeskEl.style.opacity = \"1\";\n    } else {\n      setIsZendesk(false);\n      if (zendeskEl) zendeskEl.style.opacity = \"0\";\n    }\n  }, [location.pathname]);\n\n  if (!isZendesk) return null;\n  return <Zendesk defer={true} zendeskKey={ZENDESK_KEY} {...setting} />;\n};\n","import {makeStyles} from \"@material-ui/core\";\nimport {useEffect} from \"react\";\nimport {useLocation} from \"react-router\";\nimport Global from \"src/system/Global\";\nimport AppConsts from \"./AppConsts\";\nimport {TimelineProvider} from \"./base/TimelineContext\";\nimport {MuiThemeProvider} from \"./base/UIContext\";\nimport {MobileBottomNavigation} from \"./components/MobileBottomNavigation\";\nimport {MuiToastContainer} from \"./components/notifications/MuiToastContainer\";\nimport {NavigateSideBar} from \"./NavigateSideBar\";\nimport {useTranslation} from \"react-i18next\";\nimport Routes from \"./routes\";\nimport {cacheI18nT, setLang} from \"src/i18n/utils\";\nimport {ZendeskChat} from \"src/app/components/ZendeskChat\";\n\nconst noNavBarPaths = [\n  AppConsts.URL_SIGNUP,\n  AppConsts.URL_LOGIN,\n  AppConsts.URL_TEMPORARILY_BLOCKED,\n  AppConsts.URL_FIRST_LOGIN,\n  AppConsts.URL_CHANGE_PASSWORD,\n  AppConsts.URL_CLAIM,\n];\n\nconst noMaxWidthPaths = [\n  AppConsts.URL_SIGNUP,\n  AppConsts.URL_LOGIN,\n  AppConsts.URL_TEMPORARILY_BLOCKED,\n  AppConsts.URL_CHANGE_PASSWORD,\n  AppConsts.URL_CLAIM,\n];\n\nconst defaultLang = \"en\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: \"relative\",\n    display: \"flex\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    maxWidth: 1237,\n    padding: \"0 0px\",\n    minHeight: \"100vh\",\n    color: theme.palette.text.primary,\n    \"& header + .app-main\": {\n      [theme.breakpoints.only(\"xs\")]: {\n        paddingTop: 54,\n      },\n    },\n    \"& header\": {\n      paddingTop: 60,\n    },\n    \"@media only screen and (max-width: 767px)\": {\n      /* Set input font size to pervent iOS auto zoom-in on input focus */\n      \"input[type='color'], input[type='date'], input[type='datetime'], input[type='datetime-local'], input[type='email'], input[type='month'], input[type='number'], input[type='password'], input[type='search'], input[type='tel'], input[type='text'], input[type='time'], input[type='url'], input[type='week'], select:focus, textarea\": {\n        fontSize: 16,\n      },\n    },\n  },\n  appMain: {\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n    position: \"relative\",\n    width: \"100%\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    \"& .navigate-sidebar\": {\n      \"@media (min-width: 601px) and (max-width: 1001px)\": {\n        flexGrow: 1,\n      },\n    },\n  },\n  appContent: {\n    position: \"relative\",\n    flexGrow: 2,\n    \"@media (min-width: 1002px) and (max-width: 1365px)\": {\n      width: 860,\n    },\n    \"@media (min-width: 601px) and (max-width: 1001px)\": {\n      maxWidth: \"100%\",\n      width: 600,\n    },\n    \"@media (max-width: 600px)\": {\n      width: \"100%\",\n    },\n  },\n  noMaxWidth: {\n    maxWidth: \"none\",\n  },\n}));\n\nexport const App = () => {\n  const classes = useStyles();\n  const {pathname} = useLocation();\n  const doNavBar = !noNavBarPaths.includes(pathname);\n  const doMaxWidth = !noMaxWidthPaths.includes(pathname);\n  const appContext = Global.GetPortal().getAppService();\n\n  const userId = appContext.getUserId();\n\n  const {t} = useTranslation();\n  cacheI18nT(t);\n\n  useEffect(() => {\n    const firstTimeVisit = !localStorage.getItem(\n      AppConsts.LOCAL_STORAGE_FIRST_TIME_VISIT,\n    );\n    const langInLocalStorage = localStorage.getItem(\n      AppConsts.LOCAL_STORAGE_LAST_BROWSER_LANG,\n    );\n    const browserLang = window.navigator.language;\n\n    if (firstTimeVisit || !browserLang.includes(langInLocalStorage)) {\n      localStorage.setItem(AppConsts.LOCAL_STORAGE_FIRST_TIME_VISIT, false);\n\n      const allLangs = appContext.getSupportedLanguageList();\n\n      allLangs.forEach(({code}, idx) => {\n        if (browserLang.includes(code)) {\n          if (appContext.setLanguagePref(code)) {\n            setLang(code);\n          }\n          localStorage.setItem(AppConsts.LOCAL_STORAGE_LAST_BROWSER_LANG, code);\n          return;\n        }\n\n        if (\n          !browserLang.includes(code) &&\n          idx === allLangs.length - 1 &&\n          browserLang.includes(langInLocalStorage)\n        ) {\n          localStorage.setItem(\n            AppConsts.LOCAL_STORAGE_LAST_BROWSER_LANG,\n            defaultLang,\n          );\n          if (appContext.setLanguagePref(defaultLang)) {\n            setLang(defaultLang);\n          }\n        }\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (pathname !== \"/\") {\n      window.scrollTo(0, 0);\n    }\n  }, [pathname]);\n\n  return (\n    <MuiThemeProvider>\n      <TimelineProvider>\n        <div\n          className={`${classes.root} app ${\n            doMaxWidth ? \"\" : classes.noMaxWidth\n          }`}\n        >\n          <div className={classes.appMain}>\n            {doNavBar && (\n              <NavigateSideBar appContext={appContext} userId={userId} />\n            )}\n            <div className={`${classes.appContent} app-content`}>\n              <Routes />\n              <MobileBottomNavigation userId={userId} />\n            </div>\n          </div>\n        </div>\n      </TimelineProvider>\n      <MuiToastContainer />\n      <ZendeskChat />\n    </MuiThemeProvider>\n  );\n};\n","// ***********************************************************************\n//\n// This entry point seem to start from dynamic React server \"start\",\n// and NOT from a pre-generated build.\n//\n// ***********************************************************************\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {Router} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store\";\nimport \"./i18n\";\nimport Global from \"./system/Global\";\nimport {App} from \"./app/App\";\nimport InitEnvConfig from \"./EnvConfig\";\nimport \"./index.scss\";\n\nlet envConfig = InitEnvConfig();\nGlobal.Initialize(envConfig);\n\nlet history = Global.GetPortal().getBrowserHistory();\n\nReactDOM.hydrate(\n  <Provider store={store}>\n    <Router history={history}>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\"),\n);\n","import ObjectBase from '../ObjectBase';\n\n/**\n * Consts related to UI styling and rendering that can be done\n * both at backend as well as front-end/web\n */\nexport class VisualConsts extends ObjectBase {\n  static get COLOR_BRAND_PRIMARY() { return '#397ab1'; }\n  static get COLOR_BG_INVERTED() { return '#838698'; }\n\n  static get COLOR_BLACK_LITE() { return '#555555'; }\n  static get COLOR_GREY() { return '#dddddd'; }\n  static get COLOR_LIGHT_GREY() { return '#f9f9f9'; }\n  static get COLOR_DARK_GREY() { return '#777777'; }\n  static get COLOR_DARKER_GREY() { return '#444444'; }\n  static get COLOR_OFF_WHITE() { return '#fafafa'; }\n  static get COLOR_GREEN() { return '#e4ede0'; }\n  static get COLOR_BLUE() { return '#dfe7ed'; }\n  static get COLOR_RED() { return '#eddfdf'; }\n  static get COLOR_PURPLE() { return '#9333ff'; }\n  static get COLOR_PINK_LITE() { return '#f2f2f2'; }\n  static get COLOR_GOLD_METELLIC() { return '#d4af37'; }\n  static get COLOR_GOLD_YELLOW() { return '#ffdf00'; }\n  static get COLOR_GOLD_OLD() { return '#cfb53b'; }\n\n  static get FONT_FAMILY() { return 'Helvetica, Arial, sans-serif'; }\n\n  static get COLOR_TEXT_INSTRUCTIONS() { return 'blue'; }\n\n  static get COLOR_ERROR_MSG() { return 'red'; }\n  static get COLOR_INFORM_MSG() { return 'blue'; }\n\n  static get DEFAULT_POST_WIDTH() { return 1200; } // 16:9\n  static get DEFAULT_POST_HEIGHT() { return 675; }\n\n  static get DEFAULT_THUMBNAIL_WIDTH() { return 764; } // 1.91:1\n  static get DEFAULT_THUMBNAIL_HEIGHT() { return 400; }\n  static get DEFAULT_THUMBNAIL_FGCOLOR() { return '#397ab1'; }\n  static get DEFAULT_THUMBNAIL_BGCOLOR() { return '#fafafa'; }\n}\n\n/**\n * HTML Render property and parameter labels\n */\nexport class RenderProps extends VisualConsts {\n  static get PROP_WIDTH() { return 'width'; }\n  static get PROP_HEIGHT() { return 'height'; }\n\n  // static get PROP_FGCOLOR() { return \"fgcolor\"; }\n  // static get PROP_BGCOLOR() { return \"bgcolor\"; }\n  // static get PROP_BGIMAGE_URL() { return \"bgimgurl\"; }\n  // static get PROP_INCL_TITLE() { return \"inclttl\"; }\n\n  static get LAYOUT_TILE() { return 'tile'; }\n  static get LAYOUT_LIST() { return 'list'; }\n\n  static get PARAM_BG_IMAGE() { return 'bgimg'; }\n  static get PARAM_LAYOUT_THEME() { return 'theme'; }\n\n  static get PROP_FGCOLOR() { return 'fgcolor'; }\n  static get PROP_BGCOLOR() { return 'bgcolor'; }\n  static get PROP_BGIMGURL() { return 'bgimgurl'; }\n  static get PROP_INCL_TITLE() { return 'inclttl'; }\n\n}\n\n/**\n * Post-specific rendering consts\n */\nexport class PostRenderConsts extends RenderProps {\n  static get POST_LAYOUT_DEFAULT() { return 'default'; }\n\n}\n\n/**\n * See UIStyleConsts in frontend app for styles not rendered at backend\n */\nexport class StyleConsts extends VisualConsts {\n\n\n}\n\n\nexport default VisualConsts;\n","export const userConstants = {\n  LS_SESSION_INFO: \"LS_SESSION_INFO\",\n  API_LOGIN_URL: `${process.env.REACT_APP_API_URL}/s/auth_up`,\n  API_LOGIN_URL2: `${process.env.REACT_APP_API_URL}/s/login`,\n  API_SEND_VERIF_CODE: `${process.env.REACT_APP_API_URL}/s/verifycode/email`,\n  API_VERIF_CODE: `${process.env.REACT_APP_API_URL}/s/verifycode/verify`,\n  API_CHANGE_PWD: `${process.env.REACT_APP_API_URL}/u/password/reset?clear=true`,\n  API_SIGNUP: `${process.env.REACT_APP_API_URL}/u/signup`,\n  SEND_VERIF_CODE_REQ_TYPE: \"pwdreset\",\n  VERIF_CODE_REQ_TYPE: \"pwdreset\",\n  VERIF_CODE_REQ_TYPE_SIGNUP: \"signup\",\n  FAKE_REQUEST: \"fake_request\",\n  STEP_LOGIN: \"step_login\",\n  STEP_SEND_CODE: \"step_send_code\",\n  STEP_VERIF_CODE: \"step_verif_code\",\n  STEP_CHANGE_PASSWORD: \"step_change_password\",\n  STEP_FIRST_LOGIN: \"step_first_login\",\n  STEP_SUGGESTION: \"step_suggestion\",\n  ERROR_TYPE_DEFAULT: \"error_type_default\",\n  ERROR_TYPE_SERVER: \"error_type_server\",\n  STEP_SIGNUP: \"step_signup\",\n  CLAIM_SIGNUP: \"claim_signup\",\n  VERIF_CODE_TYPE_F_PWD: \"verif_code_type_f_pwd\",\n  VERIF_CODE_TYPE_SIGNUP: \"verif_code_type_signup\",\n  DISCOVER_PEOPLE_TYPE_SIGNUP: \"discover_people_type_signup\",\n  E_METER_LIMIT_EXCEEDED: \"E_METER_LIMIT_EXCEEDED\",\n};\n","import Global from \"./system/Global\";\n\nexport const COOKIE_SESSION = \"cookieSession\";\nexport const COOKIE_DOMAIN = \"cookieDomain\";\n\n/**\n * Environment-based configuration that can be used\n * to intiialize various components.\n */\n\nexport const InitEnvConfig = function () {\n  let cfg = {};\n\n  let doHttps = process.env.HTTPS;\n  if (process.env.REACT_APP_HTTPS_ENABLED != null)\n    doHttps = process.env.REACT_APP_HTTPS_ENABLED;\n\n  cfg[\"title\"] = \"Portal\";\n  cfg[\"apiHost\"] =\n    process.env.REACT_APP_API_ENV == \"proxy\"\n      ? \"\"\n      : process.env.REACT_APP_API_URL || \"http://0.0.0.0:4999\";\n  cfg[\"urlPrefix\"] = process.env.REACT_APP_FE_URL_PREFIX || \"/\";\n  cfg[COOKIE_SESSION] = process.env.REACT_APP_COOKIE_SESSION || \"local\";\n  cfg[COOKIE_DOMAIN] = process.env.REACT_APP_COOKIE_DOMAIN || \"getome.com\";\n  cfg[\"serverHost\"] = process.env.REACT_APP_HTTP_HOST || \"getome.com\";\n  cfg[\"serverPort\"] = process.env.REACT_APP_HTTP_PORT || 80;\n  cfg[\"serverPortSSL\"] = process.env.REACT_APP_HTTPS_PORT || 2443;\n  cfg[\"serverProt\"] = process.env.REACT_APP_HTTP_PROTOCOL || \"http\";\n  cfg[\"httpsEnabled\"] = doHttps || \"false\";\n  cfg[\"appUrl\"] =\n    process.env.REACT_APP_URL ||\n    (process.env.REACT_APP_URL == null ? \"\" : null);\n\n  if (Global && Global.IsServer()) dumpConfig(cfg);\n  return cfg;\n};\n\nexport const dumpConfig = function (envConfig) {\n  console.log(\"%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\");\n  console.log(\"%\");\n  console.log(\"% NODE_ENV=\" + process.env.NODE_ENV);\n  console.log(\"%\");\n  console.log(\"% Configuration To Be Applied:\");\n  console.log(\"% ----------------------------\");\n  console.log(envConfig);\n  console.log(\"%\");\n  console.log(\"%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\");\n\n  console.log(\"\\n\");\n  console.log(\"------------------ process.env ----------------\");\n  console.log(\"     REACT_APP_HTTP_HOST:\", process.env.REACT_APP_HTTP_HOST);\n  console.log(\"     REACT_APP_HTTP_PORT:\", process.env.REACT_APP_HTTP_PORT);\n  console.log(\"    REACT_APP_HTTPS_PORT:\", process.env.REACT_APP_HTTPS_PORT);\n  console.log(\" REACT_APP_HTTPS_ENABLED:\", process.env.REACT_APP_HTTPS_ENABLED);\n  console.log(\"           REACT_APP_URL:\", process.env.REACT_APP_URL);\n  console.log(\n    \"REACT_APP_COOKIE_SESSION:\",\n    process.env.REACT_APP_COOKIE_SESSION,\n  );\n  console.log(\" REACT_APP_COOKIE_DOMAIN:\", process.env.REACT_APP_COOKIE_DOMAIN);\n  console.log(\"-----------------------------------------------\");\n};\n\nexport default InitEnvConfig;\n","\n// Global Model Constants\n//\n// Note while server side supports ES6 class properties, the client\n// side (CRA 2.0 + babel) does not have it enabled. Hence we have the\n// constants and then the \"get\" methods act as constants within exportable\n// grouping (class).\n//\n\n// -------------------------- SYSTEM GLOBALS -------------------------\n\n// Set to 'true' to limit features for regular users\n// See DISABLE_FEATURES_USER below\nexport const LIMIT_USER_FEATURES = false;\n\nexport const EMAIL_DOMAIN = 'getter.buzz';\n\nexport const CACHE_LIST_NO_ITEMS = '-!n0ne$-';\n\n// -------------------------- HARDCODED USERS -------------------------\n\n\nexport const USERID_ADMIN_SYS = '_sysadm_';\nexport const USERID_ADMIN_ACCT = 'acct_svc';\nexport const USERID_ADMIN_APP = 'getter_admin';\nexport const USERID_ADMIN_BYPASS = 'bypass_admin';\n\nexport const USERID_GUEST = '_guest';\nexport const USERID_ROBOT = '_bot';\nexport const USERID_TEMP = '_tmp';\nexport const USERID_NONE = '_none';\n\nexport const NICKNAME_GUEST = 'Guest';\n\nexport const TOKEN_GUEST = 'D032EF1093C3AD902A29EE';\nexport const TOKEN_ROBOT = '209A0D8AE39300178B81D1';\nexport const USERNAME_REGEX = /^[a-zA-Z0-9_]{5,15}$/;\n\n// ---------------------- HARDCODED TOPIC CATEGORIES -------------------\n\nexport const CATEGORY_POLITICS = 'politics';\nexport const CATEGORY_ECONOMY = 'economy';\nexport const CATEGORY_WHISTLE_BLOWER_MOVEMENT = 'whistleblower';\nexport const CATEGORY_NEWS = 'news';\nexport const CATEGORY_ENTERTAINMENT = 'entertainment';\n\nexport const TOPIC_CATEGORIES = [\n  CATEGORY_POLITICS, CATEGORY_NEWS, CATEGORY_ENTERTAINMENT, CATEGORY_WHISTLE_BLOWER_MOVEMENT\n];\n\n// -------------------------- MODEL TYPE NAMES -------------------------\n\nconst TYPE_ACTIVITY_LOG = 'act_log';\nconst TYPE_BINARY = 'bin';\nconst TYPE_CONTRIB_STATS = 's_contrib';\nconst TYPE_COMMENT = 'cmt';\nconst TYPE_COMMENT_STATS = 's_cmst';\nconst TYPE_COMMENT_FEED = 'cmfd';\nconst TYPE_COMMENT_INFO = 'cinf';\nconst TYPE_COMMENT_ITEM = 'cmti';\nconst TYPE_CONTEXT = 'ctx';\nconst TYPE_GLOBAL_CONFIG_PROP = 'gcp';\nconst TYPE_ENCRYPTED = 'enc';\nconst TYPE_FACEBOOK_CRED = 'fbcrd';\nconst TYPE_FOLLOWS = 'fws';\nconst TYPE_FOLLOW = 'flw';\nconst TYPE_BLOCKS = 'blks';\nconst TYPE_MUTES = 'mts';\nconst TYPE_FOLLOWERS = 'fwr';\nconst TYPE_HASHTAGINFO = 'htinfo';\nconst TYPE_LIKES = 'lks';\nconst TYPE_LIKED = 'lkd';\nconst TYPE_LIKE_COMMENT = 'lkc';\nconst TYPE_LIKES_COMMENT = 'lkscm';\nconst TYPE_LIKED_COMMENT = 'lkdcm';\nconst TYPE_LIKE_POST = 'lkp';\nconst TYPE_LIKES_POST = 'lks_post';\nconst TYPE_LIKED_POST = 'lkd_post';\nconst TYPE_NEWS_FEED = 'nfeed';\nconst TYPE_NEWS_ITEM = 'nfi';\nconst TYPE_NOTIFICATION = 'notif';\nconst TYPE_POST = 'post';\nconst TYPE_POST_STATS = 's_pst';\nconst TYPE_POST_ITEM = 'psti';\nconst TYPE_POST_FEED = 'pstfd';\nconst TYPE_POST_INFO = 'pinf';\nconst TYPE_ROLE_DEFINITION = 'rdef';\nconst TYPE_REACTION = 'rct';\nconst TYPE_RENDER_STYLE = 'rdstyle';\nconst TYPE_SHARED = 'shrd';\nconst TYPE_SHARE_POST = 'shrp';\nconst TYPE_SHARED_POST = 'shrdpst';\nconst TYPE_SHARE_COMMENT = 'shrc';\nconst TYPE_SHARED_COMMENT = 'shrdcm';\nconst TYPE_SHARES = 'shrs';\nconst TYPE_SHARES_POST = 'shrspst';\nconst TYPE_SHARES_COMMENT = 'shrscm';\nconst TYPE_SOCIAL_INDEXABLE = 'socobj';\nconst TYPE_USER = 'u';\nconst TYPE_USER_STATS = 's_user';\nconst TYPE_USER_ALERT = 'ualrt';\nconst TYPE_USER_ALERTS = 'ualrts';\nconst TYPE_USER_AUTH = 'ua';\nconst TYPE_USER_CONFIRM = 'ucfm';\nconst TYPE_USER_FEEDBACK = 'fbk';\nconst TYPE_USER_REQUEST = 'ureq';\nconst TYPE_USER_INFO = 'uinf';\nconst TYPE_WATCHES = 'watches';\nconst TYPE_WATCHED = 'watched';\nconst TYPE_WATCHES_COMMENT = 'wscm';\nconst TYPE_WATCHED_COMMENT = 'wdcm';\nconst TYPE_WATCH_COMMENT = 'wcm';\nconst TYPE_WATCHES_POST = 'wspst';\nconst TYPE_WATCHED_POST = 'wdpst';\nconst TYPE_WATCH_POST = 'wpst';\nconst TYPE_XMLIST = 'xmlst';\nconst TYPE_XRESULT_LIST = 'rslst';\nconst TYPE_XRESULT_MAP = 'rsmap';\nconst TYPE_XDIFF = 'df';\nconst TYPE_XDEEPDIFF = 'ddf';\nconst TYPE_XERROR = 'xerr';\nconst TYPE_XOBJECT = 'xobj';\nconst TYPE_XMOBJECT = 'xmobj';\nconst TYPE_XTEXT = 'xtxt';\nconst TYPE_VARDATA = 'vdta';\nconst TYPE_ADMIN_USER = 'admusr';\nconst TYPE_SYSCONFIG = 'sysconf';\n\n/**\n * Type constants for all registered model objects grouped\n * for simple single export\n */\nexport class ModelType {\n  static get ACTIVITY_LOG() { return TYPE_ACTIVITY_LOG; }\n  static get BINARY() { return TYPE_BINARY; }\n  static get CONTRIB_STATS() { return TYPE_CONTRIB_STATS; }\n  static get COMMENT() { return TYPE_COMMENT; }\n  static get COMMENT_FEED() { return TYPE_COMMENT_FEED; }\n  static get COMMENT_INFO() { return TYPE_COMMENT_INFO; }\n  static get COMMENT_ITEM() { return TYPE_COMMENT_ITEM; }\n  static get COMMENT_STATS() { return TYPE_COMMENT_STATS; }\n  static get CONTEXT() { return TYPE_CONTEXT; }\n  static get GLOBAL_CONFIG_PROP() { return TYPE_GLOBAL_CONFIG_PROP; }\n  static get ENCRYPTED() { return TYPE_ENCRYPTED; }\n  static get FACEBOOK_CRED() { return TYPE_FACEBOOK_CRED; }\n  static get FOLLOW() { return TYPE_FOLLOW; }\n  static get FOLLOWS() { return TYPE_FOLLOWS; }\n  static get BLOCKS() { return TYPE_BLOCKS; }\n  static get MUTES() { return TYPE_MUTES; }\n  static get FOLLOWERS() { return TYPE_FOLLOWERS; }\n  static get HASHTAGINFO() { return TYPE_HASHTAGINFO; }\n  static get LIKES() { return TYPE_LIKES; }\n  static get LIKED() { return TYPE_LIKED; }\n  static get LIKE_COMMENT() { return TYPE_LIKE_COMMENT; }\n  static get LIKES_COMMENT() { return TYPE_LIKES_COMMENT; }\n  static get LIKED_COMMENT() { return TYPE_LIKED_COMMENT; }\n  static get LIKE_POST() { return TYPE_LIKE_POST; }\n  static get LIKES_POST() { return TYPE_LIKES_POST; }\n  static get LIKED_POST() { return TYPE_LIKED_POST; }\n  static get NEWS_FEED() { return TYPE_NEWS_FEED; }\n  static get NEWS_ITEM() { return TYPE_NEWS_ITEM; }\n  static get NOTIFICATION() { return TYPE_NOTIFICATION; }\n  static get POST() { return TYPE_POST; }\n  static get POST_FEED() { return TYPE_POST_FEED; }\n  static get POST_INFO() { return TYPE_POST_INFO; }\n  static get POST_ITEM() { return TYPE_POST_ITEM; }\n  static get POST_STATS() { return TYPE_POST_STATS; }\n  static get ROLE_DEFINITION() { return TYPE_ROLE_DEFINITION; }\n  static get SOCIAL_INDEXABLE() { return TYPE_SOCIAL_INDEXABLE; }\n  static get REACTION() { return TYPE_REACTION; }\n  static get RENDER_STYLE() { return TYPE_RENDER_STYLE; }\n  static get SHARED() { return TYPE_SHARED; }\n  static get SHARE_POST() { return TYPE_SHARE_POST; }\n  static get SHARED_POST() { return TYPE_SHARED_POST; }\n  static get SHARE_COMMENT() { return TYPE_SHARE_COMMENT; }\n  static get SHARED_COMMENT() { return TYPE_SHARED_COMMENT; }\n  static get SHARES() { return TYPE_SHARES; }\n  static get SHARES_POST() { return TYPE_SHARES_POST; }\n  static get SHARES_COMMENT() { return TYPE_SHARES_COMMENT; }\n  static get USER() { return TYPE_USER; }\n  static get USER_STATS() { return TYPE_USER_STATS; }\n  static get USER_ALERT() { return TYPE_USER_ALERT; }\n  static get USER_ALERTS() { return TYPE_USER_ALERTS; }\n  static get USER_AUTH() { return TYPE_USER_AUTH; }\n  static get USER_CONFIRM() { return TYPE_USER_CONFIRM; }\n  static get USER_FEEDBACK() { return TYPE_USER_FEEDBACK; }\n  static get USER_REQUEST() { return TYPE_USER_REQUEST; }\n  static get USER_INFO() { return TYPE_USER_INFO; }\n  static get WATCHES() { return TYPE_WATCHES; }\n  static get WATCHED() { return TYPE_WATCHED; }\n  static get WATCHES_COMMENT() { return TYPE_WATCHES_COMMENT; }\n  static get WATCHED_COMMENT() { return TYPE_WATCHED_COMMENT; }\n  static get WATCH_COMMENT() { return TYPE_WATCH_COMMENT; }\n  static get WATCHES_POST() { return TYPE_WATCHES_POST; }\n  static get WATCHED_POST() { return TYPE_WATCHED_POST; }\n  static get WATCH_POST() { return TYPE_WATCH_POST; }\n  static get XMLIST() { return TYPE_XMLIST; }\n  static get XRESULT_LIST() { return TYPE_XRESULT_LIST; }\n  static get XRESULT_MAP() { return TYPE_XRESULT_MAP; }\n  static get XDIFF() { return TYPE_XDIFF; }\n  static get XDEEPDIFF() { return TYPE_XDEEPDIFF; }\n  static get XERROR() { return TYPE_XERROR; }\n  static get XMOBJECT() { return TYPE_XMOBJECT; }\n  static get XOBJECT() { return TYPE_XOBJECT; }\n  static get XTEXT() { return TYPE_XTEXT; }\n  static get VARDATA() { return TYPE_VARDATA; }\n  static get ADMIN_USER() { return TYPE_ADMIN_USER; }\n  static get SYSCONFIG() { return TYPE_SYSCONFIG; }\n}\n\nexport class ObjectType extends ModelType {\n\n  static get INFO_HELP() { return 'help'; }\n  static get INFO_TOS_USER() { return 'tos_user'; }\n  static get INFO_TOS_PUBLIC() { return 'tos_public'; }\n  static get INFO_PRIVACY_PUBLIC() { return 'privacy_public'; }\n  static get INFO_DMCA_NOTICE() { return 'dmca_notice'; }\n  static get INFO_USER_GUIDELINES() { return 'user_guidelines'; }\n  static get INFO_LEGAL_GUIDELINES() { return 'legal_guidelines'; }\n  static get INFO_ABOUT_US() { return 'about_us'; }\n  static get SURVEY_FEEDBACK() { return 'feedback'; }\n  static get MYACCOUNT() { return 'myaccount'; }\n  static get HOMEPAGE() { return 'homepage'; }\n}\n\n// --------------- MODEL FOLDER/COLLECTION NAMES -----------------------\n\nconst FOLDER_ACTIVITY_LOG = 'act_log';\nconst FOLDER_BINARY_DATA = 'binary';\nconst FOLDER_COMMENT = 'cm';\nconst FOLDER_COMMENT_STATS = 'cm_stats';\nconst FOLDER_CONTRIB_STATS = 'contrib_stats';\nconst FOLDER_ENCRYPTED_DATA = 'enc';\nconst FOLDER_FACEBOOK_CRED = 'fbcred';\nconst FOLDER_FOLLOW = 'follow';\nconst FOLDER_FOLLOWS = 'follows';\nconst FOLDER_FOLLOWERS = 'followers';\nconst FOLDER_LIKE_COMMENT = 'cm_like';\nconst FOLDER_LIKES_COMMENT = 'cm_likes';\nconst FOLDER_LIKED_COMMENT = 'cm_liked';\nconst FOLDER_LIKE_POST = 'post_like';\nconst FOLDER_LIKES_POST = 'post_likes';\nconst FOLDER_LIKED_POST = 'post_liked';\nconst FOLDER_NEWS_ITEM = 'news_items';\nconst FOLDER_NOT_APPLICABLE = '_na';\nconst FOLDER_NOTIFICATION = 'notif';\nconst FOLDER_POST = 'post';\nconst FOLDER_POSTED_ITEM = 'posted_items';\nconst FOLDER_POST_STATS = 'post_stats';\nconst FOLDER_SHARE_POST = 'post_share';\nconst FOLDER_SHARED = 'shared'; // should not be used\nconst FOLDER_SHARED_POST = 'post_shared';\nconst FOLDER_SHARE_COMMENT = 'cm_share';\nconst FOLDER_SHARED_COMMENT = 'cm_shared';\nconst FOLDER_SHARES = 'shares'; // should not be used\nconst FOLDER_SHARES_POST = 'post_shares';\nconst FOLDER_SHARES_COMMENT = 'cm_shares';\nconst FOLDER_USER = 'user';\nconst FOLDER_USER_STATS = 'user_stats';\nconst FOLDER_USER_AUTH = 'user_auth';\nconst FOLDER_USER_CONFIRM = 'uconfirm';\nconst FOLDER_USER_FEEDBACK = 'feedback';\nconst FOLDER_USER_REQUEST = 'urequest';\nconst FOLDER_WATCH_COMMENT = 'cm_watch';\nconst FOLDER_WATCHES_COMMENT = 'cm_watches';\nconst FOLDER_WATCHED_COMMENT = 'cm_watched';\nconst FOLDER_WATCH_POST = 'post_watch';\nconst FOLDER_WATCHES_POST = 'post_watches';\nconst FOLDER_WATCHED_POST = 'post_watched';\n\n/**\n * Type constants for all registered model objects grouped\n * for simple single export\n */\nexport class ModelFolder {\n  static get NONE() { return null; }\n  static get ACTIVITY_LOG() { return FOLDER_ACTIVITY_LOG; }\n  static get BINARY_DATA() { return FOLDER_BINARY_DATA; }\n  static get COMMENT() { return FOLDER_COMMENT; }\n  static get COMMENT_STATS() { return FOLDER_COMMENT_STATS; }\n  static get CONTRIB_STATS() { return FOLDER_CONTRIB_STATS; }\n  static get ENCRYPTED_DATA() { return FOLDER_ENCRYPTED_DATA; }\n  static get FACEBOOK_CRED() { return FOLDER_FACEBOOK_CRED; }\n  static get FOLLOW() { return FOLDER_FOLLOW; }\n  static get FOLLOWS() { return FOLDER_FOLLOWS; }\n  static get FOLLOWERS() { return FOLDER_FOLLOWERS; }\n  static get LIKE_COMMENT() { return FOLDER_LIKE_COMMENT; }\n  static get LIKES_COMMENT() { return FOLDER_LIKES_COMMENT; }\n  static get LIKED_COMMENT() { return FOLDER_LIKED_COMMENT; }\n  static get LIKE_POST() { return FOLDER_LIKE_POST; }\n  static get LIKES_POST() { return FOLDER_LIKES_POST; }\n  static get LIKED_POST() { return FOLDER_LIKED_POST; }\n  static get NEWS_ITEM() { return FOLDER_NEWS_ITEM; }\n  static get NOT_APPLICABLE() { return FOLDER_NOT_APPLICABLE; }\n  static get NOTIFICATION() { return FOLDER_NOTIFICATION; }\n  static get POST() { return FOLDER_POST; }\n  static get POST_STATS() { return FOLDER_POST_STATS; }\n  static get SHARED() { return FOLDER_SHARED; }\n  static get SHARE_POST() { return FOLDER_SHARE_POST; }\n  static get SHARED_POST() { return FOLDER_SHARED_POST; }\n  static get SHARE_COMMENT() { return FOLDER_SHARE_COMMENT; }\n  static get SHARED_COMMENT() { return FOLDER_SHARED_COMMENT; }\n  static get SHARES() { return FOLDER_SHARES; }\n  static get SHARES_POST() { return FOLDER_SHARES_POST; }\n  static get SHARES_COMMENT() { return FOLDER_SHARES_COMMENT; }\n  static get POST_ITEM() { return FOLDER_POSTED_ITEM; }\n  static get USER() { return FOLDER_USER; }\n  static get USER_AUTH() { return FOLDER_USER_AUTH; }\n  static get USER_CONFIRM() { return FOLDER_USER_CONFIRM; }\n  static get USER_FEEDBACK() { return FOLDER_USER_FEEDBACK; }\n  static get USER_REQUEST() { return FOLDER_USER_REQUEST; }\n  static get USER_STATS() { return FOLDER_USER_STATS; }\n  static get WATCHES_COMMENT() { return FOLDER_WATCHES_COMMENT; }\n  static get WATCHED_COMMENT() { return FOLDER_WATCHED_COMMENT; }\n  static get WATCH_COMMENT() { return FOLDER_WATCH_COMMENT; }\n  static get WATCHES_POST() { return FOLDER_WATCHES_POST; }\n  static get WATCHED_POST() { return FOLDER_WATCHED_POST; }\n  static get WATCH_POST() { return FOLDER_WATCH_POST; }\n}\n\n\n// --------------------- PROPERTY LABEL CONSTANTS ---------------------------\n\nexport const PROP_ID = '_id';\nconst PROP_CREATED_DATE = 'cdate';\nconst PROP_UPDATED_DATE = 'udate';\nconst PROP_EDITED_DATE = 'edate';\nconst PROP_DELETED_DATE = 'ddate';\nconst PROP_PUBLISHED_DATE = 'pdate';\nconst PROP_CONFIRMED_DATE = 'cfdate';\nconst PROP_COMPLETED_DATE = 'donedate';\n// const PROP_EXPIRATION_DATE = \"expdate\";\nconst PROP_DATA_SOURCE = 'ds';\n\nexport const VISTYPE_PUBLIC = 'p';\nexport const VISTYPE_GROUP = 'g';\nexport const VISTYPE_PRIVATE = 'v';\nexport const VISTYPE_SUSPENDED = 's';\nexport const VISTYPE_DELETED = 'd';\nexport const VISTYPES = [\n  VISTYPE_PUBLIC, VISTYPE_GROUP, VISTYPE_PRIVATE, VISTYPE_SUSPENDED, VISTYPE_DELETED,\n];\n\nexport const VERSION_TITLE = 'vttl';\nexport const VERSION_PREVIOUS = 'vprev';\nexport const VERSION_NEXT = 'vnext';\nexport const VERSION_STATUS = 'ver';\n\nexport const VSTAT_WORKING = 'wrk';\nexport const VSTAT_FROZEN = 'frz';\nexport const VSTATUS_TYPES = [\n  VSTAT_FROZEN,\n];\n\n\nexport const ICON_URL = 'ico';\nexport const CONTENT_WWW_URL = 'www';\nexport const CONTENT_TEXT_URL = 'txt';\nexport const CONTENT_VIDEO_URL = 'vid';\nexport const CONTENT_AUDIO_URL = 'aud';\nexport const CONTENT_IMAGE_URL = 'img';\nexport const CONTENT_BGIMAGE_URL = 'bgimg'; // must be static image only\nexport const CONTENT_VIDEO_DURATION = 'vid_dur';\nexport const CONTENT_VIDEO_WIDTH = 'vid_wid';\nexport const CONTENT_VIDEO_HEIGHT = 'vid_hgt';\nexport const CONTENT_BGCOLOR = 'bgcolor'; // must be static image only\nexport const CONTENT_FGCOLOR = 'fgcolor'; // must be static image only\n\nexport const TAGPROP_REL = 'rel';\nexport const TAGPROP_WWW = 'www';\n\nexport const PREFIX_POST_ID = 'p';\nexport const PREFIX_COMMENT_ID = 'c';\nexport const PREFIX_ACTIVITYLOG_ID = 'a';\n\n/**\n * XObject level property labels\n */\nexport class XObjectProps {\n  static get ID() { return '_id'; }\n  static get TYPE() { return '_t'; }\n  static get PARENT() { return '_p'; }\n  static get STYPE() { return 'serial'; }\n  static get MAIN_DATA() { return 'data'; }\n  static get AUX_DATA() { return 'aux'; }\n  static get AUX_DATA_STATS() { return 'stats'; }\n  static get AUX_TAGMAP() { return 'tagMap'; }\n\n  static get SNAP_DATA() { return 'snap_data'; }\n  static get SNAP_DATE() { return 'snap_ts'; }\n  static get CREATED_DATE() { return PROP_CREATED_DATE; }\n  static get UPDATED_DATE() { return PROP_UPDATED_DATE; }\n  static get DELETED_DATE() { return PROP_DELETED_DATE; }\n  static get EDITED_DATE() { return PROP_EDITED_DATE; }\n  static get PUBLISHED_DATE() { return PROP_PUBLISHED_DATE; }\n  static get EXPIRATION_DATE() { return 'exp_date'; }\n  static get DATA_SOURCE() { return PROP_DATA_SOURCE; }\n  static get VISIBILITY() { return 'vis'; }\n\n  static get TITLE() { return 'ttl'; }\n  static get DERIVED_TITLE() { return 'dttl'; }\n  static get TITLE_FORMAT() { return 'ttlf'; }\n  static get ORIG_TITLE() { return 'ottl'; }\n  static get ORIG_LANG() { return 'olang'; }\n  static get SUBTITLE() { return 'sttl'; }\n  static get VERTITLE() { return 'vttl'; }\n  static get DESC() { return 'dsc'; }\n  static get ICON_URL() { return ICON_URL; }\n  static get BGIMG_URL() { return 'bgimg'; }\n  static get LOCATION() { return 'location'; }\n  static get WEBSITE() { return 'website'; }\n  static get BIRTHDATE() { return 'birthdate'; }\n\n  static get WWW_URL() { return CONTENT_WWW_URL; }\n  static get TEXT_URL() { return CONTENT_TEXT_URL; }\n  static get VIDEO_URL() { return CONTENT_VIDEO_URL; }\n  static get AUDIO_URL() { return CONTENT_AUDIO_URL; }\n  static get IMAGE_URL() { return CONTENT_IMAGE_URL; }\n  static get BGIMAGE_URL() { return CONTENT_BGIMAGE_URL; }\n  static get VIDEO_DURATION() { return CONTENT_VIDEO_DURATION; }\n  static get VIDEO_WIDTH() { return CONTENT_VIDEO_WIDTH; }\n  static get VIDEO_HEIGHT() { return CONTENT_VIDEO_HEIGHT; }\n  static get BGCOLOR() { return CONTENT_BGCOLOR; }\n  static get FGCOLOR() { return CONTENT_FGCOLOR; }\n\n  static get VISTYPE_PUBLIC() { return VISTYPE_PUBLIC; }\n  static get VISTYPE_GROUP() { return VISTYPE_GROUP; }\n  static get VISTYPE_PRIVATE() { return VISTYPE_PRIVATE; }\n  static get VISTYPE_DELETED() { return VISTYPE_DELETED; }\n  static get VISTYPES() { return VISTYPES; }\n\n}\n\n/**\n * XMObject level property labels\n */\nexport class XMObjectProps extends XObjectProps {\n\n  static get OWNERID() { return PROP_OWNER_ID; }\n  static get CREATORID() { return 'cid'; }\n  static get BASED_ON() { return 'based'; }\n  static get ACL() { return 'acl'; }\n\n  static get TAGS() { return 'tags'; }\n  static get MENTIONS() { return 'mentions'; }\n  static get RELTAGS() { return 'rel'; }\n  static get SRCTAGS() { return 'src'; }\n  static get VAREXPRS() { return 'var'; }\n  static get PINPOSTS() { return 'pinpsts'; }\n  static get MAX_PINPOSTS() { return 5; }\n\n  static get TAGPROP_REL() { return TAGPROP_REL; }\n\n  static get VERSION_TITLE() { return VERSION_TITLE; }\n  static get VERSION_PREV() { return VERSION_PREVIOUS; }\n  static get VERSION_NEXT() { return VERSION_NEXT; }\n  static get VERSION_STATUS() { return VERSION_STATUS; }\n}\n\n// ------------------ LANGUAGE CODE ---------------------------\n\nexport class LanguageCodes {\n  static get DEFAULT() { return 'en'; }\n  static get ENGLISH() { return 'en'; }\n  static get CHINESE_SIMPLIFIED() { return 'zh'; }\n  static get CHINESE_TRADITIONAL() { return 'tw'; }\n  static get SPANISH() { return 'es'; }\n  static get FRENCH() { return 'fr'; }\n  static get GERMAN() { return 'gr'; }\n  static get JAPANESE() { return 'ja'; }\n  static get KOREAN() { return 'ko'; }\n  // static get ARABIC() { return 'ar'; }\n  // static get RUSSIAN() { return 'ru'; }\n\n  static get CHINESE_ALL() { return ['zh', 'tw']; }\n}\n\n\n// -------------------- E-MAIL / SMS COMMUNICATIONS -----------------------\n\n// Confirmation constants\nexport const CONFIRM_TYPE_EMAIL = 'email';\nexport const CONFIRM_TYPE_SMS = 'sms';\nexport const CONFIRM_TYPE_TOS = 'tos';\nexport const CONFIRM_TYPE_SYSTEM = 'sys';\n\nconst CONFIRM_TYPES = [CONFIRM_TYPE_EMAIL, CONFIRM_TYPE_SMS, CONFIRM_TYPE_TOS];\nexport const DEFAULT_CONFIRM_EXPIRATION = 60 * 10000; // unit is in millisecond\n\n// Request constants\nconst REQUEST_TYPE_EMAIL = 'email';\nconst REQUEST_TYPE_SMS = 'sms';\nconst REQUEST_TYPE_PWDCHG = 'pwdchg';\nconst REQUEST_TYPE_SIGNUP = 'signup';\nconst REQUEST_TYPE_PWDRESET = 'pwdreset';\nconst REQUEST_TYPE_UPGRADE = 'upgrade';\n\nconst REQUEST_TYPES = [REQUEST_TYPE_EMAIL, REQUEST_TYPE_SMS, REQUEST_TYPE_PWDCHG,\n  REQUEST_TYPE_SIGNUP, REQUEST_TYPE_PWDRESET, REQUEST_TYPE_UPGRADE];\nexport const DEFAULT_REQUEST_EXPIRATION = 60 * 10000; // unit is in millisecond\n\n// ----------------------- FEATURE ACCESS -------------------------\n\nexport const FEATURE_SUBMIT_POST = 'spst';\nexport const FEATURE_REPLY_POST = 'scm1';\nexport const FEATURE_REPLY_COMMENT = 'scm2';\nexport const FEATURE_FOLLOW_USER = 'fw';\nexport const FEATURE_FOLLOWED_BY = 'fwb';\nexport const FEATURE_LIKE = 'lk';\nexport const FEATURE_REPOST = 'rpst';\nexport const FEATURE_VIEW_REPLY_POST = 'vcm1';\nexport const FEATURE_VIEW_REPLY_COMMENT = 'vcm2';\n\nexport const FEATURE_AUTO_FOLLOW = 'fea_autoflw';\nexport const FEATURE_REMOVE_POST = 'rm_post';\nexport const FEATURE_REMOVE_SUSPEND_USER = 'sp_user';\n\n// System-wide enable/disabling of features by user levels.\n// These are affected by LIMIT_USER_FEATURES defined at the top.\n\nexport const ENABLED_FEATURES_USER = [];\nexport const DISABLED_FEATURES_USER = LIMIT_USER_FEATURES ? [\n  FEATURE_SUBMIT_POST, FEATURE_REPOST,\n  FEATURE_FOLLOW_USER, FEATURE_FOLLOWED_BY\n] : [];\n\nexport const ENABLED_FEATURES_INFLUENCER_L1 = [];\nexport const ENABLED_FEATURES_INFLUENCER_L2 = [];\nexport const ENABLED_FEATURES_INFLUENCER_L3 = [];\nexport const ENABLED_FEATURES_INFLUENCER_L4 = [];\nexport const ENABLED_FEATURES_INFLUENCER_L5 = [FEATURE_AUTO_FOLLOW];\nexport const DISABLED_FEATURES_INFLUENCER_L1 = [];\nexport const DISABLED_FEATURES_INFLUENCER_L2 = [];\nexport const DISABLED_FEATURES_INFLUENCER_L3 = [];\nexport const DISABLED_FEATURES_INFLUENCER_L4 = [];\nexport const DISABLED_FEATURES_INFLUENCER_L5 = [];\n\n// Array of all enabled user features. This must map to user level from 0 - 5\nexport const ENABLED_FEATURES = [\n  ENABLED_FEATURES_USER,\n  ENABLED_FEATURES_INFLUENCER_L1,\n  ENABLED_FEATURES_INFLUENCER_L2,\n  ENABLED_FEATURES_INFLUENCER_L3,\n  ENABLED_FEATURES_INFLUENCER_L4,\n  ENABLED_FEATURES_INFLUENCER_L5\n];\n\n// Array of all disabled user features. This must map to user level from 0 - 5\nexport const DISABLED_FEATURES = [\n  DISABLED_FEATURES_USER,\n  DISABLED_FEATURES_INFLUENCER_L1,\n  DISABLED_FEATURES_INFLUENCER_L2,\n  DISABLED_FEATURES_INFLUENCER_L3,\n  DISABLED_FEATURES_INFLUENCER_L4,\n  DISABLED_FEATURES_INFLUENCER_L5\n];\n\n\n/**\n * Constants related to features\n */\nexport class FeatureConsts {\n\n  static get LIKE() { return 'f_lk'; }\n  static get FOLLOW_USER() { return 'f_fwu'; }\n  static get WATCH_POST() { return 'f_pst'; }\n\n}\n\n\n/**\n * Properties for XMUser, XUserInfo, XAuthInfo, etc.\n */\nexport class UserProps extends XMObjectProps {\n  /** match object's ID (_id) */\n  static get USER_ID() { return PROP_ID; }\n  static get USER_ID_GTV() { return 'gtvid'; }\n\n  static get USER_STATS() { return 's_user'; }\n  static get USER_BIO() { return 'bio'; }\n  static get TOKEN() { return 'token'; }\n  static get EMAIL() { return 'email'; }\n  static get SMS() { return 'sms'; }\n  static get FIRSTNAME() { return 'fname'; }\n  static get LASTNAME() { return 'lname'; }\n  static get NICKNAME() { return 'nickname'; }\n  static get USERNAME() { return 'username'; }\n  static get ORIG_USERNAME() { return 'ousername'; }\n  static get JOINT_DATE() { return 'joint_date'; }\n  static get RANK() { return 'rank'; }\n  static get LANGUAGE() { return 'lang'; }\n  static get SCORE() { return 'score'; }\n  static get DEVICEID() { return 'deviceID'; }\n  static get DIGEST() { return 'digest'; }\n  static get BLOCK_LIST() { return SocialProps.BLOCKED; }\n  static get MUTE_LIST() { return SocialProps.MUTED; }\n  static get PREF_THEME() { return 'pref_theme'; }    // see THEME_*\n  static get PREF_TOPICS() { return 'topics'; }\n  static get TWT_FOLLOWS() { return 'twt_flw'; }\n  static get TWT_FOLLOWED() { return 'twt_flg'; }\n  static get PUBLIC_PROPS() { return [this.ID, this.NICKNAME, this.USERNAME, this.JOINT_DATE, this.USER_STATS, this.TWT_FOLLOWED, this.TWT_FOLLOWS]; }\n  static get TEST_LOADER() { return 'backend/testloader'; }\n  static get PRIVATE_PROPS() {\n    return [this.TOKEN, this.EMAIL, this.SMS, this.FIRSTNAME, this.LASTNAME, this.RANK, this.LANGUAGE, this.SCORE, this.BLOCK_LIST, this.MUTE_LIST];\n  }\n  /**\n   * DO NOT CHANGE THIS  PART WITHOUT DOUBLE CONFIRM WITH FRONT_END AND TESTING!!!!\n   */\n  static get USER_PROFILE_UPDATABLE_PROPS() {\n    return [\n      this.ICON_URL,\n      this.BGIMG_URL,\n      this.NICKNAME,\n      this.DESC,\n      this.LANGUAGE,\n      this.LOCATION,\n      this.WEBSITE,\n      this.BIRTHDATE\n    ];\n  }\n\n  static get USER_SIGNUP_UPDATABLE_PROPS() {\n    return [\n      this.USERNAME,\n      this.ORIG_USERNAME,\n      this.NICKNAME,\n      this.EMAIL,\n      this.LANGUAGE,\n    ];\n  }\n\n  static get USER_SIGNUP_FROM_IMPORT_UPDATABLE_PROPS() {\n    return this.USER_SIGNUP_UPDATABLE_PROPS.concat([\n      this.ROLE_INFLUENCER,\n      this.CREATED_DATE,\n      this.UPDATED_DATE,\n      this.STATUS,   // TODO: temporary will be removed in the next fix\n      this.TWT_FOLLOWS,\n      this.TWT_FOLLOWED\n    ]);\n  }\n\n  static get USER_QUICK_SIGNUP_UPDATABLE_PROPS() {\n    return this.USER_SIGNUP_UPDATABLE_PROPS.concat([\n      this.DEVICEID,\n      this.DIGEST\n    ]);\n  }\n\n  static get USERINFO_FILL_FROM_USER_PROPS() {\n    return [\n      this.ID, this.TOKEN, this.NICKNAME,\n      this.EMAIL, this.USERNAME, this.ORIG_USERNAME,\n      this.DESC, this.TAGS, this.STATUS, this.PINPOSTS,\n      this.CREATED_DATE, this.UPDATED_DATE, this.LANGUAGE, this.RANK, this.SCORE,\n      this.ROLE_INFLUENCER,\n      this.ICON_URL, this.BGIMG_URL, this.LOCATION, this.WEBSITE, this.BIRTHDATE,\n      this.TWT_FOLLOWED, this.TWT_FOLLOWS,\n      StatsProps.FOLLOWS, StatsProps.FOLLOWED, StatsProps.LIKES_POST, StatsProps.LIKES_COMMENT,\n      StatsProps.SHARES_POST, StatsProps.VIEWS_FULL_POST,\n    ];\n  }\n\n  static get USER_CREATE_FROM_USERINFO_PROPS() {\n    return [\n      this.ID, this.ICON_URL, this.TOKEN,\n      this.EMAIL, this.NICKNAME,\n      this.USERNAME, this.ORIG_USERNAME,\n      this.DESC, this.TAGS, this.LANGUAGE,\n      this.CREATED_DATE,\n      this.ROLE_INFLUENCER,\n      this.STATUS, this.RANK, this.SCORE,\n      this.TWT_FOLLOWS, this.TWT_FOLLOWED\n    ];\n  }\n\n  static get AUTH_GETTER() { return 'gt'; }\n  static get AUTH_FACEBOOK() { return 'fb'; }\n  static get AUTH_GOOGLE() { return 'gg'; }\n  static get AUTH_TWITTER() { return 'tw'; }\n  static get AUTH_OTHER() { return 'unknown'; }\n\n  static get AUTH_INFO() { return 'auth_info'; }\n  static get AUTH_PWD_ENC_OLD() { return 'fr_pwd'; }\n  static get AUTH_PWD_ENC() { return 'pwd'; }\n  static get AUTH_PWD_CLR() { return 'pwd'; }\n  static get AUTH_PWD_CLR2() { return 'cpwd2'; }\n  static get AUTH_PWD_HINT() { return 'pwd_hint'; }\n\n  static get AUTH_FB_ID() { return 'fb_id'; }\n  static get AUTH_FB_TOKEN() { return 'fb_token'; }\n  static get AUTH_FB_ACCESS_EXP() { return 'fb_access_exp'; }\n  static get FB_ICON_URL() { return 'fb_ico'; }\n  static get FB_EMAIL() { return 'fb_email'; }\n  static get FB_NICKNAME() { return 'fb_name'; }\n\n  static get AUTH_TW_ID() { return 'tw_id'; }\n  static get AUTH_TW_TOKEN() { return 'tw_token'; }\n  static get AUTH_TW_TOKEN_EXP() { return 'twtoken_exp'; }\n\n  static get AUTH_GOOGLE_ID() { return 'gg_id'; }\n  static get AUTH_GOOGLE_TOKEN() { return 'gg_token'; }\n  static get AUTH_GOOGLE_TOKEN_EXP() { return 'gg_token_exp'; }\n\n  static get CONN_FOLLOWS_USERS() { return 'followsUsers'; }\n  static get CONN_FOLLOWERS_USERS() { return 'followersUsers'; }\n\n  static get CONFIRM_ACTION_TYPE() { return 'action'; }\n  static get CONFIRM_ACTION_TARGET() { return 'target'; }\n  static get CONFIRM_ACTION_SOURCE() { return 'source'; }\n  static get CONFIRMED_DATE() { return PROP_CONFIRMED_DATE; }\n  static get CONFIRM_EMAIL() { return CONFIRM_TYPE_EMAIL; }\n  static get CONFIRM_SMS() { return CONFIRM_TYPE_SMS; }\n  static get CONFIRM_SYSTEM() { return CONFIRM_TYPE_SYSTEM; }\n  static get CONFIRM_TOS() { return CONFIRM_TYPE_TOS; }\n  static get CONFIRM_TYPES() { return CONFIRM_TYPES; }\n\n  static get NOTIF_NEWS() { return 'nf_news'; }\n  static get NOTIF_USER_FOLLOWED() { return 'nf_ufol'; }\n  static get NOTIF_POST_WATCHED() { return 'nf_pwd'; }\n  static get NOTIF_POST_LIKED() { return 'nf_plkd'; }\n  static get NOTIF_POST_SHARED() { return 'nf_pshr'; }\n  static get NOTIF_POST_COMMENTED() { return 'nf_pcmd'; }\n\n  static get PASSWORD_MIN_LENGTH() { return 4; }\n\n  static get REQUEST_ACTION_TYPE() { return 'action'; }\n  static get REQUEST_ACTION_TARGET() { return 'target'; }\n  static get REQUEST_ACTION_SOURCE() { return 'source'; }\n  static get COMPLETED_BY() { return 'doneby'; }\n  static get COMPLETED_DATE() { return PROP_COMPLETED_DATE; }\n  static get REQUEST_EMAIL() { return REQUEST_TYPE_EMAIL; }\n  static get REQUEST_SMS() { return REQUEST_TYPE_SMS; }\n  static get REQUEST_PWDCHG() { return REQUEST_TYPE_PWDCHG; }\n  static get REQUEST_PWDRESET() { return REQUEST_TYPE_PWDRESET; }\n  static get REQUEST_SIGNUP() { return REQUEST_TYPE_SIGNUP; }\n  static get REQUEST_UPGRADE() { return REQUEST_TYPE_UPGRADE; }\n  static get REQUEST_TYPES() { return REQUEST_TYPES; }\n\n\n  static get APPUSER_ROLES() { return 'roles'; }\n  static get ROLE_ROOT() { return 'root'; }\n  static get ROLE_ADMIN() { return 'adm'; }\n  static get ROLE_SYSADM() { return 'sysadm'; }\n  static get ROLE_MODERATOR() { return 'mod'; }\n  static get ROLE_INFLUENCER() { return 'infl'; }\n\n  static get USER_UPDATABLE_ROLES() {\n    return [\n      this.ROLE_ROOT,\n      this.ROLE_ADMIN,\n      this.ROLE_SYSADM,\n      this.ROLE_MODERATOR,\n      this.ROLE_INFLUENCER,\n    ];\n  }\n\n  static get PROP_INFLUENCER_LEVEL() { return 'lvl'; }\n\n  static get INFLUENCER_LEVEL_NONE() { return 0; }\n  static get INFLUENCER_LEVEL_MIN() { return 1; }\n  static get INFLUENCER_LEVEL_MAX() { return 5; }\n\n  static get FEATURE_GROUP_APP() { return 'fg_app'; }\n  static get FEATURE_GROUP_APP_DISABLED() { return 'fg_app_disabled'; }\n  static get FEATURE_PREVIEW() { return 'fea_preview'; }\n  static get FEATURE_IMPORT_POST() { return 'fea_importp'; }\n  static get FEATURE_IMPORT_USER() { return 'fea_importu'; }\n  static get FEATURE_IMPORT_PROFILE() { return 'fea_importpf'; }\n\n  static get FEATURE_GROUP_USER() { return 'fg_user'; }\n  static get FEATURE_SUBMIT_POST() { 'submit_post'; }\n  static get FEATURE_SUBMIT_COMMENT() { 'submit_cm'; }\n  static get FEATURE_USER_FOLLOWS() { 'user_follows'; }\n  static get FEATURE_USER_LIKES() { 'user_likes'; }\n  static get FEATURE_USER_REPOST() { 'submit_repost'; }\n\n  static get FEATURE_GROUP_SUPER_INFLUENCER() { return 'fg_superv'; }\n  static get FEATURE_AUTO_FOLLOW() { return 'fea_autoflw'; }\n\n  static get FEATURE_SUSPEND_USER() { return FEATURE_REMOVE_SUSPEND_USER; }\n\n  static get USER_UPDATABLE_FEATURES() {\n    return [\n      this.FEATURE_IMPORT_USER,\n      this.FEATURE_IMPORT_POST,\n      this.FEATURE_SUBMIT_POST,\n      this.FEATURE_SUBMIT_COMMENT,\n      this.FEATURE_USER_FOLLOWS,\n      this.FEATURE_USER_LIKES,\n      this.FEATURE_USER_REPOST,\n      this.FEATURE_AUTO_FOLLOW,\n      this.FEATURE_IMPORT_PROFILE,\n      this.FEATURE_SUSPEND_USER,\n    ];\n  }\n\n  static get NICKNAME_GUEST() { return NICKNAME_GUEST; }\n  static get NICKNAME_ROBOT() { return NICKNAME_GUEST; }\n\n  static get SETTINGS_PROFILE() { return 'profile'; }\n  static get SETTINGS_ACCOUNT() { return 'account'; }\n  static get SETTINGS_FEEDS() { return 'feeds'; }\n  static get SETTINGS_CONNECTIONS() { return 'conn'; }\n  static get SETTINGS_NOTIFICATIONS() { return 'notif'; }\n  static get SETTINGS_PRIVACY() { return 'privsec'; }\n  static get SETTINGS_PREFERENCES() { return 'prefsec'; }\n  static get SETTINGS_INTERESTS() { return 'prefintr'; }\n\n  static get STATUS() { return 'status'; }\n  static get STATUS_TS() { return 'ts_status'; }\n  static get STATUS_QUICKSIGNUP() { return 'qs'; }\n  static get STATUS_IMPORTED() { return 'ui'; }\n  static get STATUS_UNVERIFIED() { return 'uv'; }\n  static get STATUS_ACTIVE() { return 'a'; }\n  static get STATUS_RESERVED() { return 'rv'; }\n  static get STATUS_SUSPENDED() { return 's'; }\n  static get STATUS_UNKNOWN() { return 'uk'; }\n  static get STATUS_TYPES() {\n    return [\n      this.STATUS_QUICKSIGNUP,\n      this.STATUS_UNVERIFIED,\n      this.STATUS_ACTIVE,\n      this.STATUS_SUSPENDED];\n  }\n\n  static get TOKEN_GUEST() { return TOKEN_GUEST; }\n  static get TOKEN_ROBOT() { return TOKEN_ROBOT; }\n\n  static get THEME_LITE() { return 'lite'; }\n  static get THEME_DARK() { return 'dark'; }\n\n  static get USERNAME_MIN_LENGTH() { return 5; }\n  static get USERNAME_MAX_LENGTH() { return 15; }\n  static get NICKNAME_MIN_LENGTH() { return 1; }\n  static get NICKNAME_MAX_LENGTH() { return 50; }\n  static get TAG_MAX_LENGTH() { return 50; }\n  static get USERID_GUEST() { return USERID_GUEST; }\n  static get USERID_ROBOT() { return USERID_ROBOT; }\n  static get USERID_TEMP() { return USERID_TEMP; }\n  static get USER_PASSWORD_LENGTH() { return 6; }\n\n  static get VERIFIED_CONTACT() { return 'vc'; }\n  static get VERIFIED_EMAIL_CFID() { return 'cfid_email'; }\n  static get VERIFIED_SMS_CFID() { return 'cfid_sms'; }\n\n  /**\n   * Use USER_EDITABLE_PROPS instead to make it more generic\n   */\n  // static get PROFILE_UPDATE_FIELDS() {\n  //   return [\n  //     ICON_URL,\n  //     'bgimg',\n  //     'nickname',\n  //     'dsc',\n  //     'location',\n  //     'website',\n  //     'birthdate',\n  //     'lang'\n  //   ];\n  // }\n}\n\n// ------------- ACTIVITY LOG / NOTIFICATION / ALERT MESSAGE / FEED -----------------\n\n/**\n * Message type. Can be either notification,\n * initiator history, etc.\n */\nconst PROP_MSGTYPE = 'mtype';\nconst PROP_SORTBY = 'sortby';\n\nexport const API_TYPE_SYS = 'sys';\nexport const API_TYPE_USER = 'usr';\nexport const API_TYPE_API = 'api';\nexport const API_TYPE_SVC = 'svc';\n\nconst PROP_ACTION = 'action';\nconst PROP_ACTION_STATUS = 'status';\nconst PROP_ACTION_START_TS = 'ts_start';\nconst PROP_ACTION_STOP_TS = 'ts_stop';\nconst PROP_ACTIVITY_ID = '_id';\nconst PROP_DEPTH_LEVEL = 'depth';\nconst PROP_INITIATOR_ID = 'init_id';\nconst PROP_INITIATOR_LEVEL = 'init_lvl';\nconst PROP_HAS_MEDIA = 'media';\n// const PROP_INVERSE_LOG_ID = \"inv_id\";\nconst PROP_LOGSRC = 'src';\nconst PROP_PARENT_LOG_ID = 'p_id';\nconst PROP_POST_ID = 'pstid';\nconst PROP_COMMENT_POST_ID = 'pid';\nconst PROP_IMPORT_POST_ID = 'ipid';\nconst PROP_PARENT_COMMENT_ID = 'pcid';\nconst PROP_ORIG_POST_ID = 'opid';\nconst PROP_ORIG_POST_OWNER_ID = 'opuid';\nconst PROP_OWNER_ID = 'uid';\nconst PROP_PARENT_OWNER_ID = 'puid';\nconst PROP_SRC_TYPE = 'src_type';\nconst PROP_SRC_ID = 'src_id';\nconst PROP_SRC_OWNER_ID = 'src_oid';\nconst PROP_SRC_OBJECT = 'src_obj';\nconst PROP_TGT_TYPE = 'tgt_type';\nconst PROP_TGT_ID = 'tgt_id';\nconst PROP_TGT_OWNER_ID = 'tgt_oid';\nconst PROP_TGT_OBJECT = 'tgt_obj';\nconst PROP_RPS_TYPE = 'rps_type';\nconst PROP_RPS_IDS = 'rpstIds';\nconst PROP_RPS_OWNER_IDS = 'rusrIds';\nconst PROP_USER_AGENT = 'agent';\nconst PROP_USER_HOST = 'user_host';\nconst PROP_API_NAME = 'api_name';\nconst PROP_API_TYPE = 'api_type';\nconst PROP_API_SPEC = 'api_spec';\nconst PROP_SVC_NAME = 'svc';\nconst PROP_API_ECODE = 'api_ecode';\nconst PROP_SVC_ECODE = 'svc_ecode';\nconst PROP_API_TIME = 'api_time';\nconst PROP_SVC_TIME = 'svc_time';\n\nconst PROP_SENDER_ID = 'sender_id';\nconst PROP_RECEIVER_ID = 'receiver_id';\nconst PROP_SENT_TS = 'sent_ts';\nconst PROP_SENT_MEDIUM = 'sent_method';\nconst PROP_READ_TS = 'read_ts';\nconst PROP_READ_MEDIUM = 'read_medium';\nconst PROP_ACTIVITY = 'activity';\nconst PROP_DONE_TS = 'done_ts';\nconst PROP_DONE_METHOD = 'done_method';\n\n/**\n * Fields within XMActivityLog that are useful and\n * can be specified in message template and MERGED\n * as information rendered for users (e.g., notification)\n */\nexport const PROPS_ACTIVITY = [\n  PROP_ACTION, PROP_INITIATOR_ID, PROP_INITIATOR_LEVEL, PROP_RECEIVER_ID,\n  PROP_ACTION_START_TS, PROP_ACTION_STOP_TS,\n  PROP_SRC_ID, PROP_SRC_TYPE, PROP_SRC_OWNER_ID,\n  PROP_TGT_ID, PROP_TGT_TYPE, PROP_TGT_OWNER_ID,\n  PROP_RPS_IDS, PROP_RPS_TYPE, PROP_RPS_OWNER_IDS,\n  PROP_READ_TS, PROP_READ_MEDIUM,\n  PROP_DONE_TS, PROP_DONE_METHOD,\n];\n\nexport const MEDIUM_EMAIL = 'email';\nexport const MEDIUM_SMS = 'sms';\nexport const MEDIUM_APP = 'app';\n\nexport const MSGTYPE_NOTIFICATION = 'n';\nexport const MSGTYPE_HISTORICAL = 'h';\n\nexport const SORTTYPE_NEWEST = 'new';\nexport const SORTTYPE_RELEVT = 'rel';\nexport const SORTTYPE_HOTEST = 'hot';\nexport const SORTTYPE_OLDEST = 'old';\nexport const SORTTYPE_LIKED = 'mlk';\nexport const SORTTYPE_FOLLOWED = 'mfw';\nexport const SORT_TYPES = [\n  SORTTYPE_NEWEST, SORTTYPE_HOTEST, SORTTYPE_OLDEST, SORTTYPE_LIKED, SORTTYPE_FOLLOWED,\n];\n\n/**\n * Properties from Activity log that is common for all types of\n * messages, emails, alerts, etc.\n */\nconst PROPS_COMMON = [\n  PROP_ACTIVITY_ID,\n  PROP_INITIATOR_ID,\n  PROP_INITIATOR_LEVEL,\n  PROP_SRC_ID,\n  PROP_SRC_OWNER_ID,\n  PROP_SRC_TYPE,\n  PROP_ACTION,\n  PROP_TGT_ID,\n  PROP_TGT_OWNER_ID,\n  PROP_TGT_TYPE,\n  PROP_RPS_TYPE,\n  PROP_RPS_IDS,\n  PROP_RPS_OWNER_IDS,\n  PROP_UPDATED_DATE,\n  PROP_DEPTH_LEVEL,\n  PROP_USER_HOST,\n  PROP_POST_ID,\n  PROP_ORIG_POST_ID,\n];\n\n/**\n * Properties from Activity log that is common for all types of\n * messages, emails, alerts, etc.\n */\nconst PROPS_CACHED = [\n  PROP_ACTIVITY_ID,\n  PROP_INITIATOR_ID,\n  PROP_INITIATOR_LEVEL,\n  PROP_SRC_ID,\n  PROP_SRC_OWNER_ID,\n  PROP_SRC_TYPE,\n  PROP_ACTION,\n  PROP_TGT_ID,\n  PROP_TGT_OWNER_ID,\n  PROP_TGT_TYPE,\n  PROP_RPS_TYPE,\n  PROP_RPS_IDS,\n  PROP_RPS_OWNER_IDS,\n  PROP_CREATED_DATE,\n  PROP_UPDATED_DATE,\n  PROP_POST_ID,\n  PROP_OWNER_ID,\n  PROP_ORIG_POST_ID,\n  PROP_ORIG_POST_OWNER_ID,\n  PROP_HAS_MEDIA,\n];\n\n\nexport class MessageProps extends UserProps {\n  static get VARDATA() { return 'vardata'; }\n  static get VARMAP() { return 'var'; }\n  static get COMPILED() { return 'compiled'; }\n\n  /**\n     * Message type: notification or historical\n     */\n  static get MSGTPL() { return PROP_MSGTYPE; }\n\n  /**\n     * Message type: notification or historical\n     */\n  static get MSGTYPE() { return PROP_MSGTYPE; }\n\n  /**\n     * Sort type for messages (see SORTTYPE_*)\n     */\n  static get SORTBY() { return PROP_SORTBY; }\n\n  /**\n     * Either web browser agent, mobile ID, or server ID?\n     */\n  static get USER_AGENT() { return PROP_USER_AGENT; }\n\n  /**\n     * Host that initated user action\n     */\n  static get USER_HOST() { return PROP_USER_HOST; }\n\n  /**\n     * user/system ID for the initiator of the message\n     */\n  static get INITIATOR_ID() { return PROP_INITIATOR_ID; }\n\n  /**\n   * user/system influence level for the initiator of the message\n   */\n  static get INITIATOR_LVL() { return PROP_INITIATOR_LEVEL; }\n\n  static get ACTION() { return PROP_ACTION; }\n\n  /**\n     * Status of the action taken (TBD)\n     */\n  static get ACTION_STATUS() { return PROP_ACTION_STATUS; }\n\n  /**\n     * Timestamp of when the action was started.\n     */\n  static get ACTION_START_TS() { return PROP_ACTION_START_TS; }\n\n  /**\n     * Timestamp of when the action was completed.\n     */\n  static get ACTION_STOP_TS() { return PROP_ACTION_STOP_TS; }\n\n  /**\n     * Source of the action (actioner). It can be a user, a group, or a system agent.\n     */\n  static get LOGSRC() { return PROP_LOGSRC; }\n\n  /**\n     * ID of the activity log\n     */\n  static get ACTIVITY_ID() { return PROP_ACTIVITY_ID; }\n\n  /**\n     * ID of the parent activity log, if the object records sub-activity.\n     */\n  static get PARENT_LOG_ID() { return PROP_PARENT_LOG_ID; }\n\n  /**\n     * Frequently a user activity have two ends, and there\n     * may be an activity generated from the other side, which\n     * equates to an \"inverse\".\n     */\n  static get INVERSE_LOG_ID() { return 'inv_id'; }\n\n  /**\n     * Direct reference to a post to remove guessing game\n     * on whether source or target object.\n     */\n  static get POST_ID() { return PROP_POST_ID; }\n\n  /**\n   * Direct reference to a post to remove guessing game\n   * on whether source or target object.\n   */\n  static get COMMENT_POST_ID() { return PROP_COMMENT_POST_ID; }\n\n  /**\n   * Direct reference to an imported post to remove guessing game\n   * on whether source or target object.\n   */\n  static get IMPORT_POST_ID() { return PROP_IMPORT_POST_ID; }\n\n  /**\n   * Direct reference to a post to remove guessing game\n   * on whether source or target object.\n   */\n  static get PARENT_COMMENT_ID() { return PROP_PARENT_COMMENT_ID; }\n\n  /**\n   * Direct reference to a post to remove guessing game\n   * on whether source or target object.\n   */\n  static get PARENT_OWNER_ID() { return PROP_PARENT_OWNER_ID; }\n\n  /**\n     * Tracking of the original post's ID if the post in\n     * question is a \"repost\"\n     */\n  static get ORIG_POST_ID() { return PROP_ORIG_POST_ID; }\n\n  /**\n   * Tracking of the original post's ID if the post in\n   * question is a \"repost\"\n   */\n  static get ORIG_POST_OWNER_ID() { return PROP_ORIG_POST_OWNER_ID; }\n\n  /**\n     * Source side of action's object type. This goes\n     * along with the object id.\n     * @see ~FIELD_SRC_ID\n     */\n  static get SRC_TYPE() { return PROP_SRC_TYPE; }\n\n  static get HAS_MEDIA() { return PROP_HAS_MEDIA; }\n\n  /**\n     * Title of the source object. This is derived and require retrieval\n     * of the actual object\n     */\n  static get SRC_TITLE() { return 'src_title'; }\n\n  /**\n     * Source object's owner ID. This is needed if the source\n     * object is not a user, and require to lookup object's owner.\n     */\n  static get SRC_OWNER_ID() { return PROP_SRC_OWNER_ID; }\n\n  /**\n     * Source object's owner name. This is needed if the\n     * source object is not a user, and require to lookup\n     * object's owner and print the name.\n     */\n  static get SRC_OWNER_NAME() { return 'src_owner_name'; }\n\n  /**\n     * Source side of action's object id. This along\n     * with the type allow us to retrieve the actual\n     * data.\n     * @see ~FIELD_SRC_TYPE\n     */\n  static get SRC_ID() { return PROP_SRC_ID; }\n\n  static get SRC_OBJECT() { return PROP_SRC_ID; }\n\n  /**\n     * Target side of action's object type. This goes\n     * along with the object id.\n     * @see ~FIELD_TGT_ID\n     *\n     */\n  static get TGT_TYPE() { return PROP_TGT_TYPE; }\n\n  static get TGT_TITLE() { return 'tgt_title'; }\n\n  static get TGT_OWNER_NAME() { return 'tgt_owner_name'; }\n\n  static get TGT_OWNER_ID() { return PROP_TGT_OWNER_ID; }\n\n  static get TGT_OBJECT() { return PROP_TGT_OBJECT; }\n\n  /**\n   * Repost side of action's object type. This goes\n   * along with the object id.\n   * @see ~FIELD_TGT_ID\n   *\n   */\n  static get RPS_TYPE() { return PROP_RPS_TYPE; }\n\n  static get RPS_OWNER_IDS() { return PROP_RPS_OWNER_IDS; }\n\n  static get RPS_IDS() { return PROP_RPS_IDS; }\n\n  /**\n     * Target side of action's object id. This along\n     * with the type allow us to retrieve the actual\n     * data.\n     * @see ~FIELD_TGT_TYPE\n     */\n  static get TGT_ID() { return PROP_TGT_ID; }\n\n  static get SENDER_ID() { return PROP_SENDER_ID; }\n  static get RECEIVER_ID() { return PROP_RECEIVER_ID; }\n  static get SENT_TS() { return PROP_SENT_TS; }\n  static get SENT_MEDIUM() { return PROP_SENT_MEDIUM; }\n  static get READ_TS() { return PROP_READ_TS; }\n  static get READ_MEDIUM() { return PROP_READ_MEDIUM; }\n  static get DONE_TS() { return PROP_DONE_TS; }\n  static get DONE_METHOD() { return PROP_DONE_METHOD; }\n\n  static get API_NAME() { return PROP_API_NAME; }\n  static get API_TYPE() { return PROP_API_TYPE; }\n  static get API_SPEC() { return PROP_API_SPEC; }\n  static get SVC_NAME() { return PROP_SVC_NAME; }\n  static get API_ECODE() { return PROP_API_ECODE; }\n  static get SVC_ECODE() { return PROP_SVC_ECODE; }\n  static get API_TIME() { return PROP_API_TIME; }\n  static get SVC_TIME() { return PROP_SVC_TIME; }\n\n  static get ACTIVITY() { return PROP_ACTIVITY; }\n\n  static get MEDIUM_EMAIL() { return MEDIUM_EMAIL; }\n  static get MEDIUM_SMS() { return MEDIUM_SMS; }\n  static get MEDIUM_APP() { return MEDIUM_APP; }\n\n  static get MSGTYPE_NOTIFICATION() { return MSGTYPE_NOTIFICATION; }\n  static get MSGTYPE_HISTORICAL() { return MSGTYPE_HISTORICAL; }\n\n  /**\n     * @return {string[]} all relevant PROP_* labels for XMActivity\n     */\n  static get PROPS_ACTIVITY() { return PROPS_ACTIVITY; }\n\n  static get PROPS_COMMON() { return PROPS_COMMON; }\n  static get PROPS_CACHED() { return PROPS_CACHED; }\n\n  static get PROPS_DEPTH_LEVEL() { return PROP_DEPTH_LEVEL; }\n\n  /**\n     * @return {string[]} all sort types\n     */\n  static get SORT_TYPES() { return SORT_TYPES; }\n  static get SORT_NEWEST() { return SORTTYPE_NEWEST; }\n  static get SORT_RELEVT() { return SORTTYPE_RELEVT; }\n  static get SORT_HOTEST() { return SORTTYPE_HOTEST; }\n  static get SORT_OLDEST() { return SORTTYPE_OLDEST; }\n  static get SORT_LIKED() { return SORTTYPE_LIKED; }\n  static get SORT_FOLLOWED() { return SORTTYPE_FOLLOWED; }\n} // class MessageProp\n\n\n// --------------- ACTIVITY LOG TYPE / ACTION NAMES -----------------------\n\nexport const VIEW_OVERVIEW = 'overview';     // includes title, stats\nexport const VIEW_DETAILS = 'detail';      //\nexport const VIEW_HEADLINE = 'headline';     // headline (or mentions)\nexport const VIEW_ALL = 'all';          // view everything (listing items)\nexport const VIEW_INITIAL = 'initial';      // initial page (e.g., feed)\nexport const VIEW_NEXT = 'next';         // fetch next page\nexport const VIEW_PREVIOUS = 'prev';     // fetch previous page\nexport const VIEW_LAST = 'end';         // last / end page\n\nexport const INFOACCESS_OVERVIEW = 'overview';\nexport const INFOACCESS_DETAILS = 'detail';\nexport const INFOACCESS_HEADLINE = 'headline';\nexport const INFOACCESS_ALL = 'all';\nexport const INFOACCESS_INITIAL = 'initial';   // initial page (e.g., feed)\nexport const INFOACCESS_NEXT = 'next';         // fetch next\nexport const INFOACCESS_PREVIOUS = 'prev';     // fetch previous\nexport const INFOACCESS_LAST = 'end';          // last / end page\n\nconst ACTIVITY_LOGIN = 'login';\nconst ACTIVITY_LOGOUT = 'logout';\nconst ACTIVITY_SIGNUP = 'signup';\n\nconst ACTIVITY_FOLLOWS_USER = 'follows';\nconst ACTIVITY_FOLLOWEDBY_USER = 'followed_by';\nconst ACTIVITY_UNFOLLOWS_USER = 'unfollows';\nconst ACTIVITY_UNFOLLOWEDBY_USER = 'unfollowed_by';\nconst ACTIVITY_BLOCKS_USER = 'blocks';\nconst ACTIVITY_UNBLOCKS_USER = 'unblocks';\nconst ACTIVITY_MUTES_USER = 'mutes';\nconst ACTIVITY_UNMUTES_USER = 'unmutes';\nconst ACTIVITY_REPORTS_USER = 'reports_user';\nconst ACTIVITY_REPORTEDBY_USER = 'reported_by';\nconst ACTIVITY_REPORTS_POST = 'reports_post';\n\nconst ACTIVITY_LIKES_POST = 'likes_pst';\nconst ACTIVITY_POST_LIKEDBY = 'pst_liked_by';\nconst ACTIVITY_UNLIKES_POST = 'unlikes_pst';\nconst ACTIVITY_POST_UNLIKEDBY = 'pst_unliked_by';\n\nconst ACTIVITY_PIN_POST = 'pin_pst';\nconst ACTIVITY_UNPIN_POST = 'unpin_pst';\nconst ACTIVITY_POST_PINNEDBY = 'pst_pinned_by';\nconst ACTIVITY_POST_UNPINNEDBY = 'pst_unpinned_by';\n\nconst ACTIVITY_WATCHES_POST = 'watches_pst';\nconst ACTIVITY_WATCHED_POST = 'watched_pst_by';\nconst ACTIVITY_UNWATCHES_POST = 'unwatches_pst';\nconst ACTIVITY_UNWATCHED_POST = 'unwatched_pst';\n\nconst ACTIVITY_SHARES_POST = 'shares_pst';\nconst ACTIVITY_POST_SHAREDBY = 'pst_sharedby';\nconst ACTIVITY_UNSHARES_POST = 'unshares_pst';\nconst ACTIVITY_POST_UNSHAREDBY = 'pst_unsharedby';\n\nconst ACTIVITY_LIKES_COMMENT = 'likes_cm';\nconst ACTIVITY_COMMENT_LIKEDBY = 'cm_liked_by';\nconst ACTIVITY_UNLIKES_COMMENT = 'unlikes_cm';\nconst ACTIVITY_COMMENT_UNLIKEDBY = 'cm_unliked_by';\n\nconst ACTIVITY_WATCHES_COMMENT = 'watches_cm';\nconst ACTIVITY_WATCHED_COMMENT = 'watched_cm_by';\nconst ACTIVITY_UNWATCHES_COMMENT = 'unwatches_cm';\nconst ACTIVITY_UNWATCHED_COMMENT = 'unwatched_cm';\n\nconst ACTIVITY_SHARES_COMMENT = 'shares_cm';\nconst ACTIVITY_COMMENT_SHAREDBY = 'cm_sharedby';\nconst ACTIVITY_UNSHARES_COMMENT = 'unshares_cm';\nconst ACTIVITY_COMMENT_UNSHAREDBY = 'cm_unsharedby';\n\nconst ACTIVITY_API_GETRES = 'getres';\n\nconst ACTIVITY_USER_VIEW = 'usr_view';\nconst ACTIVITY_USER_VIEW_USER = 'view_user';\nconst ACTIVITY_USER_VIEW_HELP = 'view_help';\nconst ACTIVITY_USER_FEEDBACK = 'feedback';\n\nconst ACTIVITY_USER_MENTIONED_IN = 'usr_mentioned';\n\nconst ACTIVITY_USER_VIEW_POST = 'view_pst';\nconst ACTIVITY_USER_PUB_POST = 'pub_pst';\nconst ACTIVITY_POST_PUBLISHED = 'pub_pst_by';\n\nconst ACTIVITY_USER_VIEW_COMMENT = 'view_cm';\nconst ACTIVITY_USER_PUB_COMMENT = 'pub_cm';\nconst ACTIVITY_COMMENT_PUBLISHED = 'pub_cm_by';\n\nconst ACTIVITY_USER_VIEW_TIMELINE = 'view_tl';\nconst ACTIVITY_USER_VIEW_TIMELINE_TRENDS = 'view_tl_trends';\nconst ACTIVITY_USER_VIEW_USER_FEED = 'view_usr_feed';\nconst ACTIVITY_USER_VIEW_POST_FEED = 'view_pst_feed';\nconst ACTIVITY_USER_VIEW_POST_COMMENTS = 'view_pcm_feed';\nconst ACTIVITY_USER_VIEW_COMMENT_COMMENTS = 'view_ccm_feed';\n\nconst ACTIVITY_USER_VIEW_TOS = 'view_tos';\nconst ACTIVITY_USER_VIEW_PRIVACY = 'view_privacy';\nconst ACTIVITY_USER_VIEW_DMCA = 'view_dmca';\nconst ACTIVITY_USER_VIEW_USER_GUIDELINES = 'view_user_guidelines';\nconst ACTIVITY_USER_VIEW_LEGAL_GUIDELINES = 'view_legal_guidelines';\nconst ACTIVITY_USER_VIEW_ABOUTUS = 'view_aboutus';\nconst ACTIVITY_USER_VIEW_FEEDBACK = 'view_feedback';\nconst ACTIVITY_USER_VIEW_HOMEPAGE = 'view_homepage';\nconst ACTIVITY_USER_VIEW_MYACCOUNT = 'view_myaccount';\n\nconst ACTIVITY_USER_GET_CONF_PROPS = 'get_sysconf_props';\nconst ACTIVITY_SYS_SET_CONF_PROPS = 'set_sysconf_props';\nconst ACTIVITY_SUSPENDS_USER = 'suspends';\nconst ACTIVITY_SUSPENDEDBY_USER = 'suspended_by';\n\nconst ACTIVITY_ADD_ROLE = 'add_role';\nconst ACTIVITY_REMOVE_ROLE = 'remove_role';\n\n/**\n * Grouping of all log type constants in a class for single export\n */\nexport class ActivityLogProps extends MessageProps {\n  static get API_TYPE_SYS() { return API_TYPE_SYS; }\n  static get API_TYPE_USER() { return API_TYPE_USER; }\n  static get API_TYPE_API() { return API_TYPE_API; }\n  static get API_TYPE_SVC() { return API_TYPE_SVC; }\n\n  static get VIEW_OVERVIEW() { return VIEW_OVERVIEW; }\n  static get VIEW_DETAILS() { return VIEW_DETAILS; }\n  static get VIEW_HEADLINE() { return VIEW_HEADLINE; }\n  static get VIEW_ALL() { return VIEW_ALL; }\n  static get VIEW_INITIAL() { return VIEW_INITIAL; }\n  static get VIEW_NEXT() { return VIEW_NEXT; }\n  static get VIEW_PREVIOUS() { return VIEW_PREVIOUS; }\n  static get VIEW_LAST() { return VIEW_LAST; }\n\n  static get INFOACCESS_OVERVIEW() { return INFOACCESS_OVERVIEW; }\n  static get INFOACCESS_DETAILS() { return INFOACCESS_DETAILS; }\n  static get INFOACCESS_HEADLINE() { return INFOACCESS_HEADLINE; }\n  static get INFOACCESS_ALL() { return INFOACCESS_ALL; }\n  static get INFOACCESS_INITIAL() { return INFOACCESS_INITIAL; }\n  static get INFOACCESS_NEXT() { return INFOACCESS_NEXT; }\n  static get INFOACCESS_PREVIOUS() { return INFOACCESS_PREVIOUS; }\n  static get INFOACCESS_LAST() { return INFOACCESS_LAST; }\n\n  static get LOGIN() { return ACTIVITY_LOGIN; }\n  static get LOGOUT() { return ACTIVITY_LOGOUT; }\n  static get SIGNUP() { return ACTIVITY_SIGNUP; }\n\n  static get FOLLOWS_USER() { return ACTIVITY_FOLLOWS_USER; }\n  static get FOLLOWEDBY_USER() { return ACTIVITY_FOLLOWEDBY_USER; }\n  static get UNFOLLOWS_USER() { return ACTIVITY_UNFOLLOWS_USER; }\n  static get UNFOLLOWEDBY_USER() { return ACTIVITY_UNFOLLOWEDBY_USER; }\n  static get BLOCKS_USER() { return ACTIVITY_BLOCKS_USER; }\n  static get UNBLOCKS_USER() { return ACTIVITY_UNBLOCKS_USER; }\n  static get MUTES_USER() { return ACTIVITY_MUTES_USER; }\n  static get UNMUTES_USER() { return ACTIVITY_UNMUTES_USER; }\n  static get REPORTS_USER() { return ACTIVITY_REPORTS_USER; }\n  static get REPORTS_POST() { return ACTIVITY_REPORTS_POST; }\n  static get REPORTEDBY_USER() { return ACTIVITY_REPORTEDBY_USER; }\n\n  static get LIKES_POST() { return ACTIVITY_LIKES_POST; }\n  static get POST_LIKEDBY() { return ACTIVITY_POST_LIKEDBY; }\n  static get UNLIKES_POST() { return ACTIVITY_UNLIKES_POST; }\n  static get POST_UNLIKEDBY() { return ACTIVITY_POST_UNLIKEDBY; }\n\n  static get PIN_POST() { return ACTIVITY_PIN_POST; }\n  static get UNPIN_POST() { return ACTIVITY_UNPIN_POST; }\n  static get POST_PINNEDBY() { return ACTIVITY_POST_PINNEDBY; }\n  static get POST_UNPINNEDBY() { return ACTIVITY_POST_UNPINNEDBY; }\n\n  static get WATCHES_POST() { return ACTIVITY_WATCHES_POST; }\n  static get WATCHED_POST() { return ACTIVITY_WATCHED_POST; }\n  static get UNWATCHES_POST() { return ACTIVITY_UNWATCHES_POST; }\n  static get UNWATCHED_POST() { return ACTIVITY_UNWATCHED_POST; }\n\n  static get SHARES_POST() { return ACTIVITY_SHARES_POST; }\n  static get POST_SHAREDBY() { return ACTIVITY_POST_SHAREDBY; }\n  static get UNSHARES_POST() { return ACTIVITY_UNSHARES_POST; }\n  static get POST_UNSHAREDBY() { return ACTIVITY_POST_UNSHAREDBY; }\n\n  static get LIKES_COMMENT() { return ACTIVITY_LIKES_COMMENT; }\n  static get COMMENT_LIKEDBY() { return ACTIVITY_COMMENT_LIKEDBY; }\n  static get UNLIKES_COMMENT() { return ACTIVITY_UNLIKES_COMMENT; }\n  static get COMMENT_UNLIKEDBY() { return ACTIVITY_COMMENT_UNLIKEDBY; }\n\n  static get WATCHES_COMMENT() { return ACTIVITY_WATCHES_COMMENT; }\n  static get WATCHED_COMMENT() { return ACTIVITY_WATCHED_COMMENT; }\n  static get UNWATCHES_COMMENT() { return ACTIVITY_UNWATCHES_COMMENT; }\n  static get UNWATCHED_COMMENT() { return ACTIVITY_UNWATCHED_COMMENT; }\n\n  static get SHARES_COMMENT() { return ACTIVITY_SHARES_COMMENT; }\n  static get COMMENT_SHAREDBY() { return ACTIVITY_COMMENT_SHAREDBY; }\n  static get UNSHARES_COMMENT() { return ACTIVITY_UNSHARES_COMMENT; }\n  static get COMMENT_UNSHAREDBY() { return ACTIVITY_COMMENT_UNSHAREDBY; }\n\n  static get API_GETRES() { return ACTIVITY_API_GETRES; }\n  static get USER_VIEW() { return ACTIVITY_USER_VIEW; }\n  static get USER_VIEW_USER() { return ACTIVITY_USER_VIEW_USER; }\n  static get USER_VIEW_HELP() { return ACTIVITY_USER_VIEW_HELP; }\n\n  static get USER_VIEW_COMMENT() { return ACTIVITY_USER_VIEW_COMMENT; }\n  static get USER_PUB_COMMENT() { return ACTIVITY_USER_PUB_COMMENT; }\n  static get USER_UPDATES_COMMENT() { return 'updCm'; }\n  static get USER_DELETES_COMMENT() { return 'delCmv'; }\n\n  static get COMMENT_PUBLISHEDBY() { return ACTIVITY_COMMENT_PUBLISHED; }\n  static get COMMENT_UPDATEDBY() { return 'updCmBy'; }\n  static get COMMENT_DELETEDBY() { return 'delCmBy'; }\n\n  static get USER_PUB_POST() { return ACTIVITY_USER_PUB_POST; }\n  static get USER_UPDATES_POST() { return 'updPst'; }\n  static get USER_DELETES_POST() { return 'delPstv'; }\n\n  static get POST_PUBLISHEDBY() { return ACTIVITY_POST_PUBLISHED; }\n  static get POST_UPDATEDBY() { return 'updPstBy'; }\n  static get POST_DELETEDBY() { return 'delPstBy'; }\n\n  static get USER_VIEW_TIMELINE() { return ACTIVITY_USER_VIEW_TIMELINE; }\n  static get USER_VIEW_TIMELINE_TRENDS() { return ACTIVITY_USER_VIEW_TIMELINE_TRENDS; }\n  static get USER_VIEW_USER_FEED() { return ACTIVITY_USER_VIEW_USER_FEED; }\n  static get USER_VIEW_POST_FEED() { return ACTIVITY_USER_VIEW_POST_FEED; }\n  static get USER_VIEW_POST() { return ACTIVITY_USER_VIEW_POST; }\n  static get USER_VIEW_POST_COMMENTS() { return ACTIVITY_USER_VIEW_POST_COMMENTS; }\n  static get USER_VIEW_COMMENT_COMMENTS() { return ACTIVITY_USER_VIEW_COMMENT_COMMENTS; }\n  static get USER_VIEW_ABOUTUS() { return ACTIVITY_USER_VIEW_ABOUTUS; }\n  static get USER_VIEW_TOS() { return ACTIVITY_USER_VIEW_TOS; }\n  static get USER_VIEW_PRIVACY() { return ACTIVITY_USER_VIEW_PRIVACY; }\n  static get USER_VIEW_DMCA() { return ACTIVITY_USER_VIEW_DMCA; }\n  static get USER_VIEW_USER_GUIDELINES() { return ACTIVITY_USER_VIEW_USER_GUIDELINES; }\n  static get USER_VIEW_LEGAL_GUIDELINES() { return ACTIVITY_USER_VIEW_LEGAL_GUIDELINES; }\n  static get USER_VIEW_FEEDBACK() { return ACTIVITY_USER_VIEW_FEEDBACK; }\n  static get USER_VIEW_HOMEPAGE() { return ACTIVITY_USER_VIEW_HOMEPAGE; }\n  static get USER_VIEW_MYACCOUNT() { return ACTIVITY_USER_VIEW_MYACCOUNT; }\n  static get USER_FEEDBACK() { return ACTIVITY_USER_FEEDBACK; }\n\n  static get USER_MENTIONED_IN() { return ACTIVITY_USER_MENTIONED_IN; }\n\n  static get USER_GET_CONF_PROPS() { return ACTIVITY_USER_GET_CONF_PROPS; }\n  static get SYS_SET_CONF_PROPS() { return ACTIVITY_SYS_SET_CONF_PROPS; }\n  static get SUSPENDS_USER() { return ACTIVITY_SUSPENDS_USER; }\n  static get SUSPENDEDBY_USER() { return ACTIVITY_SUSPENDEDBY_USER; }\n  static get ADD_ROLE() { return ACTIVITY_ADD_ROLE; }\n  static get REMOVE_ROLE() { return ACTIVITY_REMOVE_ROLE; }\n}\n\n// --------------------- SOCIAL / CONNECTIONS  --------------------\n\nexport const PROP_LIKE = 'like';\nexport const PROP_SHARE = 'share';\nexport const PROP_WATCH = 'watch';\nexport const PROP_ACCEPTED = 'accepted';\nexport const PROP_PENDING = 'pending';\nexport const PROP_BLOCKED = 'blocked';\nexport const PROP_UNBLOCKED = 'unblocked';\nexport const PROP_MUTED = 'muted';\nexport const PROP_BLOCKFlAG = 'isBlocked';\nexport const PROP_MUTEFLAG = 'isMuted';\nexport const PROP_FLWFLAG = 'isFollowing';\n\nexport const STATUS_WATCHED = 'y';\nexport const STATUS_NOT_WATCHED = 'n';\nexport const STATUS_UNKNOWN = 'u';\n\nexport const STATUS_BLOCKED = 'y';\nexport const STATUS_MUTED = 'y';\n\n/**\n * Properties for social connections.\n *\n * NOTE: currently properties for XMFollows/XMFollowers\n * are not moved here from their classes.\n */\nexport class SocialProps extends XObjectProps {\n\n  static get LIKE() { return PROP_LIKE; }\n  static get SHARE() { return PROP_SHARE; }\n  static get WATCH() { return PROP_WATCH; }\n  static get ACCEPTED() { return PROP_ACCEPTED; }\n  static get PENDING() { return PROP_PENDING; }\n  static get BLOCKED() { return PROP_BLOCKED; }\n  static get UNBLOCKED() { return PROP_UNBLOCKED; }\n  static get MUTED() { return PROP_MUTED; }\n  static get BLOCKFLAG() { return PROP_BLOCKFlAG; }\n  static get MUTEFLAG() { return PROP_MUTEFLAG; }\n  static get FLWFLAG() { return PROP_FLWFLAG; }\n\n  static get STATUS_WATCHED() { return STATUS_WATCHED; }\n  static get STATUS_NOT_WATCHED() { return STATUS_NOT_WATCHED; }\n  static get STATUS_UNKNOWN() { return STATUS_UNKNOWN; }\n\n} // Class SocialProps\n\n\n// ------------------ Stats --------------------\n\n\n/**\n * Class that holds properties and utilities related to stats\n */\nexport class StatsProps extends XObjectProps {\n  static get FOLLOWS() { return 'flw'; }\n  static get FOLLOWED() { return 'flg'; }\n  static get COMMENTS() { return 'cm'; }\n  static get COMMENT_SHAREDBY() { return 'shbcm'; }\n  static get LIKES_COMMENT() { return 'lkscm'; }\n  static get LIKEDBY_COMMENT() { return 'lkbcm'; }\n  static get LIKE_POST_EXTRA_STATUS() { return 'lkpstexst'; }\n  static get LIKES_POST() { return 'lkspst'; }\n  static get LIKEDBY_POST() { return 'lkbpst'; }\n  static get TWT_LIKEDBY_POST() { return 'twt_lkbpst'; }\n  static get LIKES_GIVEN() { return 'lksgiv'; }\n  static get LIKES_RECEIVED() { return 'lksrcv'; }\n  static get POSTED_COMMENT() { return 'pscm'; }\n  static get POSTED_POST() { return 'pspst'; }\n  static get REFERRED_USERS() { return 'rfus'; }\n  static get SHARES_COMMENT() { return 'shscm'; }\n  static get SHARES_POST() { return 'shspst'; }\n  static get POST_SHAREDBY() { return 'shbpst'; }\n  static get TWT_POST_SHAREDBY() { return 'twt_shbpst'; }\n  static get VIEWS_FULL_COMMENT() { return 'vfcm'; }\n  static get VIEWS_HEADLINE_COMMENT() { return 'vhcm'; }\n  static get VIEWS_FULL_POST() { return 'vfpst'; }\n  static get VIEWS_HEADLINE_POST() { return 'vhpst'; }\n  static get VIEWS_FEED_POST() { return 'ifpst'; }\n  static get VIEWS_SHARED_POST() { return 'vspst'; }\n  static get VIEWS_FULL_USER() { return 'vfusr'; }\n  static get VIEWS_HEADLINE_USER() { return 'vhusr'; }\n  static get VIEWS_FEED_USER() { return 'ifusr'; }\n  static get WATCHES_COMMENT() { return 'wscm'; }\n  static get WATCHED_COMMENT() { return 'wbcm'; }\n  static get WATCHES_POST() { return 'wspst'; }\n  static get WATCHED_POST() { return 'wbpst'; }\n\n  /**\n   * Specify stats that can be recalculated based on data in DB.\n   */\n  static get REFRESHABLE_STATS() {\n    return {\n      [ModelFolder.USER_STATS]: [\n        this.FOLLOWS,\n        this.FOLLOWED,\n        this.LIKES_POST,\n        this.LIKES_COMMENT,\n        this.SHARES_POST,\n        this.SHARES_COMMENT,\n      ],\n      [ModelFolder.USER]: [\n        this.FOLLOWS,\n        this.FOLLOWED,\n      ],\n      [ModelFolder.POST_STATS]: [\n        this.LIKEDBY_POST,\n        this.COMMENTS,\n        this.POST_SHAREDBY,\n      ],\n      [ModelFolder.COMMENT_STATS]: [\n        this.LIKEDBY_COMMENT,\n        this.COMMENTS,\n        this.COMMENT_SHAREDBY,\n      ],\n    };\n  }\n}\n\nexport class UserStatsProps extends StatsProps {\n  // static get SCORE() { return 'scr'; }\n}\n\n\nexport class PostStatsProps extends StatsProps {\n  static get POSTID() { return 'postId'; }\n}\n\nexport class CommentStatsProps extends StatsProps {\n  static get COMMENTID() { return 'commentId'; }\n\n}\n\nexport default ModelType;\n","\nconst _keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n\n/**\n * Private method for UTF-8 encoding\n *\n * @param {string} string\n */\nfunction _utf8_encode(string) {\n  // see comments in:\n  // https://stackoverflow.com/questions/246801/how-can-you-encode-a-string-to-base64-in-javascript\n  // string = string.replace(/\\r\\n/g, \"\\n\");\n  let utftext = '';\n\n  // console.log(\"_utf8_enc: \" + string);\n  // console.log(\"_utf8_end: input type: \", typeof string);\n\n  if (typeof string !== 'string') { string = String(string); }\n\n  for (let n = 0; n < string.length; n++) {\n    const c = string.charCodeAt(n);\n\n    if (c < 128) {\n      utftext += String.fromCharCode(c);\n    } else if ((c > 127) && (c < 2048)) {\n      utftext += String.fromCharCode((c >> 6) | 192);\n      utftext += String.fromCharCode((c & 63) | 128);\n    } else {\n      utftext += String.fromCharCode((c >> 12) | 224);\n      utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n      utftext += String.fromCharCode((c & 63) | 128);\n    }\n  }\n\n  return utftext;\n}\n\n/**\n * Private method for UTF-8 decoding\n *\n * @param {string} utftext\n */\nfunction _utf8_decode(utftext) {\n  let string = '';\n  let i = 0;\n  let c = 0;\n  let c2 = 0;\n  let c3 = 0;\n\n  while (i < utftext.length) {\n    c = utftext.charCodeAt(i);\n\n    if (c < 128) {\n      string += String.fromCharCode(c);\n      i++;\n    } else if ((c > 191) && (c < 224)) {\n      c2 = utftext.charCodeAt(i + 1);\n      string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n      i += 2;\n    } else {\n      c2 = utftext.charCodeAt(i + 1);\n      c3 = utftext.charCodeAt(i + 2);\n      string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n      i += 3;\n    }\n  }\n\n  return string;\n} // _utf8_decode\n\n\n/**\n *  Base64 encode / decode\n *\n *  http://www.webtoolkit.info/\n *\n **/\nclass Base64 {\n\n  // public method for encoding\n  static encode(input) {\n    let output = '';\n    let chr1;\n    let chr2;\n    let chr3;\n    let enc1;\n    let enc2;\n    let enc3;\n    let enc4;\n    let i = 0;\n\n    input = _utf8_encode(input);\n\n    while (i < input.length) {\n      chr1 = input.charCodeAt(i++);\n      chr2 = input.charCodeAt(i++);\n      chr3 = input.charCodeAt(i++);\n\n      enc1 = chr1 >> 2;\n      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n      enc4 = chr3 & 63;\n\n      if (isNaN(chr2)) {\n        enc3 = enc4 = 64;\n      } else if (isNaN(chr3)) {\n        enc4 = 64;\n      }\n\n      output = output +\n        _keyStr.charAt(enc1) + _keyStr.charAt(enc2) +\n        _keyStr.charAt(enc3) + _keyStr.charAt(enc4);\n    }\n\n    return output;\n  } // encode\n\n  // public method for decoding\n  static decode(input) {\n    let output = '';\n    let chr1;\n    let chr2;\n    let chr3;\n    let enc1;\n    let enc2;\n    let enc3;\n    let enc4;\n    let i = 0;\n\n    // eslint-disable-next-line\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n    while (i < input.length) {\n      enc1 = _keyStr.indexOf(input.charAt(i++));\n      enc2 = _keyStr.indexOf(input.charAt(i++));\n      enc3 = _keyStr.indexOf(input.charAt(i++));\n      enc4 = _keyStr.indexOf(input.charAt(i++));\n\n      chr1 = (enc1 << 2) | (enc2 >> 4);\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n      chr3 = ((enc3 & 3) << 6) | enc4;\n\n      output += String.fromCharCode(chr1);\n\n      if (enc3 !== 64) {\n        output += String.fromCharCode(chr2);\n      }\n      if (enc4 !== 64) {\n        output += String.fromCharCode(chr3);\n      }\n    }\n\n    output = _utf8_decode(output);\n\n    return output;\n  } // decode\n\n} // Base64\n\nexport default Base64;\n","\nimport ObjectBase from '../ObjectBase';\nimport ModelType, { XObjectProps } from './ModelConsts';\nimport Util from '../Util';\n\nimport Base64 from '../util/Base64';\n\nconst _CLSNAME = 'XObject'; // match class name\n\nconst PROP_TRANSIENT_PARENT = '_tp';\n\n/**\n * Base class for all object models\n * used in any tier of the server\n *\n * WARNING This class is not implemented for embedding\n * at the moment, since the \"data\" property can't\n * be pointed to a JSON sub-record without some\n * unintended consequences.\n */\nclass XObject extends ObjectBase {\n  // Property, Constants, and access selectors\n  static get PROP_ID() { return XObjectProps.ID; }\n  static get PROP_TYPE() { return XObjectProps.TYPE; }\n  static get PROP_PARENT() { return XObjectProps.PARENT; }\n  static get PROP_TITLE() { return XObjectProps.TITLE; }\n  static get PROP_TITLE_FORMAT() { return XObjectProps.TITLE_FORMAT; }\n  static get PROP_DERIVED_TITLE() { return XObjectProps.DERIVED_TITLE; }\n  static get PROP_ORIG_TITLE() { return XObjectProps.ORIG_TITLE; }\n  static get PROP_ORIG_LANG() { return XObjectProps.ORIG_LANG; }\n  static get PROP_SUBTITLE() { return XObjectProps.SUBTITLE; }\n  static get PROP_VERTITLE() { return XObjectProps.VERTITLE; }\n  static get PROP_DESC() { return XObjectProps.DESC; }\n  static get PROP_ICON_URL() { return XObjectProps.ICON_URL; }\n  static get PROP_WWW_URL() { return XObjectProps.WWW_URL; }\n  static get PROP_TEXT_URL() { return XObjectProps.TEXT_URL; }\n  static get PROP_VIDEO_URL() { return XObjectProps.VIDEO_URL; }\n  static get PROP_AUDIO_URL() { return XObjectProps.AUDIO_URL; }\n  static get PROP_IMAGE_URL() { return XObjectProps.IMAGE_URL; }\n  static get PROP_BGIMAGE_URL() { return XObjectProps.BGIMAGE_URL; }\n  static get PROP_VIDEO_DURATION() { return XObjectProps.VIDEO_DURATION; }\n  static get PROP_VIDEO_WIDTH() { return XObjectProps.VIDEO_WIDTH; }\n  static get PROP_VIDEO_HEIGHT() { return XObjectProps.VIDEO_HEIGHT; }\n\n  static get MAIN_DATA() { return XObjectProps.MAIN_DATA; }\n  static get AUX_DATA() { return XObjectProps.AUX_DATA; }\n  static get AUX_CATMAP() { return XObjectProps.AUX_TAGMAP; }\n  static get AUX_TAGMAP() { return XObjectProps.AUX_TAGMAP; }\n\n  static get SNAP_DATA() { return XObjectProps.SNAP_DATA; }\n  static get SNAP_DATE() { return XObjectProps.SNAP_DATE; }\n  static get VISIBILITY() { return XObjectProps.VISIBILITY; }\n  static get PROP_CREATED_DATE() { return XObjectProps.CREATED_DATE; }\n  static get PROP_UPDATED_DATE() { return XObjectProps.UPDATED_DATE; }\n  static get PROP_PUBLISHED_DATE() { return XObjectProps.PUBLISHED_DATE; }\n  static get PROP_EXPIRATION_DATE() { return XObjectProps.EXPIRATION_DATE; }\n  static get PROP_DATA_SOURCE() { return XObjectProps.DATA_SOURCE; }\n\n  static get VISTYPE_PUBLIC() { return XObjectProps.VISTYPE_PUBLIC; }\n  static get VISTYPE_GROUP() { return XObjectProps.VISTYPE_GROUP; }\n  static get VISTYPE_PRIVATE() { return XObjectProps.VISTYPE_PRIVATE; }\n\n  constructor(clsname = _CLSNAME, props = null) {\n    super(clsname);\n    this.class = XObject;\n\n    // This can get replaced when an external\n    // json object is set with setData()\n    this.data = props || {};\n  }\n\n  /**\n   * Called to initialize as new instance. This should be implemented\n   * by each subclass that support this and then call up via\n   * super.initNew();\n   */\n  initNew() {\n    super.initNew();\n    this._setTypeID();\n  }\n\n  _setId(idVal) {\n    return this.getClass().SetId(this.getData(true), idVal);\n  }\n\n  _clearId() {\n    const data = this.getData(false);\n    return data ? this.getClass().ClearId(data) : null;\n  }\n\n  /**\n   * Return the identifier of this object.\n   *\n   * @param {*} defaultVal\n   * @return {string} string identifer\n   */\n  getId(defaultVal = null) {\n    return this.getClass().GetId(this.getData(), defaultVal);\n  }\n\n  /**\n   * Internal function to set the \"type\" property in the wrapped\n   * JSON object. This is normally called with initNew()\n   */\n  _setTypeID(type = null) {\n    const _m = '_setTypeID';\n    if (type == null) {\n      type = this.getClass().GetTypeID();\n      if (type == null) {\n        const cname = this.getClassname();\n        this.error(_m, `Cannot determine type. Class ${cname}'s GetTypeID() returns null! Class constructor: `, this.getClass());\n        console.trace('stack dump');\n        return false;\n      }\n    }\n\n    const data = this.getData(true);\n    if (data[XObject.PROP_TYPE] == null) { // can inherit\n      data[XObject.PROP_TYPE] = type;\n      return true;\n    }\n\n    if (type && data[XObject.PROP_TYPE] !== type) {\n      // this.warn(_m, \"Overriding instance type: \",\n      //     data[XObject.PROP_TYPE], \" with type: '\" + type + \"'\");\n      data[XObject.PROP_TYPE] = type;\n      return true;\n    }\n  } // _setTypeID\n\n  /**\n   * Return the type ID that is stored in this object.\n   *\n   * @return {string} type string stored in PROP_TYPE\n   */\n  getType() {\n    const data = this.getData(false);\n    let type = data ? data[XObject.PROP_TYPE] : null;\n    if (type == null) {\n      type = this.getClass().GetTypeID();\n      this.warn('getType', `obj does not have type field. Returning: ${type} for data: `, JSON.stringify(data));\n      // this.warn(\"getType\", \"Returning static method GetTypeID's value:\", type);\n    }\n    return type;\n  }\n\n  /**\n   * (Transiently) Track an object is this object's \"parent\".\n   *\n   * NOTE: This is a TRANSIENT TRACKING, so it will\n   * not be serialized and show up on the other side\n   * of the network, or stored. There is setXParent\n   * that tracks managed parent object's ID\n   *\n   * @param {*} obj\n   * @return {*} previously set parent, if any\n   *\n   * @see ~getTParent\n   * @see ~setXParent\n   */\n  setTParent(obj) {\n    const prevP = this[PROP_TRANSIENT_PARENT];\n    this[PROP_TRANSIENT_PARENT] = obj;\n    if (Util.NotNull(prevP)) { this.warn('_setTP', 'Override'); }\n    return prevP;\n  }\n\n  /**\n   * Return a parent object that was explicitly tracked\n   * in the same memory space.\n   *\n   * NOTE: If you set the parent and then transmit this\n   * object over network or store/fetch, the tracking will\n   * be lost!  There is getXParent that returns managed\n   * parent object Id.\n   *\n   * @param {*} defaultVal\n   * @return {*} object tracked with setParent()\n   *\n   * @see ~setTParent\n   * @see ~getXParent\n   */\n  getTParent(defaultVal = null) {\n    return this[PROP_TRANSIENT_PARENT] ? this[PROP_TRANSIENT_PARENT] : defaultVal;\n  }\n\n  /**\n   * Set direct title value into this instance. There are\n   * other methods that derive/proxy titles among set of\n   * related objects.\n   *\n   * @param {string} title\n   */\n  setTitle(title) {\n    return this.set(XObject.PROP_TITLE, title);\n  }\n\n  /**\n   * Return title property.\n   *\n   * @param {*} defaultVal\n   */\n  getTitle(defaultVal = null) {\n    return this.get(XObject.PROP_TITLE, defaultVal);\n  }\n\n  /**\n   * Set title format string\n   *\n   * @param {string} titleFormat\n   */\n  setTitleFormat(titleFormat) {\n    this.set(XObject.PROP_TITLE_FORMAT, titleFormat);\n  }\n\n  /**\n   * Return title format string\n   *\n   * @param {*} defaultVal\n   * @return {string} title format previously set\n   */\n  getTitleFormat(defaultVal = null) {\n    return this.get(XObject.PROP_TITLE_FORMAT, defaultVal);\n  }\n\n  /**\n   * Set derived title value into this instance.\n   *\n   * @param {string} title\n   */\n  setDerivedTitle(title) {\n    this.set(XObject.PROP_DERIVED_TITLE, title);\n  }\n\n  /**\n   * Return stored derive title or dynamically formatted\n   * if there is a title format stored.\n   *\n   * @param {*} defaultVal\n   * @return {string} title stored in derived property or\n   * derived immediately.\n   */\n  getDerivedTitle(defaultVal = null) {\n    let ttl = this.get(XObject.PROP_DERIVED_TITLE, null);\n    if (Util.NotNull(ttl)) { return ttl; }\n\n    const ttlf = this.getTitleFormat(null);\n    if (Util.NotNull(ttlf)) { ttl = this.getEmbedded(ttlf); }\n    return (Util.NotNull(ttl)) ? ttl : defaultVal;\n  }\n\n  /**\n   * Set original title value into this instance. This\n   * is used if title is different than the original,\n   * which does imply also a different language\n   * than English since we are English first website.\n   *\n   * @param {string} title\n   */\n  setOriginalTitle(title, lang) {\n    this.set(XObject.PROP_ORIG_TITLE, title);\n    if (lang) { this.set(XObject.PROP_ORIG_LANG, lang); }\n  }\n\n  /**\n   * Set subtitle value into this instance. Subtitle\n   * is like a \"tagline\", and typically a one-liner.\n   *\n   * @param {string} subtitle\n   */\n  setSubTitle(subtitle) {\n    return this.set(XObject.PROP_SUBTITLE, subtitle);\n  }\n\n  /**\n   * Return subtitle property.\n   *\n   * @param {*} defaultVal\n   * @return {string} subtitle 1-liner string\n   */\n  getSubTitle(defaultVal = null) {\n    return this.get(XObject.PROP_SUBTITLE, defaultVal);\n  }\n\n  /**\n   * Return original title property.\n   *\n   * @param {*} defaultVal\n   */\n  getOriginalTitle(defaultVal = null) {\n    return this.get(XObject.PROP_ORIG_TITLE, defaultVal);\n  }\n\n  /**\n   * Return original title language\n   *\n   * @param {*} defaultVal\n   */\n  getOriginalTitleLang(defaultVal = null) {\n    return this.get(XObject.PROP_ORIG_TITLE_LANG, defaultVal);\n  }\n\n  /**\n   * @param {string} desc\n   */\n  setDescription(desc) {\n    return this.set(XObject.PROP_DESC, desc);\n  }\n\n  /**\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getDescription(defaultVal = null) {\n    return this.get(XObject.PROP_DESC, defaultVal);\n  }\n\n  /**\n   * @param {string} url\n   */\n  setIconUrl(url) {\n    return this.set(XObject.PROP_ICON_URL, url);\n  }\n\n  /**\n   * @param {*} defaultVal\n   * @return {string} url\n   */\n  getIconUrl(defaultVal = null) {\n    return this.get(XObject.PROP_ICON_URL, defaultVal);\n  }\n\n  /**\n   * Set the data source identifier. Data source is only\n   * tracked if it's from third party that need to be\n   * acknowledged.\n   *\n   * @param {string} srcId should be fully qualified, unless it's\n   * within default domain.\n   */\n  setDataSource(srcId) {\n    return this.set(XObject.PROP_DATA_SOURCE, srcId);\n  }\n\n  /**\n   * Get data source Id, which should be acronym\n   * of the origin where the data came from\n   *\n   * @param {*} defaultVal\n   * @return {string} authorative web page url\n   */\n  getDataSource(defaultVal = null) {\n    return this.get(XObject.PROP_DATA_SOURCE, defaultVal);\n  }\n\n  /**\n   * Set the definitive home page's URL.\n   *\n   * @param {string} url should be fully qualified, unless it's\n   * within default domain.\n   */\n  setWWWUrl(url) {\n    return this.set(XObject.PROP_WWW_URL, url);\n  }\n\n  /**\n   * Get main web page URL\n   *\n   * @param {*} defaultVal\n   * @return {string} authorative web page url\n   */\n  getWWWUrl(defaultVal = null) {\n    return this.get(XObject.PROP_WWW_URL, defaultVal);\n  }\n\n  /**\n   * Set \"the\" text page link for the content that this instance\n   * represents.\n   *\n   * @param {string} url should be fully qualified, unless it's\n   * within default domain.\n   */\n  setTextUrl(url) {\n    return this.set(XObject.PROP_TEXT_URL, url);\n  }\n\n  /**\n   * Get main text URL. This is probably useless given most\n   * are web page these days...\n   *\n   * @param {*} defaultVal\n   * @return {string} authorative web page url\n   */\n  getTextUrl(defaultVal = null) {\n    return this.get(XObject.PROP_TEXT_URL, defaultVal);\n  }\n\n  /**\n   * Set \"the\" video page link for the content that this instance\n   * represents.\n   *\n   * @param {string} url should be fully qualified, unless it's\n   * within default domain.\n   */\n  setVideoUrl(url) {\n    return this.set(XObject.PROP_VIDEO_URL, url);\n  }\n\n  /**\n   * Get URL to the main video\n   *\n   * @param {*} defaultVal\n   * @return {string} authorative video url\n   */\n  getVideoUrl(defaultVal = null) {\n    return this.get(XObject.PROP_VIDEO_URL, defaultVal);\n  }\n\n  /**\n   * Set duration of the video\n   *\n   * @param {number} seconds\n   * within default domain.\n   */\n  setVideoDuration(seconds) {\n    return this.set(XObject.PROP_VIDEO_DURATION, seconds);\n  }\n\n  /**\n   * Get the duration of the main video\n   *\n   * @param {*} defaultVal\n   * @return {string} duration\n   */\n  getVideoDuration(defaultVal = null) {\n    return this.get(XObject.PROP_VIDEO_DURATION, defaultVal);\n  }\n\n\n  /**\n   * Set video width.\n   *\n   * @param {number} width\n   */\n  setVideoWidth(width) {\n    return this.set(XObject.PROP_VIDEO_WIDTH, width);\n  }\n\n  /**\n   * Return the video width\n   *\n   * @param {*} defaultVal\n   * @return {number} width\n   */\n  getVideoWidth(defaultVal = null) {\n    return this.get(XObject.PROP_VIDEO_WIDTH, defaultVal);\n  }\n\n  /**\n   * Set video height.\n   *\n   * @param {number} height\n   */\n  setVideoHeight(height) {\n    return this.set(XObject.PROP_VIDEO_HEIGHT, height);\n  }\n\n  /**\n   * Return the video height\n   *\n   * @param {*} defaultVal\n   * @return {number} height\n   */\n  getVideoHeight(defaultVal = null) {\n    return this.get(XObject.PROP_VIDEO_HEIGHT, defaultVal);\n  }\n\n\n  /**\n   * Set \"the\" audio page link for the content that this instance\n   * represents.\n   *\n   * @param {string} url should be fully qualified, unless it's\n   * within default domain.\n   */\n  setAudioUrl(url) {\n    return this.set(XObject.PROP_AUDIO_URL, url);\n  }\n\n  /**\n   * Get URL to the main audio\n   *\n   * @param {*} defaultVal\n   * @return {string} authorative video url\n   */\n  getAudioUrl(defaultVal = null) {\n    return this.get(XObject.PROP_AUDIO_URL, defaultVal);\n  }\n\n  /**\n   * Set \"the\" image page link for the content that this instance\n   * represents.\n   *\n   * @param {string} url should be fully qualified, unless it's\n   * within default domain.\n   */\n  setImageUrl(url) {\n    return this.set(XObjectProps.IMAGE_URL, url);\n  }\n\n  /**\n   * Get URL to the main image. The URL maybe derived\n   * based on size requested.\n   *\n   * @param {*} defaultVal\n   * @return {string} authorative video url\n   */\n  getImageUrl(defaultVal = null) {\n    return this.get(XObjectProps.IMAGE_URL, defaultVal);\n  }\n\n  /**\n   * Set an image url as background (or static) image link.\n   * This should not be an animated GIF.\n   *\n   * @param {string} url\n   */\n  setBackgroundImageUrl(url) {\n    return this.set(XObjectProps.BGIMAGE_URL, url);\n  }\n\n  /**\n   * @param {*} defaultVal\n   * @return {string} url\n   */\n  getBackgroundImageUrl(defaultVal = null) {\n    return this.get(XObjectProps.BGIMAGE_URL, defaultVal);\n  }\n\n  /**\n   * Set color code for background, if make sense for\n   * a subclass instance\n   *\n   * @param {string} colorCode\n   * @return {string} previous set value\n   */\n  setBackgroundColor(colorCode) {\n    return this.set(XObjectProps.BGCOLOR, colorCode);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string} set value, if any\n   */\n  getBackgroundColor(defaultVal = null) {\n    return this.get(XObjectProps.BGCOLOR, defaultVal);\n  }\n\n  /**\n   * Set color code for foreground, if make sense for\n   * a subclass instance\n   *\n   * @param {string} colorCode\n   * @return {string} previous set value\n   */\n  setForegroundColor(colorCode) {\n    return this.set(XObjectProps.FGCOLOR, colorCode);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string} set value, if any\n   */\n  getForegroundColor(defaultVal = null) {\n    return this.get(XObjectProps.FGCOLOR, defaultVal);\n  }\n\n  //\n  // This section has the getter/setter for embedded objects and their fields\n  //\n\n  /**\n   * Return value of a property that is directly on this\n   * class instance, NOT in the wrapped data (PROP_MAIN)\n   *\n   * @param {string} label property name\n   * @param {boolean} create if doesn't exist, create if true\n   * @return {object=}\n   *\n   * @see ~getXObject\n   * @see ~setObject\n   */\n  getObject(label, create = false) {\n    let objData = this[label];\n    if ((objData == null) && create) {\n      objData = {};\n      this[label] = objData;\n    }\n    return this[label];\n  }\n\n  /**\n   * Return wrapped value of a property that is directly on this\n   * class instance, not inside wrapped data (PROP_MAIN)\n   *\n   * @param {string} label\n   * @param {*} defaultVal\n   * @return {XObject} wrapped value if has PROP_TYPE (_t)\n   */\n  getXObject(label, defaultVal = null) {\n    const jsonObj = this.getObject(label, false);\n    return jsonObj ? XObject.Wrap(jsonObj) : defaultVal;\n  }\n\n  /**\n   * Set the value of a direct property that is of an object type.\n   * If it's an XObject, it will be unwrapped.\n   *\n   * @param {string} label\n   * @param {{}} jsonObj\n   * @return {{}} previous set json object\n   *\n   * @see ~getObject\n   */\n  setObject(label, jsonObj) {\n    // complete replacement\n    jsonObj = XObject.Unwrap(jsonObj);\n    let prevObj = null;\n    if (this[label] !== jsonObj) {\n      prevObj = this[label];\n      this[label] = jsonObj;\n      this.setDirty();\n    }\n    return prevObj;\n  }\n\n  /**\n   * Used for property watching subscription. Watching properties\n   * under MAIN_DATA require pre-pending and this helps with that.\n   *\n   * @param {string} topLabel\n   * @param {string} field\n   * @return {string}\n   */\n  getXPropertyPath(topLabel, field) {\n    if (topLabel == null) { topLabel = XObject.MAIN_DATA; }\n    return `${topLabel}.${field}`;\n  }\n\n  /**\n   * Setting a field (property) of an immediate embedded object/json\n   * inside this instance.\n   *\n   * NOTE: value will only be replaced if it's not identicial using  !==\n   *\n   * @param {string} label property name of the embedded object\n   * @param {string} field property name of the field inside the embedded object\n   * @param {*} value\n   * @return {*} old value\n   *\n   * @see ~setXObjectField\n   * @see XObject#SetObjectField\n   * @see ~importObjectFields\n   */\n  setObjectField(label, field, value) {\n    // this.log(\"setObjectField\", `label=${label}, field=${field}, value=${value}`);\n    const oldValue = this.getClass().SetObjectField(this.getObject(label, true), field, value);\n    if (oldValue !== value) {\n      this.setDirty();\n      const propname = this.getXPropertyPath(label, field);\n      this._dispatchHandlers(propname, oldValue, value);\n    }\n    return oldValue;\n  } // setObjectField\n\n  /**\n   * Setting a field (property) of an immediate embedded XObject instance\n   * inside this instance. The actual stored data is the json data stored in\n   * the XObject instance.\n   *\n   * @param {string} label property name of the embedded object\n   * @param {string} field property name of the field inside the embedded object\n   * @param {XObject} xobj wrapped instance for which it's json data is to be embedded\n   *\n   * @see ~setObjectField\n   * @see ~setX\n   */\n  setXObjectField(label, field, xobj) {\n    const oldValue = this.getClass().SetXObjectField(this.getObject(label, true), field, xobj);\n\n    // Can't really compare...\n    if (oldValue !== xobj) {\n      this.setDirty();\n      const propname = this.getXPropertyPath(label, field);\n      this._dispatchHandlers(propname, oldValue, xobj);\n    }\n    return oldValue;\n  }\n\n  /**\n   * Import multiple values into this object's content\n   *\n   * @param {{}} props\n   * @param {boolean} override true to override existing\n   */\n  importObjectFields(props, override = false) {\n    const data = this.getData(true);\n    const replacedData = this.getClass().ImportObjectFields(data, props, override);\n    if (replacedData && replacedData.keys && replacedData.keys.length > 0) { this.setDirty(); }\n    return replacedData;\n  }\n\n  /**\n   * Return an embedded object (json)'s value at the given field.\n   *\n   * @param {string} label\n   * @param {string} field\n   * @param {*} defaultVal\n   * @return {{}} json object\n   *\n   * @see ~getXObjectField\n   * @see ~clearObjectField\n   * @see ~hasObjectField\n   */\n  getObjectField(label, field, defaultVal = null) {\n    const obj = this.getObject(label, false);\n    if (obj == null) { return defaultVal; }\n    return this.getClass().GetObjectField(obj, field, defaultVal);\n  } // getObjectField\n\n  /**\n   * Return an embedded object (json)'s value at the given field,\n   * but wrap first as XObject instance before returning.\n   *\n   * @param {string} label\n   * @param {string} field\n   * @param {*} defaultVal\n   * @return {XObject} wrapped instance or defaultVal\n   */\n  getXObjectField(label, field, defaultVal = null) {\n    const obj = this.getObject(label, false);\n    if (obj == null) { return defaultVal; }\n    return this.getClass().GetXObjectField(obj, field, defaultVal);\n  } // getObjectField\n\n  /**\n   * Check if a field inside a json property exists\n   *\n   * @param {string} label key to json property\n   * @param {string} field property label to find inside the json property\n   * @param {boolean} existOK if true, check stops at property exists.\n   * if false, then the value associated with propety will be checked for not null or undefined\n   * @return {boolean} true if field (property/key) exists within the given object,\n   * unless existOK is set to false for which the actual value is checked.\n   *\n   * @see ~has\n   */\n  hasObjectField(label, field, existOK = true) {\n    const obj = this.getObject(label, false);\n    if (obj == null) { return false; }\n    return this.getClass().HasObjectField(obj, field, existOK);\n  } // hasObjectField\n\n  /**\n   * Clear the value of a field of an immediate embedded object/json\n   * inside this instance.\n   *\n   * @param {string} label property label of the contained object\n   * @param {string} field field within the contained object\n   */\n  clearObjectField(label, field) {\n    const obj = this.getObject(label, false);\n    if (obj == null) { return false; }\n    const cleared = this.getClass().ClearObjectField(obj, field);\n    if (cleared) {\n      this.setDirty();\n      const propname = this.getXPropertyPath(label, field);\n      this._dispatchHandlers(propname, null, null);\n    }\n    return cleared;\n  } // clearObjectField\n\n  /**\n   * Given an object with properties, extract a subset\n   * using the inclusion and exclusion field name list.\n   *\n   * @param {*} inFields array of property names to include\n   * @param {*} excFields array of property names to exclude.\n   * If property name is found in both include and exclude list,\n   * the exclusion will win.\n   * @return {{}} new json object with subset of properties\n   */\n  getObjectFields(inFields = null, exFields = null) {\n    const data = this.getData(false);\n    return data ? XObject.GetObjectFields(data, inFields, exFields) : [];\n  }\n\n  /**\n   * Setting a field (property) of an immediate embedded object/json\n   * with a converted base64 value\n   *\n   * NOTE: value will only be replaced if it's not identicial using  !==\n   *\n   * @param {string} label property name of the embedded object\n   * @param {string} field property name of the field inside the embedded object\n   * @param {*} value\n   * @return {*} old value\n   *\n   * @see XObject#SetObjectField\n   * @see ~importObjectFields\n   */\n  setBase64Field(label, field, value) {\n    const oldValue = XObject.SetBase64Field(this.getObject(label, true), field, value);\n    if (oldValue !== value) { this.setDirty(); }\n    return oldValue;\n  }\n\n  /**\n   * Return an embedded object (json)'s value decoded using base64 algorithm\n   *\n   * @param {string} label\n   * @param {string} field\n   * @param {*} defaultVal\n   */\n  getBase64Field(label, field, defaultVal = null) {\n    const obj = this.getObject(label, false);\n    if (obj == null) { return defaultVal; }\n    return XObject.GetBase64Field(obj, field, defaultVal);\n  }\n\n  /**\n   * Setting a field (property) of an immediate embedded object/json\n   * proceeded with an encryption\n   *\n   * NOTE: value will only be replaced if it's not identicial using  !==\n   *\n   * @param {string} label property name of the embedded object\n   * @param {string} field property name of the field inside the embedded object\n   * @param {*} value\n   * @return {*} old value\n   *\n   * @see XObject#GetObjectField\n   * @see ~importObjectFields\n   */\n  setEncryptedField(label, field, value) {\n    const oldValue = XObject.SetEncryptedField(this.getObject(label, true), field, value);\n    if (oldValue !== value) { this.setDirty(); }\n    return oldValue;\n  }\n\n  /**\n   * Return an embedded object (json)'s encrypted value decrypted\n   *\n   * @param {string} label\n   * @param {string} field\n   * @param {*} defaultVal\n   * @return {*} decrypted\n   */\n  getEncryptedField(label, field, defaultVal = null) {\n    const obj = this.getObject(label, false);\n    if (obj == null) { return defaultVal; }\n    return XObject.GetEncryptedField(obj, field, defaultVal);\n  }\n\n  /**\n   * Track a object designated as the parent container of this.\n   * This is transient tracking and won't be saved.\n   *\n   * @param {XObject} xobj designated parent object to track\n   * as direct property of this instance in memory (not persistent)\n   *\n   * @see ~setXParent\n   */\n  setTransientXParent(xobj) {\n    this.xp = xobj;\n  }\n\n  /**\n   * Retrieve a (transient) tracked parent object.\n   *\n   */\n  getXParent(defaultVal = null) {\n    return this.xp ? this.xp : defaultVal;\n  }\n\n  /**\n   * Set the parent property to the id of the parent.\n   * And track the parent object as a transient via immediate\n   * property.\n   *\n   * NOTE 2/10/2020: setting parent ID no longer make practical sense\n   * as cloning will take too much work to go through each rank item\n   * and clear/replace parent Id. So for now it's only transient tracking.\n   *\n   * @param {XObject} xobj object to reference as parent\n   * @return {XObject} previous parent if any, or null\n   */\n  setXParent(xobj) {\n    let retval;\n    if (xobj) {\n      // let parentId = XObject.GetId(xobj); // in case it's only json\n      // retval = this.set(XObject.PROP_PARENT, parentId);\n      this.setTransientXParent(xobj);\n    } else { retval = null; }\n    return retval;\n  }\n\n  /**\n   * Retrieve parent Id. If null as a json property,\n   * then check if it is tracked as a transient.\n   *\n   * @param {*} defaultVal if no Id is found\n   * @return {string} parent object Id or default value\n   */\n  getXParentId(defaultVal = null) {\n    let parentId = this.get(XObject.PROP_PARENT, null);\n    if (parentId == null) {\n      const pobj = this.getXParent(null);\n      if (Util.NotNull(pobj)) { parentId = XObject.GetId(pobj); }\n    }\n    return parentId || defaultVal;\n  }\n\n\n  // Getters and setts for the main streamable content\n\n  /**\n   * Return all property names of the first level\n   * fields.\n   *\n   * @return {[]} array of field names\n   */\n  getLabels() {\n    const data = this.getData(false);\n    return (Util.NotNull(data)) ? Object.keys(data) : [];\n  }\n\n  /**\n   * Retrieve the main data wrapped by this object\n   *\n   * @param {boolean} create true to create empty {} if null\n   * @see #getAux()\n   * @see #setData()\n   * @see #cloneData()\n   */\n  getData(create = false) {\n    if (this[XObject.MAIN_DATA] == null && create) {\n      this[XObject.MAIN_DATA] = {};\n      this.warn('getData', 'delayed creation of data content');\n    }\n    return this[XObject.MAIN_DATA];\n  }\n\n  /**\n   * Replace main data wrapped by this object.\n   *\n   * WARNING: This will unconditionally replacing\n   * existing data.\n   *\n   * @return {{}} previous data if any\n   *\n   * @see #getData\n   * @see #getAux\n   */\n  setData(data) {\n    if (this[XObject.MAIN_DATA] === data) { return; }\n\n    const prevData = this[XObject.MAIN_DATA];\n    this[XObject.MAIN_DATA] = data;\n    this.setDirty();\n    return prevData;\n  }\n\n  /**\n   * Return a fully cloned (deep copied) version\n   * of the JSON data wrapped by this object.\n   *\n   * @return {object} cloned data, or null if there is\n   * no data wrapped by this object\n   *\n   * @see #getData()\n   * @see XObject#CloneData()\n   */\n  cloneData() {\n    const data = this.getData(false);\n    if (data == null) { return null; }\n    return XObject.CloneData(data);\n  }\n\n\n  /**\n   * Clone an instance of this object, including the wrapper class.\n   */\n  cloneInstance() {\n    const newObj = XObject.CloneInstance(this);\n\n    // do some tweaking that cannot be done at static method level?\n\n    return newObj;\n  }\n\n  // --------------------- Delta Tracking / Generation ----------------------\n\n  /**\n   * Retrieve the snapshot data stored as a transient in\n   * this object (no serialization)\n   *\n   * @param {boolean} create true to create empty {} if null\n   * @return {{}} json data\n   * @see #createSnapshot()\n   * @see #clearSnapshot()\n   * @see #getDelta\n   */\n  getSnapshot(create = false, defaultVal = null) {\n    if (this[XObject.SNAP_DATA] == null && create) {\n      this[XObject.SNAP_DATA] = {};\n    }\n    return this[XObject.SNAP_DATA] ? this[XObject.SNAP_DATA] : defaultVal;\n  }\n\n  /**\n   * Return snapshot data stored wrapped in XObject\n   *\n   * @param {boolean} create\n   * @param {*} defaultVal\n   */\n  getXSnapshot(create = false, defaultVal = null) {\n    const sdata = this.getSnapshot(create, null);\n\n    return sdata ? XObject.Wrap(sdata) : defaultVal;\n  }\n\n  /**\n   * Internal function to track a snapshot. This is not for\n   * general use.\n   *\n   * @param {{}} data json data that will be used as snapshot data\n   */\n  _setSnapshot(data) {\n    if (Util.NotNull(data)) {\n      this[XObject.SNAP_DATA] = data;\n      this[XObject.SNAP_DATE] = Date.now();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Create a snapshot of the current data wrapped\n   * by this class.\n   *\n   * @param {boolean} override true to allow override existing.\n   * @return {boolean} true if created, faslse if existing and\n   * no override, or new (if XMObject)\n   *\n   * @see #getSnapshot\n   * @see #clearSnapshot\n   * @see #getDelta\n   */\n  createSnapshot(override = true) {\n    const snapdata = this.getSnapshot(false);\n    if (snapdata && !override) {\n      return false;\n    }\n    const data = this.getData(false);\n    const snapshot = XObject.CloneData(data);\n\n    return this._setSnapshot(snapshot);\n  } // createSnapshot\n\n  /**\n   * Restore previously snapshot data.\n   *\n   * @param {boolean} clearModified ture to reset modified flag.\n   * @return {{}} the data this function\n   * just replaced with snapshot data.\n   */\n  resetFromSnapshot(clearModified = false) {\n    const snapdata = this.getSnapshot(false);\n    if (snapdata == null) {\n      return false;\n    }\n\n    const newData = XObject.CloneData(snapdata);\n    const oldData = this.setData(newData);\n    if (clearModified) { this.clearModified(); }\n    return oldData;\n  } // resetFromSnapshot\n\n  /**\n   * Reset snapshot data and timestamp\n   *\n   * @param {boolean} clearModified ture to reset modified flag.\n   * @return {boolean} true if there is a snapshot to clear,\n   * false if there was nothing to clear\n   *\n   * @see #getSnapshot\n   * @see #createSnapshot\n   * @see #getDelta\n   */\n  clearSnapshot(clearModified = false) {\n    if (clearModified) { this.clearModified(); }\n\n    if (this[XObject.SNAP_DATA] == null) { return false; }\n    this[XObject.SNAP_DATA] = null;\n    this[XObject.SNAP_DATE] = null;\n\n    return true;\n  } // cloneSnapshot\n\n  /**\n   * Report on whether a snapshot has been created\n   * and tracked by this object.\n   *\n   * @return {boolean} true if snapshot exists\n   */\n  hasSnapshot() {\n    const snapshot = this.getSnapshot(false, null);\n    return (Util.NotNull(snapshot));\n  }\n\n  /**\n   * Check if a delta can produce non-empty\n   * result.\n   *\n   * @return {boolean} true if delta can be generated\n   */\n  hasDelta() {\n    // First, there has to be a snapshot or we can't\n    // check for differences\n    const snapshot = this.getSnapshot(false, null);\n    if (snapshot == null) { return false; }\n\n    // Next, Check the updated timestamp of the snapshot\n    // and the current version.\n    const current = this.getData(false);\n    const snapshotTS = XObject.GetUpdatedTS(snapshot, null);\n    const currentTS = XObject.GetUpdatedTS(current, null);\n    this.log('hasDelta', `SnapshotTS: ${snapshotTS}, currentTS: ${currentTS}`);\n    return (snapshotTS === currentTS);\n  } // hasDelta\n\n  /**\n   * Check value of the field against snapshot and report if changed.\n   *\n   * @param {string} field\n   * @return {boolean} true if changed, false if no change or no snapshot\n   */\n  changedFromSnapshot(field) {\n    const snapshotData = this.getSnapshot();\n    if (snapshotData == null) { return false; }\n\n    const curVal = this.get(field, null);\n    const origVal = XObject.GetObjectField(snapshotData, field, null);\n    return curVal !== origVal;\n  } // changedFromSnapshot\n\n  // ---------------- BASIC GETTER and SETTER on Fields --------------------\n\n  /**\n   * Set a field/value entry into the main data json\n   *\n   * @param {string} field\n   * @param {*} value\n   * @return {*} old Value\n   */\n  set(field, value) {\n    return this.setObjectField(XObject.MAIN_DATA, field, value);\n  }\n\n  /**\n   * Set an XObject's data as a field entry into the main data json\n   *\n   * @param {string} field\n   * @param {*} value\n   * @return {*} old Value (not wrapped)\n   *\n   */\n  setX(field, xobj) {\n    return this.setXObjectField(XObject.MAIN_DATA, field, xobj);\n  }\n\n  /**\n   * Return the value of the field defined in the main dat ajson\n   *\n   * @param {string} field\n   * @param {*} defaultVal\n   * @return {*} value\n   *\n   * @see ~getEmbedded\n   * @see ~getMultiple\n   */\n  get(field, defaultVal = null) {\n    return this.getObjectField(XObject.MAIN_DATA, field, defaultVal);\n  }\n\n  /**\n   * Retrieve the property into the json data as wrapped XObject instance.\n   *\n   * @param {*} field\n   * @param {*} defaultVal\n   * @return {XObject} wrapped json data\n   */\n  getX(field, defaultVal = null) {\n    return this.getXObjectField(XObject.MAIN_DATA, field, defaultVal);\n  }\n\n  /**\n   * Check if a property exists or has null value\n   *\n   * @param {string} field key to property value\n   * @param {boolean} existOK if true, check stops at property exists.\n   * if false, then the value associated with propety will be checked for not null or undefined\n   * @return {boolean} true if field (property/key) exists within the given object,\n   * unless existOK is set to false for which the actual value is checked.\n   *\n   */\n  has(field, existOK = true) {\n    return this.hasObjectField(XObject.MAIN_DATA, field, existOK);\n  }\n\n  /**\n   * Get Embedded value\n   *\n   * Given a path separated by dot \".\", navigate into embedded json\n   * structures to retrieve the value associate with the path.\n   *\n   * @param {string} path format of \"key1.key2.key3\"\n   * @param {*} defaultVal value to return if real value not found\n   *\n   * @see ~get\n   * @see ~getm\n   */\n  getEmbedded(path, defaultVal = null) {\n    const data = this.getData(false);\n    if (!data) { return defaultVal; }\n    const value = Util.GetEmbeddedJSONPaths(data, path);\n\n    return value;\n  }\n\n  /**\n   * Retrieve multiple values for a list of given fields\n   *\n   * @param {[]=} fields list of property names. If null, use all field names\n   * @param {defaultVal=} default value when no value exist for the field\n   * @return {[]} corresponding array for values, if no value, defaultVal\n   * is used. null is returned if given field array is not an array\n   *\n   * @see ~getLabels()\n   */\n  getMultiple(fields = null, defaultVal = null) {\n    if (fields == null) {\n      fields = this.getLabels();\n    }\n    if (!Array.isArray(fields)) { return null; }\n    const len = fields.length;\n    let name;\n    let value;\n    const values = [];\n    for (let i = 0; i < len; i++) {\n      name = fields[i];\n      value = (Util.NotNull(name)) ? this.get(name, defaultVal) : defaultVal;\n      values.push(value);\n    }\n    return values;\n  }\n\n  /**\n   * Return the field value as a boolean type.\n   * @param {string} field\n   * @param {boolean} defaultVal\n   */\n  getBoolean(field, defaultVal = false) {\n    const val = this.get(field, null);\n    return Util.toBoolean(val, defaultVal);\n  }\n\n  /**\n   * Return a field value as a number\n   *\n   * @param {string} field\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  getNumber(field, defaultVal = null) {\n    const val = this.get(field, null);\n    return val ? Util.toNumber(val, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set a field/value entry into the main data json\n   *\n   * @param {string} field\n   * @param {*} value\n   * @return {*} old Value\n   */\n  setBase64(field, value) {\n    return this.setBase64Field(XObject.MAIN_DATA, field, value);\n  }\n\n  /**\n   * Return the value of the field defined in the main dat ajson\n   *\n   * @param {string} field\n   * @param {*} defaultVal\n   * @return {*} value\n   */\n  getBase64(field, defaultVal = null) {\n    return this.getBase64Field(XObject.MAIN_DATA, field, defaultVal);\n  }\n\n  /**\n   * Encrypted and set field/value entry into the main data json\n   *\n   * @param {string} field\n   * @param {*} value\n   * @return {*} old Value\n   */\n  setEncrypted(field, value) {\n    return this.setEncryptedField(XObject.MAIN_DATA, field, value);\n  }\n\n  /**\n   * Decrypte and return encrypted value of the field defined in the main data json\n   *\n   * @param {string} field\n   * @param {*} defaultVal\n   * @return {*} value\n   */\n  getEncrypted(field, defaultVal = null) {\n    return this.getEncryptedField(XObject.MAIN_DATA, field, defaultVal);\n  }\n\n  /**\n   * clear/remove a field.\n   *\n   * @param {string} field\n   * @return {boolean} true if field removed, false if field\n   * never exists\n   */\n  clear(field) {\n    return this.clearObjectField(XObject.MAIN_DATA, field);\n  }\n\n  // Object-in-cache status (not implemented at this level)\n\n  /**\n   * Mark this object's data as modified.\n   * Implementation is done by subclass\n   * XMObject. At this level it's abstract and no-op\n   * unless it is contained in which case we'll\n   * check with parent.\n   *\n   * @return {boolean} true if parent object is marked as dirty,\n   * or null if no parent.\n   */\n\n  setDirty() {\n    // Overrriden in XMObject\n    const xparent = this.getXParent(null);\n    return xparent ? xparent.setDirty() : null;\n  }\n\n  /**\n   * Return whether this object's data is marked as\n   * dirty (or modified). Implementation is done\n   * by subclass XMObject. At this level it's\n   * abstract and no-op.\n   *\n   * @return {boolean} true if it's marked as dirty\n   */\n  isDirty() {\n    const xparent = this.getXParent(null);\n    return xparent ? xparent.isDirty() : null;\n    // Overridden in XMObject\n  }\n\n  /**\n   * Return whether this object's data is marked\n   * either as dirty or new.\n   *\n   * @return {boolean} true if it's marked as new or dirty\n   */\n  isModified() {\n    // implemented by subclass\n    return this.isDirty();\n  }\n\n  clearModified() {\n    return null;\n  }\n\n  /**\n   * Clear dirty flag if tracking is enabled. This\n   * is for subclass (XMObject-level) implementation.\n   * At this level it's abstract (no-op) but we go\n   * to parent if this is contained.\n   *\n   * @return {boolean} true if has parent and cleared.\n   * Null if no-op\n   */\n  clearDirty() {\n    // Overridden in XMObject\n    const xparent = this.getXParent(null);\n    return xparent ? xparent.cleardirty() : false;\n  }\n\n  // ---------------- Creation / update / publish timestaps -------------\n\n  /**\n   * Set creation date. If null timestamp is given, will\n   * assume current time.\n   *\n   * @param {number} ts epoch time or null\n   */\n  setCreatedTS(ts = null) {\n    return XObject.SetCreatedTS(this.getData(true), ts);\n  }\n\n  /**\n   * Used by StorageManager. Indicate this class of objects\n   * must have a creation timestamp. This is to be overridden\n   * by subclass\n   *\n   * @return {boolean} true to enforce a creation timestamp.\n   *\n   * @see ~mustHaveUpdatedTS()\n   */\n  mustHaveCreatedTS() {\n    return true;\n  }\n\n  /**\n   * Return the created timestamp value.\n   *\n   * @param {*} defaultVal (-1)\n   * @return {number} timestamp if exists, defaultVal if not\n   *\n   * @see ~getUpdatedTS\n   * @see ~getTS\n   */\n  getCreatedTS(defaultVal) {\n    const data = this.getData(false);\n    return data ? XObject.GetCreatedTS(data, defaultVal) : defaultVal;\n  }\n  _clearCreatedTS() {\n    const retVal = XObject.ClearCreatedTS(this.getData());\n    if (this.isDirty() === false) { this.setDirty(); }\n    return retVal;\n  }\n\n  /**\n   * Set updated timestamp. While this can be called during\n   * model manipulation session, the \"final\" update will occur\n   * when writing to storage in StorageManager. So best\n   * to use editedTS.\n   *\n   * @param {number} timeVal specific time to set, null to use current time\n   *\n   * @see ~setEditedTS\n   * @see ~setCreatedTS\n   */\n  setUpdatedTS(timeVal = null) {\n    if (timeVal == null) { timeVal = Date.now(); }\n    const retVal = XObject.SetUpdatedTS(this.getData(), timeVal);\n    if (this.isDirty() === false) {\n      this.setDirty();\n      const propname = this.getXPropertyPath(null, XObject.UPDATED_DATE);\n      this._dispatchHandlers(propname, retVal, timeVal);\n    }\n    return retVal;\n  } // setUpdatedTS\n\n  /**\n   * Used by StorageManager. Indicate this class of objects\n   * must have an updated timestamp. This is to be overridden\n   * by subclass\n   *\n   * @return {boolean} true to enforce a updated timestamp.\n   *\n   * @see ~mustHaveCreatedTS()\n   */\n  mustHaveUpdatedTS() {\n    return true;\n  }\n\n  /**\n   * Get updated timestamp value stored in json. If you want\n   * to fetch created timestamp as a fallback, use getTS()\n   * instead\n   *\n   * @param {*} defaultVal\n   *\n   * @see ~getTS\n   */\n  getUpdatedTS(defaultVal = -1) {\n    const data = this.getData(false);\n    return data ? XObject.GetUpdatedTS(data, defaultVal) : defaultVal;\n  }\n\n  _clearUpdatedTS() {\n    const retVal = XObject.ClearUpdatedTS(this.getData());\n    if (this.isDirty() === false) { this.setDirty(); }\n    return retVal;\n  }\n\n  /**\n   * Get either the updated timestamp, or created timestamp if\n   * no updated timestamp\n   *\n   * @param {*} defaultVal (-1)\n   * @return {number} either updatedTS or createdTS or defaultVal\n   *\n   * @see ~getUpdatedTS\n   * @see ~getCreatedTS\n   */\n  getTS(defaultVal = -1) {\n    const data = this.getData(false);\n    return data ? XObject.GetTS(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return whether this instance has been updated (included created)\n   * within the elapsed time.\n   *\n   * @param {number} inSeconds number of seconds to test\n   * @return {boolean} true if updated or created time are within the\n   * given seconds. False if not\n   */\n  hasUpdatedWithin(inSeconds) {\n    const data = this.getData(false);\n    return data ? XObject.HasUpdatedWithin(data, inSeconds) : false;\n  }\n\n  /**\n   * Set published timestamp.\n   *\n   * @see ~setEditedTS\n   * @see ~setCreatedTS\n   *\n   * @see ~setPublicVisibility\n   */\n  setPublishedTS(timeVal = null) {\n    const retVal = XObject.SetPublishedTS(this.getData(), timeVal);\n    if (this.isDirty() === false) { this.setDirty(); }\n    return retVal;\n  } // setUpdatedTS\n\n  /**\n   * Get publsiehd timestamp value stored in json\n   *\n   * @param {*} defaultVal\n   */\n  getPublishedTS(defaultVal = -1) {\n    const data = this.getData(false);\n    return data ? XObject.GetPublishedTS(data, defaultVal) : defaultVal;\n  }\n\n  _clearPublishedTS() {\n    const retVal = XObject.ClearPublishedTS(this.getData());\n    if (this.isDirty() === false) { this.setDirty(); }\n    return retVal;\n  }\n\n  /**\n   * Set the timestamp to now for the last edit. Edit TS\n   * is used to track the last time user edited this object.\n   * This is different that last updated when imply being\n   * written.\n   *\n   * @see ~setCreatedTS\n   * @see ~setUpdatedTS\n   * @see ~getEditedTS\n   */\n  setEditedTS() {\n    const retVal = XObject.SetEditedTS(this.getData());\n    if (this.isDirty() === false) { this.setDirty(); }\n    return retVal;\n  }\n  getEditedTS(defaultVal) {\n    const data = this.getData(false);\n    return data ? XObject.GetEditedTS(data, defaultVal) : defaultVal;\n  }\n  _clearEditedTS() {\n    const retVal = XObject.ClearEditedTS(this.getData());\n    if (this.isDirty() === false) { this.setDirty(); }\n    return retVal;\n  }\n\n  /**\n   * Set time value in expiration field\n   *\n   * @param {number} time epoch time in SECONDS since 1970\n   * @return {boolean} true if set, false if not set\n   *\n   * @see ~hasExpired\n   * @see ~getExpiration\n   * @see ~clearExpiration\n   */\n  setExpiration(timeVal = null) {\n    const data = this.getData(true);\n    return XObject.SetExpiration(data, timeVal);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} expiration - epoch time in SECONDS since 1970\n   *\n   * @see ~setExpiration\n   * @see ~hasExpired\n   */\n  getExpiration(defaultVal = -1) {\n    const data = this.getData(false);\n    return data ? XObject.GetExpiration(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Remove expiration field, if exists\n   *\n   * @return {boolean} true if cleared, false if couldn't clear (no data or field)\n   */\n  clearExpiration() {\n    const data = this.getData(false);\n    return data ? XObject.ClearExpiration(data) : false;\n  }\n\n  /**\n   * Determine if the date value in expiration field is\n   * less than current time, therefore interpreted as expired.\n   *\n   * @param {*} defaultVal value to return if no value in this field\n   * @return {boolean} true if expired, false if not, or defaultVal if no value\n   */\n  hasExpired(defaultVal = false) {\n    const data = this.getData(false);\n    return data ? XObject.HasExpired(data, defaultVal) : defaultVal;\n  }\n\n  // ---------------------- Visbility Scope ---------------------\n\n  /**\n    * Update object's visibility scope to VISTYPE_PUBLIC,\n    * and also update published timestamp.\n    *\n    * @param {number=} ts optional time value to set or null to use current time\n    * @return {string} previous scope, or null if none\n    *\n    * @see ~setPublishedTS\n    */\n  setPublicVisibility(ts = null) {\n    const data = this.getData(true);\n    const result = XObject.SetPublicVisibility(data, ts);\n    if (this.isDirty() === false) { this.setDirty(); }\n    return result;\n  }\n\n  /**\n   * Clear VISTYPE_PUBLIC visibility scope. In our implementation, it's\n   * simply a removal since no scope equals private anyway.\n   *\n   * @return {boolean} true if cleared, false if no need or can't\n   */\n  clearPublicVisibility() {\n    const data = this.getData(false);\n    if (!data) { return false; }\n\n    const result = XObject.ClearPublicVisibility(data);\n    if (this.isDirty() === false) { this.setDirty(); }\n    return result;\n  }\n\n  /**\n   * Set visibility scope. This is a generic method to facilitate copying\n   * from one object type to another\n   *\n   * @param {string} scope one of VISTYPE_*\n   * @return {string} previous scope, if any\n   *\n   * @see ~setPubliscVisibility  Better to use b/c setting timestamp also\n   */\n  setVisibility(scope) {\n    const data = this.getData(true);\n    const result = XObject.SetVisibility(data, scope);\n    if (this.isDirty() === false) { this.setDirty(); }\n    return result;\n  } // setVisibility\n\n  /**\n   * Clear existing visibility scope flag. By clearing, the\n   * default scope is private.\n   *\n   * @return {boolean} true if cleared. False if no need or cannot\n   */\n  clearVisibility() {\n    const data = this.getData(false);\n    if (!data) { return false; }\n\n    const result = XObject.ClearVisibility(data);\n    if (this.isDirty() === false) { this.setDirty(); }\n    return result;\n  }\n\n  /**\n   * Retrieve visibility status of this object. If not set, then\n   * the assumption is it is private (VISTYPE_PRIVATE)\n   *\n   * @param {string} defaultVal default to VISTYPE_PRIVATE\n   * @return {string} scope value - one of VISTYPE_*\n   */\n  getVisibility(defaultVal = XObjectProps.VISTYPE_PRIVATE) {\n    const data = this.getData(false);\n    return data ? XObject.GetVisibility(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return whether the object has visibility scope of public (VISTYPE_PUBLIC)\n   *\n   * @param {*} checkACL not used at this level. Keep consistent with XMObject.\n   * @return {boolean} true if object has public visibility as scope\n   *\n   * @see XMObject~isPublicVisible - override to check ACL as backup\n   */\n  isPublicVisible(checkACL, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XObject.IsPublicVisible(data, checkACL) : defaultVal;\n  }\n\n  /**\n   * Return whether the object has group level visibility (VISTYPE_GROUP)\n   *\n   * @return {boolean} true if scope is at group level\n   */\n  isGroupVisible() {\n    const data = this.getData(false);\n    return data ? XObject.IsGroupVisible(data) : false;\n  }\n\n  /**\n   * Return whether the object has no public or group visibility, which\n   * means private.\n   *\n   * @return {boolean} true if scope is private or none\n   */\n  isPrivateVisible() {\n    const data = this.getData(false);\n    return data ? XObject.IsPrivateVisible(data) : false;\n  }\n\n  /**\n   * Report on whether this object has been marked as deleted for\n   * visibility.\n   */\n  isDeleted() {\n    const data = this.getData(false);\n    return data ? XObject.IsDeleted(data) : false;\n  }\n\n\n  // ----------------------- Change Monitoring ------------------------\n\n  /**\n   * Subscribe/watch a property change. The property is within\n   * the data section (XObject.MAIN_DATA). If you want just\n   * the immediate property on this object, use watchProperty()\n   * from parent ObjectBase.\n   *\n   * @param {string} label property label within the JSON data which\n   * mean under the top level property MAIN_DATA\n   * @param {function({},string,object, object)} handler\n   * @return {boolean} true if watch function registered, false if not\n   *\n   * @see ObjectBase.watchProperty\n   * @see ~unwatchXProperty\n   */\n  watchXProperty(label, handler) {\n    const propname = this.getXPropertyPath(XObject.MAIN_DATA, label);\n    return this.watchProperty(propname, handler);\n  }\n\n  /**\n   * Unsubscribe/unwatch a property change. This property is within\n   * the data section (XObject.MAIN_DATA). If you want just\n   * the immediate property on this object, use watchProperty()\n   * from parent ObjectBase.\n   *\n   * @param {string} label property label within the JSON data which\n   * mean under the top level property MAIN_DATA\n   * @param {function} handler function to remove\n   * @return {boolean} true if watch function removed, false if doesn't exist\n   *\n   * @see ObjectBase.watchProperty\n   * @see ~watchXProperty\n   */\n  unwatchXProperty(label, handler) {\n    const propname = this.getXPropertyPath(XObject.MAIN_DATA, label);\n    return this.unwatchProperty(propname, handler);\n  }\n\n\n  // ---------------------- Utilities -------------------------\n\n  /**\n   * Return content of the data model in property MAIN_DATA as\n   * JSON object. The output can be controlled via properties\n   * to include or exclude.\n   *\n   * @param {string[]=} inclProps list of properties to include. Null to include all.\n   * @param {string[]=} exclProps list of properties to exclude. Null to exclude none.\n   * @param {*} defaultVal\n   *\n   * @see ~toJSONString\n   * @see Util~ExportObjectFields\n   */\n  toJSON(inclProps = null, exclProps = null, defaultVal = null) {\n    const data = this.getData(false);\n    if (!data) { return defaultVal; }\n    if (!inclProps && !exclProps) { return data; }\n    return Util.ExportObjectFields(data, inclProps, exclProps, defaultVal);\n  } // toJSON\n\n  /**\n   * Print JSON content of the \"data\" to string.\n   *\n   * @param replacer see JSON.stringify's replacer parameter\n   * @param space see JSON.stringify' space parameter. Default to indent=2\n   */\n  toString(replacer = null, space = null) {\n    const prefix = `[${this.getClassname()}]:`;\n    return prefix + JSON.stringify(this, replacer, space);\n  }\n\n  /**\n   * Output content data to a JSON as a string type, with options\n   * to include and exclude certain properties.\n   *\n   * @param {string[]=} inclProps list of properties to include. Null to include all.\n   * @param {string[]=} exclProps list of properties to exclude. Null to exclude none.\n   * @param {*} defaultVal\n   *\n   * @see ~toJSONString\n   * @see Util~ExportObjectFields\n   */\n  toJSONString(inclProps = null, exclProps = null, defaultVal = null) {\n    const jsonObj = this.toJSON(inclProps, exclProps, null);\n    return jsonObj ? JSON.stringify(jsonObj) : defaultVal;\n  }\n\n  /**\n   * Retrieve the auxillary (json) data wrapped by this object.\n   * The content of the AUX can be object type\n   *\n   * @see #getAux\n   * @see #setData\n   *\n   * @see ~getAuxValue\n   */\n  getAuxData(create = false) {\n    if (this[XObject.AUX_DATA] == null && create) {\n      this[XObject.AUX_DATA] = {};\n      // this.warn(\"getAuxData\", \"delayed creation of data content\");\n    }\n    return this[XObject.AUX_DATA];\n  }\n\n  /**\n   * Return the AUX data, but attempt to wrap it. This works\n   * if there is a \"type\" value that is registered inside the\n   * json object.\n   *\n   * @param {*} defaultVal\n   */\n  getWrappedAuxData(defaultVal = null) {\n    const data = this.getAuxData(false);\n    return data ? XObject.Wrap(data) : data;\n  }\n  /**\n   * Replace auxillary data wrapped by this object\n   *\n   * @param {{}} data arbitrary data to associate with object\n   * @see #getData\n   * @see #getAux\n   */\n  setAuxData(data) {\n    const json = XObject.Unwrap(data);    // just in case\n    if (this[XObject.AUX_DATA] === json) { return; }\n\n    this[XObject.AUX_DATA] = json;\n  }\n\n  /**\n   * Merge given object into the existing aux data object,\n   * if any.\n   *\n   * @param {{}} newData\n   */\n  addAuxData(newData) {\n    let auxData = this.getAuxData(true);\n    auxData = { auxData, ...newData };\n    this[XObject.AUX_DATA] = auxData;\n    return auxData;\n  }\n\n  /**\n   * Clear AUX data\n   */\n  clearAuxData() {\n    this[XObject.AUX_DATA] = null;\n  }\n\n  /**\n   * Set a value to a field within the AUX data. This\n   * instead of using setAuxData() to set entire\n   * json object and not just afield.\n   *\n   * @param {string} field field name to set value in\n   * @param {*} value if XObjec then will be unwrapped\n   */\n  setAuxDataField(field, value) {\n    value = XObject.Unwrap(value);\n    const auxData = this.getAuxData(true);\n    return XObject.SetObjectField(auxData, field, value);\n  }\n\n  /**\n   * Get what's stored in a field within the AUX data.\n   * Note: data will not be wrapped\n   *\n   * @param {string} field name of field in aux data section\n   * @param {*} defaultVal\n   */\n  getAuxDataField(field, defaultVal = null) {\n    const auxData = this.getAuxData(false);\n    return auxData ? XObject.GetObjectField(auxData, field, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set an XObject instance to a field within the AUX data. This\n   * instead of using setAuxData() to set entire json object\n   * carrying a type that is a subclass of XObject\n   *\n   * @param {string} field field name to set value in\n   * @param {XObject} xobject if XObject then will be unwrapped\n   * @return {*} previous value?\n   */\n  setAuxDataXField(field, xobject) {\n    const auxData = this.getAuxData(true);\n    return XObject.SetXObjectField(auxData, field, xobject);\n  }\n\n  /**\n   *\n   * @param {string} field name of field in aux data section\n   * @param {*} defaultVal\n   * @return {XObject} wrapped data if it has a type that is subclass of XObject\n   */\n  getAuxDataXField(field, defaultVal = null) {\n    const auxData = this.getAuxData(false);\n    return auxData ? XObject.GetXObjectField(auxData, field, defaultVal) : defaultVal;\n  }\n\n  /**\n   * @param {string} field\n   * @return {boolean} true if cleared\n   */\n  clearAuxDataField(field) {\n    const auxData = this.getAuxData(false);\n    return auxData ? XObject.ClearObjectField(auxData, field) : false;\n  }\n\n  // --------------- CRUD FOR 1-M association to words ----------------\n\n  /**\n   * Add word (string text) to the given json object with property label\n   *\n   * @param {string} label property label\n   * @param {string} word string text to add into the array\n   * @param {boolean=} unique default is unique. set false to allow duplicates\n   *\n   * @return {boolean} true if added, false otherwise which includes already exist\n   *\n   * @see #getWords\n   * @see #hasWord\n   * @see #removeWord\n   */\n\n  addWord(label, word, unique = true) {\n    const data = this.getData(true);\n    const added = XObject.AddWord(data, label, word, unique);\n    if (added) { this.setDirty(); }\n    return added;\n  }\n\n  /**\n   * Set words in a property holding array.\n   *\n   * @param {string} label property name\n   * @param {string[]} wordArray\n   * @return {string[]} previously set text array that is being replaced.\n   */\n  setWords(label, wordArray) {\n    const data = this.getData(true);\n    const prevValue = XObject.SetWords(data, label, wordArray);\n    if (prevValue !== wordArray) { this.setDirty(); }\n    return prevValue;\n  }\n\n  /**\n   * Set/replace word at specific position in the array of words.\n   *\n   * @param {string} label property name\n   * @param {number} idx > 0 Javascript allows setting element far beyond array size!\n   * @param {string} word word to add\n   */\n  setWordAt(label, idx, word) {\n    const data = this.getData(true);\n    const prevValue = XObject.SetWordAt(data, label, idx, word);\n    if (prevValue !== word) { this.setDirty(); }\n    return prevValue;\n  }\n\n  /**\n   * Return associated words of this object.\n   *\n   * @param {string} label property to retrieve words\n   * @param {*} defaultVal\n   * @return {[]} words in array or defaultVal if property not found or null\n   *\n   * @see #addWord\n   * @see #hasWord\n   * @see #removeWord\n   * @see #getWordCount\n   */\n  getWords(label, defaultVal = []) {\n    const data = this.getData(false);\n    return data ? XObject.GetWords(data, label, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return word at a specified position in the tracked word array\n   *\n   * @param {string} label property that holds the word array\n   * @param {number} idx position into the array\n   * @param {*} defaultVal\n   */\n  getWordAt(label, idx, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XObject.GetWordAt(data, label, idx, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return position of the given word in the word list\n   *\n   * @param {string} label\n   * @param {string} word\n   * @returns {number} position of word in array list, or -1 if not found\n   */\n  getWordIndex(label, word) {\n    const data = this.getData(false);\n    return data ? XObject.GetWorldIndex(data, label, word) : -1;\n  }\n\n  /**\n   * Count number of words stored for the given property label\n   *\n   * @param {string} label property to check number of words\n   * @return {number} 0 or positive number\n   *\n   * @see ~getWords\n   */\n  getWordCount(label) {\n    const data = this.getData(false);\n    return data ? XObject.GetWordCount(data, label) : 0;\n  }\n\n  /**\n   * Report on whether the property in question contains the given word\n   *\n   * @param {string} label property to check the word\n   * @param {string} word\n   * @return {boolean} true if exists, false otherwise\n   *\n   * @see ~hasWordIn\n   */\n  hasWord(label, word) {\n    const data = this.getData(false);\n    return data ? XObject.HasWord(data, label, word) : false;\n  }\n\n  /**\n   * Determine if the given word is in one of the property labels given.\n   * Search will stop at the first detection.\n   *\n   * @param {string[]} labels property names to check\n   * @param {string} word  word to check (case sensitive)\n   * @return {string} property label of first in list of properties to find the word, or null\n   *\n   * @see ~hasWord\n   */\n  hasWordIn(labels, word) {\n    const data = this.getData(false);\n    return data ? XObject.HasWordIn(data, labels, word) : null;\n  } // hasWordIn\n\n  /**\n   * Remove a word given the property\n   *\n   * @param {{}} jsonObj\n   * @param {string} label property to remove word\n   * @param {string} word will be normalized before comparing\n   * @return {boolean} true if removed, false if not\n   *\n   * @see @removeAllWords\n   * @see #addWord\n   * @see #getWords\n   * @see #hasWord\n   */\n  removeWord(label, word) {\n    const data = this.getData(false);\n    return data ? XObject.RemoveWord(data, label, word) : false;\n  }\n\n  /**\n   * Remove all words given the property\n   *\n   * @param {{}} jsonObj\n   * @param {string} label property to remove all\n   * @return {boolean} true if removed, false if not\n   *\n   * @see #addWord\n   * @see #getWords\n   * @see #removeWord\n   * @see #hasWord\n   */\n  removeAllWords(label) {\n    const data = this.getData(false);\n    return data ? XObject.RemoveAllWords(data, label) : false;\n  }\n\n  /**\n   * Count number of words stored in a property of the given object\n   *\n   * @param {string} label property to retrieve words\n   * @return {number} 0 or greater\n   */\n  countWords(label) {\n    const data = this.getData(false);\n    return data ? XObject.CountWords(data, label) : 0;\n  } // CountWords\n\n  serialize() {\n    return XObject.Serialize(this);\n  }\n\n  // *************************************************************\n  //\n  // Class methods. Any methods that can be used as helper\n  // for generic JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n\n  /**\n   * Return name of this class. This should be defined for every\n   * subclass to override.\n   *\n   * @return {string} name of this class.\n   */\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /**\n   * Return the short identifier for this type, and it must be\n   * overriden by subclasses.\n   *\n   * It is used for various purposes, but importantly used\n   * to identify an unwrapped json data structure and\n   * re-wrap it typically after streaming over the network\n   * from to/from storage.\n   *\n   * It is also used to register each subclass of XObject\n   *\n   * @return {string} type identifier\n   */\n  static GetTypeID() {\n    return ModelType.XOBJECT;\n  }\n\n  /**\n   * Convenient method to check if the given object\n   * is an instance of this class (XObject)\n   *\n   * @param {XObject} xobj instance of XObject\n   * @return {boolean}\n   */\n  static IsInstance(xobj) {\n    return xobj instanceof XObject;\n  }\n\n  /**\n   * Assert if given object is an \"instanceof\" XObject class and dump\n   * stack if failed check.\n   *\n   * @param {*} object any value to check against XObject class\n   * @param {string} classname name of class where assertion originated\n   * @param {string} method name of function\n   * @param {string} msg text message\n   * @param  {...any} args\n   */\n  static AssertXObject(object, classname, method, msg, ...args) {\n    if (XObject.IsInstance(object)) { return true; }\n    console.trace(`${classname}.${method}: ${msg}`, args);\n    return false;\n  }\n\n  /**\n   * Given an instance of XObject or just json record,\n   * return only the json portion.\n   *\n   * @param {XObject} obj either an instance of XObject/subclass,\n   * or json data itself.\n   * @return {{}}\n   *\n   * @see #Wrap\n   */\n  static Unwrap(obj) {\n    if (obj == null) { return obj; }\n    return (obj instanceof XObject) ? obj.getData() : obj;\n  } // Unwrap\n\n  /**\n   * Wrap the given json object with an instance of\n   * XObject subclass as specified by the given\n   * class type (class constructor)\n   *\n   * @param {{}} jsonRec\n   * @param {function=} ClsType class constructor function.\n   * If you are not sure, use Wrap static function to lookup\n   * registry.\n   * @return {XObject}\n   *\n   * @see #Wrap\n   */\n  static WrapXObject(jsonRec, ClsType = XObject) {\n    // Instantitate proper class\n    if (Util.IsString(ClsType)) { ClsType = XObject.GetClassByType(ClsType); }\n    if (ClsType == null) {\n      console.error('Class type? ', ClsType);\n      return null;\n    }\n    const item = new ClsType();\n\n    // Type checking: to avoid wrapping the wrong type!\n    const jsonType = jsonRec[XObject.PROP_TYPE];\n    const clsType = item.getType();\n    if (jsonType && jsonType !== clsType) {\n      const msg = `WrapXObject: type: ${jsonType} != ${clsType}`;\n      console.error(msg);\n      // throw new Error(msg);\n    }\n    if (jsonType == null) {\n      jsonRec[XObject.PROP_TYPE] = clsType;\n    }\n\n    // Just in case the object is wrapped via\n    // XObject.toJSON(). This is a HACK as we\n    // should rely on the \"type\" property at the top level.\n    if (jsonRec && jsonRec.hasOwnProperty(XObjectProps.MAIN_DATA)) { item.setData(jsonRec[XObjectProps.MAIN_DATA]); } else { item.setData(jsonRec); }\n    return item;\n  }\n\n  /**\n   * Determine if the given object is already wrapped,\n   * which mean an instance of XObject\n   *\n   * @param {*} obj\n   */\n  static IsWrapped(obj) {\n    return obj instanceof XObject;\n  }\n\n  /**\n   * Wrap the given json data with a new instance of\n   * XObject or subclass. The type should\n   * be in json's PROP_TYPE property and that will be\n   * used. If none exists, caller can specify backup.\n   *\n   * @param {{}} jsonRec data to wrap, if possible\n   * @param {function=} clsType explicity class type used\n   * if PROP_TYPE does not exists.\n   * @return {XObject} either a wrapper class found and created,\n   * or if not then the original data input is returned\n   *\n   * @see ObjectBase#RegisterType\n   * @see ObjectBase#DeregisterType\n   * @see #WrapXObject\n   * @see #Unwrap\n   */\n  static Wrap(jsonRec, clsType = null) {\n    if (jsonRec instanceof XObject) { return jsonRec; } // already wrapped\n\n    if (typeof jsonRec !== 'object') { return jsonRec; }\n\n    const jsonType = XObject.GetType(jsonRec);\n    let clsObj = jsonType ? XObject.GetClassByType(jsonType) : null;\n    if (clsObj == null) {\n      clsObj = clsType;\n      if (clsObj == null) {\n        // production: don't dump content\n        XObject.Warn(_CLSNAME, 'Wrap', 'Type?');\n        return jsonRec;\n      }\n    }\n    return XObject.WrapXObject(jsonRec, clsObj);\n  }\n\n  /**\n   * Wrap the given json data assuming it's a contained json\n   * of a parent object. So parent object will be tracked.\n   *\n   * @param {*} jsonRec\n   * @param {XObject} parentObj\n   * @param {*} clsType\n   */\n  static WrapAsChild(jsonRec, parentObj, clsType = null) {\n    const xobj = XObject.Wrap(jsonRec, clsType);\n    if (xobj && parentObj) { xobj.setXParent(parentObj); }\n    return xobj;\n  }\n\n  /**\n   * Wrap an array of json data objects\n   *\n   * @param {{}} jsonArray\n   * @param {*} clsType\n   * @return {XObject[]} array of wrapped objects\n   */\n  static WrapArray(jsonArray, clsType = XObject) {\n    return jsonArray.map((json) => {\n      const xobj = XObject.Wrap(json, clsType);\n      return xobj;\n    });\n  }\n\n  /**\n   * Derive an unique ID based on object type, ownerID,\n   * and also randomized but shortended value. The output\n   * format is something like:\n   *\n   * <code>{type}_{ownerId}_{randomNum}</code>\n   *\n   * @param {string} typeId\n   * @param {string=} ownerId optional owner ID to include\n   * @return {string} derived ID\n   */\n  static DeriveID(typeId, ownerId = null) {\n    const seqNum = Util.GenRandom(Date.now()).toLowerCase();\n    let id;\n    if (ownerId) { id = `${ownerId}_${seqNum}`; } else { id = seqNum; }\n    return id;\n  } // DeriveID\n\n  /**\n   * Simple utility method to create a new instance\n   * and initially set an unique identifier and\n   * optionally wrap a json object.\n   *\n   * @param {string} id\n   * @param {string} type since XObject has no type,\n   * this is important to specify (no guarantee it'll\n   * work completely)\n   * @param {{}} jsonData\n   */\n  static CreateNew(id = null, jsonData = null) {\n    const newObj = new XObject();\n    newObj.initNew();\n    if (id) { newObj._setId(id); }\n    if (jsonData) { newObj.setData(jsonData); }\n\n    return newObj;\n  }\n\n  /**\n   * Return the json data wrapped by the XObject instance,\n   * if it is wrapped. If not, then return as-is\n   *\n   * @param {XObject} xobj instance of XObject or unwrapped json\n   * @param {*} defaultVal default value if null\n   * @return {{}} json data if wrapped, or as-is. If\n   * null, return defaultVal\n   */\n  static GetData(xobj, defaultVal = null) {\n    const jsonObj = XObject.Unwrap(xobj);\n    const mainData = jsonObj;\n    return mainData || defaultVal;\n  } // GetData\n\n  /**\n   * Return the aux json data wrapped by the XObject instance\n   *\n   * @param {{}} xobj instance of XObject. This cannot be unwraped\n   * @param {*} defaultVal\n   * @return {{}} json aux data or null\n   */\n  static GetAuxData(xobj, defaultVal = null) {\n    const auxData = xobj[XObjectProps.AUX_DATA];\n    return auxData || defaultVal;\n  }\n\n  /**\n   * Clone json data. This will also santize the\n   * cloned data including removing timestamp, etc.\n   *\n   * @param {object} jsonObj XObject instance to\n   * @return {object}\n   */\n  static CloneData(jsonObj) {\n    return JSON.parse(JSON.stringify(jsonObj));\n  }\n\n  /**\n   * Clone entire instance of XObject\n   *\n   * @param {XObject} xobj XObject instance to clone\n   * @param {boolean} cloneData true to perform deep copy (Chrome use reference)\n   * @param {boolean} cloneAux true to perform deep copy on aux data\n   * @return {XObject} new instance of same type\n   */\n  static CloneInstance(xobj, cloneData = true, cloneAux = false) {\n    // clone class info, but it's shallow copy\n    const newXobj = Util.CloneInstance(xobj);\n\n    if (cloneData) {\n      // Deep clone JSON data\n      const jsonData = XObject.GetData(xobj, null);\n      if (jsonData) { newXobj.setData(Util.CloneObject(jsonData)); } // not efficient\n    }\n    if (cloneAux) {\n      // Deep clone AUX data, if any\n      const auxData = XObject.GetAuxData(xobj, null);\n      if (auxData) { newXobj.setAuxData(Util.CloneObject(auxData)); }\n    }\n    return newXobj;\n  } // CloneInstance\n\n\n  /**\n   * Set the object's unique identifier. This identifier\n   * will need to be string (or convertable) and\n   * will become lowercased.\n   *\n   * @param {{}} jsonObj\n   * @param {string} id string ID\n   *\n   * @see #GetId\n   */\n  static SetId(jsonObj, id) {\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (jsonObj == null) { return false; }\n    jsonObj[XObject.PROP_ID] = String(id).toLowerCase();\n  }\n\n  static SetIconUrl(jsonObj, url) {\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (jsonObj == null) { return false; }\n    jsonObj[XObject.PROP_ICON_URL] = url;\n    return true;\n  }\n\n  /**\n   * Clear Id field.\n   *\n   * @param {{}} jsonObj\n   */\n  static ClearId(jsonObj) {\n    const prevId = jsonObj[XObject.PROP_ID];\n    delete jsonObj[XObject.PROP_ID]; // remote all together\n    return prevId;\n  }\n\n  /**\n   * Retreive the value of the property PROP_ID (\"_id\")\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetId(jsonObj, defaultVal = null) {\n    return jsonObj ? XObject.Unwrap(jsonObj)[XObject.PROP_ID] : defaultVal;\n  }\n\n  /**\n   * Determine the type of the object, if it is an object with\n   * \"type\" property. If not, just return default value\n   *\n   * @param {*} obj data to check and determine. It must be an\n   * object with property \"type\".\n   *\n   * @param {*} defaultVal value to return if given data is not\n   * a valid XObject or its json, or missing \"type\" field.\n   */\n  static GetType(obj, defaultVal = null) {\n    if ((obj == null) || (typeof (obj) !== 'object')) { return defaultVal; }\n\n    if (obj instanceof XObject) { return obj.getType(); }\n\n    const value = XObject.Unwrap(obj)[XObject.PROP_TYPE];\n    return value || defaultVal;\n  }\n\n  /**\n   * Parse the given ID string in the format of type_user_seqnum\n   * and return the type portion.\n   *\n   * @param {string} idString a string identifier\n   * @return {string} first part before underscore, or entire text\n   *\n   * @see ~GetUserFromId\n   */\n  static GetTypeFromId(idString) {\n    const parts = idString.split('_');\n    if (parts.length < 3) { return null; }\n    return parts[0];\n  }\n\n  static GetTitle(jsonObj, defaultVal = null) {\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (jsonObj == null) { return defaultVal; }\n    const val = jsonObj[XObject.PROP_TITLE];\n    return val || defaultVal;\n  }\n\n  static GetSubTitle(jsonObj, defaultVal = null) {\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (jsonObj == null) { return defaultVal; }\n    const val = jsonObj[XObject.PROP_SUBTITLE];\n    return val || defaultVal;\n  }\n\n  static GetDescription(jsonObj, defaultVal = null) {\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (jsonObj == null) { return defaultVal; }\n    const val = jsonObj[XObject.PROP_DESC];\n    return val || defaultVal;\n  }\n\n  static GetIconUrl(jsonObj, defaultVal = null) {\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (jsonObj == null) { return defaultVal; }\n    const val = jsonObj[XObject.PROP_ICON_URL];\n    return val || defaultVal;\n  }\n\n  /**\n   * Extract user ID from the given ID string\n   * of the format \"{part0}_{userid}_{part1}_...\"\n   *\n   * @param {string} idString must have at least one underscore\n   * @return {string} either text after first underscore, or null\n   *\n   * @see ~GetTypeFromId\n   */\n  static GetUserFromId(idString) {\n    const parts = idString.split('_');\n    if (parts.length < 3) { return null; }\n    return parts[1];\n  }\n\n  // static GetObject(obj, label, defaultVal = null) {\n  //     let objData = obj ? obj[label] : null;\n  //     return (objData == null) ? defaultVal : objData;\n  // }\n  // static SetObject(obj, label, subRec) {\n  //     if (obj[label]  !== subRec) {\n  //         obj[label] = subRec;\n  //     }\n  // }\n\n  // --------------------- Getter/Setter for properties ---------------\n\n  /**\n   * Set the value of the field within the given object. The field can be anything\n   * from atomic value (string, number) to array or another object as long as its\n   * a JSON data structure.\n   * The object can be the data wrapped by an instance of XObject or subclass,\n   * but it can also be an embedded json object also.\n   *\n   * NOTE: the value is set only if two values are not identical\n   * They could be equivalent in which case we'll still update.\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field\n   * @param {*} value value to set. It can be json or XObject wrapper\n   * @return {*} previous value, or null if value already same and not changed\n   * @see ~GetObjectField\n   * @see ~SetXObjectField\n   */\n  static SetObjectField(jsonObj, field, value) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, field], _CLSNAME, 'SetObjFld', 'json,fld')) { return null; }\n    jsonObj = XObject.Unwrap(jsonObj);\n    value = XObject.Unwrap(value);\n    const hasProp = jsonObj.hasOwnProperty(field);\n    const prev = hasProp ? jsonObj[field] : null;\n    if (!hasProp || (prev !== value)) {\n      jsonObj[field] = value;\n      return prev;\n    }\n    return null;\n  } // SetObjectField\n\n  /**\n   * Set the object field that has an XObject wrapper\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field\n   * @param {XObject} xmValue\n   *\n   * @see ~SetObjectField\n   * @see ~ImportObjectFields\n   */\n  static SetXObjectField(jsonObj, field, xValue) {\n    return XObject.SetObjectField(jsonObj, field, xValue);\n  } // SetXObjectField\n\n  /**\n   * Import additional property values\n   *\n   * @param {{}} jsonObj\n   * @param {{}} props\n   * @param {boolean} override true to override existing value\n   * @return {{}} replaced label/values\n   */\n  static ImportObjectFields(jsonObj, props, override = false) {\n    props = XObject.Unwrap(props);  // just in case it's from another XObject\n    return Util.ImportObjectFields(jsonObj, props, override);\n  }\n\n  /**\n   * Retrieve the value of the field within the given object. The object can\n   * be the data wrapped by an instance of XObject or subclass, but it\n   * can also be an embedded json object also.\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field\n   * @param {*} defaultVal\n   *\n   * @see ~GetXObjectField\n   * @see #SetObjectField\n   * @see #HasObjectField\n   * @see #ClearObjectField\n   */\n  static GetObjectField(jsonObj, field, defaultVal = null) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, field], _CLSNAME, 'GetObjectField', 'Field name cannot be null.')) { return defaultVal; }\n    jsonObj = XObject.Unwrap(jsonObj);\n    const val = jsonObj[field];\n    return Util.NotNull(val) ? val : defaultVal;\n  }\n\n  /**\n   * Retrieve value of a field and wrap it if it is a registered subclass of XObject\n   *\n   * @param {XObject} xobject instance of XObject or already unwrapped json data\n   * @param {string} field\n   * @param {*} defaultVal\n   * @return {*} value from the field, which if it's an instance of\n   * XObject, then it will be wrapped accordingly\n   */\n  static GetXObjectField(xobject, field, defaultVal = null) {\n    const jsonObj = XObject.Unwrap(xobject);\n    let value = XObject.GetObjectField(jsonObj, field, null);\n    if (Util.IsNull(value)) {\n      return defaultVal;\n    }\n\n    // Because this is expected to be an XObject instance, it might\n    // be serialized to keep AUX_DATA.\n    value = XObject.DeSerialize(value);\n\n    return Util.NotNull(value) ? value : defaultVal;\n  }\n\n  /**\n   * Given an object with properties, extract a subset\n   * using the inclusion and exclusion field name list.\n   *\n   * @param {{}} jsonObj object to extract properties from\n   * @param {*} inFields array of property names to include\n   * @param {*} excFields array of property names to exclude.\n   * If property name is found in both include and exclude list,\n   * the exclusion will win.\n   * @return {{}} new json object with subset of properties\n   */\n  static GetObjectFields(jsonObj, inFields = null, exFields = null) {\n    return Util.ExportObjectFields(jsonObj, inFields, exFields);\n  } // GetObjectFields\n\n  /**\n   * Given an XObject instance, extract a subset\n   * using the inclusion and exclusion field name list.\n   *\n   * @param {{}} jsonObj object to extract properties from\n   * @param {*} inFields array of property names to include\n   * @param {*} excFields array of property names to exclude.\n   * If property name is found in both include and exclude list,\n   * the exclusion will win.\n   * @return {{}} new json object with subset of properties\n   */\n  static GetXObjectFields(xobject, inFields = null, exFields = null) {\n    const jsonObj = XObject.Unwrap(xobject);\n    return Util.ExportObjectFields(jsonObj, inFields, exFields);\n  }\n\n  /**\n   * Check if the given field name exists in the given json object.\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field property label to find\n   * @param {boolean} existOK if true, check stops at property exists.\n   * if false, then the value associated with propety will be checked for not null or undefined\n   * @return {boolean} true if field (property/key) exists within the given object,\n   * unless existOK is set to false for which the actual value is checked.\n   *\n   * @see #GetObjectField\n   * @see #SetObjectField\n   * @see #ClearObjectField\n   */\n  static HasObjectField(jsonObj, field, existOK = true) {\n    jsonObj = XObject.Unwrap(jsonObj);\n    // simple json label check for now.\n    const hasProp = jsonObj.hasOwnProperty(field);\n    // console.log(`field: ${field}, exists: ${existOK}, hasProp: ${hasProp}`);\n    if (!hasProp || (existOK === true)) {\n      return hasProp;\n    }\n    // check actual value\n    return Util.NotNull(jsonObj[field]);\n  }\n\n  /**\n   * Clear the property entry of the given object.\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field property label to find and delete\n   *\n   * @see #GetObjectField\n   * @see #SetObjectField\n   * @see #HasObjectField\n   * @return {boolean} true if cleared\n   */\n  static ClearObjectField(jsonObj, field) {\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (jsonObj.hasOwnProperty(field)) {\n      delete jsonObj[field];\n      return true;\n    }\n    return false;\n  } // ClearObjectField\n\n  // --------------------------- Base64 Fields ---------------------\n\n  /**\n   * Set the value as a base64 encoded string to the field inside the given object.\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field\n   * @param {*} value value to set. It can be json or XObject wrapper\n   * @return {*} previous value, or null if value already same and not changed\n   * @see ~GetObjectField\n   * @see ~SetXObjectField\n   */\n  static SetBase64Field(jsonObj, field, value) {\n    if (!XObject.AssertNotNull(field, _CLSNAME, 'SetBase64Field', 'Field name cannot be null.')) { return null; }\n    jsonObj = XObject.Unwrap(jsonObj);\n    value = XObject.Unwrap(value);\n    const b64val = Base64.encode(value);\n    const prev = jsonObj.hasOwnProperty(field) ? jsonObj[field] : null;\n    if (prev !== b64val) {\n      jsonObj[field] = b64val;\n      return prev;\n    }\n    return null;\n  } // SetObjectField\n\n  /**\n   * Retrieve the base64 encoded value of the field and decode it.\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field\n   * @param {*} defaultVal\n   *\n   * @see ~GetXObjectField\n   * @see #SetObjectField\n   * @see #HasObjectField\n   * @see #ClearObjectField\n   */\n  static GetBase64Field(jsonObj, field, defaultVal = null) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, field], _CLSNAME, 'GetBase64Field', 'Field name cannot be null.')) { return defaultVal; }\n    jsonObj = XObject.Unwrap(jsonObj);\n    const b64val = jsonObj[field];\n    const val = (Util.NotNull(b64val)) ? Base64.decode(b64val) : null;\n    return Util.NotNull(val) ? val : defaultVal;\n  }\n\n  // ----------------------- Encrypted Fields ------------------------\n\n  /**\n   * Encrypt and the value as a string to the field inside the given object.\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field\n   * @param {*} value value to set. It can be json or XObject wrapper\n   * @return {*} previous value, or null if value already same and not changed\n   * @see ~GetObjectField\n   * @see ~SetXObjectField\n   */\n  static SetEncryptedField(jsonObj, field, value) {\n    if (!XObject.AssertNotNull(field, _CLSNAME, 'SetEncField', 'Field name cannot be null.')) { return null; }\n    jsonObj = XObject.Unwrap(jsonObj);\n    value = XObject.Unwrap(value);\n    const encval = Util.EncryptJSON(value);\n    const prev = jsonObj.hasOwnProperty(field) ? jsonObj[field] : null;\n    if (prev !== encval) {\n      jsonObj[field] = encval;\n      return prev;\n    }\n    return null;\n  } // SetEncryptedField\n\n  /**\n   * Retrieve the encrypted value of the field and decrypt it before returning\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} field\n   * @param {*} defaultVal\n   *\n   * @see ~GetXObjectField\n   * @see #SetEncryptedField\n   * @see #HasObjectField\n   * @see #ClearObjectField\n   */\n  static GetEncryptedField(jsonObj, field, defaultVal = null) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, field], _CLSNAME, 'GetEncField', 'Field name cannot be null.')) { return defaultVal; }\n    jsonObj = XObject.Unwrap(jsonObj);\n    const encval = jsonObj[field];\n    const val = (Util.NotNull(encval)) ? Util.DecryptJSON(encval) : null;\n    return Util.NotNull(val) ? val : defaultVal;\n  } // GetEncryptedField\n\n\n  // --------------- CRUD FOR 1-M association to words ----------------\n\n  /**\n   * Add word (string text) to the given json object with property label\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} label property label\n   * @param {string} word string text to add into the array\n   * @param {boolean=} unique default is unique. set false to allow duplicates\n   *\n   * @return {boolean} true if added, false otherwise which includes already exist\n   */\n  static AddWord(jsonObj, label, word, unique = true) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, label, word], _CLSNAME, 'AddWord')) { return false; }\n    jsonObj = XObject.Unwrap(jsonObj);\n\n    if (!jsonObj.hasOwnProperty(label)) { jsonObj[label] = []; }\n    if ((unique === true) && jsonObj[label].includes(word)) {\n      const objectId = XObject.GetId(jsonObj);\n      console.warn(`${_CLSNAME}.AddWord: in object ${objectId}'s property: '${label}' the word: ${word} already exists in list:`, jsonObj[label]);\n      // console.trace('from:');\n      return false;\n    }\n    jsonObj[label].push(word);\n    return true;\n  } // AddWord\n\n  /**\n   * Replace word at the given index location.\n   *\n   * @param {{}} jsonObj\n   * @param {string} label\n   * @param {number} idx array index. Javascript allows idx greater than array size!!!\n   * @param {string} word word to add to array at index\n   */\n  static SetWordAt(jsonObj, label, idx, word) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, label, idx, word], _CLSNAME, 'SetWordAt')) { return null; }\n    if (idx < 0) { return null; }\n\n    let prevValue = null;\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (!jsonObj.hasOwnProperty(label)) { jsonObj[label] = []; }\n    const list = jsonObj[label];\n    prevValue = list[idx];\n    list[idx] = word;\n\n    return prevValue;\n  } // SetWordAt\n\n  /**\n   * Set all words using the given array\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} label property to retrieve words\n   * @param {string[]} array of words\n   * @param {*} defaultVal\n   * @return {string[]} previous word array, if exists or null if never set\n   */\n  static SetWords(jsonObj, label, wordArray) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, label], _CLSNAME, 'SetWords')) { return null; }\n    jsonObj = XObject.Unwrap(jsonObj);\n\n    const existingWords = jsonObj[label];\n    jsonObj[label] = wordArray;\n    return existingWords;\n  } // SetWords\n\n  /**\n   * Return associated words (or value) of this object.\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} label property to retrieve words\n   * @param {*} defaultVal\n   * @return {[]} words in array or defaultVal if property not found or null\n   */\n  static GetWords(jsonObj, label, defaultVal = []) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, label], _CLSNAME, 'GetWords')) { return defaultVal; }\n    jsonObj = XObject.Unwrap(jsonObj);\n\n    const words = jsonObj[label];\n    return (words == null) ? defaultVal : words;\n  } // GetWords\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {string} label\n   * @return {number} 0 or postive number\n   */\n  static GetWordCount(jsonObj, label) {\n    const words = XObject.GetWords(jsonObj, label, null);\n    return words ? words.length : 0;\n  }\n\n  /**\n   * Report on whether the property in question contains the given word\n   *\n   * @param {XObject}} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} label property to retrieve words\n   * @param {string} word text to check\n   * @return {boolean} true if exists, false otherwise\n   */\n  static HasWord(jsonObj, label, word) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, label, word], _CLSNAME, 'HasWord')) { return false; }\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (jsonObj[label] == null) { return false; }\n\n    return jsonObj[label].includes(word);\n  }\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {number} idx\n   * @param {string} label\n   * @param {string} word\n   * @param {*} defaultVal\n   */\n  static GetWordAt(jsonObj, label, idx, defaultVal = null) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, label, idx], _CLSNAME, 'GetWord')) { return defaultVal; }\n\n    jsonObj = XObject.Unwrap(jsonObj);\n    const list = jsonObj[label];\n    if ((idx < 0) || list == null) { return defaultVal; }\n\n    return list[idx] == null ? defaultVal : list[idx];\n  }\n\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {number} idx\n   * @param {string} label\n   * @param {string} word\n   * @return {number} position of the word in the internal array list. -1 means not found\n   */\n  static GetWordIndex(jsonObj, label, word) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, label, word], _CLSNAME, 'GetWordIndex')) {\n      return -1;\n    }\n\n    jsonObj = XObject.Unwrap(jsonObj);\n    const list = jsonObj[label];\n    const idx = list ? list.indexOf(word) : -1;\n\n    return idx;\n  }\n\n\n  /**\n   * Report on whether the labels in question contains the given word\n   *\n   * @param {XObject}} jsonObj instance of XObject or already unwrapped json data\n   * @param {string[]} labels array of property names to check if word exists\n   * @param {string} word text to check\n   * @return {string} property name for which word exists, or null if none\n   */\n  static HasWordIn(jsonObj, labels, word) {\n    // console.log(`HasWordIn: checking labels: ${labels}, word: ${word}`);\n\n    if (!XObject.AssertArrayNoNulls([jsonObj, labels, word], _CLSNAME, 'HasWordIn')) { return null; }\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (!Array.isArray(labels)) { return null; }\n    let label;\n    let wordList;\n    for (const i in labels) {\n      label = labels[i];\n      if (label == null) {\n        continue;\n      }\n      wordList = jsonObj[label];\n      if (wordList && Array.isArray(wordList) && wordList.includes(word)) {\n        return label;\n      }\n    }\n    return null;\n  } // HasWordIn\n\n  /**\n   * Remove a word given the property\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} label property to retrieve words\n   * @param {string} word will be normalized before comparing\n   * @return {boolean} true if removed, false if not\n   */\n  static RemoveWord(jsonObj, label, word) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, label, word], _CLSNAME, 'RemoveWord')) { return false; }\n    jsonObj = XObject.Unwrap(jsonObj);\n    if (word == null) { return false; }\n    const words = jsonObj[label];\n    if (words == null) { return false; }\n    const idx = words.indexOf(word);\n    if (idx === -1) { return false; }\n    words.splice(idx, 1);\n    return true;\n  } // RemoveWord\n\n  /**\n   * Remove all words given the property\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} label property to remove all words\n   * @return {boolean} true if removed, false if not\n   */\n  static RemoveAllWords(jsonObj, label) {\n    if (!XObject.AssertArrayNoNulls([jsonObj, label], _CLSNAME, 'RemoveAllWords')) { return false; }\n    jsonObj = XObject.Unwrap(jsonObj);\n    const words = jsonObj[label];\n    if (words == null) { return false; }\n    delete jsonObj[label];\n    return true;\n  } // RemoveWord\n\n  /**\n   * Count number of words stored in a property of the given object\n   *\n   * @param {XObject} jsonObj instance of XObject or already unwrapped json data\n   * @param {string} label property to retrieve words\n   * @return {number} number of words, or zero if nothing\n   */\n  static CountWords(jsonObj, label) {\n    jsonObj = XObject.Unwrap(jsonObj);\n    const words = jsonObj[label];\n    return words ? words.length : 0;\n  } // CountWords\n\n  // /**\n  //  * Track a parent object within the realm\n  //  * of XObject. It is transparent because it's\n  //  * set directly on the object and not the \"data\"\n  //  * property.\n  //  *\n  //  * @param {XObject} jsonObj object to track parent json obj\n  //  * @param {{}} parentObj json representation of parent\n  //  */\n  // static SetXParent(jsonObj, parentObj) {\n  //     jsonObj = XObject.Unwrap(jsonObj);\n  //     return XObject.SetObject(jsonObj, XObject.PROP_PARENT, parentObj);\n  // }\n  // /**\n  //  * Retrieve a transient parent object previously tracked\n  //  * using SetXParent.\n  //  *\n  //  * @param {XObject} jsonObj object to track parent json obj\n  //  * @return {{}} parent object if any\n  //  */\n  // static GetXParent(jsonObj, defaultVal = null) {\n  //     jsonObj = XObject.Unwrap(jsonObj);\n  //     return XObject.GetObject(jsonObj, XObject.PROP_PARENT, defaultVal);\n  // }\n\n  // -------------- Creation / Updated / Published Timestamps --------------\n\n  /**\n   * Set title field\n   *\n   * @param {{}} jsonObj\n   * @param {string} value\n   * @return {boolean} true if set, false if can't set\n   */\n  static SetTitle(jsonObj, value) {\n    if (jsonObj == null) { return false; }\n    jsonObj[XObjectProps.TITLE] = value;\n    return true;\n  }\n  /**\n   * Set creation date. If no date/time is given, will\n   * assume current time.\n   *\n   * @param {{}} jsonObj\n   * @param {number} date\n   * @return {boolean} true if set, false if can't se\n   */\n  static SetCreatedTS(jsonObj, ts = null) {\n    if (jsonObj == null) { return false; }\n    jsonObj[XObjectProps.CREATED_DATE] = ts || Date.now();\n    return true;\n  }\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @return {boolean} true if field removed, false if field does not exist\n   */\n  static ClearCreatedTS(jsonObj) {\n    if (jsonObj[XObjectProps.CREATED_DATE]) {\n      delete jsonObj[XObjectProps.CREATED_DATE];\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Return value in the created timestamp property.\n   *\n   * @param {{}} jsonObj\n   * @param {number} defaultVal if none, use this value.\n   */\n  static GetCreatedTS(jsonObj, defaultVal = -1) {\n    const ts = (jsonObj) ? jsonObj[XObjectProps.CREATED_DATE] : null;\n    return ts || defaultVal;\n  }\n\n  /**\n   * Update given json object's timestamp to a given value or now\n   *\n   * @param {{}} jsonObj\n   * @param {number=} timeVal optional time value to set or null to use current time\n   */\n  static SetUpdatedTS(jsonObj, timeVal = null) {\n    jsonObj[XObjectProps.UPDATED_DATE] = (timeVal || Date.now());\n  }\n\n  static ClearUpdatedTS(jsonObj) {\n    if (jsonObj[XObjectProps.UPDATED_DATE]) { delete jsonObj[XObjectProps.UPDATED_DATE]; }\n  }\n\n  /**\n   * Return the value to the field UPDATED_DATE (\"udate\").\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetUpdatedTS(jsonObj, defaultVal = -1) {\n    const ts = jsonObj ? jsonObj[XObjectProps.UPDATED_DATE] : null;\n    return ts || defaultVal;\n  }\n\n  /**\n   * Get either the updated timestamp, or created timestamp if\n   * no updated timestamp\n   *\n   * @param {{}} jsonObj unwrapped XObject instance (wrapped ok too)\n   * @param {*} defaultVal (-1)\n   * @return {number} either updatedTS or createdTS or defaultVal\n   *\n   * @see ~GetUpdatedTS\n   * @see ~GetCreatedTS\n   */\n  static GetTS(jsonObj, defaultVal = -1) {\n    jsonObj = XObject.Unwrap(jsonObj);  // just in case\n    let ts = XObject.GetUpdatedTS(jsonObj, -1);\n    if (ts === -1) {\n      ts = XObject.GetCreatedTS(jsonObj, -1);\n    }\n    return (ts === -1) ? defaultVal : ts;\n  }\n\n\n  /**\n   * Return whether this instance has been updated (included created)\n   * within the elapsed time.\n   *\n   * @param {number} inSeconds number of seconds to test\n   * @return {boolean} true if updated or created time are within the\n   * given seconds. False if not\n   */\n  static HasUpdatedWithin(jsonObj, inSeconds) {\n    let updatedTS = XObject.GetUpdatedTS(jsonObj, -1);\n    if (updatedTS <= 0) { updatedTS = XObject.GetCreatedTS(jsonObj, -1); }\n    if (updatedTS <= 0) { return false; }\n    const deltaTime = (Date.now() - updatedTS);\n    console.log(`HasUpdatedWithin(${inSeconds}): delta time is: ${deltaTime})`);\n    return (deltaTime < (inSeconds * 1000));\n  } // HasUpdatedWithin\n\n  /**\n   * Update given json object's timestamp to a given value or now\n   *\n   * @param {{}} jsonObj\n   * @param {number=} timeVal optional time value to set or null to use current time\n   */\n  static SetPublishedTS(jsonObj, timeVal = null) {\n    jsonObj[XObjectProps.PUBLISHED_DATE] = (timeVal || Date.now());\n  }\n\n  static ClearPublishedTS(jsonObj) {\n    if (jsonObj[XObjectProps.PUBLISHED_DATE]) { delete jsonObj[XObjectProps.UPDATED_DATE]; }\n  }\n\n  static GetPublishedTS(jsonObj, defaultVal = -1) {\n    return jsonObj ? jsonObj[XObjectProps.PUBLISHED_DATE] : defaultVal;\n  }\n\n  /**\n   * Update given json object's expiratiion date field with given time\n   * or current time.\n   *\n   * @param {{}} jsonObj\n   * @param {number=} timeVal optional time value to set or null to use current time\n   * @return {boolean} true if set, false if can't set\n   */\n  static SetExpiration(jsonObj, timeVal = null) {\n    if (jsonObj == null) { return false; }\n    jsonObj[XObjectProps.EXPIRATION_DATE] = timeVal || Date.now();\n    return true;\n  }\n\n  /**\n   * Remove expiration field\n   *\n   * @param {*} jsonObj\n   * @return {boolean} true if cleared, false if field doesn't exist\n   */\n  static ClearExpiration(jsonObj) {\n    if (jsonObj[XObjectProps.EXPIRATION_DATE]) {\n      delete jsonObj[XObjectProps.EXPIRATION_DATE];\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   *\n   * @param {*} jsonObj\n   * @param {*} defaultVal\n   * @return {number} return expiration epoch time in SECONDS, or defaultVal if no value\n   */\n  static GetExpiration(jsonObj, defaultVal = -1) {\n    const dateVal = jsonObj ? jsonObj[XObjectProps.EXPIRATION_DATE] : null;\n    return dateVal || defaultVal;\n  }\n\n  /**\n   * Determine if the value in the expiration field is\n   * less than current time and therefore expired.\n   *\n   * @param {*} jsonObj\n   * @param {*} defaultVal value to return if no date value\n   * @return {boolean} true if date value is less than now. If no value,\n   * return defaultVal\n   */\n  static HasExpired(jsonObj, defaultVal = false) {\n    const expdate = XObject.GetExpiration(jsonObj, -1);\n    if (expdate === -1) { return defaultVal; }\n    return expdate <= Date.now();\n  }\n\n  /**\n   * Set last edited timestamp. Edited means a specific field was\n   * changed but not necessarily saved.\n   *\n   * @param {{}} jsonObj\n   * @param {*} timeVal\n   * @return {boolean} true if set, false if can't set\n   */\n  static SetEditedTS(jsonObj, timeVal = null) {\n    if (jsonObj == null) { return false; }\n    jsonObj[XObjectProps.EDITED_DATE] = (timeVal || Date.now());\n    return true;\n  }\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @return {boolean} true if cleared, false if doesn't exist\n   */\n  static ClearEditedTS(jsonObj) {\n    if (jsonObj[XObjectProps.EDITED_DATE]) {\n      delete jsonObj[XObjectProps.EDITED_DATE];\n      return true;\n    }\n    return false;\n  }\n\n  static GetEditedTS(jsonObj, defaultVal = -1) {\n    return jsonObj ? jsonObj[XObjectProps.EDITED_DATE] : defaultVal;\n  }\n\n  // ---------------- PUBLISH / SCOPE STATUS --------------------\n\n  /**\n   * Update given json object's visibility scope to VISTYPE_PUBLIC,\n   * and also update published timestamp.\n   *\n   * @param {{}} jsonObj\n   * @param {number=} ts optional time value to set or null to use current time\n   * @return {string} previous value of VISTYPE_*\n   */\n  static SetPublicVisibility(jsonObj, ts = null) {\n    const result = XObject.SetVisibility(jsonObj, XObjectProps.VISTYPE_PUBLIC);\n    // XObject.SetPublishedTS(jsonObj, ts);\n    return result;\n  }\n\n  /**\n   * Clear VISTYPE_PUBLIC visibility scope. In our implementation, it's\n   * simply a removal since no scope equals private anyway.\n   *\n   * @param {{}} jsonObj\n   * @return {string} previous value of VISTYPE_*\n   */\n  static ClearPublicVisibility(jsonObj) {\n    const result = XObject.ClearVisibility(jsonObj);\n    XObject.ClearPublishedTS(jsonObj);\n    return result;\n  }\n\n  /**\n   * Set visibility scope.\n   *\n   * @param {{}} jsonObj\n   * @param {string} scope one of VISTYPE_*\n   * @return {string} previous scope, or null if none\n   */\n  static SetVisibility(jsonObj, scope) {\n    if (!XObject.Assert(XObjectProps.VISTYPES.includes(scope))) {\n      XObject.Error(_CLSNAME, 'SetVisibility', `Invalid scope: ${scope}`);\n      return false;\n    }\n    const prev = jsonObj[XObjectProps.VISIBILITY];\n    jsonObj[XObjectProps.VISIBILITY] = scope;\n    return prev;\n  } // SetVisibility\n\n  /**\n   * Clear existing visibility flag\n   *\n   * @param {{}} jsonObj\n   * @return {boolean} true if cleared. False if no need or cannot\n   */\n  static ClearVisibility(jsonObj) {\n    if (jsonObj[XObjectProps.VISIBILITY]) {\n      delete jsonObj[XObjectProps.VISIBILITY];\n      return true;\n    }\n    return false;\n  } // ClearVisibility\n\n  /**\n   * Retrieve visibility status of this object. If not set, then\n   * the assumption is it is private (VISTYPE_PUBLIC)\n   *\n   * @param {{}} jsonObj\n   * @param {string} defaultVal default to VISTYPE_PUBLIC if no data\n   */\n  static GetVisibility(jsonObj, defaultVal = XObjectProps.VISTYPE_PUBLIC) {\n    const verdict = jsonObj ? jsonObj[XObjectProps.VISIBILITY] : null;\n    return verdict || defaultVal;\n  }\n\n  /**\n   * Return whether the object has visibility scope of public (VISTYPE_PUBLIC)\n   *\n   * @param {*} defaultVal\n   */\n  static IsPublicVisible(jsonObj, checkACL = true) {\n    const pubVis = XObject.GetVisibility(jsonObj);\n    if (pubVis == null) { return true; }    // for now, no ACL means public read OK\n    if (pubVis === XObjectProps.VISTYPE_PUBLIC) { return true; }\n    return false;\n  }\n\n  /**\n   * Return whether the object has group level visibility (VISTYPE_GROUP)\n   *\n   * @param {{}} json\n   */\n  static IsGroupVisible(jsonObj) {\n    return XObject.GetVisibility(jsonObj) === XObjectProps.VISTYPE_GROUP;\n  }\n\n  /**\n   * Return whether the object has no public or group visibility, which\n   * means private.\n   *\n   * @param {{}} json\n   */\n  static IsPrivateVisible(jsonObj) {\n    return XObject.GetVisibility(jsonObj) === XObjectProps.VISTYPE_PRIVATE;\n  }\n\n  /**\n   * Return whether the object has been marked as deleted\n   *\n   * @param {*} defaultVal\n   */\n  static IsDeleted(jsonObj) {\n    return XObject.GetVisibility(jsonObj) === XObjectProps.VISTYPE_DELETED;\n  }\n\n\n  // ------------------------- SERIALIZATION --------------------------\n\n  /**\n   * Determine if the given object was put together by the ~Serialize\n   * function. The method of checking is there exist an \"stype\" property,\n   * and data is not null.\n   *\n   * @param {{}} jsonObj\n   */\n  static IsSerializedXObject(jsonObj) {\n    return ((Util.NotNull(jsonObj[XObjectProps.STYPE])) && (Util.NotNull(jsonObj[XObjectProps.MAIN_DATA])));\n  }\n\n  /**\n   * Convert XObject instance to a format where we can transmit and\n   * \"re-assemble\" on the other side. While we can just convert the\n   * entire XObject property \"data\" to JSON, but there are many transient\n   * values that can be attached, so we must only pick those that are\n   * relevant. For now, that's the auxillary carrier (AUX_DATA).\n   *\n   * @param {XObject} xobj either XObject instance, json version of it, or any data type\n   * @return {{data:{},aux:{}=},stype={string}} result structure if it's XObject variant.\n   * If not, then result is same as input \"data\"\n   *\n   * @see ~DeSerialize\n   */\n  static Serialize(xobj) {\n    const jsonObj = XObject.Unwrap(xobj);\n    const xtype = XObject.GetType(jsonObj);\n    if (xtype == null) { return xobj; }    // not an XObject\n    const result = {};\n    result[XObjectProps.MAIN_DATA] = XObject.GetData(xobj);\n    result[XObjectProps.AUX_DATA] = XObject.GetAuxData(xobj);\n    result[XObjectProps.STYPE] = xtype;\n\n    return result;\n  } // SerializeXObject\n\n  /**\n   * Take serialized XObject content and re-construct\n   * the XObject instance with other carrier data.\n   *\n   * @param {{data:{},aux:{}=}, stype:{string}} serialized\n   * @return {XObject} a newly constructed instance with data, or\n   * same as input if not an object\n   *\n    * @see ~Serialize\n   */\n  static DeSerialize(serialized) {\n    if (typeof serialized !== 'object') { return serialized; }\n\n    const xtype = serialized[XObjectProps.STYPE];\n    const mainData = serialized[XObjectProps.MAIN_DATA];\n    const auxData = serialized[XObjectProps.AUX_DATA];\n    if ((xtype == null) || (mainData == null)) {\n      // no marking of a serialized set, but can\n      // still be wrapped\n      return XObject.Wrap(serialized);\n    }\n    const xobj = XObject.Wrap(mainData);\n    if (xobj && auxData) { xobj.setAuxData(auxData); }\n    return xobj;\n  } // DeSerializeXObject\n\n  // ------------------ Other utilities\n\n  static ToJSONString(jsonObj) {\n    return jsonObj ? JSON.stringify(jsonObj) : '{}';\n  }\n\n\n}\n\nXObject.RegisterType(XObject);\n\nexport default XObject;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {Button} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      borderRadius: 16,\n      padding: theme.spacing(0.75, 2),\n      boxShadow: \"none\",\n      wordBreak: \"normal\",\n\n      // for general outlined button\n      \"&.MuiButton-outlined\": {\n        color: theme.palette.primary.main,\n        border: `1px solid ${theme.palette.primary.main}`,\n        \"&:not(:disabled)\": {\n          \"&:hover\": {\n            background: \"none\",\n            color: theme.palette.primary.dark,\n            border: `1px solid ${theme.palette.primary.dark}`,\n          },\n        },\n      },\n\n      // for general contained button\n      \"&.MuiButton-contained\": {\n        \"&:not(:disabled)\": {\n          background: theme.palette.primary.main,\n\n          \"&:hover\": {\n            background: theme.palette.primary.dark,\n          },\n        },\n      },\n\n      // for red contained button\n      \"&.MuiButton-contained.danger\": {\n        \"&:not(:disabled)\": {\n          background: theme.palette.error.light,\n\n          \"&:hover\": {\n            background: theme.palette.error.dark,\n          },\n        },\n      },\n\n      // for red outlined button\n      \"&.MuiButton-outlined.danger\": {\n        \"&:not(:disabled)\": {\n          background: \"none\",\n          border: `1px solid ${theme.palette.error.light}`,\n          color: theme.palette.error.light,\n\n          \"&:hover\": {\n            background: \"none\",\n            border: `1px solid ${theme.palette.error.dark}`,\n            color: theme.palette.error.dark,\n          },\n        },\n      },\n\n      \"&:hover\": {\n        boxShadow: \"none\",\n      },\n\n      \"& .MuiButton-label\": {\n        fontSize: 16,\n        lineHeight: \"20px\",\n        textTransform: \"capitalize\",\n      },\n      \"&:disabled\": {\n        background: theme.palette.primary.light,\n        color: theme.palette.text.disabled,\n      },\n      \"&.loading\": {\n        background: theme.palette.primary.main,\n        color: theme.palette.text.disabled,\n        opacity: 0.6,\n      },\n      \"&.bold\": {\n        fontWeight: \"bold\",\n      },\n    },\n  }),\n);\n\nexport const GButton = ({className, children, loading, isBold, ...rest}) => {\n  const classes = useStyles();\n\n  return (\n    <Button\n      className={classnames(\n        classes.root,\n        className,\n        loading ? \"loading\" : null,\n        isBold ? \"bold\" : null,\n      )}\n      color=\"primary\"\n      variant=\"contained\"\n      fullWidth\n      disableRipple={true}\n      {...rest}\n    >\n      {loading ? \"loading...\" : children}\n    </Button>\n  );\n};\n","\nimport XObject from '../XObject';\n\nimport ModelType, { ModelFolder, UserProps, UserStatsProps } from '../ModelConsts';\nimport { XMFollows } from '../social/XMFollow';\n\nconst _CLSNAME = 'XUserStats'; // match class name\n\n/**\n * Model a data structure that holds SOME\n * user info. It's expected to be used to\n * pass between front-end and back-end and\n * different logic. It's NOT the same as XMUser;\n * it holds subset but can also hold other\n * information such as statistics or\n * event information.\n */\nclass XUserStats extends XObject {\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XUserStats;\n\n    this._setTypeID();\n  }\n\n  /**\n     * Initialize content as a new object.\n     */\n  initNew() {\n    super.initNew();\n  }\n\n  /**\n     * UserId is set from server side extracting content from\n     * XMUser and other related objects. It is actually the _id\n     * field (primary key).\n     *\n     * @param {string} defaultVal\n     * @return {string}\n     */\n  getUserId(defaultVal) {\n    const data = this.getData(false);\n    return data ? XUserStats.GetUserId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     *\n     * @param {string} nickname\n     */\n  setNickname(nickname) {\n    return XUserStats.SetNickname(this.getData(true), nickname);\n  }\n\n  /**\n     *\n     * @param {string} useUsername\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getNickname(useUsername = true, defaultVal = null) {\n    const data = this.getData(false);\n    return XUserStats.GetNickname(data, useUsername, defaultVal);\n  }\n\n  /**\n     * Return an aggregate \"likes\" count for the user,\n     * which is a tally of likes on posts and likes on\n     * comment.\n     *\n     * @param {*} defaultVal\n     * @return (number)\n     */\n  getLikesCount(defaultVal = 0) {\n    const likesPost = this.getLikesPostCount(0);\n    const likesComment = this.getLikesCommentCount(0);\n    return likesPost + likesComment;\n  }\n\n  /**\n     *\n     * @param {number} number of post likes\n     */\n  setLikesPostCount(likes) {\n    return XUserStats.SetLikesPostCount(this, likes);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {number} count of post likes\n     */\n  getLikesPostCount(defaultVal = null) {\n    return XUserStats.GetLikesPostCount(this, defaultVal);\n  }\n\n  /**\n     *\n     * @param {number} number of comment likes\n     */\n  setLikesCommentCount(likes) {\n    return XUserStats.SetLikesCommentCount(this, likes);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count of comment likes\n   */\n  getLikesCommentCount(defaultVal = null) {\n    return XUserStats.GetLikesCommentCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} number of post watches\n   */\n  setWatchesPostCount(watchCount) {\n    return XUserStats.SetWatchesPostCount(this, watchCount);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count of post watches\n   */\n  getWatchesPostCount(defaultVal = null) {\n    return XUserStats.GetWatchesPostCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} number of post watches\n   */\n  setWatchesCommentCount(watchCount) {\n    return XUserStats.SetWatchesCommentCount(this, watchCount);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count of post watches\n   */\n  getWatchesCommentCount(defaultVal = null) {\n    return XUserStats.GetWatchesCommentCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} number of shares\n   */\n  setSharesPostCount(shares) {\n    return XUserStats.SetSharesPostCount(this, shares);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count of (accepted) shares\n   */\n  getSharesPostCount(defaultVal = null) {\n    return XUserStats.GetSharesPostCount(this, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} number of shares\n   */\n  setSharesCommentCount(shares) {\n    return XUserStats.SetSharesCommentCount(this, shares);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count of (accepted) shares\n   */\n  getSharesCommentCount(defaultVal = null) {\n    return XUserStats.GetSharesCommentCount(this, defaultVal);\n  }\n\n  /**\n   * Get total reposts count, which include both posts and\n   * reposted comments\n   *\n   * @return {number}\n   */\n  getSharesCount() {\n    const sharesPost = this.getSharesPostCount(0);\n    const sharesComment = this.getSharesCommentCount(0);\n    return sharesPost + sharesComment;\n  }\n\n  /**\n   *\n   * @param {number} number of (accepted) followers\n   */\n  setFollowsCount(follows) {\n    return XUserStats.SetFollowsCount(this, follows);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number} count of (accepted) followers\n   */\n  getFollowsCount(defaultVal = null) {\n    const n = XUserStats.GetFollowsCount(this, -1);\n    return n < 0 ? defaultVal : n;\n  }\n\n  /**\n     *\n     * @param {number} followers number of (accepted) followers\n     */\n  setFollowersCount(followers) {\n    return XUserStats.SetFollowersCount(this, followers);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {number}\n     */\n  getFollowersCount(defaultVal = null) {\n    const n = XUserStats.GetFollowersCount(this, -1);\n    return n < 0 ? defaultVal : n;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetFolderName() {\n    return ModelFolder.USER_STATS;\n  }\n\n  static GetTypeID() {\n    return ModelType.USER_STATS;\n  }\n\n  /**\n     * Wrap JSON data that represents XMList\n     */\n  static Wrap(jsonRec, clsType = XUserStats) {\n    return XUserStats.WrapXObject(jsonRec, clsType);\n  }\n\n  /**\n     * Create an user info record aggregated from difference\n     * sources but mainly XMUser. It is suitable to give to\n     * client for rendering.\n     *\n     * @param {string} userId\n     * @param {} props\n     * @return {XUserStats}\n     */\n  static CreateNew(userId, props = null) {\n    const userStats = new XUserStats();\n    userStats._setId(userId);\n    if (props) { userStats.importObjectFields(props); }\n\n    return userStats;\n  } // CreateNew\n\n  static SetUserId(jsonRec, userId) {\n    return XUserStats.SetId(jsonRec, userId);\n  }\n  static GetUserId(jsonRec, defaultVal = null) {\n    return XUserStats.GetId(jsonRec, defaultVal);\n  }\n\n  static SetUsername(jsonRec, username) {\n    return XUserStats.SetObjectField(jsonRec, UserProps.USERNAME, username);\n  }\n\n  static GetUsername(jsonRec, useMail = true, defaultVal = null) {\n    let username = XUserStats.GetObjectField(jsonRec, UserProps.USERNAME, null);\n    if (username == null) { username = XUserStats.GetUserId(jsonRec, null); }\n    if ((username == null) && (useMail === true)) {\n      username = XUserStats.GetEmail(jsonRec, null);\n    }\n    return username || defaultVal;\n  }\n\n  static SetNickname(jsonRec, name) {\n    return XUserStats.SetObjectField(jsonRec, UserProps.NICKNAME, name);\n  }\n\n  /**\n     *\n     * @param {*} jsonRec\n     * @param {boolean} useUsername\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  static GetNickname(jsonRec, useUsername = true, defaultVal = null) {\n    let name = XUserStats.GetObjectField(jsonRec, UserProps.NICKNAME, null);\n    if ((name == null) && (useUsername === true)) {\n      name = XUserStats.GetUsername(jsonRec, false, null);\n    }\n    return name || defaultVal;\n  }\n\n  /**\n     * Set likes post count\n     *\n     * @param {number} likes\n     */\n  static SetLikesPostCount(userStats, likes) {\n    return XUserStats.SetXObjectField(userStats, UserStatsProps.LIKES_POST, likes);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {number}\n     */\n  static GetLikesPostCount(userStats, defaultVal = null) {\n    return XUserStats.GetXObjectField(userStats, UserStatsProps.LIKES_POST, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} reposts\n   */\n  static SetSharesPostCount(userStats, reposts) {\n    return XUserStats.SetXObjectField(userStats, UserStatsProps.SHARES_POST, reposts);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetSharesPostCount(userStats, defaultVal = null) {\n    return XUserStats.GetXObjectField(userStats, UserStatsProps.SHARES_POST, defaultVal);\n  }\n\n  /**\n   * Set likes post count\n   *\n   * @param {number} likes\n   */\n  static SetLikesCommentCount(userStats, likes) {\n    return XUserStats.SetXObjectField(userStats, UserStatsProps.LIKES_COMMENT, likes);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetLikesCommentCount(userStats, defaultVal = null) {\n    return XUserStats.GetXObjectField(userStats, UserStatsProps.LIKES_COMMENT, defaultVal);\n  }\n\n  /**\n   *\n   * @param {number} watches\n   */\n  static SetWatchesPostCount(userStats, watches) {\n    return XUserStats.SetXObjectField(userStats, UserStatsProps.WATCHES_POST, watches);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetWatchesPostCount(userStats, defaultVal = null) {\n    return XUserStats.GetXObjectField(userStats, UserStatsProps.WATCHES_POST, defaultVal);\n  }\n\n\n  /**\n   *\n   * @param {number} watches\n   */\n  static SetWatchesCommentCount(userStats, watches) {\n    return XUserStats.SetXObjectField(userStats, UserStatsProps.WATCHES_COMMENT, watches);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetWatchesCommentCount(userStats, defaultVal = null) {\n    return XUserStats.GetXObjectField(userStats, UserStatsProps.WATCHES_COMMENT, defaultVal);\n  }\n\n\n  /**\n   *\n   * @param {number} reposts\n   */\n  static SetSharesCommentCount(userStats, reposts) {\n    return XUserStats.SetXObjectField(userStats, UserStatsProps.SHARES_COMMENT, reposts);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetSharesCommentCount(userStats, defaultVal = null) {\n    return XUserStats.GetXObjectField(userStats, UserStatsProps.SHARES_COMMENT, defaultVal);\n  }\n\n\n  /**\n     *\n     * @param {XMFollows} follows object tracking followings, or unwrapped json OK\n     */\n  static SetFollowsCount(userStats, follows) {\n    return XUserStats.SetXObjectField(userStats, UserStatsProps.FOLLOWS, follows);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {number}\n     */\n  static GetFollowsCount(userStats, defaultVal = null) {\n    return XUserStats.GetXObjectField(userStats, UserStatsProps.FOLLOWS, defaultVal);\n  }\n\n  /**\n     *\n     * @param {XMFollowers} follows object tracking followings, or unwrapped json OK\n     */\n  static SetFollowersCount(userStats, followers) {\n    return XUserStats.SetXObjectField(userStats, UserStatsProps.FOLLOWED, followers);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {number}\n     */\n  static GetFollowersCount(userStats, defaultVal = null) {\n    return XUserStats.GetXObjectField(userStats, UserStatsProps.FOLLOWED, defaultVal);\n  }\n\n\n  /**\n     * Update the content of XMFollows into the given XUserInfo.\n     *\n     * @param {XUserStats} userInfo\n     * @param {XMFollows} followsObj\n     *\n     * @return {}\n     */\n  static UpdateFollows(userInfo, follows) {\n    userInfo = XUserStats.Unwrap(userInfo);\n    follows = XMFollows.Unwrap(follows);\n\n    const targetIds = XUserStats.GetFollowings(follows);\n\n    return XUserStats.SetFollowings(targetIds);\n  }\n\n} // class XUserStats\n\nXUserStats.RegisterType(XUserStats);\n\nexport default XUserStats;\n","\nimport XObject from '../XObject';\nimport { DISABLED_FEATURES, ENABLED_FEATURES, FEATURE_AUTO_FOLLOW, LanguageCodes, UserProps } from '../ModelConsts';\nimport XMObject from '../XMObject';\nimport Util from '../../Util';\nimport TagUtil from '../../util/TagUtil';\n\nconst _CLSNAME = 'UserHelper';\n\n/**\n * Abstract Base class for XMUser and XUserInfo, since they\n * share a lot of the methods and properties.\n *\n * This was formerly UserHelper, grouping of utility functions\n * on both objects.\n *\n */\nclass XUserObject extends XMObject {\n  // constants to share with consumer of this class\n  // constants to share with consumer of this class\n  static get APP_ROLES() { return UserProps.APPUSER_ROLES; }\n  static get ROLE_ROOT() { return UserProps.ROLE_ROOT; }\n  static get ROLE_ADMIN() { return UserProps.ROLE_ADMIN; }\n  static get ROLE_SYSADM() { return UserProps.ROLE_SYSADM; }\n  static get ROLE_MODERATOR() { return UserProps.ROLE_MODERATOR; }\n\n  static get FEATURE_PREVIEW() { return UserProps.FEATURE_PREVIEW; }\n\n  constructor(clsname = _CLSNAME, props = null) {\n    super(clsname, props);\n    this.class = XUserObject; // override by subclass\n  }\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   *\n   * @param {string} defaultVal\n   * @return {string}\n   */\n  getUserId(defaultVal) { }\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   *\n   * @param {string} userId\n   */\n  setUserId(userId) { }\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   *\n   * @param {string} defaultVal\n   * @return {string}\n   */\n  getUsername(defaultVal = null) { }\n\n  /**\n   * Return original username, which is stored during signup to\n   * ensure the intended case.\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  setOriginalUsername(username) {\n    const data = this.getData(true);\n    const previousValue =  XUserObject.SetOriginalUsername(data, username);\n    if (previousValue !== username) {\n      this.setDirty();\n    }\n    return previousValue;\n  }\n\n\n  /**\n   * Return original username, which is stored during signup to\n   * ensure the intended case.\n   *\n   * @param {boolean} fallback true to use username if there is no value\n   * @return {string}\n   */\n  getOriginalUsername(fallback = true, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserObject.GetOriginalUsername(data, fallback, defaultVal) : defaultVal;\n  }\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   *\n   * @param {string} username\n   */\n  setUsername(username) { }\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   *\n   * @param {string} defaultVal\n   * @return {string}\n   */\n  getEmail(defaultVal) { }\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   *\n   * @param {string} username\n   */\n  setEmail(email) { }\n\n  /**\n   * Set user's BIO. This is a convenient \"semantically\"\n   * consistent method to a description attached to an\n   * XObject.\n   *\n   * @param {string} langCode language code (see LanguageCodes.*)\n   * @return {string} previous value\n   */\n  setBIO(text) {\n    return this.setDescription(text);\n  }\n\n  /**\n   * Return user's BIO (description)\n   *\n   * @param {string} defaultVal\n   * @return {string} stored language preference, or default value\n   * if none\n   */\n  getBIO(defaultVal = null) {\n    return this.getDescription(defaultVal);\n  }\n\n\n  /**\n   * Set the language preference that will be stored\n   * in database.\n   *\n   * @param {string} langCode language code (see LanguageCodes.*)\n   * @return {string} previous value\n   */\n  setLanguagePref(langCode) {\n    return this.set(UserProps.LANGUAGE, langCode);\n  }\n\n  /**\n   * Return the language preference stored in database for\n   * this user.\n   *\n   * @param {string} defaultVal\n   * @return {string} stored language preference, or default value\n   * if none\n   */\n  getLanguagePref(defaultVal = LanguageCodes.DEFAULT) {\n    return this.get(UserProps.LANGUAGE, defaultVal);\n  }\n\n  /**\n   * Check if the given language is compatible with the language\n   * preference of this user object. Being compatible is more\n   * cultural, for example, Chinese would be either simplified\n   * or traditional Chinese writing.\n   *\n   * @param {string} lang see LanguageCodes.*\n   * @return {boolean}\n   */\n  isCompatibleLanguage(lang) {\n    const data = this.getData(false);\n    return data ? XUserObject.IsCompatibleLanguage(data, lang) : false;\n    // if (lang == null) { lang = LanguageCodes.DEFAULT; }\n    // const langPref = this.getLanguagePref();\n    // if (langPref === lang) { return true; }\n\n    // return (Util.IsChinese(langPref) && Util.IsChinese(lang));\n  }\n\n\n  /**\n   * Set a list of topic Ids that the user is interested.\n   *\n   * NOTE: This should not be used directly. There is\n   * XInterestSettings as transient object to get/set\n   * topics in UserService on the backend\n   *\n   * @param {string} topicIds language code (see LanguageCodes.*)\n   * @return {string} previous value\n   *\n   * @see XInterestSettings\n   */\n  setTopics(topicIds) {\n    return this.set(UserProps.PREF_TOPICS, topicIds);\n  }\n\n  /**\n   * Return the interested topics\n   *\n   * @param {string} defaultVal\n   * @return {string[]} topicId array\n   *\n   * @see XInterestSettings\n   */\n  getTopics(defaultVal = null) {\n    return this.get(UserProps.PREF_TOPICS, defaultVal);\n  }\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   * Return all roles added to this user\n   *\n   * @param {*} defaultVal\n   */\n  getRoles(defaultVal = null) { }\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   * Get role definition for a given role\n   *\n   * @param {string} roleId\n   * @param {*} defaultVal\n   * @return {{}} properties for the role, if it exists\n   *\n   * @see #addRole\n   * @see #removeRole\n   * @see #hasRole\n   */\n  getRole(roleId, defaultVal = null) { }\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   * Determine if a role is defined.\n   *\n   * @param {string} roleId one of ROLE_*\n   * @return {boolean} true if role is defined regardless of stored properties\n   *\n   * @see #addRole\n   * @see #getRole\n   * @see #removeRole\n   */\n  hasRole(roleId) { }\n\n  /**\n   * @return {boolean}\n   */\n  hasGodRole() { }\n\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   * Determine if this user has sys admin role\n   *\n   * @return {boolean} true if the record indicate admin,\n   * or root priv\n   */\n  hasAdminRole() { }\n\n  /**\n   * [ABSTRACT: Implemented by Subclasses]\n   * Determine if this user has sys admin role\n   *\n   * @return {boolean} true if the record indicate sys admin,\n   * or root priv\n   */\n  hasSysAdminRole() { }\n\n  /**\n   * Determine if the user is an influencer, and return its level.\n   *\n   * @return {number} between INFLUENCER_LEVEL_MIN(1) and INFLUENCER_LEVEL_MAX(9).\n   * 0 means not influencer\n   */\n  isInfluencer(defaultVal = 0) {\n    const data = this.getData(false);\n    return data ? XUserObject.IsInfluencer(data, defaultVal) : defaultVal;\n  }\n\n\n  /**\n   * Report on whether this user is the top level influencer\n   * with highest level INFLUENCER_LEVEL_MAX.\n   *\n   * @return {boolean} true if at max level\n   */\n  isSuperInfluencer() {\n    return this.isInfluencer() === UserProps.INFLUENCER_LEVEL_MAX;\n  }\n\n  /**\n   * @param {*} jsonRec\n   * @return {number} role level\n   */\n  getInfluencerLevel() {\n    const jsonRec = this.getData(false);\n    const influencerRole = this.getRole(UserProps.ROLE_INFLUENCER);\n    const level = influencerRole ? influencerRole[UserProps.PROP_INFLUENCER_LEVEL] : jsonRec[UserProps.ROLE_INFLUENCER];\n    return (level == null) ? 0 : Util.toNumber(level);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  getEnabledFeatures(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserObject.GetEnabledAppFeatureList(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  getDisabledFeatures(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserObject.GetEnabledAppFeatureList(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Determine if the given feature is on either the user's disable feature list,\n   * or system-wide disable list for the user level.\n   *\n   * @param {string} featureId\n   * @param {*} defaultVal if no object!\n   * @return {boolean} true if given feature Id is on either disabled lists\n   */\n  isAppFeatureDisabled(featureId, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserObject.IsAppFeatureDisabled(data, featureId) : defaultVal;\n  }\n\n  /**\n   * Determine if the user has feature to have all new users automatically\n   * following. This is just a convenient method.\n   *\n   * @return {boolean} true if the user as the auto follow feature\n   */\n  newUserAutoFollow() {\n    return this.hasAppFeature(FEATURE_AUTO_FOLLOW, false);\n  }\n\n\n  // --------------------- APP FEATURE ---------------------------\n\n  /**\n   * Retrieve the all properties of a feature within the feature\n   * group FEATURE_GROUP_APP.\n   *\n   * @param {*} featureId\n   * @param {*} defaultVal\n   * @return {{}} properties of the feature\n   */\n  getAppFeature(featureId, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserObject.GetAppFeature(data, featureId, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Determine if there exist of a feature within the feature group FEATURE_GROUP_APP\n   *\n   * @param {string} featureId\n   * @param {boolean} defaultVal default is true (assuming not explcit)\n   * @return {boolean} true if the record indicate sys admin or root\n   */\n  hasAppFeature(featureId, defaultVal = false) {\n    const data = this.getData(false);\n    return data ? XUserObject.HasAppFeature(data, featureId, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Add a feature to the FEATURE_GROUP_APP feature group\n   *\n   * @param {string} featureId\n   * @return {boolean} true if set, false if not\n   */\n  addAppFeature(featureId, propertyName = null) {\n    const data = this.getData(true);\n    return XUserObject.AddAppFeature(data, featureId, propertyName);\n  }\n\n  /**\n   * Remove a feature from the feature group FEATURE_GROUP_APP\n   *\n   * @return {boolean} true if removed, false if not\n   */\n  removeAppFeature(featureId) {\n    const data = this.getData(false);\n    if (data == null) {\n      return false;\n    }\n\n    return data ? XUserObject.RemoveAppFeature(data, featureId) : false;\n  }\n\n  /**\n   * Add the given feature id to user's disable list.\n   *\n   * @param {object} jsonRec\n   * @param {string} featureId\n   * @return {boolean} true if added to disable list\n   */\n  disableAppFeature(featureId) {\n    const data = this.getData(true);\n    const updated = XUserObject.DisableAppFeature(data, featureId);\n    if (updated) {\n      this.setDirty();\n    }\n    return updated;\n  }\n\n  /**\n   *\n   * @param {string} feautureId\n   * @return {boolean}\n   */\n  removeDisabledAppFeature(featureId) {\n    const data = this.getData(true);\n    const updated = XUserObject.RemoveDisabledAppFeature(data, featureId);\n    if (updated) {\n      this.setDirty();\n    }\n    return updated;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  getEnabledAppFeautureList(defaultVal = []) {\n    const data = this.getData(false);\n    return data ? XUserObject.GetEnabledAppFeatureList(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  getDisabledAppFeautureList(defaultVal = []) {\n    const data = this.getData(false);\n    return data ? XUserObject.GetDisabledAppFeatureList(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Get user status string\n   *\n   * @param {*} defaultVal\n   * @return {string=} status indicator (UserProps.STATUS_)\n   */\n  getStatus(defaultVal = null) {\n    const data = this.getData(false);\n    return XUserObject.GetStatus(data, defaultVal);\n  }\n\n  /**\n   * Timestamp of the status update. This may not be\n   * stored in XUserInfo.\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  getStatusTS(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserObject.GetStatusTS(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return whether this user has active status\n   *\n   * @return {boolean}\n   */\n  isActive() {\n    const data = this.getData(false);\n    return data ? XUserObject.IsActive(data) : false;\n  }\n\n  /**\n   * Return whether this user has new / unverified status\n   *\n   * @return {boolean} true if status is new, or no status at all\n   */\n  isUnverified() {\n    const data = this.getData(false);\n    return data ? XUserObject.IsUnverified(data) : false;\n  }\n\n  /**\n   * Return whether this user has suspended status\n   *\n   * @return {boolean}\n   */\n  isSuspended() {\n    const data = this.getData(false);\n    return data ? XUserObject.IsSuspended(data) : false;\n  }\n\n\n  // -------------------------- PIN POSTS ------------------------------\n\n  /**\n   * Add a post as pinned. Because it is an array, this will\n   * append to the end of the list\n   *\n   * @param {string} postId\n   *\n   * @see ~removePinnedPost\n   * @see ~getPinnedPosts\n   * @return {boolean} true if added, false if not which can be due to already exist\n   */\n  addPinnedPost(postId) {\n    return XUserObject.AddPinnedPost(this.getData(true), postId);\n  } // addPinnedPost\n\n  /**\n   * Set list of postIds as pinned\n   *\n   * @param {[]} postIds if non-null, will replace everything, INCLUDING empty array\n   * @return {boolean} true if set, false if array is empty or content is same.\n   */\n  setPinnedPosts(postIds) {\n    return XUserObject.SetPinnedPosts(this.getData(true), postIds);\n  }\n\n  /**\n   * Return list of postIds for pinned posts\n   *\n   * @param {*} defaultVal\n   */\n  getPinnedPosts(defaultVal = []) {\n    const data = this.getData(false);\n    return data ? XUserObject.GetPinnedPosts(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Remove a pinned post\n   *\n   * @param {string} postId post to remove from pinned list\n   * @return {boolean} true if removed\n   *\n   * @see #addPinnedPost\n   * @see #getPinnedPosts\n   */\n  removePinnedPost(postId) {\n    const data = this.getData(false);\n    return data ? XUserObject.RemovePinnedPost(data, postId) : null;\n  }\n\n  /**\n   * Report on whether a given postId is found in the pinned post list\n   *\n   * @param {string} postId post to check in pinned list\n   * strip any expressions\n   * @return {boolean} true if exists\n   */\n  hasPinnedPost(postId) {\n    const data = this.getData(false);\n    return data ? XUserObject.HasPinnedPost(data, postId) : false;\n  }\n\n  /**\n   * Count number of posts pinned\n   *\n   * @return {number}\n   */\n  getPinnedPostCount(jsonObj) {\n    const data = this.getData(false);\n    return data ? XUserObject.GetPinnedPostCount(data) : 0;\n  } // getPinnedPostCount\n\n  /**\n   * Return the position of the specified post in pinned list\n   *\n   * @param {string} nameCheck tagname to check.\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  indexOfPinnedPost(postId) {\n    const data = this.getData(false);\n    return data ? XUserObject.IndexOfPinnedPost(data, postId) : -1;\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n\n  /**\n   * Get user status\n   *\n   * @param {{}} jsonRec\n   * @param {*} defaultVal in case no status. This can be UserProps.STATUS_UNVERIFIED\n   */\n  static GetStatus(jsonRec, defaultVal = null) {\n    return XUserObject.GetObjectField(jsonRec, UserProps.STATUS, defaultVal);\n  }\n\n\n  /**\n   * Get user status\n   *\n   * @param {{}} jsonRec\n   * @param {*} defaultVal\n   */\n  static GetStatusTS(jsonRec, defaultVal = null) {\n    return XUserObject.GetObjectField(jsonRec, UserProps.STATUS_TS, defaultVal);\n  }\n\n  /**\n   * Answers whether the given user record has a status field that says \"active\"\n   *\n   * @param {*} jsonRec\n   * @return {boolean} true if status is STATUS_ACTIVE\n   */\n  static IsActive(jsonRec) {\n    const status = XUserObject.GetStatus(jsonRec, UserProps.STATUS);\n    return status ? (status === UserProps.STATUS_ACTIVE) : false;\n  }\n\n  /**\n   * Answers whether the given user record has a status field that says \"new\"\n   *\n   * @param {*} jsonRec\n   * @return {boolean} true if status is STATUS_NEW. If there is no status,\n   * then that's equivalent of new status\n   */\n  static IsUnverified(jsonRec) {\n    const status = XUserObject.GetStatus(jsonRec, UserProps.STATUS);\n    return status ? (status === UserProps.STATUS_UNVERIFIED) : true;\n  }\n\n  /**\n   * Answers whether the given user record has a status field that says \"suspended\"\n   *\n   * @param {*} jsonRec\n   * @return {boolean} true if status is STATUS_SUSPENDED\n   */\n  static IsSuspended(jsonRec) {\n    const status = XUserObject.GetStatus(jsonRec, UserProps.STATUS);\n    return status ? (status === UserProps.STATUS_SUSPENDED) : false;\n  }\n\n\n  /**\n   *\n   * @param {object} jsonRec\n   * @param {*} defaultVal\n   * @return {string} stored language code, or LanguageCodes.DEFAULT (en)\n   */\n  static GetLanguagePref(jsonRec, defaultVal = LanguageCodes.DEFAULT) {\n    return XUserObject.GetObjectField(jsonRec, UserProps.LANGUAGE, defaultVal);\n  }\n\n  /**\n   * Check if the given language is compatible with the language\n   * preference of this user object. Being compatible is more\n   * cultural, for example, Chinese would be either simplified\n   * or traditional Chinese writing.\n   *\n   * @param {object} jsonRec\n   * @param {string} lang see LanguageCodes.* null return automatic true\n   * @return {boolean}\n   */\n  static IsCompatibleLanguage(jsonRec, lang) {\n    if (Util.StringIsEmpty(lang)) {\n      return true;\n    }\n    const langPref = XUserObject.GetLanguagePref(jsonRec);\n    if (langPref === lang) { return true; }\n\n    return (Util.IsChinese(langPref) && Util.IsChinese(lang));\n  }\n\n\n  // ----------------------- USER ROLES -----------------------------\n\n  /**\n     * Set roles object. Do not use this directly. Use\n     * AddRole and RemoveRole.\n     *\n     * @param {{}} jsonRec\n     * @param {{}} roles an object with roles as property\n     *\n     * @see ~AddRole\n     * @see ~RemoveRole\n     * @see ~GetRole\n     */\n  static SetRoles(jsonRec, roles) {\n    return XObject.SetObjectField(jsonRec, UserProps.APPUSER_ROLES, roles);\n  }\n\n  /**\n     * Add a role to the auth record\n     *\n     * @param {object} jsonRec\n     * @param {string} roleId one of AUTH_ROLE_*\n     * @param {object} properties optional property details. This\n     * can be individually added later\n     * @return {boolean} true if added, false if not for various reasons\n     *\n     * @see #GetRole\n     * @see #RemoveRole\n     */\n  static AddRole(jsonRec, roleId, properties = null) {\n    const _m = `${_CLSNAME}.AddRole`;\n    if (roleId == null) {\n      console.error(_m, 'Adding null role is not allowed.');\n      return false;\n    }\n    let roles = XUserObject.GetRoles(jsonRec, null);\n    let roleAdded = false;\n    if (roles == null) {\n      roles = {};\n      XUserObject.SetRoles(jsonRec, roles);\n    }\n    if (!roles.hasOwnProperty(roleId)) {\n      roles[roleId] = {};\n      roleAdded = true;\n    }\n    if (Util.NotNull(properties)) {\n      roles[roleId] = { ...roles[roleId], ...properties };\n      roleAdded = true;\n    }\n    return roleAdded;\n  }\n\n  /**\n     *\n     * @param {{}} jsonRec\n     * @param {*} defaultVal\n     */\n  static GetRoles(jsonRec, defaultVal = null) {\n    return XObject.GetObjectField(jsonRec, UserProps.APPUSER_ROLES, defaultVal);\n  }\n\n  /**\n   * Return the desired role sub-object within the roles object\n   * within the given authInfo json data.\n   *\n   * @param {{}} jsonRec XAuthInfo json data\n   * @param {string} role one of AUTH_ROLE_*\n   * @return {object} properties stored for the given role.\n   * If no properties, empty object should be returned. Null\n   * or defaultVal imply not found.\n   * @see #AddRole\n   * @see #RemoveRole\n   */\n  static GetRole(jsonRec, role, defaultVal = null) {\n    const roles = XUserObject.GetRoles(jsonRec);\n    if (roles == null) { return defaultVal; }\n    const roleObj = roles[role];\n    return (Util.NotNull(roleObj)) ? roleObj : defaultVal;\n  } // GetRole\n\n  /**\n   * Return the desired role sub-object within the roles object\n   * within the given authInfo json data.\n   *\n   * @param {{}} jsonRec XAuthInfo json data\n   * @param {string} role one of AUTH_ROLE_*\n   * @return {boolean} true if removed, false if not found\n   *\n   * @see #AddRole\n   * @see #RemoveRole\n   */\n  static RemoveRole(jsonRec, role) {\n    const roles = XUserObject.GetRoles(jsonRec);\n    if (roles == null) { return false; }\n    const roleObj = roles[role];\n    if (roleObj == null) { return false; }   // not found\n    delete roles[role];\n    return true;\n  } // RemoveRole\n\n  static SetAdminRole(jsonRec) {\n    return XUserObject.AddRole(jsonRec, UserProps.ROLE_ADMIN);\n  }\n\n  static SetSysAdminRole(jsonRec) {\n    return XUserObject.AddRole(jsonRec, UserProps.ROLE_SYSADM);\n  }\n\n  static SetModeratorRole(jsonRec) {\n    return XUserObject.AddRole(jsonRec, UserProps.ROLE_MODERATOR);\n  }\n\n  /**\n   * Determine if the authinfo has the given role\n   *\n   * @param {object} jsonRec XAuthInfo json data\n   * @param {string} role one of AUTH_ROLE_*\n   * @return {boolean} true if the record indicate the given role,\n   * or if AUTH_ROLE_ROOT is present.\n   */\n  static HasRole(jsonRec, role) {\n    const roles = XUserObject.GetRoles(jsonRec);\n    if (roles == null) { return false; }\n    let exists = roles.hasOwnProperty(role);\n    if (!exists) { exists = roles.hasOwnProperty(UserProps.ROLE_ROOT); }\n    return exists;\n  }\n  /**\n   * Retrieve property value of a given role if any\n   *\n   * @param {object} jsonRec XAuthInfo json data\n   * @param {string} role one of ROLE_*\n   * @param {string} label property label to look\n   * @return {object} value associated with label, or defaultVal\n   */\n  static GetRoleProperty(jsonRec, role, label, defaultVal = null) {\n    const roles = XUserObject.GetRoles(jsonRec);\n    if (roles == null) { return false; }\n    const roleDef = roles[role];\n    if (roleDef == null) { return defaultVal; }\n    const rolePropValue = roleDef[label];\n    return rolePropValue || defaultVal;\n  } // GetRoleProperty\n\n  /**\n   * Determine if the user has sys admin role\n   *\n   * @param {{}} json object for user\n   * @return {boolean} true if the record indicate sys admin,\n   * or root priv\n   */\n  static HasAdminRole(jsonRec) {\n    return XUserObject.HasRole(jsonRec, UserProps.ROLE_ADMIN);\n  }\n\n  /**\n   * Determine if the authinfo has sys admin role\n   *\n   * @param {object} jsonRec XAuthInfo json data\n   * @return {boolean} true if the record indicate sys admin,\n   * or root priv\n   */\n  static HasSysAdminRole(jsonRec) {\n    return XUserObject.HasRole(jsonRec, UserProps.ROLE_SYSADM);\n  }\n\n\n  /**\n   * Determine if the user is an influencer, and return its level.\n   *\n   * @param {{}} jsonRec unwrapped json for XMUser\n   * @return {number} between INFLUENCER_LEVEL_MIN(1) and INFLUENCER_LEVEL_MAX.\n   * 0 means influencer role not found\n   */\n  static IsInfluencer(jsonRec, defaultVal = 0) {\n    const level = jsonRec[UserProps.ROLE_INFLUENCER];\n    if (!level || level === -1) { return defaultVal; }\n    return Util.toNumber(level, defaultVal) || defaultVal;\n  }\n\n  // ----------------- FEATURE BUILDING BLOCK FUNCTIONS ----------------\n\n  /**\n   *\n   * @param {object} jsonRec\n   * @param {string} username\n   * @return {string} previously set value\n   */\n  static SetOriginalUsername(jsonRec, username) {\n    return XUserObject.SetObjectField(jsonRec, UserProps.ORIG_USERNAME, username);\n  }\n\n  /**\n   *\n   * @param {object} jsonRec\n   * @param {boolean} fallback true to use 'username' if no value\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  static GetOriginalUsername(jsonRec, fallback, defaultVal = null) {\n    let value = XUserObject.GetObjectField(jsonRec, UserProps.ORIG_USERNAME, null);\n    if ((value == null) && fallback === true) {\n      value = XUserObject.GetObjectField(jsonRec, UserProps.USERNAME, null);\n    }\n    return (value == null) ? defaultVal : value;\n  }\n\n  /**\n   * Set features into the app category. Do not use this directly. Use\n   * AddFeature and RemoveFeature.\n   *\n   * @param {{}} jsonRec\n   * @param {string} featureGroup one of FEATURE_GROUP_APP, FEATURE_GOUP_USERS\n   * @param {{}} features an object with feature name/value as properties\n   *\n   * @see ~AddFeature\n   * @see ~RemoveFeature\n   * @see ~GetFEature\n   */\n  static SetFeatures(jsonRec, featureGroup, features) {\n    return XObject.SetObjectField(jsonRec, featureGroup, features);\n  }\n\n  /**\n     * Add a feature to the auth record. This will be ignored\n     * if already exist\n     *\n     * @param {object} jsonRec\n     * @param {string} featureGroup one of FEATURE_GROUP_APP, FEATURE_GOUP_USER\n     * @param {string} featureId one of FEATURE_*\n     * @param {object} properties optional property details.\n     * @return {boolean} true if added, false if not including already\n     * exists\n     *\n     * @see #GetFeature\n     * @see #RemoveFeature\n     */\n  static AddFeature(jsonRec, featureGroup, featureId, properties = null) {\n    const _m = `${_CLSNAME}.AddFeature(${featureGroup},${featureId})`;\n    if (featureId == null) {\n      console.error(_m, 'null fea is not allowed.');\n      return false;\n    }\n    let features = XUserObject.GetFeatures(jsonRec, featureGroup, null);\n    let featureAdded = false;\n    if (features == null) {\n      features = {};\n      XUserObject.SetFeatures(jsonRec, featureGroup, features);\n    }\n    if (!features.hasOwnProperty(featureId)) {\n      features[featureId] = properties || {};\n      featureAdded = true;\n    }\n    return featureAdded;\n  }\n\n  /**\n     * Return all features keys/values stored within given object.\n     *\n     * @param {{}} jsonRec\n     * @param {string} featureGroup one of FEATURE_GROUP_APP, FEATURE_GOUP_USERS\n     * @param {} defaultVal\n     * @return {{}} map of features keyed by featureId\n     */\n  static GetFeatures(jsonRec, featureGroup, defaultVal = null) {\n    return XObject.GetObjectField(jsonRec, featureGroup, defaultVal);\n  }\n\n  /**\n     * Return the desired features object within the feature group\n     * within the given authInfo json data.\n     *\n     * @param {{}} jsonRec XAuthInfo json data\n     * @param {string} featureGroup one of FEATURE_GROUP_APP, FEATURE_GOUP_USERS\n     * @param {string} featureId one of FEATURE_*\n     * @return {object} properties stored for the given role.\n     * If no properties, empty object should be returned. Null\n     * or defaultVal imply not found.\n     * @see #AddRole\n     * @see #RemoveRole\n     */\n  static GetFeature(jsonRec, featureGroup, featureId, defaultVal = null) {\n    const features = XUserObject.GetFeatures(jsonRec, featureGroup);\n    if (features == null) { return defaultVal; }\n    const featureObj = features[featureId];\n    return (Util.NotNull(featureObj)) ? featureObj : defaultVal;\n  } // GetFeature\n\n  /**\n   * Retrieve property value of a given feature if any\n   *\n   * @param {object} jsonRec XAuthInfo json data\n   * @param {string} featureId one of AUTH\n   * @param {string} label property label to look\n   * @return {object} value associated with label, or defaultVal\n   */\n  static GetFeatureProperty(jsonRec, featureGroup, featureId, label, defaultVal = null) {\n    const features = XUserObject.GetFeatures(jsonRec, featureGroup);\n    if (features == null) { return false; }\n    const featureDef = features[featureId];\n    if (featureDef == null) { return defaultVal; }\n    const propValue = featureDef[label];\n    return propValue || defaultVal;\n  } // GetFeatureProperty\n\n  /**\n     * Remove feature definition given the feature label\n     *\n     * @param {{}} jsonRec XAuthInfo json data\n     * @param {string} featureGroup one of FEATURE_GROUP_APP, FEATURE_GOUP_USERS\n     * @param {string} featureId label of feature. One of FEATURE_*\n     * @return {boolean} true if removed, false if not found\n     *\n     * @see #AddFeature\n     * @see #HasFeature\n     */\n  static RemoveFeature(jsonRec, featureGroup, featureId) {\n    const features = XUserObject.GetFeatures(jsonRec, featureGroup);\n    if (features == null) { return false; }\n    const featureObj = features[featureId];\n    if (featureObj == null) { return false; }   // not found\n    delete features[featureId];\n    return true;\n  } // RemoveFeature\n\n  /**\n     * Determine if the authinfo has the given feature\n     *\n     * @param {object} jsonRec XAuthInfo json data\n     * @param {string} featureGroup one of FEATURE_GROUP_APP, FEATURE_GOUP_USER\n     * @param {string} featureId one of FEATURE_\n     * @return {boolean} true if the record has feature as key\n     */\n  static HasFeature(jsonRec, featureGroup, featureId) {\n    const features = XUserObject.GetFeatures(jsonRec, featureGroup);\n    return features ? features.hasOwnProperty(featureId) : false;\n  }\n\n  /**\n     * Determine if there is a property associated with a feature\n     *\n     * @param {object} jsonRec XAuthInfo json data\n     * @param {string} featureGroup one of FEATURE_GROUP_APP, FEATURE_GOUP_USERS\n     * @param {string} featureId one of FEATURE_\n     * @param {string} propertyName name of the property\n     * @return {boolean} true if the record has feature as key\n     */\n  static HasFeatureProperty(jsonRec, featureGroup, featureId, propertyName) {\n    const features = XUserObject.GetFeatures(jsonRec, featureGroup, null);\n    // JSC 9/14/2020: not tested\n    const feature = features ? features[featureId] : null;\n    return feature ? feature.hasOwnProperty(propertyName) : false;\n  }\n\n  // ---------------- APPLICATTION LEVEL FEATURES -------------------------\n\n  /**\n     *\n     * @param {string} featureId\n     * @param {{}} properties\n     */\n  static AddAppFeature(jsonRec, featureId, properties = null) {\n    return XUserObject.AddFeature(jsonRec, UserProps.FEATURE_GROUP_APP, featureId, properties);\n  }\n\n  /**\n   * Return all features within the feature group FEATURE_GROUP_APP\n   *\n   * @param {*} jsonRec\n   * @param {*} defaultVal\n   * @return {*[]} feature array objects\n   */\n  static GetAppFeatures(jsonRec, defaultVal) {\n    return XUserObject.GetFeatures(jsonRec, UserProps.FEATURE_GROUP_APP, defaultVal);\n  }\n\n  /**\n     *\n     * @param {{}} jsonRec\n     * @param {string} featureId\n     * @param {*} defaultVal\n     * @return {{}} social feature record\n     */\n  static GetAppFeature(jsonRec, featureId, defaultVal) {\n    return XUserObject.GetFeature(jsonRec, UserProps.FEATURE_GROUP_APP, featureId, defaultVal);\n  }\n\n  /**\n     *\n     * @param {{}} jsonRec\n     * @return {boolean} true if existed and removed. False if\n     * does not exist\n     */\n  static RemoveAppFeature(jsonRec, featureId) {\n    return XUserObject.RemoveFeature(jsonRec, UserProps.FEATURE_GROUP_APP, featureId);\n  }\n\n  /**\n   * Add the given feature id to user's disable list.\n   *\n   * NOTE: This function does not check if the feature is already on the\n   * system-wide disabled list. It only cares about adding to user's own\n   * disabled list explicitly.\n   *\n   * @param {object} jsonRec\n   * @param {string} featureId\n   * @return {boolean} true if added to disable list, or already on disabled list\n   */\n  static DisableAppFeature(jsonRec, featureId) {\n    let disabledList = XUserObject.GetFeatures(jsonRec, UserProps.FEATURE_GROUP_APP_DISABLED);\n    if (disabledList && disabledList.includes(featureId)) {\n      return true;\n    }\n    if (disabledList == null) {\n      disabledList = [];\n    }\n    disabledList.push(featureId);\n    XUserObject.SetFeatures(jsonRec, UserProps.FEATURE_GROUP_APP_DISABLED, disabledList);\n    return true;\n  }\n\n  /**\n   * Remove a previously disabled feature. this can only remove\n   * from user's disable list, NOT the general preset disable list.\n   *\n   * @param {object} jsonRec\n   * @param {string} featureId\n   * @return {boolean} true if removed to disable list\n   */\n  static RemoveDisabledAppFeature(jsonRec, featureId) {\n    const disabledList = XUserObject.GetFeatures(jsonRec, UserProps.FEATURE_GROUP_APP_DISABLED);\n    const featureIdx = disabledList ? disabledList.indexOf(featureId) : -1;\n    if (featureIdx < 0) {\n      return false;\n    }\n    disabledList.splice(featureIdx, 1);\n    // XUserObject.SetFeatures(jsonRec, UserProps.FEATURE_GROUP_APP_DISABLED, disabledList);\n    return true;\n  }\n\n\n  /**\n     *\n     * @param {{}} jsonRec\n     * @param {string} featureId\n     * @param {boolean} defaultVal return this if no explicit inclusion\n     * @return {boolean}\n     */\n  static HasAppFeature(jsonRec, featureId, defaultVal = false) {\n    const inFeatureList = XUserObject.HasFeature(jsonRec, UserProps.FEATURE_GROUP_APP, featureId);\n    // console.log('!!!!! HasAppFeature: inFeatureList: ', inFeatureList);\n    if (inFeatureList) { return true; }\n\n    if (XUserObject.IsAppFeatureDisabled(jsonRec, featureId)) {\n      // console.log('!!!!! HasAppFeature: isdisabled!');\n      return false;\n    }\n    // if user has this feature, then the only override if\n    const presetList = XUserObject.GetEnabledAppFeatureList(jsonRec, []);\n    // console.log('>>>>  preset list:', presetList);\n    let verdict = presetList.includes(featureId);\n\n    // if user has the feature disabled, then it overrides\n    if (defaultVal === true) {\n      if (XUserObject.IsAppFeatureDisabled(jsonRec, featureId)) {\n        verdict = false;\n      }\n    }\n\n    // console.log('>>>>  preset list:', presetList, ' includes featureId: ', verdict);\n    return (verdict === true) ? verdict : defaultVal;\n  }\n\n  /**\n   * Determine if the given feature is explicitly disabled, either\n   * on general disabled list for the user level, or explicitly\n   * for this user.\n   *\n   * NOTE: This does not check if the feature is actually not available\n   * for this user or based on user level (e.g. FEATURE_AUTO_FOLLOW).\n   * So use HasAppFeature() to do determine if user can perform\n   * a feature.\n   *\n   * @param {object} jsonRec\n   * @param {string} featureId\n   *\n   * @see ~HasAppFeature\n   */\n  static IsAppFeatureDisabled(jsonRec, featureId) {\n    // Check the explicit disabled feature list first as it overrides all answers\n    const xDisabled = XUserObject.GetFeatures(jsonRec, UserProps.FEATURE_GROUP_APP_DISABLED);\n    if (xDisabled && xDisabled.includes(featureId)) {\n      return true;\n    }\n    // before checking on system-wide list, if the feature is explicitly on\n    // added list, then that takes precendence\n    const enabledFeatureMap = XUserObject.GetFeatures(jsonRec, UserProps.FEATURE_GROUP_APP);\n    if (enabledFeatureMap && enabledFeatureMap[featureId] != null) {\n      return false;\n    }\n\n    // Finally, check the system-wide disable list for the user's level\n    const userLevel = XUserObject.IsInfluencer(jsonRec);\n    const syslist = DISABLED_FEATURES[userLevel];\n    if (syslist == null) {\n      return false;\n    }\n    return syslist.includes(featureId);\n  }\n\n\n  /**\n   * Return system-wide feature list for a speicifc user level\n   *\n   * @param {number} userLevel 0 = regular user, 1 - 5 influencers\n   * @return {string[]} feature labels\n   */\n  static GetSystemEnabledFeatureList(userLevel, defaultVal = []) {\n    const list = ENABLED_FEATURES[userLevel];\n    return list || defaultVal;\n  }\n\n  /**\n   * Return system-wide DISABLED feature list\n   *\n   * @param {number} userLevel 0 = regular user, 1 - 5 influencers\n   * @param {*} defaultVal feature labels\n   */\n  static GetSystemDisabledFeatureList(userLevel, defaultVal = []) {\n    const list = DISABLED_FEATURES[userLevel];\n    return list || defaultVal;\n  }\n\n  /**\n   *\n   * @param {objec} jsonRec\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  static GetEnabledAppFeatureList(jsonRec, defaultVal = []) {\n\n    const userLevel = XUserObject.IsInfluencer(jsonRec);\n    const sysFeatures = ENABLED_FEATURES[userLevel];\n\n    const appFeatures = XUserObject.GetFeatures(jsonRec, UserProps.FEATURE_GROUP_APP);\n    const mergedList = Util.MergeStrings(sysFeatures, appFeatures);\n\n    return mergedList || defaultVal;\n  }\n\n  /**\n   *\n   * @param {object} jsonRec\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  static GetDisabledAppFeatureList(jsonRec, defaultVal = []) {\n    const userLevel = XUserObject.IsInfluencer(jsonRec);\n    const sysFeatures = DISABLED_FEATURES[userLevel];\n\n    const appFeatures = XUserObject.GetFeatures(jsonRec, UserProps.FEATURE_GROUP_APP_DISABLED);\n    const mergedList = Util.MergeStrings(sysFeatures, appFeatures);\n\n    return mergedList || defaultVal;\n  }\n\n  // -------------------------- PIN POSTS ------------------------------\n\n  /**\n   * Add a post as pinned. Because it is an array, this will\n   * append to the end of the list\n   *\n   * @param {object} jsonObj\n   * @param {string} tagName or can be a array of tagnames\n   *\n   * @see ~RemovePinnedPost\n   * @see ~GetPinnedPosts\n   * @return {boolean} true if added\n   */\n  static AddPinnedPost(jsonObj, postId) {\n    return XUserObject.AddWord(jsonObj, XUserObject.PROP_PINPOSTS, postId, true);\n    // return XUserObject._AddTag(jsonObj, XUserObject.PROP_PINPOSTS, postId);\n  } // AddPinnedPost\n\n  /**\n   * Set list of postIds as pinned\n   *\n   * @param {object} jsonObj\n   * @param {[]} postIds if non-null, will replace everything, INCLUDING empty array\n   * @return {string[]} previous array of pin posts being replaced\n   */\n  static SetPinnedPosts(jsonObj, postIds) {\n    return XUserObject.SetWords(jsonObj, XUserObject.PROP_PINPOSTS, postIds);\n    // return XUserObject._SetTags(jsonObj, XUserObject.PROP_PINPOSTS, postIds);\n  }\n\n  /**\n   * Return list of postIds for pinned posts\n   *\n   * @param {object} jsonObj\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  static GetPinnedPosts(jsonObj, defaultVal = []) {\n    return XUserObject.GetWords(jsonObj, XUserObject.PROP_PINPOSTS, defaultVal);\n    // return XUserObject._GetTags(jsonObj, XUserObject.PROP_PINPOSTS, defaultVal);\n  }\n\n  /**\n   * Remove a pinned post\n   *\n   * @param {{}} jsonObj\n   * @param {string} postId post to remove from pinned list\n   * @return {boolean} true if removed\n   *\n   * @see #AddPinnedPost\n   * @see #GetPinnedPosts\n   */\n  static RemovePinnedPost(jsonObj, postId) {\n    return XUserObject.RemoveWord(jsonObj, XUserObject.PROP_PINPOSTS, postId);\n    // return XUserObject._RemoveTag(jsonObj, XUserObject.PROP_PINPOSTS, postId);\n  }\n\n  /**\n   * Report on whether a given postId is found in the pinned post list\n   *\n   * @param {object} jsonObj\n   * @param {string} postId post to check in pinned list\n   * strip any expressions\n   * @return {boolean} true if exists\n   */\n  static HasPinnedPost(jsonObj, postId) {\n    return (Util.NotNull(jsonObj)) ? XUserObject.HasWord(jsonObj, XUserObject.PROP_PINPOSTS, postId) : false;\n  }\n\n  /**\n   * Count number of posts pinned\n   *\n   * @param {{}} jsonObj\n   * @return {number}\n   */\n  static GetPinnedPostCount(jsonObj) {\n    return XUserObject.CountWords(jsonObj, XUserObject.PROP_PINPOSTS);\n  } // CountPinnedPosts\n\n  /**\n   * Return the position of the specified post in pinned list\n   *\n   * @param {{}} jsonObj\n   * @param {string} nameCheck tagname to check.\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static IndexOfPinnedPost(jsonObj, postId) {\n    return XUserObject.GetWordIndex(jsonObj, XUserObject.PROP_PINPOSTS, postId);\n  }\n\n\n}\n\nexport default XUserObject;\n","import { UserProps, ModelType, SocialProps, ModelFolder, UserStatsProps } from '../ModelConsts';\nimport XUserCred from './XUserCred';\nimport XUserObject from './XUserObject';\nimport Util from '../../Util';\nimport XUserStats from './XUserStats';\n\nconst _CLSNAME = 'XUserInfo'; // match class name\n\nconst _StatsFields = [\n  UserStatsProps.LIKES_POST, UserStatsProps.LIKES_COMMENT,\n  UserStatsProps.SHARES_POST, UserStatsProps.SHARES_COMMENT,\n  UserStatsProps.WATCHES_POST, UserStatsProps.WATCHES_COMMENT,\n  UserStatsProps.FOLLOWS, UserStatsProps.FOLLOWED\n];\n\n// export { UserProps, TOKEN_GUEST, TOKEN_ROBOT } from \"../ModelConsts\";\n\n/**\n * Model a data structure that holds SOME\n * user info. It's expected to be used to\n * pass between front-end and back-end and\n * different logic. It's NOT the same as XMUser;\n * it holds subset but can also hold other\n * information such as statistics or\n * event information.\n */\nclass XUserInfo extends XUserObject {\n  // constants to share with consumer of this class\n  // constants to share with consumer of this class\n  static get APP_ROLES() { return UserProps.APPUSER_ROLES; }\n  static get ROLE_ROOT() { return UserProps.ROLE_ROOT; }\n  static get ROLE_ADMIN() { return UserProps.ROLE_ADMIN; }\n  static get ROLE_SYSADM() { return UserProps.ROLE_SYSADM; }\n\n  static get FEATURE_PREVIEW() { return UserProps.FEATURE_PREVIEW; }\n\n  /**\n   * Abstract: instantiate only one of its concrete subclasses\n   *\n   * @param {string} clsname\n   * @param {*} props\n   */\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XUserInfo;\n  }\n\n  /**\n     * Initialize content as a new object.\n     */\n  initNew() {\n    super.initNew();\n  }\n\n  /**\n   * Get object's Id, which in this case, should be user's Id.\n   *\n   * @return {string}\n   */\n  getId() {\n    let id = super.getId();\n    if (id == null) {\n      id = this.getUserId();\n    }\n    return id;\n  }\n\n  /**\n     * Return user credential data, which for now\n     * it's the user token and userId\n     *\n     * @return {XUserCred}\n     */\n  getCredential() {\n    return XUserCred.CreateFromUserInfo(this);\n  }\n\n  /**\n     * Retrieve user token stored here. It is generated from\n     * the backend.\n     *\n     * @param {string} defaultVal\n     * @return {string}\n     */\n  getUserToken(defaultVal) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetUserToken(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Store generated token generated else where\n     *\n     * @param {string} token\n     */\n  setUserToken(token) {\n    return XUserInfo.SetUserToken(this.getData(true), token);\n  }\n\n  /**\n     * UserId is set from server side extracting content from\n     * XMUser and other related objects. It is actually the _id\n     * field (primary key).\n     *\n     * @param {string} defaultVal\n     * @return {string}\n     */\n  getUserId(defaultVal) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetUserId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     *\n     * @param {string} userId\n     */\n  setUserId(userId) {\n    return XUserInfo.SetUserId(this.getData(true), userId);\n  }\n\n  /**\n     * Set user's first name\n     * @param {string} fn user's first name\n     */\n  setFirstName(fn) {\n    return XUserInfo.SetFirstName(this.getData(true), fn);\n  }\n\n  /**\n     * Get user's last name\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getFirstName(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetFirstName(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Set user's last name\n     * @param {string} ln user's last name\n     */\n  setLastName(ln) {\n    return XUserInfo.SetLastName(this.getData(true), ln);\n  }\n\n  /**\n     * Get user's last name\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getLastName(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetLastName(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     *\n     * @param {string} email\n     */\n  setEmail(email) {\n    return XUserInfo.SetEmail(this.getData(true), email);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getEmail(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetEmail(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     *\n     * @param {string} phoneNo\n     */\n  setSMS(phoneNo) {\n    return XUserInfo.SetSMS(this.getData(true), phoneNo);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {string[]} blocked users if exist, defaultVal otherwise\n     */\n  getBlockedUsers(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? Util.Text2Array(XUserInfo.GetBlockedUsers(data, defaultVal)) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} blocks\n   * @param {boolean} create\n   */\n  setBlockedUsers(blocks, create = true) {\n    if (blocks == null && create) { blocks = []; }\n    if (typeof blocks === 'string') { Util.Text2Array(blocks); }\n    return XUserInfo.SetBlockedUsers(this.getData(true), blocks);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string[]} muted users if exist, defaultVal otherwise\n   */\n  getMutedUsers(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? Util.Text2Array(XUserInfo.GetMutedUsers(data, defaultVal)) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} mutes\n   * @param {boolean} create\n   */\n  setMutedUsers(mutes, create = true) {\n    if (mutes == null && create) { mutes = []; }\n    if (typeof mutes === 'string') { Util.Text2Array(mutes); }\n    return XUserInfo.SetMutedUsers(this.getData(true), mutes);\n  }\n\n  /**\n   * Return list of IDs for pinned posts\n   *\n   * @param {*} defaultVal\n   * @return {string[]} postId array\n   */\n  getPinnedPosts(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? Util.Text2Array(XUserInfo.GetPinnedPosts(data, defaultVal)) : defaultVal;\n  }\n\n\n  /**\n   *\n   * @param {*} mutes\n   */\n  setUserStats(userStats) {\n    return XUserInfo.SetUserStats(this.getData(true), userStats);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string} muted users if exist, defaultVal otherwise\n   */\n  getUserStats(defaultVal = null) {\n    const auxData = this.getData(true);\n    return auxData ? XUserInfo.GetUserStats(auxData, defaultVal) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {XUserStts} xUserStats\n   */\n  fillFromUserStats(xUserStats) {\n    const data = this.getData(true);\n    return XUserInfo.FillFromUserStats(data, xUserStats);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string} phone number if exists, defaultVal otherwise\n   */\n  getSMS(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetSMS(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Answer verified contact status. This is a derived field from XMUser\n     *\n     * @param {*} jsonRec\n     * @return {boolean} true if user has verified contact info, false otherwise\n     */\n  hasVerifiedContact() {\n    const data = this.getData(false);\n    return data ? XUserInfo.HasVerifiedContact(data) : false;\n  }\n\n  /**\n   * Return all roles added to this user\n   *\n   * @param {*} defaultVal\n   */\n  getRoles(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetRoles(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Get role definition for a given role\n   *\n   * @param {string} roleId\n   * @param {*} defaultVal\n   * @return {{}} properties for the role, if it exists\n   *\n   * @see #addRole\n   * @see #removeRole\n   * @see #hasRole\n   */\n  getRole(roleId, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetRole(data, roleId, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Determine if a role is defined.\n   *\n   * @param {string} roleId one of ROLE_*\n   * @return {boolean} true if role is defined regardless of stored properties\n   *\n   * @see #addRole\n   * @see #getRole\n   * @see #removeRole\n   */\n  hasRole(roleId) {\n    const data = this.getData(false);\n    return data ? XUserInfo.HasRole(data, roleId) : false;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasGodRole() {\n    const data = this.getData(false);\n    return data ? XUserInfo.HasGodRole(data) : false;\n  }\n\n\n  /**\n   * Determine if this user has sys admin role\n   *\n   * @return {boolean} true if the record indicate admin,\n   * or root priv\n   */\n  hasAdminRole() {\n    const data = this.getData(false);\n    return data ? XUserInfo.HasAdminRole(data) : false;\n  }\n\n  /**\n   * Determine if this user has sys admin role\n   *\n   * @return {boolean} true if the record indicate sys admin,\n   * or root priv\n   */\n  hasSysAdminRole() {\n    const data = this.getData(false);\n    return data ? XUserInfo.HasSysAdminRole(data) : false;\n  }\n\n  /**\n     *\n     * @param {string} username\n     */\n  setUsername(username) {\n    return XUserInfo.SetUsername(this.getData(true), username);\n  }\n\n  /**\n     *\n     * @param {boolean} useEmail\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getUsername(useEmail = true, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetUsername(data, useEmail, defaultVal) : defaultVal;\n  }\n\n  /**\n     *\n     * @param {string} nickname\n     */\n  setNickname(nickname) {\n    return XUserInfo.SetNickname(this.getData(true), nickname);\n  }\n\n  /**\n     *\n     * @param {boolean} useUsername\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getNickname(useUsername = true, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetNickname(data, useUsername, defaultVal) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {string} status\n   */\n  setStatus(status) {\n    return XUserInfo.SetStatus(this.getData(true), status);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getStatus(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetStatus(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Return user's avatar URL. This will check\n     * for explicitly stored icon url for the user,\n     * and then try getting Facebook's url.\n     *\n     * @param {*} defaultVal\n     * @return {string=}\n     */\n  getAvatarUrl(defaultVal = null) {\n    return this.getIconUrl(defaultVal);\n  }\n\n  /**\n   *\n   * @param {boolean} isBlocked\n   */\n  setBlockFlag(isBlocked) {\n    return XUserInfo.SetBlockFlag(this.getData(true), isBlocked);\n  }\n\n  /**\n   *\n   * @param {boolean} isMuted\n   */\n  setMuteFlag(isMuted) {\n    return XUserInfo.SetMuteFlag(this.getData(true), isMuted);\n  }\n\n  getBlockFlag() {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetBlockFlag(data) : false;\n  }\n\n  getMuteFlag() {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetMuteFlag(data) : false;\n  }\n\n  // ---------------------- USER STATS DATA METHODS ---------------------------\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  getLikesPostCount(defaultVal = null) {\n    return this.get(UserStatsProps.LIKES_POST);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  getLikesCommentCount(defaultVal = null) {\n    return this.get(UserStatsProps.LIKES_COMMENT);\n  }\n\n  /**\n   * @return {number} combined likes of posts + comments\n   */\n  getLikesCount() {\n    const likesPost = this.getLikesPostCount(0);\n    const likesComment = this.getLikesCommentCount(0);\n    return likesPost + likesComment;\n  }\n\n  /**\n   * Return repost count (posts only, no comments)\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   *\n   * @see ~getSharesCommentCount\n   * @see ~getSharesCount\n   */\n  getSharesPostCount(defaultVal = null) {\n    return this.get(UserStatsProps.SHARES_POST, defaultVal);\n  }\n\n  /**\n   * Return repost comment count (no posts)\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   *\n   * @see ~getSharesCount\n   */\n  getSharesCommentCount(defaultVal = null) {\n    return this.get(UserStatsProps.SHARES_COMMENT, defaultVal);\n  }\n\n  /**\n   * Get total reposts count, which include both posts and\n   * reposted comments\n   *\n   * @return {number}\n   */\n  getSharesCount() {\n    const sharesPost = this.getSharesPostCount(0);\n    const sharesComment = this.getSharesCommentCount(0);\n    return sharesPost + sharesComment;\n  }\n\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  getWatchesPostCount(defaultVal = null) {\n    return this.get(UserStatsProps.WATCHES_POST);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  getWatchesCommentCount(defaultVal = null) {\n    return this.get(UserStatsProps.WATCHES_COMMENT);\n  }\n\n  /**\n   * @return {number} combined likes of posts + comments\n   */\n  getWatchesCount() {\n    const watchesPost = this.getWatchesPostCount(0);\n    const watchesComment = this.getWatchesCommentCount(0);\n    return watchesPost + watchesComment;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  getFollowsCount(defaultVal = null) {\n    return this.get(UserStatsProps.FOLLOWS, defaultVal);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  getFollowersCount(defaultVal = null) {\n    return this.get(UserStatsProps.FOLLOWED, defaultVal);\n  }\n\n\n  // --------------- AD HOC / CUSTOM / QUESTIONABLE CONTENT SUPPORT --------------------\n\n  /**\n   * @param {boolean} isFollowing\n   */\n  setFollowingFlag(isFollowing) {\n    return XUserInfo.SetFollowingFlag(this.getData(true), isFollowing);\n  }\n\n  getFollowingFlag() {\n    const data = this.getData(false);\n    return data ? XUserInfo.GetFollowingFlag(data) : false;\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n\n  /**\n     * @return {string}\n     */\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /**\n     * @return {string}\n     */\n  static GetTypeID() {\n    return ModelType.USER_INFO;\n  }\n\n  static CreateNew(userId) {\n    const userInfo = new XUserInfo();\n    userInfo.initNew();\n    if (userId) { userInfo._setId(userId); }\n    return userInfo;\n  }\n\n\n  /**\n     * Wrap JSON data that represents XUserInfo. Inject\n     * type as the input json may not have the right\n     * type.\n     *\n     * @return {XUserInfo}\n     */\n  static Wrap(jsonRec, clsType = XUserInfo) {\n    return super.WrapXObject(jsonRec, clsType);\n  }\n\n  /**\n   * Merge in predefined stats in XUserStats object.\n   *\n   * @param {{}} jsonRec\n   * @param {XUserStats} xUserStats unwrapped json OK\n   * @return {{}} same input json but with stats added\n   *\n   */\n  static FillFromUserStats(jsonRec, xUserStats) {\n    const jsonStats = XUserStats.Unwrap(xUserStats);\n\n    Object.keys(jsonStats).forEach((key) => {\n      jsonRec[key] = jsonStats[key];\n    });\n    return jsonRec;\n  }\n\n  static SetUserToken(jsonRec, token) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.TOKEN, token);\n  }\n  static GetUserToken(jsonRec, defaultVal = null) {\n    return XUserInfo.GetObjectField(jsonRec, UserProps.TOKEN, defaultVal);\n  }\n\n  static SetUserId(jsonRec, userId) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.ID, userId);\n  }\n  static GetUserId(jsonRec, defaultVal = null) {\n    // Temporary transition: until we store userId in XUserInfo too\n    const username = XUserInfo.GetObjectField(jsonRec, UserProps.USERNAME, null);\n    return username ? username.toLowerCase() : defaultVal;\n    // return XUserInfo.GetObjectField(jsonRec, UserProps.ID, defaultVal);\n  }\n\n  static SetUsername(jsonRec, username) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.USERNAME, username);\n  }\n\n  static GetUsername(jsonRec, useMail = false, defaultVal = null) {\n    let username = XUserInfo.GetObjectField(jsonRec, UserProps.USERNAME, null);\n    if (username == null) { username = XUserInfo.GetUserId(jsonRec, null); }\n    if ((username == null) && (useMail === true)) {\n      username = XUserInfo.GetEmail(jsonRec, null);\n    }\n    return username || defaultVal;\n  }\n\n  static SetNickname(jsonRec, name) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.NICKNAME, name);\n  }\n\n  static GetNickname(jsonRec, useUsername = true, defaultVal = null) {\n    let name = XUserInfo.GetObjectField(jsonRec, UserProps.NICKNAME, null);\n    if ((name == null) && (useUsername === true)) {\n      name = XUserInfo.GetUsername(jsonRec, false, null);\n    }\n    return name || defaultVal;\n  }\n\n  static SetFirstName(jsonRec, email) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.FIRSTNAME, email);\n  }\n  static GetFirstName(jsonRec, defaultVal = null) {\n    return XUserInfo.GetObjectField(jsonRec, UserProps.FIRSTNAME, defaultVal);\n  }\n\n  static SetLastName(jsonRec, email) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.LASTNAME, email);\n  }\n  static GetLastName(jsonRec, defaultVal = null) {\n    return XUserInfo.GetObjectField(jsonRec, UserProps.LASTNAME, defaultVal);\n  }\n\n  static SetEmail(jsonRec, email) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.EMAIL, email);\n  }\n  static GetEmail(jsonRec, defaultVal = null) {\n    return XUserInfo.GetObjectField(jsonRec, UserProps.EMAIL, defaultVal);\n  }\n\n  static SetSMS(jsonRec, email) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.SMS, email);\n  }\n  static GetSMS(jsonRec, defaultVal = null) {\n    return XUserInfo.GetObjectField(jsonRec, UserProps.SMS, defaultVal);\n  }\n\n  static SetBlockedUsers(jsonRec, blocks) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.BLOCK_LIST, blocks);\n  }\n\n  /**\n   *\n   * @param {*} jsonRec\n   * @param {*} defaultVal\n   * @returns {string[]}\n   */\n  static GetBlockedUsers(jsonRec, defaultVal = null) {\n    const result = XUserInfo.GetObjectField(jsonRec, UserProps.BLOCK_LIST, null);\n    return result ? Util.Text2Array(result) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} jsonRec\n   * @param {string[]} mutes\n   * @returns\n   */\n  static SetMutedUsers(jsonRec, mutes) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.MUTE_LIST, mutes);\n  }\n\n  /**\n   *\n   * @param {*} jsonRec\n   * @param {*} defaultVal\n   * @returns {string[]}\n   */\n  static GetMutedUsers(jsonRec, defaultVal = null) {\n    const result = XUserInfo.GetObjectField(jsonRec, UserProps.MUTE_LIST, null);\n    return result ? Util.Text2Array(result) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} jsonRec\n   * @param {*} defaultVal\n   * @returns {string[]}\n   */\n  static GetPinnedPosts(jsonRec, defaultVal = null) {\n    const result = XUserInfo.GetObjectField(jsonRec, UserProps.PINPOSTS, null);\n\n    // UserInfo may be constructed from cache result, so maybe a string of\n    // post Ids delimited by comma\n    return result ? Util.Text2Array(result) : defaultVal;\n  }\n\n\n  static SetUserStats(jsonRec, userStats) {\n    return XUserInfo.SetObjectField(jsonRec, ModelType.USER_STATS, userStats);\n  }\n\n  static GetUserStats(jsonRec, defaultVal = null) {\n    return XUserInfo.GetObjectField(jsonRec, ModelType.USER_STATS, defaultVal);\n  }\n\n  static SetBlockFlag(jsonRec, isBlocked) {\n    return XUserInfo.SetObjectField(jsonRec, SocialProps.BLOCKFLAG, isBlocked);\n  }\n\n  static SetMuteFlag(jsonRec, isMuted) {\n    return XUserInfo.SetObjectField(jsonRec, SocialProps.MUTEFLAG, isMuted);\n  }\n\n  static GetBlockFlag(jsonRec) {\n    return XUserInfo.GetObjectField(jsonRec, SocialProps.BLOCKFLAG);\n  }\n\n  static GetMuteFlag(jsonRec) {\n    return XUserInfo.GetObjectField(jsonRec, SocialProps.MUTEFLAG);\n  }\n\n  static SetFollowingFlag(jsonRec, isFollowing) {\n    return XUserInfo.SetObjectField(jsonRec, SocialProps.FLWFLAG, isFollowing);\n  }\n\n  static GetFollowingFlag(jsonRec) {\n    return XUserInfo.GetObjectField(jsonRec, SocialProps.FLWFLAG);\n  }\n\n  /**\n   *\n   * @param {{}} jsonRec\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetFollowsCount(jsonRec, defaultVal = null) {\n    return XUserInfo.GetXObjectField(jsonRec, UserStatsProps.FOLLOWS, defaultVal);\n  }\n\n  /**\n   *\n   * @param {{}} jsonRec\n   * @param {*} defaultVal\n   * @return {number}\n   */\n  static GetFollowedCount(jsonRec, defaultVal = null) {\n    return XUserInfo.GetXObjectField(jsonRec, UserStatsProps.FOLLOWED, defaultVal);\n  }\n\n  /**\n     * Answer verified contact status. This is a derived field from XMUser\n     *\n     * @param {*} jsonRec\n     * @return {boolean} true if user has verified contact info, false otherwise\n     */\n  static HasVerifiedContact(jsonRec) {\n    return XUserInfo.GetObjectField(jsonRec, UserProps.VERIFIED_CONTACT, false);\n  }\n\n  /**\n     *\n     * @param {*} jsonRec\n     * @param {*} newStatus\n     */\n  static SetStatus(jsonRec, newStatus) {\n    return XUserInfo.SetObjectField(jsonRec, UserProps.STATUS, newStatus);\n  }\n\n  // ------------------- USER ROLES ---------------------\n\n  static SetRoles(jsonRec, roles) {\n    return XUserInfo.SetObjectField(jsonRec, XUserInfo.APP_ROLES, roles);\n  }\n\n  static GetRoles(jsonRec, defaultVal = null) {\n    return XUserInfo.GetObjectField(jsonRec, XUserInfo.APP_ROLES, defaultVal);\n  }\n\n  /**\n     * Return role definition for the given role type\n     *\n     * @param {object} jsonRec json for XUserInfo\n     * @param {string} role one of ROLE_* in XAuthInfo\n     * @param {*} defaultVal if role not found\n     */\n  static GetRole(jsonRec, role, defaultVal = null) {\n    const roles = XUserInfo.GetRoles(jsonRec);\n    if (roles == null) { return defaultVal; }\n    const roleObj = roles[role];\n    return roleObj || defaultVal;\n  }\n\n  /**\n   *\n   * @param {object} jsonRec\n   * @param {string} role\n   * @return {boolean}\n   */\n  static HasRole(jsonRec, role) {\n    let verdict = Util.NotNull(XUserInfo.GetRole(jsonRec, role, null));\n    if (verdict === false) {\n      verdict = XUserInfo.HasGodRole(jsonRec);\n    }\n    return verdict;\n  } // HasRole\n\n  static HasGodRole(jsonRec) {\n    return Util.NotNull(XUserInfo.GetRole(jsonRec, XUserInfo.ROLE_ROOT, null));\n  }\n\n  /**\n   *\n   * @param {object} jsonRec\n   * @return {boolean}\n   */\n  static HasAdminRole(jsonRec) {\n    return XUserInfo.HasRole(jsonRec, XUserInfo.ROLE_ADMIN);\n  }\n\n  /**\n   *\n   * @param {object} jsonRec\n   * @return {boolean}\n   */\n  static HasSysAdminRole(jsonRec) {\n    return XUserInfo.HasRole(jsonRec, XUserInfo.ROLE_SYSADM);\n  }\n\n  /**\n   * return mongoDB collection name\n   *\n   * NOTE: This is not semantically correct as XMUser is\n   * stored in the \"user\" collection.  But because of the\n   * way we use XUserInfo as transient version (but contain other\n   * data), some generic type-to-storage methods will need\n   * this (and StorageManager type->folder mapping)\n   *\n   * @return {string}\n   */\n  GetFolderName() {\n    return ModelFolder.USER;\n  }\n\n  // -------------------------------------------------------------------\n\n\n} // class XUserInfo\n\nXUserInfo.RegisterType(XUserInfo);\n\nexport default XUserInfo;\n","import Cookies from \"js-cookie\";\nimport ObjectBase from \"../core/ObjectBase\";\n\nimport XUserInfo from \"../core/model/user/XUserInfo\";\n// import XUserStats from \"../core/model/user/XUserStats\";\nimport {UserProps} from \"../core/model/ModelConsts\";\nimport Util from \"../core/Util\";\nimport AppConsts from \"../app/AppConsts\";\nimport XUserStats from \"../core/model/user/XUserStats\";\n\nconst USER_INFO = \"userinfo\";\nconst USER_STATS = \"userstats\";\n\nconst USER_ID = \"_id\";\nconst USER_NAME = \"username\";\nconst ORIG_USER_NAME = \"ousername\";\nconst USER_NICKNAME = \"nickname\";\nconst USER_EMAIL = \"email\";\n// const USER_JOINT_DATE = \"joint_date\";\n\nconst COOKIE_SESSION = \"csn\";\nconst COOKIE_DOMAIN = \"cdn\";\n\nconst USER_GUEST = \"guest\";\n\n// This is for debugging locally only\nvar globalSession = null;\n\nconst _CLSNAME = \"Session\";\n\nclass Session extends ObjectBase {\n  static get USER_ID() {\n    return UserProps.ID;\n  }\n  static get USER_NAME() {\n    return UserProps.NAME;\n  }\n  static get USER_NICKNAME() {\n    return UserProps.NICKNAME;\n  }\n  static get USER_EMAIL() {\n    return UserProps.EMAIL;\n  }\n  static get USER_TOKEN() {\n    return UserProps.TOKEN;\n  }\n\n  constructor(name) {\n    super(_CLSNAME);\n    this.class = Session;\n    this.name = name;\n    this.props = {\n      name: name,\n    };\n\n    if (globalSession == null) globalSession = this;\n  }\n\n  set(label, value) {\n    // this.log(\"set\", \"label: \", label, \" = \", value);\n    let prevValue = this.props[label];\n    if (prevValue === value) return;\n\n    this.props[label] = value;\n    this._dispatchHandlers(label, prevValue, value);\n    return prevValue;\n  }\n\n  get(label, defVal = null) {\n    let value = this.props[label];\n    // this.log(\"get\", \"label: \" + label, \" => \", value);\n    return value ? value : defVal;\n  }\n\n  /**\n   * Return session name given with constructor.\n   * In the future, this can be an unique identifier to\n   * track multiple connected sessions.\n   */\n  getName() {\n    return this.get(\"name\");\n  }\n\n  /**\n   * Track cookie's name for storing user data\n   *\n   * @param {string} name\n   */\n  trackCookieSessionName(name) {\n    if (name) {\n      this.set(COOKIE_SESSION, name);\n      return true;\n    }\n    return false;\n  }\n\n  getCookieSessionName(defaultValue = null) {\n    return this.get(COOKIE_SESSION, defaultValue);\n  }\n\n  /**\n   * Set cookie's hostname into this session tracking\n   * so that it can be added as the cookie domain\n   * in request headers.\n   *\n   * @param {string} domain\n   * @see ~setCookieDomain\n   */\n  trackCookieDomainName(domain) {\n    if (domain) {\n      this.set(COOKIE_DOMAIN, domain);\n      return true;\n    }\n    return false;\n  }\n\n  getCookieDomainName(defaultValue = null) {\n    return this.get(COOKIE_DOMAIN, defaultValue);\n  }\n\n  getCookieData(label, defaultVal = null) {\n    let cookieName = this.getCookieSessionName();\n\n    // TO-DO: decrypt cookie data\n    let data = this.getDecryptedCookie(cookieName);\n    let retVal = null;\n    if (label) {\n      if (data && data[label]) retVal = data[label];\n    } else retVal = data;\n    return retVal ? retVal : data;\n  }\n\n  /**\n   *\n   * @param {string} name\n   * @param {{}} data\n   * @param {boolean=} encrypt\n   * @param {boolean=} remember\n   */\n  setCookie(name, data, encrypt = true, remember = true) {\n    let opts = {};\n    if (encrypt === true) data = Util.EncryptJSON(data);\n\n    if (remember === true) opts[\"expires\"] = AppConsts.COOKIE_EXPIRE_DAYS;\n    return Cookies.set(name, data, opts);\n  }\n\n  /**\n   *\n   * @param {string} name\n   * @param {{}} data\n   * @param {boolean=} remember\n   */\n  setEncryptedCookie(name, data, remember = true) {\n    return this.setCookie(name, data, true, remember);\n  }\n\n  /**\n   * Set cookie's hostname into \"Set-Cookie\" header and\n   * as the \"domain\" attribute. This * is needed to allow\n   * subdomains or variations including\n   * TLD, www, etc.\n   *\n   * @return {string} hostname set into cookie entry in header\n   */\n  setCookieDomain() {\n    let domainName = this.getCookieDomainName();\n    if (domainName) Cookies.set(\"domain\", domainName);\n    return domainName;\n  }\n\n  /**\n   *\n   * @param {string} name\n   * @param {boolean=} decrypt\n   */\n  getCookie(name, decrypt = true) {\n    let edata = Cookies.getJSON(name);\n    if (decrypt === true && edata != null) {\n      edata = Util.DecryptJSON(edata);\n    }\n    return edata;\n  }\n\n  /**\n   *\n   * @param {string} name\n   */\n  getDecryptedCookie(name) {\n    return this.getCookie(name, true);\n  }\n\n  /**\n   * Return user token from the cookie\n   *\n   * @param {*} defaultVal\n   *\n   * @see ~setUserToken\n   */\n  _getCookieUserToken(defaultVal = null) {\n    let v = this.getCookieData(Session.USER_TOKEN);\n    return v ? v : defaultVal;\n  }\n\n  /**\n   * Return the user token assigned after logging in.\n   *\n   * @param {*} defaultVal\n   */\n  getUserToken(defaultVal = null) {\n    if (this.isGuestUser()) return XUserInfo.TOKEN_GUEST;\n\n    return this.getUserInfo(Session.USER_TOKEN);\n  }\n\n  /**\n   * Set a token associated with the user\n   *\n   * @param {string} token\n   *\n   * @see ~getCookieUserToken\n   */\n  setUserToken(token) {\n    // let _m = \"s.sutk\";\n    if (token == null) {\n      return false;\n    }\n    return this.setUserInfo({[Session.USER_TOKEN]: token});\n  }\n\n  // getUser_SystemId() {\n  //   return this.getUserInfo(USER_ID);\n  // }\n  getUserId() {\n    // Currently, user ID is same as username. Use getUser_Systemid()\n    return this.getUserInfo(USER_ID);\n  }\n  isGuestUser() {\n    let username = this.getUserInfo(USER_NAME);\n    return username === XUserInfo.USERNAME_GUEST;\n  }\n  isRobotUser() {\n    let username = this.getUserInfo(USER_NAME);\n    return username === XUserInfo.USERNAME_ROBOT;\n  }\n\n  /**\n   * Return user's status\n   *\n   * @return {string} STATUS_NEW, STATUS_ACTIVE, or STATUS_SUSPENDED\n   */\n  getUserStatus(defaultVal = null) {\n    if (defaultVal == null) defaultVal = UserProps.STATUS_UNVERIFIED;\n    return this.getUserInfo(UserProps.STATUS, defaultVal);\n  }\n\n  /**\n   * Update user's status\n   *\n   * @param {boolean} status\n   * @return {boolean=} true if status changed, false if unchanged\n   */\n  updateUserStatus(status) {\n    if (status == null) {\n      console.error(\"setUVfd: ?\");\n      return false;\n    }\n    let curInfo = this.getUserInfo();\n    let curStatus = XUserInfo.GetStatus(curInfo);\n    if (curStatus === status) return false;\n    XUserInfo.SetStatus(curInfo, status);\n    return this.updateUserInfo(curInfo);\n  }\n\n  /**\n   * Answers whether user is active.\n   *\n   * @return {boolean} true if active\n   *\n   * @see ~userIsUnverified\n   * @see ~userIsSuspended\n   */\n  userIsActive() {\n    return this.getUserStatus(null) === UserProps.STATUS_ACTIVE;\n  }\n\n  /**\n   * Answers whether user is new / unverified.\n   *\n   * @return {boolean} true if active\n   */\n  userIsUnverified() {\n    let status = this.getUserStatus();\n    if (status === UserProps.STATUS_UNVERIFIED || status == null) return true;\n    else return false;\n  }\n\n  /**\n   * Answers whether user is suspended.\n   *\n   * @return {boolean} true if active\n   *\n   * @see ~userIsActive\n   */\n  userIsSuspended() {\n    return this.getUserStatus(null) === UserProps.STATUS_SUSPENDED;\n  }\n\n  /**\n   * Return username associated with this session.\n   * If user is not logged in, USERNAME_GUEST is returned.\n   *\n   * @param {string} guestName optional guest username if no user logged in\n   */\n  getUsername(guestName = null) {\n    let username = this.getUserInfo(USER_NAME);\n    if (username == null) {\n      // this.log(\"getUsername\", \"no username found!\");\n      username = this.getUserInfo(USER_ID);\n      if (username == null)\n        username = guestName ? guestName : XUserInfo.USERNAME_GUEST;\n    }\n    return username;\n  }\n\n  getOriginalUsername(fallback = true) {\n    let username = this.getUserInfo(ORIG_USER_NAME);\n    if (username == null && fallback) username = this.getUsername();\n    return username;\n  }\n\n  /**\n   * Return user avatar URL associated with this session.\n   * If user is not logged in, USERNAME_GUEST is returned.\n   *\n   * @param {string} guestName optional guest username if no user logged in\n   */\n  getAvatarUrl(defaultVal = null) {\n    let iconUrl = this.getUserInfo(UserProps.ICON_URL);\n    if (iconUrl == null) {\n      // this.log(\"getUsername\", \"no username found!\");\n      iconUrl = this.getUserInfo(UserProps.ICON_URL);\n    }\n    return iconUrl;\n  }\n\n  /**\n   * Return the user's nickname associated with this session.\n   *\n   * @param {string} guestName optional guest nickname if no user logged in\n   */\n  getNickname(guestName = null) {\n    let nickname = this.getUserInfo(USER_NICKNAME);\n    if (nickname == null) {\n      if (this.getUsername() === XUserInfo.USERNAME_GUEST)\n        nickname = guestName ? guestName : XUserInfo.NICKNAME_GUEST;\n    }\n    return nickname;\n  }\n  getUserEmail() {\n    return this.getUserInfo(USER_EMAIL);\n  }\n\n  /**\n   * Clear tracking of user information, including removal\n   * from cookie.\n   *\n   * @see #resetUserInfo\n   * @see #setUserInfo\n   * @see #getUserInfo\n   */\n  clearUserInfo() {\n    // let _m = \"s.cui\";\n    if (this.props[USER_INFO]) {\n      // let username = this.getUsername();\n      // this.log(_m, \"user '\", username, \"' cleared.\");\n      delete this.props[USER_INFO];\n    }\n    let cookieName = this.getCookieSessionName();\n    if (cookieName) {\n      Cookies.remove(cookieName);\n      // this.log(_m, \"cookie removed.\");\n    }\n  }\n\n  /**\n   * Reset is different than clear user info because\n   * it actually replaces with guest information.\n   *\n   * @see #clearUserInfo\n   * @see #setUserInfo\n   * @see #getUserInfo\n   */\n  resetUserInfo() {\n    this.clearUserInfo();\n\n    // let guestInfo = {\n    //     USER_NAME: USER_GUEST,\n    //     USER_NICKNAME: \"Guest\",\n    //     USER_EMAIL: \"\",\n    //     USER_TOKEN: null\n    // }\n    // this.setUserInfo(guestInfo);\n\n    return true;\n  }\n\n  /**\n   * Track user information in the session, as well\n   * as set into cookie. This is used when the\n   * user info CHANGED in session, usually occurs\n   * during login/logout. If just user info needs\n   * updating, use #updateUserInfo()\n   *\n   * @param {{}} userInfo\n   * @param {boolean=} remember true to set expiration, false means session cookie\n   * @return {boolean} true if updated\n   *\n   * @see #updateUserInfo\n   * @see #getUserInfo\n   * @see #clearUserInfo\n   */\n  setUserInfo(userInfo, remember = true) {\n    let _m = \"setUserInfo\";\n    if (userInfo == null) {\n      this.error(_m, \"UserInfo NULL! Something is wrong.\");\n      return false;\n    }\n    // if (userInfo[USER_NAME] == null) {\n    //   this.error(_m, \"UserInfo CORRUPTED? Maybe not?\");\n    //   debugger;\n    //   return false;\n    // }\n    this.props[USER_INFO] = userInfo;\n\n    // let username = userInfo[USER_NAME];\n    let cookieName = this.getCookieSessionName();\n\n    // TODO: Need to store a token into cookie instead.\n    if (userInfo && cookieName) {\n      this.setEncryptedCookie(cookieName, userInfo, remember);\n      this.setCookieDomain();\n      // this.log(_m, \"Setting Cookie: \" + cookieName, \"=\", userInfo);\n    }\n    return true;\n  }\n\n  /**\n   * Update user's information. This is used to update\n   * user who's currently logged in. Stats are updated\n   * separately with userStats\n   *\n   * @param {XUserInfo} userInfo (or JSON) label/value pairs to update. This can contain only\n   * the fields that need to be updated, for as long as \"replace\" is false.\n   * @param {boolean} replace true to replace entire record, but only if given record has username.\n   * The default (false) is to copy individual fields\n   * @param {boolean=} remember true to set expiration and persist. False store as session\n   * @return {boolean} true if updated, false if the\n   * condition does not permit update\n   */\n  updateUserInfo(userInfo, replace = false, remember = true) {\n    let _m = \"s.uui\";\n    userInfo = XUserInfo.Unwrap(userInfo);\n    if (userInfo == null) {\n      this.error(_m, \"UserInfo NULL! Something is wrong.\");\n      return false;\n    }\n\n    if (replace && userInfo[USER_NAME] == null) {\n      this.error(_m, \"UserInfo CORRUPTED. Not tracking.\");\n      return false;\n    }\n    let prevUsername = userInfo[USER_NAME];\n    if (prevUsername && prevUsername !== userInfo[USER_NAME]) {\n      this.error(_m, \"Cannot update info where username is different!\");\n      return false;\n    }\n\n    let fieldsUpdated = 0;\n    let thisUserInfo = {...this.props[USER_INFO]};\n    if (replace) {\n      this.props[USER_INFO] = userInfo;\n    } else {\n      for (let label in userInfo) {\n        if (\n          userInfo[label] != null &&\n          thisUserInfo &&\n          thisUserInfo[label] !== userInfo[label]\n        ) {\n          // this.log(`${_m}: updated ${label} from ${thisUserInfo[label]} to ${userProps[label]}`);\n          thisUserInfo[label] = userInfo[label];\n          fieldsUpdated++;\n        }\n      }\n    }\n\n    // console.log(_m, \"Updated User Info: \", this.props[USER_INFO]);\n\n    // let username = userInfo[USER_NAME];\n    let cookieName = this.getCookieSessionName();\n\n    // TODO: Need to store a token into cookie instead.\n    let updated = false;\n    if (fieldsUpdated > 0 && cookieName) {\n      this.setEncryptedCookie(cookieName, thisUserInfo, remember);\n      updated = true;\n      // this.log(_m, \"Setting Cookie: \" + cookieName, \"=\", userInfo);\n    }\n    return updated;\n  } // updateUserInfo\n\n  /**\n   * Return entire UserInfo record, or a specific field if\n   * property label is given.\n   *\n   * @param {string} label a field to retrieve within the userInfo object.\n   * Null to return entire object\n   * @param {*} defaultVal\n   * @return {{}}\n   *\n   * @see ~getXUserInfo\n   */\n  getUserInfo(label = null, defaultVal = null) {\n    // let _m = \"getUserInfo\";\n\n    // for now, XUserInfo stores\n    // if (label == USER_NAME)\n    // label = USER_ID;\n\n    let userInfo = this.props[USER_INFO];\n    try {\n      if (userInfo == null) {\n        // ok... maybe user refreshed. Get from cookie\n        userInfo = this.getDecryptedCookie(this.getCookieSessionName());\n        // this.log(_m, \"No userInfo in session! Retrieved from Cookie:\", userInfo);\n        if (userInfo) this.props[USER_INFO] = userInfo;\n      }\n\n      if (userInfo == null) return defaultVal;\n      if (label == null) return userInfo;\n    } catch (err) {\n      console.log(err);\n      this.clearUserInfo();\n    }\n    let value = userInfo ? userInfo[label] : null;\n    return value ? value : defaultVal;\n  }\n\n  /**\n   * Return UserInfo record wrapped by XUserInfo\n   *\n   * @return {XUserInfo}\n   * @see Session~getUserInfo()\n   */\n  getXUserInfo() {\n    let userInfo = this.getUserInfo();\n    return userInfo ? XUserInfo.Wrap(userInfo) : null;\n  }\n\n  /**\n   * Return entire UserInfo record, or a specific field if\n   * property label is given.\n   *\n   * @param {string} label a field to retrieve within the userInfo object.\n   * Null to return entire object\n   *\n   * @param {*} defaultVal\n   * @return {{}}\n   *\n   * @see ~getXUserStats\n   */\n  getUserStats(defaultVal = null) {\n    // let _m = \"getUserStats\";\n\n    let userStats = this.props[USER_STATS];\n    if (userStats == null) {\n      this.warn(\"getUserStats\", \"no stats object in memory\");\n      return defaultVal;\n    }\n    // userStats = XUserStats.Wrap(userStats);\n    return userStats;\n  }\n\n  /**\n   * Return user stats as XUserStats type\n   *\n   * @param {*} defaultVal\n   * @return {XUserStats}\n   */\n  getXUserStats(defaultVal = null) {\n    let statObj = this.getUserStats(defaultVal);\n    return statObj ? XUserStats.Wrap(statObj) : null;\n  }\n\n  /**\n   *\n   * @param {*} userStats\n   */\n  updateUserStats(userStats) {\n    // debugger;\n    this.props[USER_STATS] = userStats;\n  }\n\n  /**\n   * Report whether a user is logged in in this session\n   *\n   * @return {boolean} treu if logged in\n   */\n  userLoggedIn() {\n    let userInfo = this.getUserInfo();\n    if (userInfo == null) return false;\n\n    let username = XUserInfo.GetUsername(userInfo);\n    if (username == null) {\n      // this.warn(\"userLoggedIn\", \"username within userInfo is Null\");\n      return false;\n    }\n    if (typeof username != \"string\") {\n      this.error(\"userLoggedIn\", \"user info is corrupted.\");\n      return false;\n    }\n    let isGuest = username === USER_GUEST;\n    if (isGuest) return false;\n\n    // check for user token\n    let token = this.getUserToken();\n    return token ? true : false;\n  }\n\n  userHasRole(roleType) {\n    let userInfo = this.getUserInfo();\n    if (userInfo == null) return false;\n    let verdict = XUserInfo.HasRole(userInfo, roleType);\n    return verdict;\n  }\n\n  userIsGod() {\n    return this.userHasRole(XUserInfo.ROLE_ROOT);\n  }\n\n  userHasAdminRole() {\n    if (this.userHasRole(XUserInfo.ROLE_ADMIN)) return true;\n    return this.userIsGod();\n  }\n\n  userHasSysAdminRole() {\n    if (this.userHasRole(XUserInfo.ROLE_SYSADM)) return true;\n    return this.userIsGod();\n  }\n\n  userHasModeratorRole() {\n    if (this.userHasRole(XUserInfo.ROLE_MODERATOR)) return true;\n    return this.userHasAdminRole();\n  }\n\n  /**\n   *\n   * @param {string} featureId\n   * @return {boolean}\n   */\n  userHasFeature(featureId) {\n    let userInfo = this.getUserInfo();\n    if (userInfo == null) return false;\n    let verdict = XUserInfo.HasAppFeature(userInfo, featureId, true);\n\n    return verdict;\n  }\n\n  /**\n   *\n   * @param {string} featureId\n   * @return {boolean}\n   */\n  userHasFeatureDisabled(featureId) {\n    let userInfo = this.getUserInfo();\n    if (userInfo == null) return false;\n    let verdict = XUserInfo.IsAppFeatureDisabled(userInfo, featureId);\n    return verdict;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  userHasPreviewFeatures() {\n    return this.userHasFeature(XUserInfo.FEATURE_PREVIEW);\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  static GetInstance() {\n    return globalSession;\n  }\n}\n\nexport default Session;\n","\nimport fetch from 'cross-fetch';\n\nimport API from '../API';\nimport XError from '../model/XError';\nimport { HTTP_CLIENT_ERROR, HTTP_CLIENT_AUTH, HTTP_CLIENT_NOTFOUND, HTTP_TOO_MANY_REQUESTS } from '../ErrorConsts';\nimport EC from '../ErrorCodes';\n\nimport XRequest from '../model/net/XRequest';\nimport XResponse from '../model/net/XResponse';\nimport XObject from '../model/XObject';\nimport Util from '../Util';\nimport {\n  CONTENT_TYPE_FORMDATA,\n  CONTENT_TYPE_JSON,\n  PROP_CONTENT,\n  PROP_CONTENT_TYPE,\n  PROP_HEADERS,\n  PROP_ACCEPT,\n  PROP_ENCODE_TYPE,\n} from '../model/net/XHttpBase';\nimport GAxios from \"src/util/GAxios\";\n\nconst _CLSNAME = 'REST';\n\n/**\n * Base class for RESTful API processing. This class\n * holds utility functions and does not track states\n * so therefore no instances.\n */\nexport class REST extends API {\n\n\n  // ---------------------- RECEIVER SERVICES --------------------------\n\n  /**\n   * Retrieve the query portion of the URL from GET, or body\n   * content of POST. This is NOT the req.params which returns\n   * the inline URL value (eg., /user/:id), but rather the\n   * query portion (e.g., \"validate\" in /user/:id?validate=true).\n   *\n   * NOTE: Somehow the query param value has an extra double quotes.\n   * We'll remove it before returning the value\n   *\n   * @param {*} req\n   * @param {string=} label query parameter label to retrieve value (e.g., ?label=value)\n   * @return {*} if label is given, return the query parameter. If\n   * not, then return map of query label/value pairs in GET or body of POST\n   */\n  static GetParams(req, label = null, defaultVal = null) {\n    let content;\n    if (req.method === 'POST' || req.method === 'PUT') {\n      if (Util.NotNull(req.body.content)) { content = req.body.content; } else { content = req.body; }\n    } else if (req.method === 'GET') { content = req.query; } else { content = req.query; }\n\n    let value = (Util.NotNull(label)) ? content[label] : content;\n\n    if (Util.IsString(value)) { value = Util.StripWrapper(value, '\"', '\"'); }\n\n    return (value == null) ? defaultVal : value;\n  }\n\n\n  /**\n   * Craft an HTTP Error Response\n   *\n   * @param {} res\n   * @param {XError} errObj Either instance of XError or a string\n   * @param {{}} optional data to pass back\n   */\n  static RespondAuthError(res, errObj, result = null) {\n    if ((typeof errObj) === 'string') {\n      errObj = EC.API_ERROR(errObj);\n    }\n    const eResponse = XResponse.CreateXError(errObj);\n    res.status(HTTP_CLIENT_AUTH).json(eResponse);\n  }\n\n  /**\n   * Craft an HTTP Error Response\n   *\n   * @param {} res\n   * @param {XError} errObj Either instance of XError or a string\n   * @param {{}} optional data to pass back\n   */\n  static RespondError(res, errObj, result = null) {\n    if ((typeof errObj) === 'string') {\n      errObj = EC.API_ERROR(errObj);\n    } else if (errObj instanceof Error) {\n      errObj = EC.SYS_ERROR(errObj.message);\n    }\n    const xerror = XError.Wrap(errObj);\n    const eResponse = XResponse.CreateXError(xerror);\n    res.status(HTTP_CLIENT_ERROR).json(eResponse);\n  }\n\n  /**\n   * Respond OK with result\n   * @param {*} res\n   * @param {{}} data data to return, null by default\n   * @param {number=} status code (default = 200)\n   */\n  static RespondOK(res, data = null, code = 200) {\n    // if (!data instanceof XResponse) {\n    const xResponse = data ? XResponse.CreateOK(data) : null;\n    // }\n    const responseObj = xResponse ? XObject.Unwrap(xResponse) : {};\n    return res.status(code).json(responseObj);\n  }\n\n  /**\n   * Respond OK with encrypted result\n   *\n   * @param {*} res\n   * @param {{}} data data to pass back but encrypted\n   * @param {number} code\n   */\n  static RespondOK_Encrypted(res, data = null, code = 200) {\n    data = data ? Util.EncryptJSON(data) : null;\n    return REST.RespondOK(res, data, code);\n  }\n\n  /**\n   * Return response as HTML\n   *\n   * @param {*} res response object\n   * @param {string} html data to return, null by default\n   * @param {number=} status code (default = 200)\n   */\n  static ReturnHTML(res, html, code = 200) {\n    if (html == null) {\n      html = `Error ${code}`;\n    }\n    return res.status(code).send(html);\n  }\n\n  /**\n   * Send response with data. The standard label for the property\n   * \"result\" will be inserted. XError can be past\n   * in which proper HTTP status will be set.\n   *\n   * @param {*} res HTTP response object\n   * @param {{}}} data data to return. Can be XObject\n   * data including XError, which then an error will\n   * @param {number=} rc return code within JSON object (default=0)\n   * @param {number=} code http return status code (default=200)\n   */\n  static RespondResult(res, data = null, rc = 0, code = 200) {\n    if (XError.IsInstance(data)) { return REST.RespondError(res, data); }\n    const xResponse = XResponse.CreateWithRC(data, rc);\n    const responseObj = XObject.Unwrap(xResponse);\n    return res.status(code).json(responseObj);\n  }\n\n  // ----------------- RETURN WITH SPECIFIC ERROR --------------------\n\n  static Respond404(res) {\n    res.status(HTTP_CLIENT_NOTFOUND).end();\n  }\n\n  static Respond429(res) {\n    const xerror = XError.Wrap(EC.USER_OVER_LIMIT('User meter limit exceeded'));\n    const eResponse = XResponse.CreateXError(xerror);\n    res.status(HTTP_TOO_MANY_REQUESTS).json(eResponse);\n  }\n\n  static Respond500(res) {\n    res.status(500).end();\n  }\n\n  // ------------------ HTTP METHODS-BASED COMMUNICATIONS ----------------------\n\n  /**\n   * Make a GET request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * @param {string} url\n   * @param {*} jsonData did you know GET can carry payload too in body?\n   * @param {function} callback optional to async/await.\n   * @callback\n   * @return {object} http response.data()\n   *\n   * @see ~requestPUT\n   * @see ~requestPOST\n   * @see ~requestDELETE\n   */\n  static async XRequestGET(url, xRequest, callback = null) {\n    return REST.XRequestMethod('get', url, xRequest, false, callback);\n  }\n\n  /**\n   * Make a PUT request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * @param {string} url\n   * @param {*} jsonData content\n   * @param {function} callback optional to async/await.\n   * @callback\n   * @return {object} http response.data()\n   *\n   * @see ~requestGET\n   * @see ~requestPOST\n   * @see ~requestDELETE\n   *\n   */\n  static async XRequestPUT(url, xRequest, callback = null) {\n    return REST.XRequestMethod('put', url, xRequest, false, callback);\n  }\n\n  /**\n   * Make a POST request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * @param {string} url\n   * @param {{}} jsonData data to send\n   *\n   * @see ~requestGET\n   * @see ~requestPUT\n   * @see ~requestDELETE\n   */\n  static async XRequestPOST(url, xRequest, callback = null) {\n    return REST.XRequestMethod('post', url, xRequest, false, callback);\n  }\n\n  /**\n   * Make a POST request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * @param {string} url\n   * @param {{}} jsonData data to send\n   * @param {function} callback\n   *\n   * @see ~requestGET\n   * @see ~requestPUT\n   * @see ~request{POST}\n   */\n  static async XRequestDELETE(url, xRequest, callback = null) {\n    return REST.XRequestMethod('delete', url, xRequest, false, callback);\n  }\n\n\n  // -------------- HTTP METHODS-BASED COMMUNICATIONS (EXTERNAL) ----------------------\n\n  /**\n   * Make a GET request to non-app server outside of the domain\n   *\n   * @param {string} url\n   * @param {*} jsonData did you know GET can carry payload too in body?\n   * @param {function} callback optional to async/await.\n   * @callback\n   * @return {object} http response.data()\n   *\n   * @see ~requestPUT\n   * @see ~requestPOST\n   * @see ~requestDELETE\n   */\n  static async XRequestExternalGET(url, xRequest, callback = null) {\n    return REST.XRequestMethod('get', url, xRequest, true, callback);\n  }\n\n  /**\n   * Make a PUT request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * @param {string} url\n   * @param {*} jsonData content\n   * @param {function} callback optional to async/await.\n   * @callback\n   * @return {object} http response.data()\n   *\n   * @see ~requestGET\n   * @see ~requestPOST\n   * @see ~requestDELETE\n   *\n   */\n  static async XRequestExternalPUT(url, xRequest, callback = null) {\n    return REST.XRequestMethod('put', url, xRequest, true, callback);\n  }\n\n  /**\n   * Make a POST request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * @param {string} url\n   * @param {{}} jsonData data to send\n   *\n   * @see ~requestGET\n   * @see ~requestPUT\n   * @see ~requestDELETE\n   */\n  static async XRequestExternalPOST(url, xRequest, callback = null) {\n    return REST.XRequestMethod('post', url, xRequest, true, callback);\n  }\n\n  /**\n   * Make a POST request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * @param {string} url\n   * @param {{}} jsonData data to send\n   * @param {function} callback\n   *\n   * @see ~requestGET\n   * @see ~requestPUT\n   * @see ~request{POST}\n   */\n  static async XRequestExternalDELETE(url, xRequest, callback = null) {\n    return REST.XRequestMethod('delete', url, xRequest, true, callback);\n  }\n\n\n  /**\n   * Make a HTTP request. Other higher-level service functions\n   * should use this for shared wrapping and request/response\n   * logic.\n   *\n   * If the content type set in XRequest is multipart/form-data, then\n   * the content will be copied to a FormData instance.\n   *\n   * @param {string} method \"get\", \"post\", \"delete\", \"update\"\n   * @param {XRequest} xRequest created request object\n   * @param {boolean=} thirdParty to indicate external website, default is false\n   * and \"same-origin\" will be set in header \"credentials\"\n   * @param {function} callback optional to async/await.\n   * @return {object} http response.data()\n   *\n   * @see ~requestPOST\n   * @see ~requestDELETE\n   */\n  static async XRequestMethod(method, url, xRequest, thirdParty = false, callback = null) {\n    const _m = `${_CLSNAME}.XReqMethod(${method})`;\n\n    const jsonHeaders = xRequest.getHeaders();\n\n\n    // let content = (method === \"get\") ? null : JSON.stringify(jsonContent);\n    let content;\n    const headerLines = { ...jsonHeaders };\n    if (xRequest.hasFormData()) {\n      delete headerLines[PROP_CONTENT_TYPE]; //  = CONTENT_TYPE_FORMDATA;\n      headerLines[PROP_ENCODE_TYPE] = CONTENT_TYPE_FORMDATA;\n      const fd = xRequest.getFormData();\n      const rawContent = xRequest.getRawContent();\n      const stringContent = typeof (rawContent) === 'object' ? JSON.stringify(rawContent) : String(rawContent);\n      fd.set(PROP_CONTENT, stringContent);\n      content = fd;\n    } else {\n      headerLines[PROP_ACCEPT] = CONTENT_TYPE_JSON;\n      headerLines[PROP_CONTENT_TYPE] = CONTENT_TYPE_JSON;\n\n      let jsonContent = xRequest.getContent();\n      // let jsonContent = {...xRequest.getContent()};\n\n      if (!jsonContent) {\n        jsonContent = {};\n      }\n\n      if (jsonContent[PROP_HEADERS]) { delete jsonContent[PROP_HEADERS]; }\n\n      if (method !== 'get') {\n        content = JSON.stringify({ [PROP_CONTENT]: jsonContent });\n      }\n    }\n\n    // console.log(\"JSON.stringify({ [PROP_CONTENT]: {...xRequest.getContent()} }): \\n\" + JSON.stringify({ [PROP_CONTENT]: {...xRequest.getContent()} }) + \"\\n\");\n    // console.log(\"JSON.stringify({ [PROP_CONTENT]: xRequest.getContent() }): \\n\" + JSON.stringify({ [PROP_CONTENT]: xRequest.getContent() }) + \"\\n\");\n    // console.log(\"xRequest.toJSONString() \\n: \" + xRequest.toJSONString() + \"\\n\");\n    // console.log(\"\\n\\n\");\n\n    const userCred = xRequest ? xRequest.getUserCred() : null;\n    // if (content) { console.log(`${_m}: Request: ${url}: Payload data:`, content); }\n\n    if (userCred) {\n      const authLine = userCred.toAuthHeader(null);\n      if (!Util.StringIsEmpty(authLine)) {\n        headerLines[XRequest.HDR_APP_AUTH] = authLine;\n      }\n    }\n\n    const appUrl = xRequest ? xRequest.getAppUrlHeader(null) : null;\n    if (appUrl && (headerLines[XRequest.HDR_APP_URL] == null)) {\n      headerLines[XRequest.HDR_APP_URL] = appUrl;\n    }\n\n    const opts = {\n      method,\n      headers: headerLines,\n      body: content,\n    };\n\n    if (!thirdParty) { opts['credentials'] = 'same-origin'; }\n\n    const p = new Promise(async (resolve, reject) => {\n      let xrespObj;\n      let xerror;\n      try {\n        const response = await fetch(url, opts);\n        if (response.status === 401) {\n          //only handle the response.\n          GAxios(null, null, null, response);\n        }\n        // Do NOT trap 400 level errors - pass it back\n        if (response.status >= 500) {\n          console.error(`${_m}: HTTP Resp: `, JSON.stringify(response));\n          throw XError.New(EC.SYS_NETERR, `SERVER/NET ERROR: ${response.status})`);\n        }\n        const respObj = await response.json();\n        // console.log(`${_m}: respObj: `, respObj);\n        xrespObj = respObj ? XResponse.Wrap(respObj) : null;\n\n        if (xrespObj == null || Object.entries(xrespObj).length === 0) {\n          // console.error(`${_m}: Got NULL Response`);\n        } else {\n          xerror = xrespObj ? xrespObj.getError() : null;\n        }\n      } catch (e) {\n        // console.error(`${_m}: ${url} returned error`, e);\n\n        const msg = String(e);\n        if (XError.IsInstance(e)) {\n          xerror = e;\n        } else {\n          xerror = XError.New(EC.SYS_NETERR, msg);\n        }\n        console.error(url, xerror);\n        // GAxios(null, null, null, xerror);//It's the backend error\n      } finally {\n        if (callback) callback(xerror, xrespObj);\n        if (xerror) { reject(xerror); } else { resolve(xrespObj); }\n      }\n    });\n    return p;\n  } // XRequestMethod\n\n} // class\n\nexport default REST;\n","import XMActivityLog from '../activity/XMActivityLog';\nimport ModelType from '../ModelConsts';\n\nexport default class SocialModelHelper {\n\n  /**\n   *\n   * @param {XMSocialIndexable} obj\n   * @param {string} action\n   * @return {XMActivityLog}\n   */\n  static CreateActivityLogFromSocialIndexable(obj, action = null) {\n\n    const xActivity = new XMActivityLog();\n\n    if (action == null) { action = ''; }\n\n    const postId = obj.getPostId();\n    const posterId = obj.getPosterId();\n    const isComment = obj.isComment();\n    const type = isComment ? ModelType.COMMENT : ModelType.POST;\n    const objId = obj.getId();\n    xActivity.setInitiator(posterId);\n    xActivity.setSourceObject(ModelType.USER, posterId);\n    xActivity.setTargetObject(type, objId, posterId);\n    xActivity.setPostId(postId);\n\n    return xActivity;\n  }\n}\n","\nimport XObject from './XObject';\n\nconst _CLSNAME = 'XACL'; // match class name\n\nconst PERM_OWNER = 'own';\nconst PERM_USER = 'usr';\nconst PERM_GROUP = 'grp';\nconst PERM_PUBLIC = 'pub';\n\nconst WHO_TYPES = [PERM_PUBLIC, PERM_OWNER, PERM_USER, PERM_GROUP];\n\nconst PERM_NONE = 0b00000000;\nconst PERM_READ = 0b00000100;\nconst PERM_WRITE = 0b00000010;\nconst PERM_EXEC = 0b00000001;\nconst PERM_RX = PERM_READ | PERM_EXEC;\nconst PERM_RW = PERM_READ | PERM_WRITE;\nconst PERM_RWX = PERM_READ | PERM_WRITE | PERM_EXEC;\n\nconst PERM_TYPES = [\n  PERM_READ, PERM_WRITE, PERM_EXEC,\n  PERM_NONE,\n  PERM_RW, PERM_RX, PERM_RWX,\n];\n\n// refined read actions\n\n// refined write actions\n\n\n/**\n * Access Control List definition within\n * first class data models (XMObject).\n */\nclass XACL extends XObject {\n  // Constants\n  static get PERM_USER() { return PERM_USER; }\n  static get PERM_GROUP() { return PERM_GROUP; }\n  static get PERM_PUBLIC() { return PERM_PUBLIC; }\n\n  static get PERM_NONE() { return PERM_NONE; }\n  static get PERM_READ() { return PERM_READ; }\n  static get PERM_WRITE() { return PERM_WRITE; }\n  static get PERM_EXEC() { return PERM_EXEC; }\n  static get PERM_RW() { return PERM_RW; }\n  static get PERM_RX() { return PERM_RX; }\n  static get PERM_RWX() { return PERM_RWX; }\n\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XACL;\n  }\n\n  /**\n   * Initialize content as a new object.\n   */\n  initNew() {\n    super.initNew();\n  }\n\n  /**\n   * Retrieve permission list of either users, group, or public\n   * or PERM_PUBLIC.\n   * @param jsonRec JSON object\n   * @param who either PERM_OWNER, PERM_USER, PERM_GROUP, or PERM_PUBLIC\n   */\n  getPermissions(who, defaultPerm = PERM_NONE) {\n    return XACL.GetPermissions(this.getData(), who, defaultPerm);\n  }\n\n  getOwnerPerm(defaultPerm = PERM_NONE) {\n    return XACL.GetPermissions(this.getData(), PERM_OWNER, defaultPerm);\n  }\n\n  getUserPerm(defaultPerm = PERM_NONE) {\n    return XACL.GetPermissions(this.getData(), PERM_USER, defaultPerm);\n  }\n\n  getGroupPerm(defaultPerm = PERM_NONE) {\n    return XACL.GetPermissions(this.getData(), PERM_GROUP, defaultPerm);\n  }\n\n  getPublicPerm(defaultPerm = PERM_NONE) {\n    return XACL.GetPermissions(this.getData(), PERM_PUBLIC, defaultPerm);\n  }\n\n  setPermission(who, perm) {\n    return XACL.SetPermission(this.getData(), who, perm);\n  }\n\n  setPublicPerm(perm) {\n    return XACL.SetPermission(this.getData(), PERM_PUBLIC, perm);\n  }\n\n  /**\n   *\n   * @param {boolean} clear\n   * @return {boolean} true if executed (set or clear)\n   */\n  setPublicREAD(clear = false) {\n    return XACL.SetPublicREAD(this.getData(), clear);\n  }\n\n  setUserPerm(perm) {\n    return XACL.SetUserPerm(this.getData(), perm);\n  }\n\n  clearPermission(who, perm) {\n    return XACL.ClearPermission(this.getData(), who, perm);\n  }\n\n  clearPublicPerm(perm) {\n    return XACL.ClearPublicPerm(this.getData(), perm);\n  }\n\n  clearPublicREAD() {\n    return XACL.ClearPublicREAD(this.getData());\n  }\n\n  clearUserPerm(perm) {\n    return XACL.ClearUserPerm(this.getData(), perm);\n  }\n\n  clearGroupPerm(perm) {\n    return XACL.ClearGroupPerm(this.getData(), perm);\n  }\n\n\n  /**\n   * Check given permission against permission list of who (users,\n   * group, or public) or PERM_PUBLIC.\n   * *\n   * @param jsonRec JSON object\n   * @param who either PERM_USER, PERM_GROUP, or PERM_PUBLIC\n   */\n  checkPerm(who, perm) {\n    return XACL.CheckPerm(this.getData(), who, perm);\n  }\n\n  checkOwnerPerm(perm) {\n    return XACL.CheckPerm(this.getData(), PERM_OWNER, perm);\n  }\n\n  checkUserPerm(perm) {\n    return XACL.CheckPerm(this.getData(), PERM_USER, perm);\n  }\n\n  checkGroupPerm(perm) {\n    return XACL.CheckPerm(this.getData(), PERM_GROUP, perm);\n  }\n\n  checkPublicPerm(perm) {\n    return XACL.CheckPerm(this.getData(), PERM_PUBLIC, perm);\n  }\n\n  checkPublicREAD() {\n    return XACL.CheckPerm(this.getData(), PERM_PUBLIC, PERM_READ);\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n\n  /**\n   * Return the default folder/table/collection name used\n   * for storing stats.\n   *\n   * NOTE: currently this is used as an embedded object,\n   * and not a first class object for persistence.\n   */\n  static GetFolderName() {\n    return 'acl';\n  }\n\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return 'acl';\n  }\n\n  static CreateNew() {\n    const acl = new XACL();\n    acl.initNew();\n\n    return acl;\n  }\n\n  /**\n   * Wrap JSON data that represents this object\n   */\n  static Wrap(jsonRec, clsType = XACL) {\n    return XACL.WrapXObject(jsonRec, clsType);\n  }\n\n  static IsValidWho(who) {\n    return WHO_TYPES.indexOf(who) !== -1;\n  }\n\n  static IsValidPermValue(perm) {\n    return PERM_TYPES.indexOf(perm) !== -1;\n  }\n\n  static AssertValidWho(who, method) {\n    return XACL.Assert(WHO_TYPES.indexOf(who) !== -1, _CLSNAME, method,\n      \"Input ACL parameter for 'who' is not valid: \", who);\n  }\n\n  static AssertValidPermValue(perm, method, msg, ...args) {\n    return XACL.Assert(PERM_TYPES.indexOf(perm) !== -1, _CLSNAME, method,\n      'Permission value is not valid: ', perm);\n  }\n\n  /**\n   * Retrieve permission list of either users, group, or public\n   * or PERM_PUBLIC.\n   * @param {{}} jsonRec JSON object\n   * @param {string} who either PERM_OWNER, PERM_USER, PERM_GROUP, or PERM_PUBLIC\n   */\n  static GetPermissions(jsonRec, who, defaultPerm = PERM_NONE) {\n    XACL.AssertValidWho(who, 'GPm');\n    return jsonRec.hasOwnProperty(who) ? jsonRec[who] : defaultPerm;\n  }\n\n  static GetOwnerPerm(jsonRec, defaultPerm = PERM_NONE) {\n    return XACL.GetPermissions(jsonRec, PERM_OWNER, defaultPerm);\n  }\n\n  static GetUserPerm(jsonRec, defaultPerm = PERM_NONE) {\n    return XACL.GetPermissions(jsonRec, PERM_USER, defaultPerm);\n  }\n\n  static GetGroupPerm(jsonRec, defaultPerm = PERM_NONE) {\n    return XACL.GetPermissions(jsonRec, PERM_GROUP, defaultPerm);\n  }\n\n  static GetPublicPerm(jsonRec, defaultPerm = PERM_NONE) {\n    return XACL.GetPermissions(jsonRec, PERM_PUBLIC, defaultPerm);\n  }\n\n  static IsPublicREAD(jsonRec, defaultVal = false) {\n    return jsonRec ? ((XACL.GetPublicPerm() & PERM_READ) > 0) : defaultVal;\n  }\n\n  /**\n   * Set permission bits.\n   *\n   * @param {object} jsonRec object that has permissions\n   * stored as a property.\n   * @param {*} who property storing the permission, which can\n   * be labels stored in constants PERM_OWNER, PERM_USER, PERM_PUBLIC\n   * @param {*} perm permission bits (3 bits)\n   * @return {boolean} true if set, false if not set which usually\n   * mean \"who\" is not valid or value hasn't change.\n   */\n  static SetPermission(jsonRec, who, perm) {\n    if (!XACL.AssertValidWho(who, 'SetPermissions')) { return false; }\n    if (!jsonRec.hasOwnProperty(who)) { jsonRec[who] = 0; }\n    if ((jsonRec[who] & perm) !== perm) {\n      jsonRec[who] |= perm;\n      return true;\n    }\n    return false;\n  }\n\n  static SetPublicPerm(jsonRec, perm, clear = false) {\n    // should check if existing permission allow setting of the new\n\n    if (clear) { return XACL.ClearPermission(jsonRec, PERM_PUBLIC, perm); }\n    return XACL.SetPermission(jsonRec, PERM_PUBLIC, perm);\n  }\n\n  static SetPublicREAD(jsonRec, clear = false) {\n    return XACL.SetPublicPerm(jsonRec, PERM_READ, clear);\n  }\n\n  static SetOwnerPerm(jsonRec, perm) {\n    return XACL.SetPermission(jsonRec, PERM_OWNER, perm);\n  }\n\n  static SetOwnerREAD(jsonRec) {\n    return XACL.SetOwnerPerm(jsonRec, PERM_READ);\n  }\n\n  static SetUserPerm(jsonRec, perm) {\n    return XACL.SetPermission(jsonRec, PERM_USER, perm);\n  }\n\n  static SetUserREAD(jsonRec) {\n    return XACL.SetUserPerm(jsonRec, PERM_READ);\n  }\n\n  static SetGroupREAD(jsonRec) {\n    return XACL.SetGroupPerm(jsonRec, PERM_READ);\n  }\n\n  /**\n   *\n   * @param {*} jsonRec\n   * @param {*} who oen of PERM_OWNER, PERM_USER, PERM_PUBLIC\n   * @param {*} perm\n   * @return {boolean} true if successfully cleared\n   */\n  static ClearPermission(jsonRec, who, perm) {\n    if (!XACL.AssertValidWho(who, 'ClearPermissions')) { return false; }\n    if (!jsonRec.hasOwnProperty(who)) { jsonRec[who] = 0; }\n    // console.log(\"Inverted permission: \", perm, \" is: \", ~perm);\n    jsonRec[who] &= ~perm;\n    return true;\n  }\n\n  static ClearPublicPerm(jsonRec, perm) {\n    return XACL.ClearPermission(jsonRec, PERM_PUBLIC, perm);\n  }\n\n  static ClearPublicREAD(jsonRec) {\n    return XACL.ClearPermission(jsonRec, PERM_PUBLIC, PERM_READ);\n  }\n\n  static ClearOwnerPerm(jsonRec, perm) {\n    return XACL.ClearPermission(jsonRec, PERM_OWNER, perm);\n  }\n\n  static ClearUserPerm(jsonRec, perm) {\n    return XACL.ClearPermission(jsonRec, PERM_USER, perm);\n  }\n\n  static ClearGroupPerm(jsonRec, perm) {\n    return XACL.ClearPermission(jsonRec, PERM_GROUP, perm);\n  }\n\n\n  /**\n   * Check given permission against permission list of who (users,\n   * group, or public) or PERM_PUBLIC.\n   * *\n   * @param {{}} jsonRec JSON object\n   * @param {string} who either PERM_USER, PERM_GROUP, or PERM_PUBLIC\n   * @param {string} perm permission to check. This can be PERM_NONE for undefined permission\n   */\n  static CheckPerm(jsonRec, who, perm) {\n    const permValue = XACL.GetPermissions(jsonRec, who, PERM_NONE);\n    if (permValue === perm) { return true; }    // mainly for matching zero (PERM_NONE)\n    return (permValue & perm) > 0;\n  }\n\n  static CheckOwnerPerm(jsonRec, perm) {\n    return XACL.CheckPerm(jsonRec, PERM_OWNER, perm);\n  }\n\n  static CheckUserPerm(jsonRec, perm) {\n    return XACL.CheckPerm(jsonRec, PERM_USER, perm);\n  }\n\n  static CheckGroupPerm(jsonRec, perm) {\n    return XACL.CheckPerm(jsonRec, PERM_GROUP, perm);\n  }\n\n  static CheckPublicPerm(jsonRec, perm) {\n    return XACL.CheckPerm(jsonRec, PERM_PUBLIC, perm);\n  }\n\n  static CheckPublicREAD(jsonRec) {\n    return XACL.CheckPerm(jsonRec, PERM_PUBLIC, PERM_READ);\n  }\n} // XACL\n\nXACL.RegisterType(XACL);\n\nexport default XACL;\n","\nimport XObject from './XObject';\nimport XACL from './XACL';\nimport XMCOD from '../XMCOD';\nimport TagUtil from '../util/TagUtil';\n\nimport ModelType, { XMObjectProps } from './ModelConsts';\nimport Util, { TimeUtil } from '../Util';\n\nexport const STATUS_NONE = 0;     // \"clean\" of any status\nexport const STATUS_NEW = 1;\nexport const STATUS_DIRTY = 2;\n\nexport const HDR_LAST_MODIFIED = 'updated';\n\nexport const PROP_FOLLOWING = 'following';\nexport const PROP_FOLLOWER = 'follower';\n\n/**\n * Auxillary data label - mapping to filtered category data\n */\n\n// export const OWNER_NICKNAME = \"owner_nickname\";\n\nconst _CLSNAME = 'XMObject'; // match class name\n/**\n * eXtensible and managed object, which mean\n * it'll container ownership and storage information\n * for that user, and its content/data is JSON-based\n *\n * By virtue, this object is a \"first class\" entity,\n * meaning it is not contained but rather have its\n * own unique ID that can be used for retrieval.\n */\nexport default class XMObject extends XObject {\n\n  // Property, Constants, and access selectors\n  static get PROP_OWNERID() { return XMObjectProps.OWNERID; }\n  static get PROP_ACL() { return XMObjectProps.ACL; }\n\n  static get PROP_VTITLE() { return XMObjectProps.VERSION_TITLE; }\n  static get PROP_VPREV() { return XMObjectProps.VERSION_PREV; }\n  static get PROP_VNEXT() { return XMObjectProps.VERSION_NEXT; }\n  static get PROP_VSTATUS() { return XMObjectProps.VERSION_STATUS; }\n\n  static get PROP_TAGS() { return XMObjectProps.TAGS; }\n  static get PROP_RELTAGS() { return XMObjectProps.RELTAGS; }\n  static get PROP_SRCTAGS() { return XMObjectProps.SRCTAGS; }\n  static get PROP_VAREXPRS() { return XMObjectProps.VAREXPRS; }\n\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMObject;\n    this.cod = null;        // need null instead of undefined\n    if (this.mustHaveUpdatedTS()) {\n      this._updatedNow(); // baseline last modified time\n    }\n  }\n\n  /**\n   * Init as new, which at this level it also mean\n   * enabling tracking (XMCOD) with starting state\n   * as STATUS_NEW\n   *\n   */\n  initNew(tracking = true) {\n    super.initNew();\n    this.setCreatedTS();\n    if (tracking === true) { this.enableTrackingNew(); }\n  }\n\n  /**\n   * Enable tracking of status (NEW, DIRTY, etc)\n   *\n   * @param {string} status initial status\n   */\n  enableTracking(status = XMCOD.STATUS_NONE) {\n    if (this.cod) { return false; }\n    this.cod = new XMCOD(null, this, status);\n    return true;\n  }\n\n  /**\n   * Enable tracking this object as a new object\n   * with STATUS_NEW\n   */\n  enableTrackingNew() {\n    return this.enableTracking(XMCOD.STATUS_NEW);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isTracked() {\n    return Util.NotNull(this.cod);\n  }\n\n  /**\n   * Return a Cached Object Descriptor (XMCOD), if this\n   * instance is tracked by the cache (XMCache). If null, then\n   * it's not tracked.\n   *\n   * @return {XMCOD}\n   */\n  _getCOD() {\n    return this.cod;\n  }\n\n  /**\n   *\n   * @param {XMCOD} cod\n   */\n  _setCOD(cod) {\n    this.cod = cod;\n    return true;\n  }\n  _discardCOD() {\n    if (this.cod) {\n      this.cod = null;\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCached() {\n    return Util.NotNull(this.cod);\n  }\n  _assertCached(method, msg, ...args) {\n    this.assertNotNull(this.cod, method, msg, ...args);\n  }\n\n  /**\n   * Set object's owner.\n   *\n   * @param {string} userId\n   * @param {boolean} override\n   */\n  setOwnerId(userId, override = false) {\n    const changed = this.getClass().SetOwnerId(this.getData(true), userId, override);\n    if (changed) { this.setDirty(); }\n    return changed;\n  }\n\n  /**\n   * Return owner's ID\n   */\n  getOwnerId(defaultVal = null) {\n    return this.getClass().GetOwnerId(this.getData(), defaultVal);\n  }\n\n  /** @return {boolean} */\n  hasOwner() {\n    return Util.NotNull(this.getOwnerId(null));\n  }\n\n  /**\n   * Set object's creator, which maybe different than owner.\n   *\n   * @param {string} userId\n   * @param {boolean} override\n   */\n  setCreatorId(userId, override = false) {\n    const changed = XMObject.SetCreatorId(this.getData(true), userId, override);\n    if (changed) { this.setDirty(); }\n    return changed;\n  }\n\n  /**\n   * Return creator's ID\n   */\n  getCreatorId(defaultVal = null) {\n    return XMObject.GetCreatorId(this.getData(), defaultVal);\n  }\n\n  /** @return {boolean} */\n  hasCreator() {\n    return Util.NotNull(this.getCreatorId(null));\n  }\n\n  /**\n   *\n   * @return {string} previous Id, or null if none\n   */\n  clearCreatorId() {\n    const data = this.getData(false);\n    return data ? XMObject.ClearCreatorId(data) : null;\n  }\n\n  /**\n   * Set based-on object's ID\n   *\n   * @param {string} sourceId\n   * @param {boolean} override\n   */\n  setBasedOnId(sourceId, override = false) {\n    const changed = this.getClass().SetBasedOnId(this.getData(true), sourceId, override);\n    if (changed) { this.setDirty(); }\n    return changed;\n  }\n\n  /**\n   * Return based-on source objectID\n   *\n   * @return {string}\n   */\n  getBasedOnId(defaultVal = null) {\n    return this.getClass().GetBasedOnId(this.getData(), defaultVal);\n  }\n\n  /**\n   *\n   * @return {string} previous Id, or null if none\n   */\n  clearBasedOnId() {\n    const data = this.getData(false);\n    return data ? XMObject.ClearBasedOnId(data) : null;\n  }\n\n\n  // ---------------------- Version Support ----------------------\n\n  /**\n   * Set object's previous versio n's ID\n   *\n   * @param {string} prevId\n   * @param {boolean} override\n   */\n  setPreviousVersion(prevId, override = false) {\n    const changed = XMObject.SetPreviousVersion(this.getData(true), prevId, override);\n    if (changed) { this.setDirty(); }\n    return changed;\n  }\n\n  /**\n   * Return previous version's object ID, if any\n   */\n  getPreviousVersion(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMObject.GetPreviousVersion(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * @return {boolean} true if there is previous version (ID exist)\n   */\n  hasPreviousVersion() {\n    return Util.NotNull(this.getPreviousVersion(null));\n  }\n\n  /**\n   * Set object's next version's ID\n   *\n   * @param {string} prevId\n   * @param {boolean} override\n   */\n  setNextVersion(prevId, override = false) {\n    const changed = XMObject.SetNextVersion(this.getData(true), prevId, override);\n    if (changed) { this.setDirty(); }\n    return changed;\n  }\n\n  /**\n   *\n   * @return {boolean} true if there is previnextous version (ID exist)\n   * @see ~isLatestVersion\n   */\n  hasNextVersion() {\n    return Util.NotNull(this.getNextVersion(null));\n  }\n\n  /**\n   * Determine if this object is a versioned object. By definition,\n   * a versioned object is one that has either a reference to previous\n   * version or new version\n   *\n   * @return {boolean}\n   */\n  isVersioned() {\n    return this.hasPreviousVersion(false) || this.hasNextVersion(false);\n  }\n\n  /**\n   * Return whether this instance is the latest version. This is true if\n   * 1) there is no other versions, or 2) there is no next version.\n   *\n   * @return {boolean} true if there is no next version\n   *\n   * @see ~hasNextVersion\n   */\n  isLatestVersion() {\n    return this.hasNextVersion();\n  }\n\n  /**\n   * Return creation timestamp as a number (epoch)\n   *\n   * @param {*} defaultVal\n   * @return {number} epoch time in milliseconds\n   */\n  getCreatedTS(defaultVal = -1) {\n    const data = this.getData(false);\n    return this.getClass().GetCreatedTS(data, defaultVal);\n  }\n\n  /**\n   * Return creation timestamp as a Date object\n   *\n   * @param {*} defaultVal\n   * @return {Date}\n   */\n  getCreatedDate(defaultVal = null) {\n    const ts = this.getCreatedTS(-1);\n    return (ts > 0) ? new Date(ts) : defaultVal;\n  }\n\n  /**\n   * Return updated timestamp as a number (epoch)\n   *\n   * @param {*} defaultVal default value if no updated timestamp\n   * @return {number} epoch time in millseconds\n   */\n  getUpdatedTS(defaultVal = -1) {\n    const data = this.getData(false);\n    let ts = this.getClass().GetUpdatedTS(data, null);\n    if (ts == null) { ts = this.getClass().GetCreatedTS(data, defaultVal); }\n    return ts;\n  }\n\n  /**\n   * Return updated timestamp as a Date object\n   *\n   * @param {*} defaultVal\n   * @return {Date}\n   */\n  getUpdatedDate(defaultVal = null) {\n    const ts = this.getUpdatedTS(-1);\n    return (ts > 0) ? new Date(ts) : defaultVal;\n  }\n\n  _enableACL(reset = false) {\n    const data = this.getData(true);\n    if (data[XMObject.PROP_ACL] == null || (reset === true)) { data[XMObject.PROP_ACL] = {}; }\n    this.acl = XACL.Wrap(data[XMObject.PROP_ACL]);\n  }\n\n  /**\n   * Unconditionall clear ACL content.\n   */\n  _clearACL() {\n    this.acl = null;\n    const data = this.getData(false);\n    if (data && data[XMObject.PROP_ACL]) {\n      data[XMObject.PROP_ACL] = {};\n    }\n  }\n\n  hasACL() {\n    const data = this.getData();\n    return data ? (Util.NotNull(data[XMObject.PROP_ACL])) : false;\n  }\n\n  /**\n   * Return the embedded XACL object.\n   *\n   * @param {boolean} create if doesn't exist\n   * @return {XACL}\n   */\n  getACL(create = true) {\n    if (this.acl == null) {\n      const data = this.getData();\n      if (Util.NotNull(data[XMObject.PROP_ACL])) { this.acl = XACL.Wrap(data[XMObject.PROP_ACL]); } else if (create) {\n        this._enableACL();  // create acl object and store wrapped in this.acl\n      }\n    }\n    return this.acl ? this.acl : null;\n  }\n\n  /**\n   * Set to enable (or clear to disable) public READ access\n   *\n   * @param clear true to clear (disable). Default is to set (enable)\n   * @return {boolean} true if set, false if not set which can mean already\n   * same permission\n   *\n   * @see #clearPublicREAD\n   * @see #checkPublicREAD\n   */\n  setPublicREAD(clear = false) {\n    const acl = this.getACL(true);\n    // this.assertNotNull(acl, \"setPublicREAD\", \"ACL Not enabled\");\n    const setStatus = acl.setPublicREAD(clear);\n    if (setStatus) { this.setDirty(); }\n    return setStatus;\n  }\n\n  /**\n   * Clear public read status\n   *\n   * @return {bolean} treu if cleared\n   */\n  clearPublicREAD() {\n    return this.setPublicREAD(true);\n  }\n\n  /**\n   * Return whether this resource is has public READ permission,\n   * which means it can be shared publicly.\n   *\n   * @return {boolean} true if public READ is enabled\n   * @see #setPublicREAD\n   */\n  checkPublicREAD() {\n    const acl = this.getACL(false);\n    if (acl == null) { return false; }\n    return acl.checkPublicREAD();\n  }\n\n  /**\n   * Return whether the object has visibility scope of public (VISTYPE_PUBLIC)\n   * and use ACL as backup if not defined. This overrides parent XObject's\n   * method.\n   *\n   * @param {boolean} checkACL if no visibility flag available, check ACL\n   * for public READ flag to determine.\n   * @return {boolean} true if object has public visibility as scope, or has\n   * ACL public READ\n   *\n   */\n  isPublicVisible(checkACL = true) {\n    let verdict = super.isPublicVisible(checkACL, null);\n\n    if (verdict == null && checkACL) { verdict = this.checkPublicREAD(); }\n\n    return verdict;\n  }\n\n  /**\n   * Create a JSON header containing information about\n   * this instance. The data portion is not included but\n   * should be added to property \"data\" from methods such\n   * as \"toJSON()\"\n   * This method can be overriden by subclass but should\n   * call this parent method first and add to the returned\n   * object.\n   * @return JSON object containing relevant header info\n   */\n  // _headerToJSON() {\n  //     let hdr = {\n  //     }\n\n  //     hdr[XMObject.PROP_TYPE] = this.getClassname();\n  //     if (this.tags)\n  //         hdr[XMObject.PROP_TAGS] = this.tags;\n  //     hdr[HDR_LAST_MODIFIED] = this._lastUpdated;\n\n  //     return hdr;\n  // }\n  // _headerFromJSON(xmObject) {\n  //     if (xmObject[PROP_TYPE])\n  //         this.classname = xmObject[PROP_TYPE];\n\n  //     if (xmObject[XMObject.PROP_TAGS])\n  //         this.catIds = xmObject[XMObject.PROP_TAGS];\n\n  //     if (xmObject[HDR_LAST_MODIFIED])\n  //         this._lastUpdated = xmObject[HDR_LAST_MODIFIED];\n  // }\n  _updatedNow() {\n    if (this._cacheStatus !== STATUS_NEW) {\n      this._lastUpdated = Date.now();\n      this.getClass().SetUpdatedTS(this.getData(), this._lastUpdated);\n    }\n  }\n\n  /**\n   * Update edited/updated timestamps as well as optionally mark\n   * object as dirty, if object is not new.\n   *\n   * @param {boolean} markDirty true to also mark object as \"dirty\"\\\n   * @return {boolean} true if new timestamp added (only if not new)\n   */\n  _editedNow(markDirty = false) {\n    let verdict = false;\n    if (this._cacheStatus !== STATUS_NEW) {\n      this._lastUpdated = Date.now();\n      this.getClass().SetEditedTS(this.getData(), this._lastUpdated);\n      this.getClass().SetUpdatedTS(this.getData(), this._lastUpdated);\n      if (markDirty) { this.setDirty(); }\n      verdict = true;\n    }\n    return verdict;\n  }\n\n  /**\n   * Set this object as a new object, which adds a\n   * created timestamp. If the object is enabled for\n   * tracking, then it'll be set as new too.\n   *\n   * @see ~isNew()\n   */\n  _setNew() {\n    this.setCreatedTS();\n    if (this.cod) {\n      this.cod.setNew();\n    }\n    return true;\n  }\n\n  _clearStatus() {\n    if (this.cod) { this.cod.clearStatus(); }\n  }\n\n  /**\n   * Check on the status if the object is marked as STATUS_NEW\n   *\n   * @return {boolean} true if new\n   *\n   * @see ~_setNew()\n   * @see ~isDirty()\n   * @see ~isModified()\n   * @see ~isClean()\n   * @see ~isDeleted()\n   */\n  isNew() {\n    return (this.cod) ? this.cod.isNew() : null;\n  }\n\n  /**\n   * Create a snapshot of the current data wrapped\n   * by this class. If the object has NEW status,\n   * it won't create snapshot either.\n   *\n   * @param {boolean} override true to allow override existing.\n   * @return {boolean} true if created, faslse if existing and\n   * no override, or new (if XMObject)\n   *\n   * @see #getSnapshot\n   * @see #clearSnapshot\n   * @see #getDelta\n   */\n  createSnapshot(override = true) {\n    if (this.isNew()) { return false; }\n\n    return super.createSnapshot(override);\n  } // createSnapshot\n\n\n  // ------------------- Main Tag functions ---------------------\n\n  /**\n   * Add a tag to this object. A tag is a string that is\n   * treated like a keyword, but may have meta definition\n   * associated with it (Category)\n   *\n   * @param {string} tag name\n   * @see #getTags\n   * @see #hasTag\n   * @see #removeTag\n   */\n  addTag(tag) {\n    const added = XMObject.AddTag(this.getData(true), tag);\n    if (added) { this.setDirty(); }\n    return added;\n  }\n\n  /**\n   * Add multiple tags to this object.\n   *\n   * @param {[]} tagArray\n   * @return {number} actual number of tags added\n   *\n   * @see #addTag\n   * @see #getTags\n   * @see #hasTag\n   * @see #removeTag\n   */\n  addTags(tagArray) {\n    const added = XMObject.AddTags(this.getData(true), tagArray);\n    if (added > 0) { this.setDirty(); }\n    return added;\n  }\n\n  /**\n   * Set given tags and OVERRIDE all previous tags\n   *\n   * @param {[]} tagArray\n   * @return {boolean} true if tags set and override previous.\n   * False if input is null or array content are the same\n   *\n   * @see #addTag\n   * @see #getTags\n   * @see #hasTag\n   * @see #removeTag\n   */\n  setTags(tagArray) {\n    const changed = XMObject.SetTags(this.getData(true), tagArray);\n    if (changed) { this.setDirty(); }\n    return changed;\n  }\n\n  /**\n   * Return all tags associated with this object\n   *\n   * @param {*} defaultVal\n   * @see #addTag\n   * @see #hasTag\n   * @see #countTags\n   */\n  getTags(defaultVal = null) {\n    const data = this.getData(false);\n    const result = data ? XMObject.GetTags(data, defaultVal) : defaultVal;\n    return result;\n  }\n\n  /**\n   * Return tags matched by given relname\n   *\n   * @param {[]} tags can be array or set\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\"\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  getTagsByRel(relname, defaultVal = {}) {\n    const data = this.getData(false);\n    return data ? XMObject.GetTagsByRel(data, relname, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return all tags grouped by their rel type.\n   *\n   * @param {boolean} parseProps true to parse props to JSON, false to keep as string\n   * @param {string} defaultRel relationship (key) name to use to group\n   */\n  getTagsGroupedByRel(parseProps = false, defaultVal = {}) {\n    const data = this.getData(false);\n    return XMObject.GetTagsGroupedByRel(data, parseProps);\n  }\n\n  /**\n   * Check if the given tag name exists in the (keyword) tag list.\n   *\n   * NOTE: this is currently case sensitive.\n   *\n   * @param {string} tag\n   * @param {boolean} simpleCheck true to use array indexOf. No normalizing input or\n   * strip any expressions\n   * @return {boolean}\n   * @see #addTag\n   * @see #getTags\n   * @see #countTags\n   */\n  hasTag(tag, simpleCheck = false) {\n    const data = this.getData(false);\n    return data ? XMObject.HasTag(data, tag, simpleCheck) : false;\n  }\n\n  /**\n   * Does this object have a tag with the given relname?\n   *\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\".\n   *\n   * @return {boolean} true if found, false if not\n   */\n  hasTagByRel(relname = null) {\n    const data = this.getData(false);\n    return data ? XMObject.HasTagByRel(data, relname) : false;\n  }\n\n  /**\n   * Return index position in the tag array of the first tag that matches the relname\n   *\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\"\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  // indexOfTagByRel(relname=null) {\n  //     let data = this.getData(false);\n  //     return data ? XMObject.IndexOfTagByRel(data, relname) : -1;\n  // }\n\n  /**\n   * Return index position in the tag array of the first tag that matches the relname\n   *\n   * @param {string} nameCheck tagname to check. It will be normalized\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  indexOfTagname(nameCheck) {\n    const data = this.getData(false);\n    return data ? XMObject.IndexOfTagname(data, nameCheck) : false;\n  }\n\n  /**\n   * Remove existing tag from this object\n   *\n   * @return {boolean} true if removed\n   * @see #addTag\n   * @see #getTags\n   * @see #hasTag\n   */\n  removeTag(tag) {\n    const content = this.getData(false);\n    if (content == null) { return false; }\n    const removed = XMObject.RemoveTag(content, tag);\n    if (removed) { this.setDirty(); }\n    return removed;\n  }  // removeTag\n\n  /**\n   * Report number of tags associated with this object via\n   * the PROP_TAGS.\n   *\n   * @return {number}\n   */\n  countTags() {\n    const content = this.getData(false);\n    if (content == null) { return false; }\n    return XMObject.CountTags(content);\n  }\n\n  // ------------------- Variable Expression functions -----------------------\n  /**\n   * Add a variable expression string\n   *\n   * @param {string} varExpr in form of var:{props}\n   * @see #getTags\n   * @see #hasTag\n   * @see #removeTag\n   */\n  addVarExpr(varExpr) {\n    const added = XMObject.AddVarExpr(this.getData(true), varExpr);\n    if (added) { this.setDirty(); }\n    return added;\n  }\n\n  /**\n   * Add multiple tags to this object.\n   *\n   * @param {[]} varExprs\n   * @return {number} actual number of expr strings added\n   *\n   */\n  addVarExprs(varExprs) {\n    const added = XMObject.AddVarExprs(this.getData(true), varExprs);\n    if (added > 0) { this.setDirty(); }\n    return added;\n  }\n\n  /**\n   * Set given array of variable expression string\n   *\n   * @param {string[]} varExprs array of variable expression strings\n   * @return {boolean} true if tags set and override previous.\n   * False if input is null or array content are the same\n\n   */\n  setVarExprs(varExprs) {\n    const changed = XMObject.SetVarExprs(this.getData(true), varExprs);\n    if (changed) { this.setDirty(); }\n    return changed;\n  }\n\n  /**\n   * Return all variable expression strings\n   *\n   * @param {*} defaultVal\n   */\n  getVarExprs(defaultVal = null) {\n    const data = this.getData(false);\n    const result = data ? XMObject.GetVarExprs(data, defaultVal) : defaultVal;\n    return result;\n  }\n\n  /**\n   * Check if the given tag name exists in the (keyword) tag list.\n   *\n   * NOTE: this is currently case sensitive.\n   *\n   * @param {string} varname variable name\n   * @return {string} variable expression string if found\n   */\n  getVarExpr(varname, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMObject.GetVarExpr(data, varname, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Check if the given tag name exists in the (keyword) tag list.\n   *\n   * NOTE: this is currently case sensitive.\n   *\n   * @param {string} varname variable name\n   * @return {boolean} true if found\n   */\n  hasVarExpr(varname) {\n    const data = this.getData(false);\n    return data ? XMObject.HasVarExpr(data, varname) : false;\n  }\n\n  /**\n   * Remove existing tag from this object\n   *\n   * @return {boolean} true if removed\n   * @see #addTag\n   * @see #getTags\n   * @see #hasTag\n   */\n  removeVarExpr(varname) {\n    const data = this.getData(false);\n    if (data == null) { return false; }\n    const removed = XMObject.RemoveVarExpr(data, varname);\n    if (removed) { this.setDirty(); }\n    return removed;\n  }  // removeTag\n\n  /**\n   * Report number of tags associated with this object via\n   * the PROP_TAGS.\n   *\n   * @return {number}\n   */\n  countVarExprs() {\n    const data = this.getData(false);\n    if (data == null) { return false; }\n    return XMObject.CountVarExprs(data);\n  }\n\n  // ---------------- Relationship Tag functions -------------------\n\n  /**\n   * Add a relationship ag to this object. A tag is a string that is\n   * treated like a keyword, but may have meta definition\n   * associated with it (Category)\n   *\n   * @param {string} tag name\n   * @param {string} relname relationship group to add to. If\n   * null, then will extract from the inline props\n   * @see #getRelTags\n   * @see #hasrelTag\n   * @see #removerelTag\n   */\n  addRelTag(tag, relname = null) {\n    const added = XMObject.AddRelTag(this.getData(true), tag, relname);\n    if (added) { this.setDirty(); }\n    return added;\n  }\n\n  /**\n   * Add multiple rel tags to this object.\n   *\n   * @param {[]} tagArray\n   * @param {string} relname relationship group to add to. If\n   * null, then will extract from the inline props\n   * @return {number} actual number of tags added\n   *\n   * @see #addRelTag\n   * @see #getRelTags\n   * @see #hasRelTag\n   * @see #removeRelTag\n   */\n  addRelTags(tagArray, relname = null) {\n    const added = XMObject.AddRelTags(this.getData(true), tagArray, relname);\n    if (added > 0) { this.setDirty(); }\n    return added;\n  }\n\n  /**\n   * Set given rel tags and OVERRIDE all previous tags\n   *\n   * @param {[]} tagArray\n   * @param {string} relname relationship group\n   * @return {boolean} true if tags set and override previous.\n   * False if input is null or array content are the same\n   *\n   * @see #addRelTag\n   * @see #getRelTags\n   * @see #hasRelTag\n   * @see #removeRelTag\n   */\n  setRelTags(tagArray, relname) {\n    const changed = XMObject.SetRelTags(this.getData(true), tagArray, relname);\n    if (changed) { this.setDirty(); }\n    return changed;\n  }\n\n  /**\n   * Return the requested tagname from the specified rel label. While this\n   * sounds stupid, the stored tagname may have inline properties that\n   * the requester doesn't have.\n   *\n   * @param {string} relname relationship label\n   * @param {string} tagname tagname. If there is inline property, that will be stripped\n   * before comparing.\n   *\n   * @param {*} defaultVal\n   * @see #addRelTag\n   * @see #hasRelTag\n   * @see #countRelTags\n   */\n  getRelTag(tagname, relname = null, defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMObject.GetRelTag(data, tagname, relname, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return all rel tags associated with this object\n   *\n   * @param {string} relname relationship label\n   * @param {*} defaultVal\n   * @see ~getRelTag\n   * @see #addRelTag\n   * @see #hasRelTag\n   * @see #countRelTags\n   */\n  getRelTags(relname, defaultVal = null) {\n    const data = this.getData(false);\n    return (Util.NotNull(data)) ? XMObject.GetRelTags(data, relname, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Count number of tags under the relationship label\n   *\n   * @param {string} relname\n   * @return {number} number of tags.\n   */\n  getRelTagCount(relname) {\n    const data = this.getData(false);\n    return data ? XMObject.GetRelTagCount(data, relname) : 0;\n  }\n\n\n  /**\n   * Check if the given source tag name exists in the (keyword) tag list.\n   *\n   * NOTE: this is currently case sensitive.\n   *\n   * @param {string} tagname\n   * @return {boolean}\n   * @see #addRelTag\n   * @see #getRelTags\n   * @see #countRelTags\n   */\n  hasRelTag(tagname, relname = null) {\n    const data = this.getData(false);\n    return data ? XMObject.HasRelTag(data, tagname, relname) : false;\n  }\n\n  /**\n   * Return the map containing the rel tag groups\n   *\n   * @param {*} defaultVal\n   */\n  getRelTagMap(defaultVal = null) {\n    const data = this.getData(false);\n    return (Util.NotNull(data)) ? XMObject.GetRelTagMap(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Retrieve a rel tag map. If one doesn't exist, create one inside this\n   * object (and mark the object dirty).\n   *\n   */\n  modifyRelTagMap() {\n    const data = this.getData(true);\n    let relMap = XMObject.GetRelTagMap(data, null);\n    if (relMap == null) {\n      relMap = {};\n      const verdict = XMObject.SetRelTagMap(data, relMap);\n      if (verdict === true) { this.setDirty(); }\n    }\n    return relMap;\n  } // modifyRelTagMap\n\n  /**\n   * Set the entire rel tag map into this object.\n   *\n   * @param {{}} relMap\n   * @return {boolean} false to indicate null input. true if set\n   */\n  setRelTagMap(relMap) {\n    if (relMap == null) { return null; }\n    const verdict = XMObject.SetRelTagMap(this.getData(true), relMap);\n    if (verdict === true) { this.setDirty(); }\n    return verdict;\n  }  // setRelTagMap\n\n  /**\n   * Does this object have a rel tag with the given value for \"rel\" prop?\n   *\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\".\n   *\n   * @return {boolean} true if found, false if not\n   */\n  // hasRelTagByRel(relname=null) {\n  //     let data = this.getData(false);\n  //     return data ? XMObject.HasRelTagByRel(data, relname) : false;\n  // }\n\n  /**\n   * Return index position in the src tag array of the first tag that matches the relname\n   *\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\"\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  // indexOfRelTagByRel(relname=null) {\n  //     let data = this.getData(false);\n  //     return data ? XMObject.IndexOfRelTagByRel(data, relname) : -1;\n  // }\n\n  /**\n   * Return index position in the src tag array of the first tag that matches the relname\n   *\n   * @param {string} nameCheck tagname to check. It will be normalized\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  indexOfRelTagname(nameCheck) {\n    const data = this.getData(false);\n    return data ? XMObject.IndexOfRelTagname(data, nameCheck) : false;\n  }\n\n  /**\n   * Remove existing rel tag from this object\n   *\n   * @param {string} tag\n   * @param {relname} relname\n   * @return {boolean} true if removed\n   * @see #addRelTag\n   * @see #getRelTags\n   * @see #hasRelTag\n   */\n  removeRelTag(tag, relname) {\n    const content = this.getData(false);\n    if (content == null) { return false; }\n    const removed = XMObject.RemoveRelTag(content, tag, relname);\n    if (removed) { this.setDirty(); }\n    return removed;\n  }  // removeRelTag\n\n  /**\n   * Report number of tags associated with this object via\n   * the PROP_SRCTAGS.\n   *\n   * @return {number}\n   */\n  countRelTags() {\n    const content = this.getData(false);\n    if (content == null) { return false; }\n    return XMObject.CountRelTags(content);\n  }\n\n\n  // --------------- Tag info map in AuxData -------------------\n\n  /**\n   * Return tag map auxillary data, if loaded into this object\n   *\n   * @param {*} defaultVal\n   */\n  getTagMap(defaultVal = null) {\n    const auxData = this.getAuxData(false);\n    const tagMap = auxData ? auxData[XObject.AUX_TAGMAP] : null;\n    return tagMap || defaultVal;\n  }\n\n  /**\n   * Track the given tag map (catmap).\n   *\n   * @param {{}} tagMap\n   * @return {{}} previously tracked tagMap if any\n   */\n  setTagMap(tagMap) {\n    const auxData = this.getAuxData(true);\n    const prevMap = auxData[XObject.AUX_TAGMAP];\n    auxData[XObject.AUX_TAGMAP] = tagMap;\n    return prevMap;\n  }\n\n  // ------------------- Source Tag functions ---------------------\n\n  /**\n   * Add a source ag to this object. A tag is a string that is\n   * treated like a keyword, but may have meta definition\n   * associated with it (Category)\n   *\n   * @param {string} tag name\n   * @see #getTags\n   * @see #hasTag\n   * @see #removeTag\n   */\n  addSourceTag(tag) {\n    const added = XMObject.AddSourceTag(this.getData(true), tag);\n    if (added) { this.setDirty(); }\n    return added;\n  }\n\n  /**\n   * Add multiple source tags to this object.\n   *\n   * @param {[]} tagArray\n   * @return {number} actual number of tags added\n   *\n   * @see #addTag\n   * @see #getTags\n   * @see #hasTag\n   * @see #removeTag\n   */\n  addSourceTags(tagArray) {\n    const added = XMObject.AddSourceTags(this.getData(true), tagArray);\n    if (added > 0) { this.setDirty(); }\n    return added;\n  }\n\n  /**\n   * Set given source tags and OVERRIDE all previous tags\n   *\n   * @param {[]} tagArray\n   * @return {boolean} true if tags set and override previous.\n   * False if input is null or array content are the same\n   *\n   * @see #addTag\n   * @see #getTags\n   * @see #hasTag\n   * @see #removeTag\n   */\n  setSourceTags(tagArray) {\n    const changed = XMObject.SetSourceTags(this.getData(true), tagArray);\n    if (changed) { this.setDirty(); }\n    return changed;\n  }\n\n  /**\n   * Return all source tags associated with this object\n   *\n   * @param {*} defaultVal\n   * @see #addTag\n   * @see #hasTag\n   * @see #countTags\n   */\n  getSourceTags(defaultVal = null) {\n    const data = this.getData(false);\n    const result = data ? XMObject.GetSourceTags(data, defaultVal) : defaultVal;\n    return result;\n  }\n\n  /**\n   * Return source tags matched by given relname\n   *\n   * @param {[]} tags can be array or set\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\"\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  getSourceTagsByRel(relname, defaultVal = {}) {\n    const data = this.getData(false);\n    return data ? XMObject.GetSourceTagsByRel(data, relname, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return all source tags grouped by their rel type.\n   *\n   * @param {boolean} parseProps true to parse props to JSON, false to keep as string\n   * @param {string} defaultRel relationship (key) name to use to group\n   */\n  getSourceTagsGroupedByRel(parseProps = false, defaultVal = {}) {\n    const data = this.getData(false);\n    return XMObject.GetSourceTagsGroupedByRel(data, parseProps);\n  }\n\n  /**\n   * Check if the given source tag name exists in the (keyword) tag list.\n   *\n   * NOTE: this is currently case sensitive.\n   *\n   * @return {boolean}\n   * @see #addTag\n   * @see #getTags\n   * @see #countTags\n   */\n  hasSourceTag(tag) {\n    const data = this.getData(false);\n    return data ? XMObject.HasSourceTag(data, tag) : false;\n  }\n\n  /**\n   * Does this object have a source tag with the given relname?\n   *\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\".\n   *\n   * @return {boolean} true if found, false if not\n   */\n  hasSourceTagByRel(relname = null) {\n    const data = this.getData(false);\n    return data ? XMObject.HasSourceTagByRel(data, relname) : false;\n  }\n\n  /**\n   * Return index position in the src tag array of the first tag that matches the relname\n   *\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\"\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  indexOfSourceTagByRel(relname = null) {\n    const data = this.getData(false);\n    return data ? XMObject.IndexOfSourceTagByRel(data, relname) : -1;\n  }\n\n  /**\n   * Return index position in the src tag array of the first tag that matches the relname\n   *\n   * @param {string} nameCheck tagname to check. It will be normalized\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  indexOfSourceTagname(nameCheck) {\n    const data = this.getData(false);\n    return data ? XMObject.IndexOfSourceTagname(data, nameCheck) : false;\n  }\n\n  /**\n   * Remove existing source tag from this object\n   *\n   * @return {boolean} true if removed\n   * @see #addTag\n   * @see #getTags\n   * @see #hasTag\n   */\n  removeSourceTag(tag) {\n    const content = this.getData(false);\n    if (content == null) { return false; }\n    const removed = XMObject.RemoveSourceTag(content, tag);\n    if (removed) { this.setDirty(); }\n    return removed;\n  }  // removeSourceTag\n\n  /**\n   * Report number of tags associated with this object via\n   * the PROP_SRCTAGS.\n   *\n   * @return {number}\n   */\n  countSourceTags() {\n    const content = this.getData(false);\n    if (content == null) { return false; }\n    return XMObject.CountSourceTags(content);\n  }\n\n  // **************************** Version Support ************************************\n\n\n  /**\n   * Get previous version's object ID, if it exists.\n   *\n   * @param {*} defaultVal if no value exists, then return this\n   * @return {string} previous version's object ID\n   *\n   * @see ~setNextVersion\n   * @see ~getPreviousVersion\n   */\n  getNextVersion(defaultVal = null) {\n    return XMObject.GetNextVersion(this.getData(false), defaultVal);\n  }\n\n  /**\n   * Create a new version of the given object. The new version will\n   * have newly generated unique ID, using now as CREATED_DATE, and clear\n   * all other timestamps. It's VERSION_PREVIOUS property will point\n   * back to the given object. The given object's VERSION_NEXT will also\n   * point to the newly created object.\n   *\n   * @param {boolean} restoreSnapshot if ture, will check if the\n   * given object has a snapshot and will restore it before setting it's\n   * VERSION_NEXT property to point to the newly created object\n   * @param {boolean} cloneAux if there us AUX_DATA, then also copy that\n   * if this value is true (default)\n   *\n   * @return {XMObject} new cloned instance with new ID, createTS, and\n   * points back to given object as previous version. Existing input\n   * object is also modified (and snapshot restored if desired)\n   */\n  createNewVersion(restoreSnapshot = true, cloneAux = true) {\n    return XMObject.CreateNewVersion(this, restoreSnapshot, cloneAux);\n  }\n\n  // **************************** Change Tracking ************************************\n\n  /**\n   * Mark this object as dirty if it's been tracked.\n   * If object is already dirty or new, then it will\n   * not be marked.\n   *\n   * @return {boolean}\n   *\n   * @see #enableTracking\n   * @see #isDirty\n   * @see #clearDirty\n   *\n   */\n  setDirty() {\n    if (this.cod) {\n      const result = this.cod.setDirty();\n      // this._editedNow();\n      return result;\n    }\n    return false;\n  }\n\n  /**\n   * Add/update the edited timestamp. This timestamp is meant to\n   * be to track real \"human\" edits. Any other changes will\n   * cause updatedTS to change.\n   *\n   * @param {boolean} markDirty true to mark object as dirty\n   * @return {boolean} true if actually modifiy the timestamp. False\n   * if no modification is done for any reason\n   */\n  setEdited(markDirty = false) {\n    return this._editedNow(markDirty);\n  }\n\n  /**\n   * Clear dirty or new flag, if set\n   *\n   * @return {boolean} true if cleared\n   *\n   * @see #enableTracking\n   * @see #isDirty\n   * @see #setDirty\n   * @return {boolean} true if cleared from dirty or new status\n   */\n  clearDirty() {\n    if (this.cod) {\n      return this.cod.clearDirty();\n    }\n    return false;\n  }\n\n  /**\n   * Check if this object has been marked dirty.\n   *\n   * @return {boolean} true if marked dirty\n   *\n   * @see #enableTracking\n   * @see #setDirty\n   * @see #clearDirty\n   * @see #isClean\n   */\n  isDirty() {\n    return (this.cod) ? this.cod.isDirty() : null;\n  }\n\n  /**\n   * Check if the object is either dirty or new.\n   *\n   * @return {boolean} true if status is either\n   * STATUS_DIRTY or STATUS_NEW\n   *\n   * @see ~isNew()\n   * @see ~isDirty()\n   */\n  isModified() {\n    return (this.cod) ? this.cod.isModified() : null;\n  }\n\n  clearModified() {\n    return (this.cod) ? this.cod.clearModified() : false;\n  }\n\n  /**\n   * Check if the object is \"clean\", meaning it's not\n   * new or marked as dirty or deleted.\n   *\n   * @return {boolean} true if clean status\n   *\n   * @see ~isNew()\n   * @see ~isDirty()\n   * @see ~isModified()\n   */\n  isClean() {\n    return (this.cod) ? this.cod.isClean() : null;\n  }\n\n  /**\n   * Set the object as deleted\n   *\n   * @return {true} if marked successfully\n   *\n   * @see #isDeleted\n   */\n  setDeleted() {\n    if (this.cod) {\n      const result = this.cod.setDeleted();\n      this._updatedNow();\n      return result;\n    }\n    return false;\n  }\n\n  /**\n   * Check if the object is marked for deletion.\n   *\n   * @return {true} if marked as deleted\n   *\n   * @see #setDeleted\n   */\n  isDeleted() {\n    return (this.cod) ? this.cod.isDeleted() : null;\n  }\n\n  /**\n   * Return a fully qualified title, which for now\n   * consists of title itself and append a version\n   * title if exists.\n   *\n   * @param {boolean=} useTS true to render timestamp of\n   * published time and then updated time as version.\n   * @param {*} defaultVal\n   * @return {string} title with version label or timestamp\n   */\n  getFQTitle(useTS = true, defaultVal = null) {\n    const ttl = this.getTitle(null);\n    if (ttl == null) { return defaultVal; }\n    const vttl = this.getVersionTitle(useTS, null);\n    return vttl ? `${ttl} - ${vttl}` : ttl;\n  }\n\n  /**\n   * Return/derive the version title\n   *\n   * @param {boolean=} useTS true to render timestamp of\n   * published time and then updated time as version.\n   * @param {*} defaultVal\n   * @return {string} version title string\n   */\n  deriveVersionTitle(useTS = true, defaultVal = null) {\n    let text = this.getVersionTitle(null);\n    if (text == null) {\n      let ts = this.getPublishedTS();\n      if (ts == null) { ts = this.getUpdatedTS(); }\n      if (ts) { text = TimeUtil.Ts2MMDDYYYY(ts); }\n    }\n    return text || defaultVal;\n  }\n\n  /**\n   * Return the version title as is\n   *\n   * @param {*} defaultVal\n   *\n   * @see ~deriveVersionTitle\n   */\n  getVersionTitle(defaultVal = null) {\n    return this.get(XMObject.PROP_VTITLE, defaultVal);\n  }\n\n  /**\n   * Report on if the version title has changed against the\n   * snapshot.\n   *\n   * @return {boolean} true if version title is different from\n   * the snapshot. False if not or there is no snapshot.\n   *\n   * @see XObject~changedFromSnapshot\n   */\n  versionTitleChanged() {\n    return this.changedFromSnapshot(XMObject.PROP_VTITLE);\n  }\n\n  setVersionTitle(vtitle) {\n    this.set(XMObject.PROP_VTITLE, vtitle);\n  }\n\n\n  // toJSON() {\n  //     let jsonObj = this._headerToJSON();\n  //     jsonObj[\"data\"] = this.getData();\n  //     return jsonObj;\n  // }\n\n  // fromJSON(jsonObj) {\n  //     this._headerFromJSON(jsonObj);\n  //     if (jsonObj.data)\n  //         this.data = jsonObj.data;\n  // }\n\n  /**\n   * Return the assigned folder name associated with this instance's\n   * class.\n   * @return {string} folder name\n   */\n  getFolderName() {\n    return this.getClass().GetFolderName();\n  }\n\n\n  // *************************************************************\n  //\n  // Class methods. Any methods that can be used as helper\n  // for generic JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n  /**\n   * Return the default folder/table/collection name used\n   * for storage. This must be overriden by subclasses.\n   */\n  static GetFolderName() {\n    return ModelType.XMOBJECT;\n  }\n\n  /**\n   * Convenient method to check if the given object\n   * is an instance of this class (XMObject)\n   */\n  static IsInstance(obj) {\n    return obj instanceof XMObject;\n  }\n\n  /**\n   * Self type identification - needed for registration.\n   * Each of the subclass need to define this in order\n   * to support reconstruction of the same class\n   * after serialization.\n   */\n  static GetTypeID() {\n    return ModelType.XMOBJECT;\n  }\n\n  /**\n   * Assert if given object is an \"instanceof\" XMObject class and dump\n   * stack if failed check.\n   *\n   * @param {*} object any value to check against XMObject class\n   * @param {string} classname name of class where assertion originated\n   * @param {string} method name of function\n   * @param {string} msg text message\n   * @param  {...any} args\n   */\n  static AssertXMObject(object, classname, method, msg, ...args) {\n    if (XMObject.IsInstance(object)) { return true; }\n    console.trace(`${classname}.${method}: ${msg}`, args);\n    return false;\n  }\n\n  static WrapXMObject(jsonRec, ClsType = XMObject) {\n    const item = new ClsType();\n    // Just in case the object is wrapped via\n    // XMObject.toJSON(). This is a HACK as we\n    // should rely on the \"type\" property at the top level.\n    if (jsonRec && jsonRec.hasOwnProperty(XMObject.MAIN_DATA)) { item.setData(jsonRec.data); } else { item.setData(jsonRec); }\n    return item;\n  }\n\n  /**\n   * Simple utility method to create a new instance\n   * and initially set an unique identifier and\n   * optionally wrap a json object.\n   *\n   * @param {string} id\n   * @param {string} type since XObject has no type,\n   * this is important to specify (no guarantee it'll\n   * work completely)\n   * @param {{}} jsonData\n   * @return {XMObject}\n   */\n  static CreateNew(id, jsonData = null) {\n    const newObj = new XMObject();\n    newObj.initNew();\n    if (id) { newObj._setId(id); }\n    if (jsonData) { newObj.setData(jsonData); }\n\n    return newObj;\n  }\n\n\n  static GetBackgroundImageUrl(jsonObj, defaultVal = null) {\n    const val = jsonObj[XMObject.PROP_BGIMAGE_URL];\n    return val || defaultVal;\n  }\n\n  /**\n   * Return the version title from the json object\n   *\n   * @param {*} defaultVal\n   *\n   */\n  static GetVersionTitle(jsonObj, defaultVal = null) {\n    return XMObject.GetObjectField(jsonObj, [XMObject.PROP_VTITLE], defaultVal);\n  }\n\n\n  /**\n   * Return the type string for the given class instance.\n   *\n   * @param {XMClass} clsObj\n   */\n  static GetTypeFromClass(clsObj) {\n    if (clsObj.GetTypeID) { return clsObj.GetTypeID(); }\n\n    console.log(`${_CLSNAME}.GetTypeFromClass:`, clsObj);\n    const inst = clsObj();\n    if (inst.getType) { return inst.getType(); }\n\n    return '_UNK_';\n  }\n\n  /**\n   * Set/change owner Id of the given object\n   *\n   * @param {{}} jsonObj\n   * @param {string} userId\n   * @param {boolean} override\n   */\n  static SetOwnerId(jsonObj, userId, override = false) {\n    const _m = `${_CLSNAME}.SetOwnerId(${userId})`;\n    jsonObj = XMObject.Unwrap(jsonObj);\n    const existingId = jsonObj[XMObjectProps.OWNERID];\n    if (!Util.StringIsEmpty(existingId)) {\n      if (existingId !== userId) {\n        if (override !== true) {\n          console.error(`${_m}: already has an owner ID: ${existingId}`);\n          return false;\n        }\n        // override falls through\n      } else {\n        // console.warn(`${_m}: Setting same owner ID again: ${userId}`);\n        return false;\n      }\n    }\n    jsonObj[XMObjectProps.OWNERID] = userId;\n    return true;\n  } // SetOwnerId\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string} owner Id\n   */\n  static GetOwnerId(jsonObj, defaultVal = null) {\n    if (jsonObj === null) { return defaultVal; }\n    const ownerId = jsonObj[XMObjectProps.OWNERID];\n    return ownerId || defaultVal;\n  }\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string} previous owner Id\n   */\n  static ClearOwnerId(jsonObj, defaultVal = null) {\n    const prevId = jsonObj[XMObjectProps.OWNERID];\n    jsonObj = XMObject.Unwrap(jsonObj);\n    jsonObj[XMObjectProps.OWNERID] = null;    // null instead of delete\n    return prevId;\n  }\n\n  /**\n   * Set/change creator Id of the given object\n   *\n   * @param {{}} jsonObj\n   * @param {string} userId\n   * @param {boolean} override\n   */\n  static SetCreatorId(jsonObj, userId, override = false) {\n    const _m = `${_CLSNAME}.SetCreatorId(${userId})`;\n    jsonObj = XMObject.Unwrap(jsonObj);\n    const existingId = jsonObj[XMObjectProps.CREATORID];\n    if (!Util.StringIsEmpty(existingId)) {\n      if (existingId !== userId) {\n        if (override !== true) {\n          console.error(`${_m}: already has a creator ID: ${existingId}`);\n          return false;\n        }\n        // override falls through\n      } else {\n        // console.log(`${_m}: Setting same creator ID again: ${userId}`);\n        return false;\n      }\n    }\n    jsonObj[XMObjectProps.CREATORID] = userId;\n    return true;\n  } // SetCreatorId\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string} owner Id\n   */\n  static GetCreatorId(jsonObj, defaultVal = null) {\n    if (jsonObj == null) { return defaultVal; }\n    const ownerId = jsonObj[XMObjectProps.CREATORID];\n    return ownerId || defaultVal;\n  }\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string} previous creator Id\n   */\n  static ClearCreatorId(jsonObj) {\n    const prevId = jsonObj[XMObjectProps.CREATORID];\n    jsonObj = XMObject.Unwrap(jsonObj);\n    XMObject.ClearObjectField(jsonObj, XMObjectProps.CREATORID);\n    return prevId;\n  }\n\n  /**\n   * Set/change based-on source ID\n   *\n   * @param {{}} jsonObj\n   * @param {string} sourceId\n   * @param {boolean} override\n   */\n  static SetBasedOnId(jsonObj, sourceId, override = false) {\n    // const _m = `${_CLSNAME}.SetBasedOnId(${sourceId})`;\n    jsonObj = XMObject.Unwrap(jsonObj);\n    // let existingId = jsonObj[XMObjectProps.CREATORID];\n    jsonObj[XMObjectProps.BASED_ON] = sourceId;\n    return true;\n  } // SetBasedOnId\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string} source object's ID\n   */\n  static GetBasedOnId(jsonObj, defaultVal = null) {\n    if (jsonObj == null) { return defaultVal; }\n    const ownerId = jsonObj[XMObjectProps.BASED_ON];\n    return ownerId || defaultVal;\n  }\n\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string} previous source ID\n   */\n  static ClearBasedOnId(jsonObj) {\n    const prevId = jsonObj[XMObjectProps.BASED_ON];\n    jsonObj = XMObject.Unwrap(jsonObj);\n    jsonObj[XMObjectProps.BASED_ON] = null;    // null instead of delete\n    return prevId;\n  }\n\n\n  /**\n   * Set/change ID of the previous object version\n   *\n   * @param {{}} jsonObj\n   * @param {string} objectId ID of the previous version\n   * @param {boolean} override true to override existing value\n   * @return {boolean} true if set\n   *\n   * @see ~GetPreviousVersion\n   */\n  static SetPreviousVersion(jsonObj, objectId, override = false) {\n    const _m = `${_CLSNAME}.SetPreviousVersion`;\n    const prevId = jsonObj[XMObjectProps.VERSION_PREV];\n    if (!Util.StringIsEmpty(prevId)) {\n      if (prevId !== objectId) {\n        if (override !== true) {\n          console.error(`${_m}: already has previous version: ${prevId}`);\n          return false;\n        }\n        // override falls through\n      } else {\n        console.warn(`${_m}: Setting same version ID again: ${objectId}`);\n        return false;\n      }\n    }\n    jsonObj[XMObjectProps.VERSION_PREV] = objectId;\n    return true;\n  } // SetPreviousVersion\n\n  /**\n   * Get previous version's object ID, if it exists.\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal if no value exists, then return this\n   * @return {string} previous version's object ID\n   *\n   * @see ~SetPreviousVersion\n   */\n  static GetPreviousVersion(jsonObj, defaultVal = null) {\n    if (jsonObj == null) { return defaultVal; }\n    const prevId = jsonObj[XMObjectProps.VERSION_PREV];\n    return prevId || defaultVal;\n  }\n\n  /**\n   * Set/change ID of the next version of this object\n   *\n   * @param {{}} jsonObj\n   * @param {string} objectId ID of the next version\n   * @param {boolean} override true to override existing value\n   * @return {boolean} true if set\n   *\n   * @see ~GetNextVersion\n   */\n  static SetNextVersion(jsonObj, objectId, override = false) {\n    const _m = `${_CLSNAME}.SetNextVersion`;\n    const nextId = jsonObj[XMObjectProps.VERSION_NEXT];\n    if (Util.StringIsEmpty(nextId)) {\n      if (nextId !== objectId) {\n        if (override !== true) {\n          console.error(`${_m}: already has next version: ${nextId}`);\n          return false;\n        }\n        // override falls through\n      } else {\n        console.warn(`${_m}: Setting same version ID again: ${objectId}`);\n        return false;\n      }\n    }\n    jsonObj[XMObjectProps.VERSION_NEXT] = objectId;\n    return true;\n  } // SetNextVersion\n\n  /**\n   * Get next version's object ID, if it exists.\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal if no value exists, then return this\n   * @return {string} previous version's object ID\n   *\n   * @see ~SetNextVersion\n   */\n  static GetNextVersion(jsonObj, defaultVal = null) {\n    if (jsonObj == null) { return defaultVal; }\n    const nextId = jsonObj[XMObjectProps.VERSION_NEXT];\n    return nextId || defaultVal;\n  }\n\n  /**\n   * Create a new version of the given object. The new version will\n   * have newly generated unique ID, using now as CREATED_DATE, and clear\n   * all other timestamps. It's VERSION_PREVIOUS property will point\n   * back to the given object. The given object's VERSION_NEXT will also\n   * point to the newly created object.\n   *\n   * @param {XMObject} xobj source object to create a successor version\n   * @param {boolean} restoreSnapshot if ture, will check if the\n   * given object has a snapshot and will restore it before setting it's\n   * VERSION_NEXT property to point to the newly created object\n   * @param {boolean} cloneAux if there us AUX_DATA, then also copy that\n   * if this value is true (default)\n   *\n   * @return {XMObject} new cloned instance with new ID, createTS, and\n   * points back to given object as previous version. Existing input\n   * object is also modified (and snapshot restored if desired)\n   */\n  static CreateNewVersion(xobj, restoreSnapshot = true, cloneAux = true) {\n    /** @type {XMObject} newXobj */\n    const newXobj = XMObject.CloneInstance(xobj, true, cloneAux);\n\n    const nowTS = Date.now();\n    const ownerId = xobj.getOwnerId();\n    const objType = xobj.getType();\n    const newId = XMObject.DeriveID(objType, ownerId);\n    newXobj._setId(newId);\n    newXobj.setCreatedTS(nowTS);\n    newXobj.clear(XMObjectProps.UPDATED_DATE);\n    newXobj.clear(XMObjectProps.EDITED_DATE);\n    newXobj.clear(XMObjectProps.PUBLISHED_DATE);\n    newXobj.clear(XMObjectProps.DELETED_DATE);\n    newXobj.clear(XMObjectProps.VERSION_NEXT);\n    newXobj.setPreviousVersion(xobj.getId(), true);\n\n    // Before setting VERSION_NEXT of the given object, see if\n    // caller wants to restore from snapshot if one is there.\n    if (restoreSnapshot && xobj.hasSnapshot()) { xobj.resetFromSnapshot(true); }\n\n    xobj.setNextVersion(newId, true);\n    return newXobj;\n  } // CreateNewVersion\n\n  /**\n   * Clone instance of XMObject, assign new ID and new owner\n   *\n   * @param {XMObject} xobj managed object to clone\n   * @param {string} newObjId ID for the new instance\n   * @param {string} newOwnerId override ownership\n   * @param {boolean} trackNew if true, will discard COD and\n   * create new entry\n   * @return {XMObject} new instance\n   */\n  static CloneForUser(xobj, newObjId, newOwnerId, trackNew = true) {\n    const newObj = XMObject.CloneInstance(xobj);\n    if (newObjId) { newObj._setId(newObjId); }\n    if (newOwnerId) { newObj.setOwnerId(newOwnerId); }\n    newObj._discardCOD();\n    if (trackNew) { newObj.enableTrackingNew(); }\n    return newObj;\n  }\n\n  // ---------------------------- Main Tags -------------------------------\n\n  /**\n   * Add tag name(s) to the given json version\n   * of the object\n   *\n   * @param {object} jsonObj\n   * @param {string} tagName or can be a array of tagnames\n   */\n  static AddTag(jsonObj, tagName) {\n    return XMObject._AddTag(jsonObj, XMObject.PROP_TAGS, tagName);\n  } // AddTag\n\n  /**\n   * Add array of tagnames to the given XMObject instance's data\n   *\n   * @param {object} jsonObj\n   * @param {[]} tagArray\n   * @return {number} number of tags actually added\n   */\n  static AddTags(jsonObj, tagArray) {\n    return XMObject._AddTags(jsonObj, XMObject.PROP_TAGS, tagArray);\n  } // AddTags\n\n  /**\n   * Set array of tagnames to the given XMObject instance's data.\n   * Be ware that this overrides entire existing array of tags\n   *\n   * @param {object} jsonObj\n   * @param {[]} tagArray if non-null, will repalce everyting, INCLUDING empty array\n   * @return {boolean} true if set, false if array is empty or content is same.\n   */\n  static SetTags(jsonObj, tagArray) {\n    return XMObject._SetTags(jsonObj, XMObject.PROP_TAGS, tagArray);\n  }\n\n  /**\n   * Return associated tags of this object.\n   *\n   * @param {object} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetTags(jsonObj, defaultVal = []) {\n    return XMObject._GetTags(jsonObj, XMObject.PROP_TAGS, defaultVal);\n  }\n\n  /**\n   * Return tags matched by given relname\n   *\n   * @param {object} jsonObj\n   * @param {string} relname relationship name. If this is null, then all tags with TAG_PROP_REL\n   * property are returned.\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static GetTagsByRel(jsonObj, relname = null, defaultVal = {}) {\n    return XMObject._GetTagsByRel(jsonObj, XMObject.PROP_TAGS, relname, defaultVal);\n  }\n\n  /**\n   * Return all tags grouped by their rel type.\n   *\n   * @param {Array} tags can be array or set\n   * @param {boolean} parseProps true to parse props to JSON, false to keep as string\n   * @param {string} defaultRel relationship (key) name to use to group\n   */\n  static GetTagsGroupedByRel(jsonObj, parseProps = false, defaultVal = {}) {\n    return XMObject._GetTagsGroupedByRel(jsonObj, XMObject.PROP_TAGS, parseProps, defaultVal);\n  }\n\n  /**\n   * Report on whether a given name is found in the main tag property\n   *\n   * @param {object} jsonObj\n   * @param {string} tagname can have inline expression which will be stripped before\n   * comparing\n   * @param {boolean} simpleCheck true to use array indexOf. No normalizing input or\n   * strip any expressions\n   * @return {boolean} true if exists\n   */\n  static HasTag(jsonObj, tagname, simpleCheck = false) {\n    jsonObj = XMObject.Unwrap(jsonObj);\n    // console.log(`${_CLSNAME}.HasTag(${tagname})`, \"json object:\", jsonObj);\n    return (Util.NotNull(jsonObj)) ? TagUtil.HasTag(jsonObj[XMObject.PROP_TAGS], tagname, simpleCheck) : false;\n  }\n\n  /**\n   * Does this object has a tag with the given relname?\n   *\n   * @param {object} jsonObj\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\".\n   *\n   * @return {boolean} true if exists\n   */\n  static HasTagByRel(jsonObj, relname = null) {\n    return XMObject._HasTagByRel(jsonObj, XMObject.PROP_TAGS, relname);\n  }\n\n  /**\n   * Does this object has a tag with the given relname?\n   *\n   * @param {{}} jsonObj\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\"\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static IndexOfTagByRel(jsonObj, relname = null) {\n    return XMObject._IndexOfTagByRel(jsonObj, XMObject.PROP_TAGS, relname);\n  }\n\n  /**\n   * Does this object has a tag with the given relname?\n   *\n   * @param {{}} jsonObj\n   * @param {string} nameCheck tagname to check.\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static IndexOfTagname(jsonObj, nameCheck) {\n    return XMObject._IndexOfTagname(jsonObj, XMObject.PROP_TAGS, nameCheck);\n  }\n\n  /**\n   * Remove a tag given the tagname\n   *\n   * @param {{}} jsonObj\n   * @param {string} tagname will be normalized before comparin\n   * @return {boolean}\n   *\n   * @see #AddTag\n   * @see #GetTags\n   */\n  static RemoveTag(jsonObj, tagname) {\n    return XMObject._RemoveTag(jsonObj, XMObject.PROP_TAGS, tagname);\n  }\n\n  /**\n   * Count number of tags associated with the given object\n   *\n   * @param {{}} jsonObj\n   * @return {number}\n   */\n  static CountTags(jsonObj) {\n    return XMObject._CountTags(jsonObj, XMObject.PROP_TAGS);\n  } // CountTags\n\n  // ------------------------- Relationship Tags -------------------------------\n\n  /**\n   * Add relationship tag name(s) to the given json version\n   * of the object\n   *\n   * @param {object} jsonObj\n   * @param {string} tagname or can be a array of tagnames\n   * @param {string} relname relationship name, or \"rel\" value within\n   * inline props of the tagname. We will extract it if it is inline.\n   * @return {boolean} true if added, false if not\n   *\n   */\n  static AddRelTag(jsonObj, tagname, relname = null) {\n    if (relname == null) {\n      relname = TagUtil.GetPropertyValue(tagname, 'rel');\n    }\n    if ((relname == null) || (tagname == null)) {\n      console.warn('ART: bad args');\n      return false;\n    }\n    let relMap = this.GetObjectField(jsonObj, XMObject.PROP_RELTAGS, null);\n    if (relMap == null) {\n      relMap = {};\n      this.SetObjectField(jsonObj, XMObject.PROP_RELTAGS, relMap);\n    }\n    // just in case - the tagname inside should not have the rel name\n    const cleanedTag = TagUtil.RemoveProperty(tagname, XMObject.PROP_RELTAGS, relname);\n\n    return XMObject._AddTag(relMap, relname, cleanedTag);\n  } // AddRelTag\n\n  /**\n   * Add array of relationship tagnames to the given XMObject instance's data\n   *\n   * @param {object} jsonObj\n   * @param {[]} tagArray\n   * @param {string=} relname add to the subroup with this name\n   * @return {number} number of tags actually added\n   */\n  static AddRelTags(jsonObj, tagArray, relname = null) {\n    if (Array.isArray(tagArray)) {\n      let i;\n      const size = tagArray ? tagArray.length : 0;\n      let added = 0;\n      for (i = 0; i < size; i++) {\n        if (this.AddRelTag(jsonObj, tagArray[i], relname) === true) { added++; }\n      }\n      return added;\n    }\n    return tagArray ? XMObject.AddRelTag(jsonObj, tagArray, relname) : 0;\n  } // AddRelTags\n\n  /**\n   * Set array of relationship tagnames to the given XMObject instance's data.\n   * Be ware that this overrides entire existing array of tags\n   *\n   * @param {object} jsonObj\n   * @param {[]} tagArray if non-null, will repalce everyting, INCLUDING empty array\n   * @param {string} relname relationship group to add to. If null, then will extract\n   * from each tagname. If none, then those will not be added.\n   * @return {boolean} true if set, false if array is empty or content is same.\n   */\n  static SetRelTags(jsonObj, tagArray, relname) {\n    if ((relname == null) || (tagArray == null)) {\n      console.warn('SRT: no data');\n      return false;\n    }\n    if (!Array.isArray(tagArray)) { tagArray = [tagArray]; }\n    const relMap = XMObject.GetRelTagMap(jsonObj, null);\n    relMap[relname] = tagArray;\n    return true;\n  }\n\n  /**\n   * Return the requested tagname as stored in the relationship container.\n   * The version in the container may have inline properties.\n   *\n   * @param {object} jsonObj\n   * @param {string} relname relationshp label within the relationship map\n   * @param {string} tagname tagname to match. if it has inline props too,\n   * they will be ignored (not matched)\n   * @param {*} defaultVal\n   */\n  static GetRelTag(jsonObj, tagname, relname, defaultVal = null) {\n    const tagnames = this.GetRelTags(jsonObj, relname, null);\n\n    return (Util.NotNull(tagnames)) ? TagUtil.GetTag(tagnames, tagname, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Return associated container tags of this object.\n   *\n   * @param {object} jsonObj\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  static GetRelTags(jsonObj, relname, defaultVal = []) {\n    const relMap = XMObject.GetRelTagMap(jsonObj, null);\n    if (relMap == null) { return defaultVal; }\n\n    let tags = relMap[relname];\n    if ((Util.NotNull(tags)) && !Array.isArray(tags)) { tags = [tags]; }\n    return (Util.NotNull(tags)) ? tags : defaultVal;\n  }\n\n  /**\n   * Return associated container tags of this object.\n   *\n   * @param {object} jsonObj\n   * @param {*} defaultVal\n   * @return {string[]}\n   */\n  static GetAllRelTags(jsonObj, tagnameOnly = true, defaultVal = []) {\n    const relMap = XMObject.GetRelTagMap(jsonObj, null);\n    if (relMap == null) { return defaultVal; }\n\n    let result = null;\n    let reltags;\n    for (const relname in relMap) {\n      reltags = relMap[relname];\n      if (!Array.isArray(reltags)) { reltags = [reltags]; }\n      if (tagnameOnly) { reltags = TagUtil.StripTagsProps(reltags); }\n      result = (result == null) ? reltags : result.concat(reltags);\n    }\n    result = Util.UniqueArray(result);  // efficient?\n\n    return result;\n  }\n\n  /**\n   * Count number of tags under the relationship label\n   *\n   * @param {{}} jsonObj\n   * @param {string} relname relationshp label within the relationship map\n\n   * @return {number}\n   */\n  static GetRelTagCount(jsonObj, relname) {\n    const tagnames = this.GetRelTags(jsonObj, relname, null);\n\n    return (Util.NotNull(tagnames)) ? tagnames.length : 0;\n  }\n\n  /**\n   * Return associated container tags of this object.\n   *\n   * @param {object} jsonObj\n   * @param {*} defaultVal\n   */\n  static HasRelTag(jsonObj, tagname, relname = null) {\n    const relMap = XMObject.GetRelTagMap(jsonObj, null);\n    // console.error(`HasRelTag(${tagname},${relname}): relMap is:`, relMap);\n    if (relMap == null) { return false; }\n    return XMObject._HasTag(relMap, relname, tagname);\n  }\n\n\n  /**\n   * Return associated container tags of this object.\n   *\n   * @param {object} jsonObj\n   * @param {*} defaultVal\n   * @return {{}} map with each relationship name as a property and tags as array\n   */\n  static GetRelTagMap(jsonObj, defaultVal = null) {\n    return XMObject.GetObjectField(jsonObj, XMObject.PROP_RELTAGS, defaultVal);\n  }\n\n  /**\n   * Set the entire rel tag map into this object.\n   *\n   * @param {{}} jsonObj json object to set rel map into\n   * @param {{}} relMap rel map to set\n   * @return {boolean} false to indicate null input. true if set\n   */\n  static SetRelTagMap(jsonObj, relMap) {\n    if (!this.AssertNotNull(relMap, _CLSNAME, 'SRTM', 'null')) { return null; }\n    XMObject.SetObjectField(jsonObj, XMObject.PROP_RELTAGS, relMap);\n    return true;\n  }\n\n  /**\n   * Return container tags matched by given relname\n   *\n   * @param {object} jsonObj\n   * @param {string} relname relationship name. If this is null, then all tags with TAG_PROP_REL\n   * property are returned.\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  // static GetRelTagsByRel(jsonObj, relname=null, defaultVal={}) {\n  //     return XMObject._GetTagsByRel(jsonObj, XMObject.PROP_RELTAGS, relname, defaultVal);\n  // }\n\n  /**\n   * Does this object has a relationship tag with the given relname?\n   *\n   * @param {object} jsonObj\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\".\n   *\n   * @return {boolean} true if exists\n   */\n  // static HasRelTagByRel(jsonObj, relname=null) {\n  //     return XMObject._HasTagByRel(jsonObj, XMObject.PROP_RELTAGS, relname);\n  // }\n\n  /**\n   * Does this object has a relationship tag with the given relname?\n   *\n   * @param {{}} jsonObj\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\"\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static IndexOfRelTagByRel(jsonObj, relname = null) {\n    return XMObject._IndexOfTagByRel(jsonObj, XMObject.PROP_RELTAGS, relname);\n  }\n\n  /**\n   * Does this object has a relationship tag with the given relname?\n   *\n   * @param {{}} jsonObj\n   * @param {string} nameCheck tagname to check.\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static IndexOfRelTagname(jsonObj, nameCheck) {\n    return XMObject._IndexOfTagname(jsonObj, XMObject.PROP_RELTAGS, nameCheck);\n  }\n\n  /**\n   * Remove a relationship tag given the tagname\n   *\n   * @param {{}} jsonObj\n   * @param {string} tagname will be normalized before comparing\n   * @param {string=} relname relationship label. if null, then\n   * it needs to be an inline prop to the given tagname\n   * @return {string} removed tagname which may have inline props.\n   * Null if not found\n   *\n   * @see #AddTag\n   * @see #GetTags\n   */\n  static RemoveRelTag(jsonObj, tagname, relname = null) {\n    if (relname == null) {\n      relname = TagUtil.GetPropertyValue(tagname, 'rel');\n    }\n    if (relname == null) {\n      console.warn(`RemoveRelTag: relname ${relname} not found within tagname: ${tagname}`);\n      return false;\n    }\n    const relMap = this.GetRelTagMap(jsonObj, null);\n    const tagList = (Util.NotNull(relMap)) ? relMap[relname] : null;\n    return (Util.NotNull(tagList)) ? TagUtil.RemoveTag(tagList, tagname) : null;\n  }\n\n  /**\n   * Count number of tags associated with a relationship label.\n   *\n   * @param {{}} jsonObj\n   * @return {number}\n   */\n  static CountRelTags(jsonObj, relname) {\n    const tagList = this.GetRelTags(jsonObj, relname, null);\n    return (Util.NotNull(tagList)) ? tagList.length : 0;\n  }\n\n\n  // ---------------------------- Source Tags -------------------------------\n\n  /**\n   * Add source tag name(s) to the given json version\n   * of the object\n   *\n   * @param {object} jsonObj\n   * @param {string} tagName or can be a array of tagnames\n   */\n  static AddSourceTag(jsonObj, tagName) {\n    return XMObject.AddRelTag(jsonObj, tagName, XMObject.PROP_SRCTAGS);\n  } // AddTag\n\n  /**\n   * Add array of source tagnames to the given XMObject instance's data\n   *\n   * @param {object} jsonObj\n   * @param {[]} tagArray\n   * @return {number} number of tags actually added\n   */\n  static AddSourceTags(jsonObj, tagArray) {\n    return XMObject.AddRelTags(jsonObj, tagArray, XMObject.PROP_SRCTAGS);\n  } // AddTags\n\n  /**\n   * Set array of source tagnames to the given XMObject instance's data.\n   * Be ware that this overrides entire existing array of tags\n   *\n   * @param {object} jsonObj\n   * @param {[]} tagArray if non-null, will repalce everyting, INCLUDING empty array\n   * @return {boolean} true if set, false if array is empty or content is same.\n   */\n  static SetSourceTags(jsonObj, tagArray) {\n    return XMObject.SetRelTags(jsonObj, tagArray, XMObject.PROP_SRCTAGS);\n  }\n\n  /**\n   * Return associated source tags of this object.\n   *\n   * @param {object} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetSourceTags(jsonObj, defaultVal = []) {\n    return XMObject.GetRelTags(jsonObj, XMObject.PROP_SRCTAGS, defaultVal);\n  }\n\n  /**\n   * Return source tags matched by given relname\n   *\n   * @param {object} jsonObj\n   * @param {string} relname relationship name. If this is null, then all tags with TAG_PROP_REL\n   * property are returned.\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static GetSourceTagsByRel(jsonObj, relname = null, defaultVal = {}) {\n    return XMObject._GetTagsByRel(jsonObj, XMObject.PROP_SRCTAGS, relname, defaultVal);\n  }\n\n  /**\n   * Return all source tags grouped by their rel type.\n   *\n   * @param {Array} tags can be array or set\n   * @param {boolean} parseProps true to parse props to JSON, false to keep as string\n   * @param {string} defaultRel relationship (key) name to use to group\n   */\n  static GetSourceTagsGroupedByRel(jsonObj, parseProps = false, defaultVal = {}) {\n    return XMObject._GetTagsGroupedByRel(jsonObj, XMObject.PROP_SRCTAGS, parseProps, defaultVal);\n  }\n\n  /**\n   * Report on whether a given name is found in the main tag property\n   *\n   * @param {object} jsonObj\n   * @param {string} tagname\n   * @return {boolean} true if exists\n   */\n  static HasSourceTag(jsonObj, tagname) {\n    return XMObject.HasRelTag(jsonObj, tagname, XMObject.PROP_SRCTAGS);\n  }\n\n  /**\n   * Does this object has a source tag with the given relname?\n   *\n   * @param {object} jsonObj\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\".\n   *\n   * @return {boolean} true if exists\n   */\n  static HasSourceTagByRel(jsonObj, relname = null) {\n    return XMObject._HasTagByRel(jsonObj, XMObject.PROP_SRCTAGS, relname);\n  }\n\n  /**\n   * Does this object has a source tag with the given relname?\n   *\n   * @param {{}} jsonObj\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\"\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static IndexOfSourceTagByRel(jsonObj, relname = null) {\n    return XMObject._IndexOfTagByRel(jsonObj, XMObject.PROP_SRCTAGS, relname);\n  }\n\n  /**\n   * Does this object has a source tag with the given relname?\n   *\n   * @param {{}} jsonObj\n   * @param {string} nameCheck tagname to check.\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static IndexOfSourceTagname(jsonObj, nameCheck) {\n    return XMObject._IndexOfTagname(jsonObj, XMObject.PROP_SRCTAGS, nameCheck);\n  }\n\n  /**\n   * Remove a source tag given the tagname\n   *\n   * @param {{}} jsonObj\n   * @param {string} tagname will be normalized before comparin\n   * @return {boolean}\n   *\n   * @see #AddTag\n   * @see #GetTags\n   */\n  static RemoveSourceTag(jsonObj, tagname) {\n    return XMObject.RemoveRelTag(jsonObj, tagname, XMObject.PROP_SRCTAGS);\n  }\n\n  /**\n   * Count number of tags associated with the given object\n   *\n   * @param {{}} jsonObj\n   * @return {number} number of tagnames under the PROP_SRCTAGS label\n   */\n  static CountSourceTags(jsonObj) {\n    return XMObject.CountRelTags(jsonObj, XMObject.PROP_SRCTAGS);\n  }\n\n  // ------------------- Variable Expression Tags -------------------------------\n\n  /**\n   * Add variable expression string to the given json version\n   * of the object\n   *\n   * @param {object} jsonObj\n   * @param {string} expr or can be a array of tagnames\n   */\n  static AddVarExpr(jsonObj, expr) {\n    return XMObject._AddTag(jsonObj, XMObjectProps.VAREXPRS, expr);\n  }\n\n  /**\n   * Add list of variable expression strings\n   *\n   * @param {object} jsonObj\n   * @param {[]} exprArray\n   * @return {number} number of expression strings actually added\n   */\n  static AddVarExprs(jsonObj, exprArray) {\n    return XMObject._AddTags(jsonObj, XMObjectProps.VAREXPRS, exprArray);\n  }\n\n  /**\n   * Set array of RLTPL tagnames to the given XMObject instance's data.\n   * Be ware that this overrides entire existing array of tags\n   *\n   * @param {object} jsonObj\n   * @param {[]} exprArray if non-null, will repalce everyting, INCLUDING empty array\n   * @return {boolean} true if set, false if array is empty or content is same.\n   */\n  static SetVarExprs(jsonObj, exprArray) {\n    return XMObject._SetTags(jsonObj, XMObjectProps.VAREXPRS, exprArray);\n  }\n\n  /**\n   * Return associated variable expression strings\n   *\n   * @param {object} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetVarExprs(jsonObj, defaultVal = []) {\n    return XMObject._GetTags(jsonObj, XMObjectProps.VAREXPRS, defaultVal);\n  }\n\n  /**\n   * Retrieve full variable expression string given the variable name only\n   *\n   * @param {object} jsonObj\n   * @param {string} varname variable name (no properties)\n   * @return {string} variable expression string if found\n   */\n  static GetVarExpr(jsonObj, varname, defaultVal = null) {\n    jsonObj = XMObject.Unwrap(jsonObj);\n    // console.log(`${_CLSNAME}.GetVarExpr(${varname})`, \"json object:\", jsonObj);\n    return (Util.NotNull(jsonObj)) ? TagUtil.GetTag(jsonObj[XMObjectProps.VAREXPRS], varname, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Report on whether a given name is found in the RLTPL tag property\n   *\n   * @param {object} jsonObj\n   * @param {string} varname variable name (no properties)\n   * @return {boolean} true if exists\n   */\n  static HasVarExpr(jsonObj, varname) {\n    jsonObj = XMObject.Unwrap(jsonObj);\n    // console.log(`${_CLSNAME}.HasVarExpr(${varname})`, \"json object:\", jsonObj);\n    return (Util.NotNull(jsonObj)) ? TagUtil.HasTag(jsonObj[XMObjectProps.VAREXPRS], varname) : false;\n  }\n\n  /**\n   * Remove a varialbe expression string with the variable name\n   *\n   * @param {{}} jsonObj\n   * @param {string} varname will be normalized before comparin\n   * @return {boolean}\n   *\n   */\n  static RemoveVarExpr(jsonObj, varname) {\n    return XMObject._RemoveTag(jsonObj, XMObjectProps.VAREXPRS, varname);\n  }\n\n  /**\n   * Count number of variable expression strings\n   *\n   * @param {{}} jsonObj\n   * @return {number}\n   */\n  static CountVarExprs(jsonObj) {\n    return XMObject._CountTags(jsonObj, XMObjectProps.VAREXPRS);\n  }\n\n  // ----------------- Tags: Reusable building blocks ---------------------\n\n  /**\n   * Add tag name(s) to the target tag property in json version\n   * of the object\n   *\n   * @param {object} jsonObj\n   * @param {string} key property label holding the tags\n   * @param {string} tagName or can be a array of tagnames\n   *\n   * @see ~_AddTags\n   */\n  static _AddTag(jsonObj, key, tagName) {\n    const _m = `${_CLSNAME}._AddTag(${key})`;\n    if (!jsonObj || !tagName) {\n      console.error(`${_m}: Null Tag/Obj`);\n      console.trace();\n      return false;\n    }\n    if (Array.isArray(tagName)) { return XMObject._AddTags(jsonObj, key, tagName); }\n\n    tagName = TagUtil.NormalizeTag(tagName);\n    if (!jsonObj.hasOwnProperty(key)) { jsonObj[key] = []; }\n    if (jsonObj[key].includes(tagName)) {\n      // console.log(`${_m}: ${tagName} already exists`);\n      return false;\n    }\n\n    jsonObj[key].push(tagName);\n    return true;\n  } // AddTag\n\n  /**\n   * Add array of tagnames to the target tag property of the\n   * given XMObject instance's data\n   *\n   * @param {object} jsonObj\n   * @param {string} key property label holding the tags\n   * @param {[]} tagArray actually list of tags. If it's not array,\n   * then assume adding just one.\n   * @return {number} number of tags actually added\n   *\n   * @see ~_AddTag\n   */\n  static _AddTags(jsonObj, key, tagArray) {\n    const _m = `${_CLSNAME}.AddTags(${key})`;\n\n    if (!Array.isArray(tagArray)) { return XMObject._AddTag(jsonObj, key, tagArray); }\n\n    if (!jsonObj) {\n      console.trace(`${_m}: Null Obj`);\n      return false;\n    }\n\n    const size = tagArray ? tagArray.length : 0;\n    if (size === 0) { return false; }\n\n    if (!jsonObj.hasOwnProperty(key)) { jsonObj[key] = []; }\n    let tag;\n    let added = 0;\n    for (let i = 0; i < size; i++) {\n      tag = tagArray[i];\n      if (tag == null) {\n        // console.log(`${_m}: to object: `, jsonObj);\n        console.error(`${_m}: Cannot add a NULL Tag at i (${i}). tagArray:`, tagArray);\n      }\n      tag = TagUtil.NormalizeTag(tag);\n      if (jsonObj[key].includes(tag)) {\n        // dont' add\n        // console.warn(`${_m}: tag name: ${tag} already exists`);\n      } else {\n        jsonObj[key].push(tag);\n        added++;\n      }\n    } // for\n    return added;\n  } // AddTags\n\n  /**\n   * Set array of tagnames to the given XMObject instance's data.\n   * Be ware that this overrides entire existing array of tags\n   *\n   * @param {object} jsonObj\n   * @param {string} key property label holding the tags\n   * @param {[]} tagArray if non-null, will repalce everyting, INCLUDING empty array\n   * @return {boolean} true if set, false if array is empty or content is same.\n   */\n  static _SetTags(jsonObj, key, tagArray) {\n    if (tagArray == null || !Array.isArray(tagArray)) { return false; }\n    // let size = tagArray.length;\n\n    // clear all tags in existing array\n    const existingTags = jsonObj[key];\n    if (Util.CompareArrays(existingTags, tagArray)) { return false; }   // same list!\n    jsonObj[key] = tagArray;\n    return true;\n  } // _SetTags\n\n  /**\n   * Return associated tags of this object.\n   *\n   * @param {object} jsonObj a container with a property\n   * that match key and values are tagnames\n   * @param {string} key property label holding the tags\n   * @param {*} defaultVal\n   *\n   * @see #GetTagsByRel\n   */\n  static _GetTags(jsonObj, key, defaultVal = []) {\n    const tags = jsonObj[key];\n    return (tags == null) ? defaultVal : tags;\n  } // _GetTags\n\n  /**\n   * Return tags matched by given relname within a specified relationship container.\n   *\n   * @param {object} jsonObj should be a top level object\n   * @param {string} key property holding the relationship container. default to rtag\n   * @param {string} relname relationship name. If this is null, then all tags with TAG_PROP_REL\n   * property are returned.\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static _GetTagsByRel(jsonObj, key = null, relname = null, defaultVal = {}) {\n    if (key == null) { key = XMObject.PROP_RELTAGS; }\n    const relProp = jsonObj[key];\n    if (relProp == null) { return defaultVal; }\n\n    const relContainer = this.GetRelTagMap(relProp, null);\n    const tagArray = (Util.NotNull(relContainer)) ? relContainer[relname] : null;\n    return (Util.NotNull(tagArray)) ? tagArray : defaultVal;\n  } //\n\n  /**\n   * Return all tags grouped by their rel type.\n   *\n   * @param {Array} tags can be array or set\n   * @param {string} key property label holding the tags\n   * @param {boolean} parseProps true to parse props to JSON, false to keep as string\n   * @param {string} defaultRel relationship (key) name to use to group\n   */\n  static _GetTagsGroupedByRel(jsonObj, key, parseProps = false, defaultVal = {}) {\n    const tags = jsonObj[key];\n    if (tags == null) { return defaultVal; }\n\n    return TagUtil.GroupTagsByRel(tags, parseProps);\n  }\n\n  /**\n   * Determine if the given object has a tagname using the given property\n   * label.\n   *\n   * @param {object} jsonObj can be main object or a rel container\n   * @param {string} key property label holding the tags\n   * @param {string} tagname tag to check. Can include props\n   * @param {boolean} simpleCheck true to use array indexOf. No normalizing input or\n   * strip any expressions\n   * @return {boolean}\n   */\n  static _HasTag(jsonObj, key, tagname, simpleCheck = false) {\n    // console.log(`_HasTag: checking for tag ${tagname} from list: `, jsonObj[key]);\n    const tagList = jsonObj ? jsonObj[key] : null;\n    return tagList ? TagUtil.HasTag(tagList, tagname, simpleCheck) : false;\n  } // _HasTag\n\n  /**\n   * Does this object has a tag with the given relname?\n   *\n   * @param {object} jsonObj\n   * @param {string} key property label holding the tags\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\".\n   *\n   * @return {boolean} -true if exists\n   */\n  static _HasTagByRel(jsonObj, key, relname = null) {\n    const relContainer = this.GetRelTagMap(jsonObj, null);\n    if (relContainer == null) { return false; }\n\n    const tags = jsonObj[key];\n    if (tags == null) { return false; }\n    return TagUtil.HasTagByRel(tags, relname);\n  }\n\n  /**\n   * Does this object has a tag with the given relname?\n   *\n   * @param {{}} jsonObj\n   * @param {string} key property label holding the tags\n   * @param {string} relname relationship (key) name to use to group, e.g. \"isa\"\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static _IndexOfTagByRel(jsonObj, key, relname = null) {\n    const tags = jsonObj[key];\n    if (tags == null) { return -1; }\n    return TagUtil.IndexOfTagByProp(tags, relname);\n  }\n\n  /**\n   * Does this object has a tag with the given relname?\n   *\n   * @param {{}} jsonObj\n   * @param {string} key property label holding the tags\n   * @param {string} nameCheck tagname to check.\n   *\n   * @return {number} -1 if not found, positive number for array index\n   */\n  static _IndexOfTagname(jsonObj, key, nameCheck) {\n    const tags = jsonObj[key];\n    if (tags == null) { return -1; }\n    return TagUtil.IndexOfTagname(tags, nameCheck);\n  }\n\n  /**\n   * Remove a tag given the tagname\n   *\n   * @param {{}} jsonObj\n   * @param {string} key property label holding the tags\n   * @param {string} tagname will be normalized before comparin\n   * @return {{}} removed tagname which may have inline expression\n   * preserved. null if not found.\n   *\n   * @see #_AddTag\n   * @see #_GetTags\n   */\n  static _RemoveTag(jsonObj, key, tagname) {\n    return TagUtil.RemoveTag(jsonObj[key], tagname);\n  } // _RemoveTag\n\n  /**\n   * Count number of tags associated with the given object\n   *\n   * @param {{}} jsonObj\n   * @return {number}\n   */\n  static _CountTags(jsonObj, key) {\n    const tags = jsonObj[key];\n    if (tags == null) { return 0; }\n    return tags.length;\n  } // _CountTags\n\n  // -------------------- Follows and Following -----------------------\n\n  /**\n   * Add an object for this object to follow. It implements the \"follows\"\n   * relationshp.\n   *\n   * @param {{}} jsonObj\n   * @param {string} targetId what or whom to follow\n   */\n  static AddFollowing(jsonObj, targetId) {\n    return XMObject.AddWord(jsonObj, XMObjectProps.FOLLOWING, targetId);\n  }\n\n\n  /**\n   * Set a given list of users that this object follows by replacing\n   * existing.\n   *\n   * @param {{}} jsonObj\n   * @param {string[]} array of words or userIds\n   * @return {string[]} previous set of follows that this is replacing\n   */\n  static SetFollowings(jsonObj, userIds) {\n    return XMObject.SetWords(jsonObj, XMObjectProps.FOLLOWING, userIds);\n  }\n\n  /**\n   * Return all followings, or \"follows\" targets of this object\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @return {[]} identifers of target objects being followed by this\n   */\n  static GetFollowings(jsonObj, defaultVal = []) {\n    return XMObject.GetWords(jsonObj, XMObjectProps.FOLLOWING, defaultVal);\n  }\n\n  /**\n   * Determine of this object is following the identified taget\n   *\n   * @param {{}} jsonObj this object\n   * @param {string} targetId target identifier to check if following\n   * @return {boolean} true if following target, false if not found\n   */\n  static IsFollowing(jsonObj, targetId) {\n    return XMObject.HasWord(jsonObj, XMObjectProps.FOLLOWING, targetId);\n  }\n\n  /**\n   * Remove a target that the object/user is following\n   *\n   * @param {{}} jsonObj\n   * @param {string} targetId target identifier to unfollow\n   * @return {boolean} true if removed, false if not found\n   *\n   * @see #AddFollowing\n   * @see #GetFollowing\n   * @see #IsFollowing\n   * @see #RemoveAllFollowings\n   * @see #CountFollowings\n   */\n  static RemoveFollowing(jsonObj, targetId) {\n    return XMObject.RemoveWord(jsonObj, XMObjectProps.FOLLOWING, targetId);\n  }\n\n  /**\n   * Remove all targets within following following list\n   *\n   * @param {{}} jsonObj\n   * @return {boolean} true if removed, false if not found\n   *\n   * @see #RemoveFollowing\n   */\n  static RemoveAllFollowings(jsonObj) {\n    return XMObject.RemoveAllWords(jsonObj, XMObjectProps.FOLLOWING);\n  }\n\n  /**\n   * Return number of targets that this object is following\n   * @param {{}} jsonObj\n   * @return {number}\n   */\n  static CountFollowings(jsonObj) {\n    return XMObject.CountWords(jsonObj, XMObjectProps.FOLLOWING);\n  }\n\n  /**\n   * Add an object that is following this object\n   *\n   * @param {{}} jsonObj\n   * @param {string} follower what or whom to follow\n   */\n  static AddFollower(jsonObj, follower) {\n    return XMObject.AddWord(jsonObj, XMObjectProps.PROP_FOLLOWER, follower);\n  }\n\n  /**\n   * Set a given list of users that follow this object by replacing\n   * existing.\n   *\n   * @param {{}} jsonObj\n   * @param {string[]} array of words or userIds that folow this object\n   * @return {string[]} previous set of followers that this is replacing\n   */\n  static SetFollowers(jsonObj, userIds) {\n    return XMObject.SetWords(jsonObj, XMObjectProps.PROP_FOLLOWER, userIds);\n  }\n\n  /**\n   * Return all followers of this object\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @return {[]} identifers of follower objects\n   */\n  static GetFollowers(jsonObj, defaultVal = []) {\n    return XMObject.GetWords(jsonObj, XMObjectProps.PROP_FOLLOWER, defaultVal);\n  }\n\n  /**\n   * Determine of this object is following the identified taget\n   *\n   * @param {{}} jsonObj this object\n   * @param {string} targetId to check\n   * @return {boolean} true if followed by the given user\n   */\n  static IsFollowedBy(jsonObj, targetId) {\n    return XMObject.HasWord(jsonObj, XMObjectProps.PROP_FOLLOWER, targetId);\n  }\n\n  /**\n   * Remove a target within following target list\n   *\n   * @param {{}} jsonObj\n   * @param {string} followerId target identifier to unfollow\n   * @return {boolean} true if removed, false if not found\n   *\n   * @see #AddFollowing\n   * @see #GetFollowing\n   * @see #IsFollowing\n   * @see #RemoveAllFollowings\n   * @see #CountFollowings\n   */\n  static RemoveFollower(jsonObj, followerId) {\n    return XMObject.RemoveWord(jsonObj, XMObjectProps.PROP_FOLLOWER, followerId);\n  }\n\n  /**\n   * Remove all targets within following following list\n   *\n   * @param {{}} jsonObj\n   * @return {boolean} true if removed, false if not found\n   *\n   * @see #RemoveFollowers\n   */\n  static RemoveAllFollowers(jsonObj) {\n    return XMObject.RemoveAllWords(jsonObj, XMObjectProps.PROP_FOLLOWER);\n  }\n\n  /**\n   * Return number of follwers that this object has\n   *\n   * @param {{}} jsonObj\n   * @return {number}\n   */\n  static CountFollowers(jsonObj) {\n    return XMObject.CountWords(jsonObj, XMObjectProps.PROP_FOLLOWER);\n  }\n}\n","\n\nexport const SYS_NOTIMPL = 'E_SYS_NOTIMPL';\nexport const SYS_DB_CONN = 'E_SYS_DB_CONN';    // no database connection\nexport const SYS_DB_REQ = 'E_SYS_DB_REQ';\n\nexport const SYS_BAD_ARGS = 'E_BAD_ARGS';\nexport const SYS_BAD_DATA = 'E_BAD_DATA';\nexport const SYS_INIT = 'E_INIT';\nexport const SYS_NETERR = 'E_NETERR';\nexport const SYS_ERR = 'E_SYSERR';\n\nexport const API_OK = 'OK';\nexport const API_NO_OP = 'W_NO_OP';\nexport const API_ERROR = 'E_API_ERROR';\nexport const API_BAD_PARAMS = 'E_BAD_PARAMS';\nexport const API_BAD_DATA = 'E_BAD_DATA';\n\nexport const SVC_ERROR = 'E_SVC_ERROR';\n\nexport const USER_EXISTS = 'E_USER_EXISTS';\nexport const USER_INVALID = 'E_USER_INVALID';\nexport const USER_SUSPENDED = 'E_USER_SUSPENDED';\nexport const USER_NOTFOUND = 'E_USER_NOTFOUND';\nexport const USER_DELETED = 'E_USER_DELETED'; // Deleted is different than not found as there is still a record in database\nexport const USER_BAD_INPUT = 'E_BAD_INPUT';\nexport const USER_BAD_TOKEN = 'E_BAD_TOKEN';\nexport const USER_BAD_REQUEST = 'E_BAD_REQ';\nexport const USER_BAD_AUTH = 'E_AUTH';\nexport const USER_NOT_ALLOWED = 'E_NOT_ALLOWED';\nexport const USER_OVER_LIMIT = 'E_METER_LIMIT_EXCEEDED';\nexport const USER_BAD_USERNAME = 'E_BAD_USERNAME';\nexport const USER_BAD_DEVICEID = 'E_BAD_DEVICEID';\nexport const USER_BAD_DIGEST = 'E_BAD_DIGEST';\nexport const USER_BAD_VCODE = 'E_BAD_VCODE';\n\nexport const PASS_BAD_PWD = 'E_PWD_BAD';\nexport const PASS_TOO_SHORT = 'E_PWD_SHORT';\nexport const PASS_BAD_CHARS = 'E_PWD_CHARS';\nexport const PASS_INCL_NAME = 'E_PWD_ICLDN';\nexport const PASS_NONE = 'E_PWD_NONE';\n\nexport const EMAIL_EXISTS = 'E_EMAIL_EXISTS';\n\nexport const INVALID_ACTION = 'E_BAD_ACTION';   // action already done, can't do it again\n\nexport const RES_NOTFOUND = 'E_RES_NOTFOUND';\nexport const RES_NOACCESS = 'E_RES_NOACCESS';\nexport const RES_OVERLIMIT = 'E_RES_OVERLIMIT';\nexport const RES_ERROR = 'E_RES_ERROR';\nexport const TAG_NOTFOUND = 'E_TAG_NOTFOUND';\n\nexport const CONFIRMED_ALREADY = 'E_CFRM_PRV';\nexport const COMPLETED_ALREADY = 'E_DONE_PRV';\n\nexport const HTTP_CLIENT_ERROR = 400;\nexport const HTTP_CLIENT_AUTH = 401;\nexport const HTTP_CLIENT_NOTFOUND = 404;\nexport const HTTP_TOO_MANY_REQUESTS = 429;\n\nexport const HTTP_SERVER_ERROR = 500;   // internal server error\nexport const HTTP_SERVER_NOTIMPL = 501;   // not implemented\nexport const HTTP_SERVER_NOTAVL = 503;   // service unavailable\n","\nimport XMObject from '../XMObject';\nimport { UserProps, ModelType, ModelFolder } from '../ModelConsts';\nimport Util from '../../Util';\n\nconst _CLSNAME = 'XMUserFeedback'; // match class name\n\n// export { UserProps, TOKEN_GUEST, TOKEN_ROBOT } from \"../ModelConsts\";\n\nexport const TOPIC_BUG = 'bug';\nexport const TOPIC_FEATURE = 'fea';\nexport const TOPIC_USABILITY = 'use';\nexport const TOPIC_INQUIRY = 'info';\nexport const TOPIC_OTHER = 'other';\n\n\n/**\n * Model persistent record for a user feedback.\n *\n * The record ID should be generated and perhaps the\n * confirmation ID.\n *\n */\nclass XMUserFeedback extends XMObject {\n  // constants to share with consumer of this class\n  static get TEXT() { return 'text'; }\n  static get PAGE_URL() { return 'pageUrl'; }\n  static get CONFIRM_ID() { return 'cfid'; }\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMUserFeedback;\n  }\n\n  initNew(tracking = true) {\n    super.initNew(tracking);\n  }\n\n  /**\n     *\n     * @param {string} userId\n     * @return {string} previous userId if any\n     */\n  setUserId(userId) {\n    if (Util.NotNull(userId)) { return this.set(UserProps.USERNAME, userId); }\n    return null;\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getUserId(defaultVal = null) {\n    return this.get(UserProps.USERNAME, defaultVal);\n  }\n\n  /**\n     *\n     * @param {string} userId\n     * @return {string} previous message set\n     */\n  setMessage(msg) {\n    return this.set(XMUserFeedback.TEXT, msg);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getConfirmId(defaultVal = null) {\n    return this.get(XMUserFeedback.CONFIRM_ID, defaultVal);\n  }\n\n  /**\n     *\n     * @param {string} confirmId generated ID for future reference\n     */\n  setConfirmId(confirmId) {\n    return this.set(XMUserFeedback.CONFIRM_ID, confirmId);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {string} message\n     */\n  getMessage(defaultVal = null) {\n    return this.get(XMUserFeedback.TEXT, defaultVal);\n  }\n\n\n  /**\n     *\n     * @param {string} userId\n     * @return {string} previous message set\n     */\n  setPageUrl(url) {\n    return this.set(XMUserFeedback.PAGE_URL, url);\n  }\n\n  /**\n     *\n     * @param {*} defaultVal\n     * @return {string} message\n     */\n  getPageUrl(defaultVal = null) {\n    return this.get(XMUserFeedback.PAGE_URL, defaultVal);\n  }\n\n  // /**\n  //  *\n  //  * @param {string} action label like CONFIRM_EMAIL or CONFIRM_SMS\n  //  * @param {string} target value like email address or phone number\n  //  * @return {boolean} true if set, false if missing input value\n  //  */\n  // setAction(action, target) {\n  //     if ((Util.NotNull(action)) && (Util.NotNull(target))) {\n  //         this.set(UserProps.CONFIRM_ACTION_TYPE, action);\n  //         this.set(UserProps.CONFIRM_ACTION_TARGET, target);\n  //         return true;\n  //     }\n  //     return false;\n  // }\n\n  /**\n     * Sets one or more topic category keywords.\n     *\n     * @param {string[]} topics one or more topic keyboard. Can be standalone string\n     *\n     * @see ~setAction\n     */\n  setTopics(topics) {\n    return this.addTags(topics);\n  }\n\n  /**\n     * Return topic keywords\n     *\n     * @param {*} defaultVal\n     * @return {string[]} array of one or more topic keywords\n     */\n  getTopics(defaultVal = null) {\n    return this.getTags();\n  }\n\n  // /**\n  //  * Sets the action type. this should be a confirmation type,\n  //  * like email or sms, but perhaps can also be a pre-confirmation\n  //  * action (thinking out loud).\n  //  *\n  //  * @param {string} action action label\n  //  * @return {boolean} true if set, false if invalid input\n  //  * @see ~setAction\n  //  */\n  // setActionTarget(action) {\n  //     if (Util.NotNull(action)) {\n  //         this.set(UserProps.CONFIRM_ACTION_TARGET, action);\n  //         return true;\n  //     }\n  //     return false;\n  // }\n\n  // /**\n  //  *\n  //  * @param {*} defaultVal\n  //  * @return {string}\n  //  */\n  // getActionTarget(defaultVal=null) {\n  //     return this.get(UserProps.CONFIRM_ACTION_TARGET, defaultVal);\n  // }\n\n  /**\n     * Set feedback as \"read\" by whome and optional timestamp\n     *\n     * @param {string} sourceId user ID or person name or  ?\n     * @param {number} timeVal confirmation time, or null to use now\n     * @return {boolean} true if set, false if invalid input\n     */\n  setReadBy(sourceId, timeVal = null) {\n    const data = this.getData(true);\n    return data ? XMUserFeedback.SetRead(data, sourceId, timeVal) : false;\n  }\n\n  /**\n     * Return the value to the field CONFIRMED_DATE (\"cfdate\").\n     *\n     * @param {{}} jsonObj\n     * @param {*} defaultVal\n     * @return {string} sourceId\n     */\n  getReadBy(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMUserFeedback.GetReadBy(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Return \"read\" timestamp\n     *\n     * @param {{}} jsonObj\n     * @param {*} defaultVal\n     */\n  getReadTS(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMUserFeedback.GetReadTS(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     * Return whether this feedback has been confirmed as \"read\"\n     *\n     * @param {boolean} expiredOK true to return confirmed regardless\n     * of expriation. This is poisslble as we still log confirmation after\n     * expiration.\n     * @return {boolean} true if confirmed and valid\n     */\n  hasRead(expiredOK = false) {\n    const confirmedTS = this.getReadTS(-1);\n    if (confirmedTS === -1) { return false; }\n\n    if (expiredOK === true) { return (confirmedTS > 0); }\n\n    const expiry = this.getExpiration(-1);\n    return expiry > confirmedTS;\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods. This should also include any\n  // methods that can be used as helper for generic\n  // JSON data structure should be implemented here\n  // and called by instance methods.\n  //\n  // *************************************************************\n\n\n  /**\n     * @return {string}\n     */\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetFolderName() {\n    return ModelFolder.USER_FEEDBACK;\n  }\n\n  /**\n     * @return {string}\n     */\n  static GetTypeID() {\n    return ModelType.USER_FEEDBACK;\n  }\n\n  /**\n     * Create an user info record aggregated from difference\n     * sources but mainly XMUser. It is suitable to give to\n     * client for rendering.\n     *\n     * @param {string} userId user that perform the action\n     * @param {string} action confirmation action type for confirmation\n     * @param {string} actionTarget confirmation target. If email, then email address. If SMS, then phone number.\n     * @param {string} confirmId assigned confirmation Id, if known or pre-generated. Null to generate random\n     * @param {number} expiration time in SECONDS to expire. Use now + DEFAULT_CONFIRM_EXPIRATION if null\n     * @param  {...any} args\n     *\n     * @return {XMUserFeedback=} XMObject storable instance. Null if invalid input\n     */\n  static CreateNew(userId, feedbackId = null) {\n    const feedbackObj = new XMUserFeedback();\n    feedbackObj.initNew(false);  // no tracking/COD\n\n    if (feedbackId == null) { feedbackId = `${Util.GenRandomLong()}C`; }\n    feedbackObj._setId(feedbackId);\n\n    feedbackObj.setUserId(userId);\n\n\n    return feedbackObj;\n  } // Create\n\n\n  /**\n     * Update object with who read this feedback and timestamp\n     *\n     * @param {{}} jsonObj\n     * @param {string} sourceId feedback read by user ID (IP address, etc)\n     * @param {number=} timeVal optional time value to set or null to use current time\n     */\n  static SetRead(jsonObj, sourceId, timeVal = null) {\n    if (sourceId == null) { return false; }\n\n    const confirmTS = timeVal || Date.now();\n    if (Util.NotNull(sourceId)) {\n      jsonObj[UserProps.CONFIRM_ACTION_SOURCE] = sourceId;\n      jsonObj[UserProps.CONFIRMED_DATE] = confirmTS;\n    } else if (jsonObj[UserProps.CONFIRMED_DATE] == null) { jsonObj[UserProps.CONFIRMED_DATE] = confirmTS; }\n    return true;\n  }\n\n  /**\n     * Return the value to the field CONFIRMED_DATE (\"cfdate\").\n     *\n     * @param {{}} jsonObj\n     * @param {*} defaultVal\n     * @return {string} sourceId\n     */\n  static GetReadBy(jsonObj, defaultVal = -1) {\n    const ts = jsonObj ? jsonObj[UserProps.CONFIRM_ACTION_SOURCE] : null;\n    return ts || defaultVal;\n  }\n\n  /**\n     * Return the value to the field CONFIRMED_DATE (\"cfdate\").\n     *\n     * @param {{}} jsonObj\n     * @param {*} defaultVal\n     */\n  static GetReadTS(jsonObj, defaultVal = -1) {\n    const ts = jsonObj ? jsonObj[UserProps.CONFIRMED_DATE] : null;\n    return ts || defaultVal;\n  }\n\n} // class XUserConfirm\n\nXMUserFeedback.RegisterType(XMUserFeedback);\n\nexport default XMUserFeedback;\n","import {LanguageCodes} from \"../core/model/ModelConsts\";\n\nimport {\n  APP_NAME,\n  APP_WEB_NAME,\n  MSG_PASSWORD_OK,\n  MSG_PASSWORD_NOT_MATCHED,\n  MSG_PASSWORD_NOT_VALID,\n  MSG_NICKNAME_NOT_VALID,\n  MSG_EMAIL_NOT_VALID,\n  MSG_EMAIL_NONE,\n  MSG_INVITE_CODE_INVALID,\n  MSG_INVITE_CODE_VERIFIED,\n  MSG_USERNAME_EXISTS,\n  MSG_USERNAME_AVAILABLE,\n  MSG_USERNAME_CHECK_ERROR,\n  MSG_USERNAME_NOT_VALID,\n  MSG_CREATE_POST_LABEL,\n  LABEL_WEBSITE,\n  LABEL_APPNAME,\n  LABEL_PRIVACY_POLICY,\n  LABEL_FEEDBACK,\n  LABEL_HOMEPAGE,\n  LABEL_ABOUT_US,\n  LABEL_TOS,\n  LABEL_SUBMIT_CHANGE,\n  LABEL_EMAIL_ADDRESS,\n  LABEL_USERNAME,\n  LABEL_DISPLAYNAME,\n  LABEL_EMAIL_ENTER,\n  LABEL_DISPLAYNAME_ENTER,\n  LABEL_USERNAME_ENTER,\n  LABEL_PASSWORD_ENTER,\n  LABEL_PASSWORD2_ENTER,\n  LABEL_DELETE,\n  LABEL_EDIT,\n  LABEL_SELECT,\n  LABEL_CANCEL,\n  LABEL_CLONE,\n  LABEL_CLOSE,\n  LABEL_RESET,\n  LABEL_RETURN,\n  LABEL_HOME,\n  LABEL_EXPLORE,\n  LABEL_NOTIFICATIONS,\n  LABEL_MESSAGES,\n  LABEL_PROFILE,\n  LABEL_SUBMIT_POST,\n  LABEL_SUBMIT_REPOST,\n  LABEL_SUBMIT_COMMENT,\n} from \"./AppConsts\";\n\nimport {\n  TOPIC_BUG,\n  TOPIC_FEATURE,\n  TOPIC_USABILITY,\n  TOPIC_INQUIRY,\n  TOPIC_OTHER,\n} from \"../core/model/user/XMUserFeedback\";\n\n// Common error codes used in server side but we want a different\n// message to override\nimport {PASS_NONE} from \"../core/ErrorConsts\";\n\nexport const AppMessages_en = {\n  [PASS_NONE]: \"Password is required\",\n\n  [LABEL_WEBSITE]: APP_WEB_NAME,\n  [LABEL_APPNAME]: APP_NAME,\n  [LABEL_HOMEPAGE]: \"Home Page\",\n  [LABEL_ABOUT_US]: \"About Us\",\n  [LABEL_TOS]: \"Terms of Use\",\n  [LABEL_PRIVACY_POLICY]: \"Privacy and Policy\",\n  [LABEL_FEEDBACK]: \"Feedback\",\n  [LABEL_SUBMIT_CHANGE]: \"Submit Change\",\n  [LABEL_USERNAME]: \"Username\",\n  [LABEL_USERNAME_ENTER]: \"Username\",\n  [LABEL_DISPLAYNAME]: \"Display Name\",\n  [LABEL_DISPLAYNAME_ENTER]: \"Display Name\",\n  [LABEL_EMAIL_ADDRESS]: \"Email Address\",\n  [LABEL_EMAIL_ENTER]: \"Email\",\n  [LABEL_PASSWORD_ENTER]: \"Password\",\n  [LABEL_PASSWORD2_ENTER]: \"Confirm Password\",\n  [LABEL_DELETE]: \"Delete\",\n  [LABEL_EDIT]: \"Edit\",\n  [LABEL_SELECT]: \"Select\",\n  [LABEL_CANCEL]: \"Cancel\",\n  [LABEL_CLONE]: \"Clone\",\n  [LABEL_CLOSE]: \"Close\",\n  [LABEL_RESET]: \"Reset\",\n  [LABEL_RETURN]: \"Return\",\n  [LABEL_SUBMIT_POST]: \"Post\",\n  [LABEL_SUBMIT_REPOST]: \"Repost\",\n  [LABEL_SUBMIT_COMMENT]: \"Reply\",\n\n  [LABEL_HOME]: \"Home\",\n  [LABEL_EXPLORE]: \"Explore\",\n  [LABEL_NOTIFICATIONS]: \"Notifications\",\n  [LABEL_MESSAGES]: \"Messages\",\n  [LABEL_PROFILE]: \"Profile\",\n\n  [TOPIC_BUG]: \"Bug Report\",\n  [TOPIC_FEATURE]: \"Feature Request\",\n  [TOPIC_USABILITY]: \"Usability Suggestion\",\n  [TOPIC_INQUIRY]: \"General Inquiry\",\n  [TOPIC_OTHER]: \"Other Inquiry\",\n\n  [MSG_PASSWORD_OK]: \"Password OK\",\n  [MSG_PASSWORD_NOT_VALID]: \"Password not valid\",\n  [MSG_PASSWORD_NOT_MATCHED]: \"Passwords do not match!\",\n  [MSG_NICKNAME_NOT_VALID]: \"Nickname is missing or invalid!\",\n  [MSG_EMAIL_NOT_VALID]: \"Email entered doesn't seem to be valid!\",\n  [MSG_EMAIL_NONE]: \"Email is required\",\n  [MSG_INVITE_CODE_INVALID]: \"Invalid Invitation Code\",\n  [MSG_INVITE_CODE_VERIFIED]: \"Verified Invite Code\",\n  [MSG_USERNAME_EXISTS]: \"Username exists already. Please choose another one.\",\n  [MSG_USERNAME_AVAILABLE]: \"Username is available!\",\n  [MSG_USERNAME_CHECK_ERROR]: \"Error checking username\",\n  [MSG_USERNAME_NOT_VALID]: \"Username contains invalid characters or too short\",\n  [MSG_CREATE_POST_LABEL]: \"What's On Your Mind?\",\n};\n\nexport const AppMessages_zh = {\n  [LABEL_HOME]: \"\",\n  [LABEL_EXPLORE]: \"\",\n  [LABEL_NOTIFICATIONS]: \"\",\n  [LABEL_MESSAGES]: \"\",\n  [LABEL_PROFILE]: \"\",\n};\n\nexport const AppMessages_tw = {\n  [LABEL_HOME]: \"\",\n  [LABEL_EXPLORE]: \"\",\n  [LABEL_NOTIFICATIONS]: \"\",\n  [LABEL_MESSAGES]: \"\",\n  [LABEL_PROFILE]: \"\",\n};\n\nexport const AppMessages_ko = {\n  [LABEL_EXPLORE]: \"\",\n  [LABEL_MESSAGES]: \"\",\n  [LABEL_PROFILE]: \"\",\n};\n\nexport const AppMessages_es = {\n  [LABEL_HOME]: \"pgina de inicio\",\n  [LABEL_EXPLORE]: \"explorar\",\n  [LABEL_NOTIFICATIONS]: \"notificaciones\",\n  [LABEL_MESSAGES]: \"mensajes\",\n  [LABEL_PROFILE]: \"perfil\",\n};\n\n/**\n * Container to hold language text maps via a map\n */\nexport const AppMessages = {\n  [LanguageCodes.ENGLISH]: AppMessages_en,\n  [LanguageCodes.CHINESE_SIMPLIFIED]: AppMessages_zh,\n  [LanguageCodes.CHINESE_TRADITIONAL]: AppMessages_tw,\n  [LanguageCodes.KOREAN]: AppMessages_ko,\n  [LanguageCodes.SPANISH]: AppMessages_es,\n};\n\n/**\n * Official list of supported languages. This will be shown in the\n * pulldown menu\n */\nexport const SupportedLanguageList = [\n  {code: LanguageCodes.ENGLISH, name: \"English\", nativeName: \"English\"},\n  // {\n  //   code: LanguageCodes.CHINESE_SIMPLIFIED,\n  //   name: \"Chinese (Simplified)\",\n  //   nativeName: \"()\",\n  // },\n  // {\n  //   code: LanguageCodes.CHINESE_TRADITIONAL,\n  //   name: \"Chinese (Traditional)\",\n  //   nativeName: \"()\",\n  // },\n  /**\n   * TODO: enable when the translation is available\n   */\n  // {code: LanguageCodes.FRENCH, name: \"French\", nativeName: \"franais\"},\n  {code: LanguageCodes.SPANISH, name: \"Spanish\", nativeName: \"Espaol\"},\n  {code: LanguageCodes.JAPANESE, name: \"Japanese\", nativeName: \"\"},\n  // {code: LanguageCodes.GERMAN, name: \"German\", nativeName: \"Deutsche\"},\n  {code: LanguageCodes.KOREAN, name: \"Korean\", nativeName: \"\"},\n];\n\nexport default AppMessages;\n","import SymbolExpr from '../util/SymbolExpr';\nimport Util from '../Util';\n\n/**\n * Utility functions related to images and image paths\n *\n */\n\nconst _CLSNAME = 'ImageUtil';\n\nexport class ImageUtil {\n  static get CACHE_ROOT() { return 'cache'; }\n  static get TAG_ROOT() { return 'cache/t'; }\n  static get TAG_ICON_ROOT() { return 'cache/t/ico'; }\n  static get THUMBNAIL_DIR() { return 'tn'; }\n  static get THUMBNAIL_ROOT() { return 'cache/tn'; }\n\n  static get CACHE_PREFIX() { return '/cache/'; }\n  static get THUMBNAIL_PREFIX() { return '/cache/tn/'; }\n  static get CACHE_ROOT_PATH() { return '/cache'; }\n  static get USER_ICON_PATH() { return 'cache/u/ico'; }\n  static get USER_IMAGE_PATH() { return 'cache/u/img'; }\n\n  /**\n     * Derive a thumbnail file path within cache directory\n     * for the given type of object, its ID (including username), and theme.\n     *\n     * @param {string} objectType one of \"post\", \"comment\", etc.\n     * @param {*} objectId\n     * @param {string=} themeId style type. If null then store as default.jpg\n     * @param {string} version TBD\n     * @param {string} cacheRoot root path for the cache. If null, use default\n     *\n     * @see ~DeriveRLThumbnailCachePath\n     */\n  static DeriveThumbnailCachePath(objectType, objectId, themeId, version, cacheRoot = null) {\n    if (cacheRoot == null) { cacheRoot = this.CACHE_ROOT; }\n    const cachePrefix = `${cacheRoot}/${this.THUMBNAIL_DIR}/${objectType}`;\n    // console.log(\"DeriveThumbnail: objectId: \", objectId);\n    const objRootPath = Util.FilePathDelim3_Min9(objectId);\n    const vext = (Util.StringIsEmpty(version)) ? '' : `_${version}`;\n    const fspec = themeId\n      ? `${cachePrefix}/${objRootPath}/theme/${themeId}${vext}.jpg`\n      : `${cachePrefix}/${objRootPath}/theme/notheme${vext}.jpg`;\n\n\n    return fspec;\n  }\n\n  /**\n     * Derive post thumbnail path within cache directory\n     *\n     * @param {string} postId\n     * @param {string} cacheRoot root path for the cache. If null, use default\n     *\n     */\n  static DerivePostThumbnailCachePath(postId, cacheRoot = null) {\n    if (cacheRoot == null) { cacheRoot = this.CACHE_ROOT; }\n    const cachePrefix = `${cacheRoot}/${this.THUMBNAIL_DIR}/post`;\n    // console.log(\"DerivePostThumbnailCachePath: objectId: \", objectId);\n    const objRootPath = Util.FilePathDelim3_Min9(postId);\n    const fspec = `${cachePrefix}/${objRootPath}.jpg`;\n  }\n\n  /**\n     * Derive a image file path within cache directory.\n     *\n     * @param {string} objectType one of \"post\", etc\n     * @param {string=} userId if null, then use \"tmp\" as the container\n     * @param {string} filename should have an extension already\n     * @param {string} cacheRoot root path for the cache. If null, use default\n     * @return {string} derived filename inside cache/temp directory\n     *\n     */\n  static DeriveImageCachePath(userId, filename, cacheRoot = null) {\n    if (cacheRoot == null) { cacheRoot = this.CACHE_ROOT; }\n    if (userId == null) { userId = 'tmp'; }\n    const cachePrefix = `${cacheRoot}/images/users/${userId}`;\n    // console.log(\"DeriveThumbnail: objectId: \", objectId);\n    const brokenFilename = Util.FilePathDelim3_Min9(filename);\n    const fspec = `${cachePrefix}/${brokenFilename}`;\n\n    return fspec;\n  }\n\n  /**\n     * Derive a image file path within cache directory.\n     *\n     * @param {string} objectType one of \"image\", \"video\", etc.\n     * @param {string=} userId if null, then use \"tmp\" as the container\n     * @param {string} filename should have an extension already\n     * @param {string} cacheRoot root path for the cache. If null, use default\n     * @return {string} derived filename inside cache/temp directory\n     *\n     */\n  static DeriveUploadPath(objectType, userId, filename, cacheRoot = null) {\n    if (cacheRoot == null) { cacheRoot = this.CACHE_ROOT; }\n    if (userId == null) { userId = 'tmp'; }\n    if (objectType == null) { objectType = 'misc'; }\n    const folderPath = `${cacheRoot}/user/${userId}/upload/${objectType}`;\n    // console.log(\"DeriveThumbnail: objectId: \", objectId);\n    const brokenFilename = Util.FilePathDelim3_Min9(filename);\n    const fspec = `${folderPath}/${brokenFilename}`;\n\n    return fspec;\n  }\n\n\n  /**\n     * Process given URL and construct as absolute\n     * if it is a relative path but has an inline\n     * src provider.\n     *\n     * @param {string} urlExpr take an URL value that\n     * might be a relative path, but may have inline\n     * property \"src\" that contain provider type.\n     * @param {string} provider optional provider if known.\n     * If this is not null, then will not parse urlExpr\n     * to check for inline \"src\"\n     * @return {string} expand URL if relative, or\n     * return as-is if already absoulte\n     */\n  static AbsoluteIconURL(urlExpr, provider = null) {\n    if (urlExpr == null) { return null; }\n    const _m = `${_CLSNAME}.AbsURL`;\n    if ((provider == null) && SymbolExpr.HasProps(urlExpr)) {\n      provider = SymbolExpr.GetPropertyValue(urlExpr, 'src', null);\n    }\n    if (provider == null) { return urlExpr; } // no provider - return as-is\n\n    const path = SymbolExpr.GetSymbolName(urlExpr);\n    if (path == null) {\n      console.error(`${_m}: bad url expr: ${urlExpr}`);\n      return urlExpr;\n    }\n    let url = null;\n    switch (provider) {\n      case 'tmdb':\n        if (path.startsWith('/')) { url = `https://image.tmdb.org/t/p/w500${path}`; }\n        break;\n\n      case 'fa':\n        // console.log(`${_m}: provider \"fa\" not supported anymore.`);\n        break;\n\n      default:\n        console.log(`${_CLSNAME}: Provider unknown: ${provider}`);\n    }\n    return url || urlExpr;\n  } // AbsoluteIconURL\n\n  /**\n     * Derive an image subpath for optimal filesystem storage\n     * of a tag (category). Because there can be millions of tags,\n     * we can't just have all image files in one flag directory,\n     * so will try to \"fan-out\".\n     *\n     * @param {string} tagname string name to use to derive\n     * @param {boolean} inclRoot true to prepend with tag's\n     * root directory in cache\n     */\n  static DeriveTagIconDir(tagname, inclRoot = true) {\n    if ((tagname == null) || (tagname.length === 0)) { return null; }\n\n    // remove special characters\n    let basestr = tagname.replace(/[^a-zA-Z]/g, '');\n    if (basestr.length === 0) {\n      console.error(`${_CLSNAME}: Oops. tagname stripped to nothing: ${tagname}`);\n      basestr = tagname;  // oops\n    }\n\n    // for now, just use u9p to first 3 character as folder name\n    let dir = basestr.substring(0, 3);\n\n    if (inclRoot) { dir = `${ImageUtil.TAG_ICON_ROOT}/${dir}`; }\n\n    return dir;\n  }\n}\n\nexport default ImageUtil;\n","import i18next from \"i18next\";\nimport Cookies from \"js-cookie\";\nimport {SupportedLanguageList} from \"../../app/AppMessages\";\n// import {DEFAULT_LANG} from \"../index\";\nimport Util from \"../../core/Util\";\n\nconst DEFAULT_LANG = \"en\";\n\nconst ONE_YEAR = 365;\nconst CATCH_I18N_T = \"getter-i18n-t\";\n\nexport function setLang(nextLang, callBack) {\n  Cookies.set(\"lang\", nextLang, {expires: ONE_YEAR});\n  i18next.changeLanguage(nextLang);\n  callBack && callBack();\n}\n\nexport function getLang() {\n  const curLang = Cookies.get(\"lang\");\n\n  const isWhitelistedLang =\n    curLang &&\n    Util.GetObjectFromArrayByValue(SupportedLanguageList, \"code\", curLang);\n\n  const lang = isWhitelistedLang ? curLang : DEFAULT_LANG;\n\n  return lang;\n}\n\nexport function cacheI18nT(t) {\n  window[CATCH_I18N_T] = t;\n}\n\nexport function t(key, opt) {\n  const t = window[CATCH_I18N_T];\n  return t ? t(key, opt) : null;\n}\n","import {userConstants} from \"src/app/components/auth/_constants\";\nimport axios from \"axios\";\nimport {toast} from \"react-toastify\";\nimport {NotifMessage} from \"src/app/components/notifications/NotifMessage\";\nimport {t} from \"src/i18n/utils\";\nimport AppConsts from \"src/app/AppConsts\";\nimport {SYS_NETERR} from \"src/core/ErrorConsts\";\n\nconst handle401 = (response) => {\n  if (\n    response.status === 401 &&\n    response.data?.error?.emsg !== \"E_USER_NOTFOUND\"\n  ) {\n    toast(<NotifMessage message={t(\"getter_fe.auth.common.youLoggedOut\")} />, {\n      position: toast.POSITION.TOP_CENTER,\n      type: AppConsts.NOTIF_MESSAGE_ERROR,\n    });\n    window.location.replace(AppConsts.URL_LOGOUT);\n  }\n};\nconst handleXError = (xerror) => {\n  let errCode = xerror.getCode()().data.code;\n  if (errCode === SYS_NETERR) {\n    toast(<NotifMessage message={xerror.data.emsg} />, {\n      position: toast.POSITION.TOP_CENTER,\n      type: AppConsts.NOTIF_MESSAGE_ERROR,\n    });\n  }\n};\n\nexport default async function GAxios(\n  customConfig,\n  callBack,\n  errorCallback = null,\n  response = null,\n) {\n  if (response) {\n    handle401(response); //only handle the 401 logout.\n    handleXError(response); //handle the XError.\n\n    return;\n  }\n\n  const userInfo = JSON.parse(\n    localStorage.getItem(userConstants.LS_SESSION_INFO),\n  );\n\n  const userId = userInfo ? userInfo.userinfo?._id : null;\n  const token = userInfo ? userInfo.userinfo?.token : null;\n\n  let xAuth = !userId\n    ? `{\"user\": null, \"token\": null}`\n    : `{\"user\": \"${userId}\", \"token\": \"${token}\"}`;\n  let headers = {\n    \"Content-Type\": \"application/json\",\n    \"x-app-auth\": xAuth,\n  };\n\n  const initConfig = {\n    method: \"get\",\n    headers: headers,\n  };\n\n  let config = {...initConfig, ...customConfig};\n\n  headers = {...headers, ...customConfig.headers};\n\n  config = {...config, headers: headers};\n\n  try {\n    await axios(config)\n      .then((res) => {\n        callBack && callBack(res);\n      })\n      .catch((err) => {\n        handle401(err.response);\n        if (err.response && err.response.status >= 500) {\n          toast(\n            <NotifMessage\n              message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n            />,\n            {\n              position: toast.POSITION.TOP_CENTER,\n              type: AppConsts.NOTIF_MESSAGE_ERROR,\n            },\n          );\n          return false;\n        } else if (err.response && err.response.status === 429) {\n          // handle limit exceeded error\n\n          if (\n            err.response.data.error &&\n            err.response.data.error.code ===\n              userConstants.E_METER_LIMIT_EXCEEDED\n          ) {\n            toast(<NotifMessage message={err.response.data.error.emsg} />, {\n              position: toast.POSITION.TOP_CENTER,\n              type: AppConsts.NOTIF_MESSAGE_ERROR,\n            });\n          }\n          return false;\n        } else if (errorCallback) {\n          return errorCallback(err);\n        } else {\n          toast(\n            <NotifMessage\n              message={t(\"getter_fe.auth.errors.somethingWentWrong\")}\n            />,\n            {\n              position: toast.POSITION.TOP_CENTER,\n              type: AppConsts.NOTIF_MESSAGE_ERROR,\n            },\n          );\n          return false;\n        }\n      });\n  } catch (error) {\n    errorCallback && errorCallback(error);\n  }\n}\n","\n\nconst EC = {\n    NO_ERROR : 0,\n    UNKNOWN_ERROR : 1,\n    SYS_ERROR : 2,\n    AUTH_FAILED: 11\n}\n\nconst EM_EN = [ ];\n\nEM_EN[EC.NO_ERROR] = \"No Error\";\nEM_EN[EC.UNKNOWN_ERROR] = \"Unknown Error\";\nEM_EN[EC.SYS_ERROR] = \"System Error\";\n\nEM_EN[EC.AUTH_FAILED] = \"Login Incorrect\";\n\n\nexport class Error {\n\n\n    /**\n     * Represents an error state\n     * \n     * @constructor\n     * @param props outside (configuration) properties to use\n     */\n    constructor(code, ...args) {\n    \n        this.code = code;\n\n        this.args = args;\n    }\n\n    getCode() {\n        return this.code;\n    }\n\n    getMessageTemplate() {\n        let msgTpl = EM_EN[this.code];\n        return msgTpl ? msgTpl : EM_EN[EC.UNKNOWN_ERROR];\n    }\n\n    getMessage() {\n        return this.getMessageTemplate();    // for now\n    }\n\n    toString() {\n        return \"ERROR[\" + this.code + \"]: \" + this.getMessage();\n    }\n\n\n    // *************************************************************\n    //\n    // Class methods. Any methods that can be used as helper\n    // for generic JSON data structure should be implemented here\n    // and called by instance methods.\n    //\n    // *************************************************************\n\n    static AUTH_FAILED(...args) {\n        return new Error(EC.AUTH_FAILED, args);\n    }\n\n}\n\nexport default Error;\n\n","// \"Helper\" class for all of frontend / ui for portal app\n\n// import React from 'react';\nimport ReactDOM from \"react-dom\";\nimport JSON5 from \"json5\";\n\nimport ObjectBase from \"../core/ObjectBase\";\nimport Global from \"./Global\";\nimport Session from \"./Session\";\nimport {Error} from \"./Error\";\nimport XUserCred from \"../core/model/user/XUserCred\";\n\nimport {createBrowserHistory, createMemoryHistory} from \"history\";\nimport XUserInfo from \"../core/model/user/XUserInfo\";\nimport Util from \"../core/Util\";\nimport {FeatureConsts} from \"../core/model/ModelConsts\";\nimport {getLang} from \"../i18n/utils\";\n\nimport {COOKIE_SESSION, COOKIE_DOMAIN} from \"../EnvConfig\";\nimport {APP_WEB_DOMAIN} from \"../app/AppConsts\";\n\nconst getURL = function (host, path) {\n  if (host) return host + path;\n  else return \"http://localhost:8080\" + path;\n};\n\nconst _CLSNAME = \"Portal\";\n\nconst PROP_APPSVC = \"appContext\";\nconst PROP_APPCOM = \"appPanel\";\n\n/**\n * Class to represent the website. It has services focus\n * on access to the website (e.g., login/logout), while\n * the app-specific objects like GetterService focus\n * on Getter-specific below-UI services.\n */\nclass Portal extends ObjectBase {\n  /**\n   * Represents a single instance.\n   * @constructor\n   * @param props outside (configuration) properties to use\n   */\n  constructor(clsname = _CLSNAME) {\n    super(clsname);\n    this.class = Portal;\n    this.classname = clsname;\n\n    // set to true only after applyConfig\n    this.intialized = false;\n\n    this.created = Date.now();\n    this.session = new Session(\"fr\" + this.created);\n    // console.log(\n    //   \"********** NEW PORTAL INSTANCE (\" + this.created + \") **********\"\n    // );\n\n    this._isProduction = null;\n    this._isDevelopment = null;\n\n    this.nm = {}; // registry for NetworkManager instances\n    this.om = {}; // register for ObjectManager instances\n  }\n\n  isInitialized() {\n    return this.initialized;\n  }\n\n  /**\n   * Check if currently running on server. If so,\n   * this means it's being run during SSR.\n   */\n  isServer() {\n    return Global.IsServer();\n  }\n\n  /**\n   * Are we running inside a web browser right now?\n   * This is indicated by checking if \"windows\" and\n   * \"document\" global variables exist.\n   */\n  // isBrowser() {\n  //   return Global.IsBrowser();\n  // }\n\n  isProduction() {\n    if (this._isProduction == null) {\n      this._isProduction =\n        Global.IsProductionBuild() && this.isProductionHost();\n    }\n    return this._isProduction;\n  }\n\n  isDevelopment() {\n    if (this._isDevelopment == null) {\n      this._isDevelopment =\n        Global.IsDevelopmentBuild() || this.isDevelopmentHost();\n    }\n    return this._isDevelopment;\n  }\n\n  isHttpsEnabled() {\n    return this.httpsEnabled;\n  }\n\n  /**\n   * Is this component part of the Single Page Application?\n   */\n  // isSPA() {\n  //   return Global.IsSPA();\n  // }\n\n  isLocalhost() {\n    return this.serverHost === \"localhost\";\n  }\n\n  isDevelopmentHost() {\n    return this.serverHost.indexOf(\"dev\") !== -1;\n  }\n\n  isProductionHost() {\n    return (\n      this.serverHost.indexOf(APP_WEB_DOMAIN) !== -1 &&\n      !this.isDevelopmentHost()\n    );\n  }\n\n  getFacebookAppID() {\n    return Global.GetFacebookAppID();\n  }\n\n  /**\n   * Return Google Analytics ID. Note, this will return\n   * different value depends on host/production build.\n   *\n   * @return {string} ID if setup, null if not setup for the env.\n   */\n  getGoogleAnalyticsID() {\n    if (this.isProductionHost()) return \"UA-152597428-1\";\n    else if (this.isDevelopmentHost()) return \"UA-152597428-2\";\n    else if (this.isLocalhost()) return \"UA-152597428-3\";\n\n    return null;\n  }\n\n  /**\n   * @return {string}\n   */\n  getGoogleAPIKey() {\n    // return '00a8689437ec2ca6c291cc67cbf070d1abc478ab';\n    // return \"AIzaSyB-KGc8lUuPkHGUmkgfDjeypM5EFr5DliQ\";\n    return \"\";\n  }\n\n  // special set during configuration where regular port is set to 80 and there\n  // is a second port for SSL\n  _setServerPortSSL(port) {\n    this.serverPortSSL = port;\n  }\n\n  getServerHost(defaultHost = \"localhost\") {\n    return this.serverHost ? this.serverHost : defaultHost;\n  }\n\n  getServerPort(defaultPort = 3000) {\n    return this.serverPort ? this.serverPort : defaultPort;\n  }\n  getServerPortSSL(defaultPort = 3443) {\n    return this.serverPortSSL ? this.serverPortSSL : defaultPort;\n  }\n\n  getServerProtocol(defaultProt = \"http\") {\n    return this.serverProt ? this.serverProt : defaultProt;\n  }\n\n  getCacheDir(defaultDir = \"/defCache\") {\n    return this.cacheDir ? this.cacheDir : defaultDir;\n  }\n\n  /**\n   * Internal: set parts of server URL. This should be done\n   * during #applyConfig().\n   * However, it is best to call this upon entry to the server\n   * and receiving the first request, or call it at the\n   * top level React component (App) to ensure using the\n   * right URL prefix (e.g., https, port #)\n   *\n   * @see #getSiteURL\n   */\n  _setServerURL(protocol, hostname, port, override = false) {\n    const _m = `_setServerURL`;\n    if (this.serverURL != null && override === false) {\n      this.error(_m, \"override will not happen. Current URL:\", this.serverURL);\n      return false;\n    }\n    let props = this;\n    if (hostname) props.serverHost = hostname;\n    if (port) props.serverPort = port;\n    if (protocol) props.serverProt = protocol;\n    // this.log(_m, `Registered protocol=${protocol}  host=${hostname}  port=${port}`);\n    this.serverURL = null; // force re-construct in #getSiteURL\n    return true;\n  }\n\n  /**\n   * Return Site's URL, which can be used to give\n   * to external sources.\n   * NOTE: This method just returns \"serverURL\" variable\n   * if set. If not set, the it defaults to configuration's\n   * variables. But the best is for the highest level\n   * component (or one with \"req\") to call _setSiteURL()\n   * and set each component definitively.\n   *\n   * @see #_setSiteURL\n   */\n  getServerURL() {\n    if (this.serverURL == null) {\n      let doHttps = this.httpsEnabled ? this.httpsEnabled : false;\n      let protocol = this.getServerProtocol();\n      let hostname = this.getServerHost();\n      let port = this.getServerPort().toString();\n      let portSSL = this.getServerPortSSL().toString();\n\n      // override if HTTPS\n      if (doHttps === true) {\n        protocol = \"https\";\n        if (portSSL) port = portSSL;\n      }\n\n      if (port === \"80\" && !doHttps) port = \"\";\n      else if (port === \"443\" && doHttps) port = \"\";\n      if (port !== \"\") port = \":\" + port;\n      this.serverURL = protocol + \"://\" + hostname + port;\n      // this.log(\"getSiteURL\", `Derived URL: ${this.serverURL}`);\n    }\n    return this.serverURL;\n  }\n\n  /**\n   * Site URL prefix is to generate link for external access through\n   * portal. This is different than server URL when there is a load balancer.\n   *\n   * @param {string} urlString\n   */\n  _setSiteURL(urlString) {\n    this.siteURL = urlString;\n  }\n\n  /**\n   * Return the site URL that is accessible from outside, not internal\n   * URL.\n   */\n  getSiteURL() {\n    return this.siteURL ? this.siteURL : this.getServerURL();\n  }\n\n  // system services layers\n\n  setNetworkManager(nm, label = \"default\") {\n    this.nm[label] = nm;\n  }\n\n  getNetworkManager(label = \"default\") {\n    return this.nm[label];\n  }\n\n  setObjectManager(om, label = \"default\") {\n    this.om[label] = om;\n  }\n\n  getObjectManager(label = \"default\") {\n    return this.om[label];\n  }\n\n  // Session related methods\n\n  getSession() {\n    return this.session;\n  }\n\n  setApp(panel, context) {\n    this[PROP_APPCOM] = panel;\n    this[PROP_APPSVC] = context;\n  }\n\n  /**\n   *\n   * @param {ClientAppService} serviceObj\n   */\n  setAppService(serviceObj) {\n    this[PROP_APPSVC] = serviceObj;\n    serviceObj.setPortal(this); // bi-dir reference\n  }\n\n  getAppPanel() {\n    return this[PROP_APPCOM];\n  }\n\n  /** @return {Ranker} */\n  getAppService() {\n    return this[PROP_APPSVC];\n  }\n\n  /**\n   * Return user credential object.\n   *\n   * @return {XUserCred}\n   */\n  getUserCred() {\n    return XUserCred.Create(this.getUserToken(), this.getUserId());\n  }\n\n  getUserCredFunction() {\n    return this.getUserCred.bind(this);\n  }\n\n  /**\n   * Dont' use this to determine if user is logged in.\n   * Use 'userLoggedIn()'\n   *\n   * @return {string}\n   *\n   * @see ~userLoggedIn\n   */\n  getUserId() {\n    return this.session.getUserId();\n  }\n\n  /** @return {string} */\n  getUsername() {\n    return this.session.getUsername();\n  }\n\n  /**\n   * Return stored user token\n   */\n  getUserToken() {\n    return this.session.getUserToken();\n  }\n\n  getAvatarUrl() {\n    return this.session.getAvatarUrl();\n  }\n\n  /**\n   * Return user's \"nickname\", which is portal's screen name\n   * @param {boolean} useUsername true to use username if nick name is null\n   * @return {string}\n   */\n  getNickname(useUsername = true) {\n    let name = this.session.getNickname();\n    if (name == null && useUsername === true) name = this.getUsername();\n    if (!name) name = \"GUEST\";\n    return name;\n  }\n\n  /** @return {string} */\n  getCookieName(defaultVal = null) {\n    return this.session.getCookieSessionName(defaultVal);\n  }\n\n  /** @return {string} */\n  getWebsiteUrl() {\n    return this.getSiteURL();\n  }\n\n  /**\n   * Set user's information in session. This\n   * is likely the first time the user is\n   * set to session.\n   *\n   * @param {XUserInfo} userInfo\n   * @param {boolean=} rememberMe\n   *\n   * @see #updateUserInfo\n   */\n  _setUserInfo(userInfo, rememberMe = true) {\n    this.assertNotNull(userInfo, \"_sui\");\n    this.getAppService().setUserInfo(userInfo, rememberMe);\n  }\n\n  /**\n   * Update user's information in session. This\n   * is likely updating some stats for the logged\n   * in user\n   *\n   * @param {XMUserInfo} userInfo\n   *\n   * @see #_setUserInfo\n   */\n  updateUserInfo(userInfo) {\n    this.assertNotNull(userInfo, \"uui\");\n    this.getAppService().updateUserInfo(userInfo);\n  }\n\n  /**\n   * Update user's stats in session.\n   *\n   * @param {XMUserStats} userStats\n   *\n   * @see #_setUserInfo\n   */\n  updateUserStats(userStats) {\n    this.assertNotNull(userStats, \"uus\");\n    this.session.updateUserStats(userStats);\n  }\n\n  _clearUserInfo() {\n    // Clear user info and replace it with Guest\n    this.session.resetUserInfo();\n  }\n\n  getUserInfo(label, defaultVal = null) {\n    return this.session.getUserInfo(label, defaultVal);\n  }\n\n  userIsGod() {\n    return this.session.userIsGod();\n  }\n\n  userHasAdminRole() {\n    return this.session.userHasAdminRole();\n  }\n\n  userHasSysAdminRole() {\n    return this.session.userHasSysAdminRole();\n  }\n\n  userHasModeratorRole() {\n    return this.session.userHasModeratorRole();\n  }\n\n  /**\n   * Answers whether the user can preview features.\n   *\n   * @return {boolean} true if user has given\n   * the privledge to preview\n   */\n  userHasPreviewFeatures() {\n    return this.session.userHasPreviewFeatures();\n  }\n\n  /**\n   * Initialize Browser History.\n   *\n   * @param url optional root path\n   * @param override true to override existing, false to skip\n   * @return null if not created (existing), otherwise new instance is returned\n   * @see #getBrowserHistory\n   */\n  initBrowserHistory(url = \"/\", override = false) {\n    let history = this.session.get(\"browserHistory\");\n    if (history && override === false) return null;\n\n    if (this.isServer())\n      history = createMemoryHistory({\n        initialEntries: [url], // for now...\n      });\n    else history = createBrowserHistory();\n    this.session.set(\"browserHistory\", history);\n\n    return history;\n  }\n\n  setBrowserHistory(history) {\n    this.session.set(\"browserHistory\", history);\n  }\n\n  getBrowserHistory() {\n    let history = this.session.get(\"browserHistory\");\n    return history ? history : this.initBrowserHistory();\n  }\n\n  /**\n   * Refresh App with given playList, or if null go to server and\n   * fetch latest.\n   * @param (array) list of players to use by App, null to get from server\n   */\n  refreshApp() {\n    let routes = this.getAppService().getRoutes(this.getBrowserHistory());\n    ReactDOM.render(routes, document.getElementById(\"root\"));\n  }\n\n  /**\n   * Set/Update portal properties from the given config object\n   *\n   * @param {{}} props object to pick properties from\n   */\n  applyConfig(props) {\n    this.apiHost = props.apiHost ? props.apiHost : \"http://127.0.0.1:999\";\n    this.apiGetUserList = getURL(this.apiHost, \"/api/users\");\n    this.apiUserCRUD = getURL(this.apiHost, \"/api/user\");\n    this.apiUserLogin = getURL(this.apiHost, \"/s/auth_up\");\n    this.apiUserSignup = getURL(this.apiHost, \"/u/signup\");\n    this.apiUserLogout = getURL(this.apiHost, \"/s/logout\");\n    this.apiUserProfileCRUD = getURL(this.apiHost, \"/api/uprofile\");\n\n    this.cacheDir = props.cacheDir ? props.cacheDir : \"\";\n    this.title = props.title ? props.title : \"No Name App\";\n\n    this.httpsEnabled = props.httpsEnabled\n      ? JSON5.parse(props.httpsEnabled)\n      : false;\n\n    this._setServerURL(\n      props.serverProt,\n      props.serverHost,\n      props.serverPort,\n      true,\n    );\n\n    if (props.appUrl) this._setSiteURL(props.appUrl);\n\n    this._setServerPortSSL(props.serverPortSSL);\n\n    let cookieName = props[COOKIE_SESSION];\n    let cookieDomain = props[COOKIE_DOMAIN];\n    if (cookieName && this.session)\n      this.session.trackCookieSessionName(cookieName);\n    if (cookieDomain && this.session)\n      this.session.trackCookieDomainName(cookieDomain);\n    else this.error(\"applyConfig\", \"No session object so can't set cookie\");\n\n    this.initialized = true;\n    // this.log(\"applyConfig\", \"Portal INITIALIZED\");\n  }\n  apiUserRUD(userId) {\n    return this.apiUserCRUD + \"/\" + userId;\n  }\n\n  apiCall(method, url, data, resultsHandler, errorHandler) {\n    var err = {};\n    // var portal = this;\n    let processResponse = function (response) {\n      // portal.log(\"apiCall\", \"dump response:\");\n      // portal.log(\"apiCall\", response);\n      var ok = response.ok;\n      // var status = response.status;\n      if (!ok) {\n        err[response] = response;\n        throw err;\n      }\n\n      return response.json();\n    };\n\n    let p1 = fetch(url, {\n      method: method,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    });\n    let p2 = p1\n      .then((response) => processResponse(response))\n      .catch(url, errorHandler);\n    p2.then((result) => resultsHandler(result)).catch(url, errorHandler);\n  }\n  apiGetCall(url, data, resultsHandler, errorHandler) {\n    return this.apiCall(\"get\", url, data, resultsHandler, errorHandler);\n  }\n  apiPostCall(url, data, resultsHandler, errorHandler) {\n    return this.apiCall(\"post\", url, data, resultsHandler, errorHandler);\n  }\n\n  /**\n   * Explicitly logout user (clearing userInfo in session)\n   */\n  _logoutUser() {\n    // trace/journal user logout?\n    // this.log(\"_setLoggedOutUser\", \"Logout User request received.\");\n    this.session.clearUserInfo();\n    this.getAppService().resetUser();\n  }\n\n  userLoggedIn() {\n    return this.session.userLoggedIn();\n  }\n\n  /**\n   * Legacy\n   */\n  isAuthenticated() {\n    return this.session.userLoggedIn();\n  }\n\n  /**\n   * Login a user.\n   *\n   * Why not in GetterService? The original intention is each\n   * instance of app service can represent an \"app\", and therefore\n   * there can be multiple instances if there are multiple \"apps\"\n   * or sub-apps. The login/logout is specific to the portal \"shell\".\n   *\n   * But this can be debated and changed if assumption is wrong.\n   *\n   *\n   * @param userInfo record tracks different login info type,\n   * including 'email', 'username', '_id', etc\n   *\n   * @param {XUserInfo} userInfo\n   * @param {XAuthInfo} authInfo\n   * @param {boolean=} rememberMe\n   *\n   */\n  async login(userInfo, username, pwd, token, rememberMe, callback) {\n    const _m = \"login\";\n\n    let content;\n    if (username.indexOf(\"@\") === -1) {\n      content = {\n        username: username.toLowerCase(),\n        pwd: pwd,\n        token: token,\n      };\n    } else {\n      content = {\n        email: username.toLowerCase(),\n        pwd: pwd,\n        token: token,\n      };\n    }\n\n    let processError = (where, error) => {\n      this.error(_m, where + \" reported error: \", error);\n      if (callback) callback(error, null);\n    };\n    let processResult = (authResult) => {\n      let err = null;\n\n      // this.log(_m, \"got results from server: \", JSON.stringify(authResult));\n      let authenticated = authResult[\"token\"];\n      let loadedUserInfo = authResult[\"user\"];\n      // let hasToken = XUserInfo.GetUserToken(authResult, null) != null;\n      if (!authenticated) {\n        // this.log(_m, \"Auth FAILED with userinfo:\", userInfo);\n        err = Error.AUTH_FAILED();\n      } else {\n        // this.log(_m, \"Authentication SUCCEEDED for user: \", userinfo_str);\n\n        if (userInfo) {\n          let inIconUrl = XUserInfo.GetIconUrl(userInfo, null);\n          let loadedIconUrl = XUserInfo.GetIconUrl(loadedUserInfo, null);\n          if (\n            !Util.StringIsEmpty(inIconUrl) &&\n            Util.StringIsEmpty(loadedIconUrl)\n          ) {\n            XUserInfo.SetIconUrl(loadedUserInfo, inIconUrl);\n          }\n          XUserInfo.SetUserToken(loadedUserInfo, authenticated);\n        }\n\n        // Remember in session; sets cookie\n        this._setUserInfo(loadedUserInfo, rememberMe);\n      }\n      if (callback) callback(err, loadedUserInfo);\n    };\n\n    let url = this.apiUserLogin;\n    try {\n      let result = await this.getAppService().requestPOST(url, content);\n      // result = result ? Util.DecryptJSON(result) : null;\n      return processResult(result);\n    } catch (err) {\n      console.log(err);\n      return processError(null, err);\n    }\n\n    // this.apiPostCall(this.apiUserLogin, content, processResult, processError);\n  }\n\n  /**\n   * signup a user.\n   *\n   * Why not in GetterService? The original intention is each\n   * instance of app service can represent an \"app\", and therefore\n   * there can be multiple instances if there are multiple \"apps\"\n   * or sub-apps. The login/logout is specific to the portal \"shell\".\n   *\n   * But this can be debated and changed if assumption is wrong.\n   *\n   *\n   * @param userInfo record tracks different login info type,\n   * including 'email', 'username', '_id', etc\n   *\n   * @param {XUserInfo} userInfo\n   * @param {XAuthInfo} authInfo\n   * @param {boolean=} rememberMe\n   *\n   */\n  async signup(\n    userInfo,\n    username,\n    pwd,\n    lang,\n    email,\n    code,\n    token,\n    rememberMe,\n    callback,\n  ) {\n    const _m = \"login\";\n\n    const content = {\n      userinfo: {username: username, email: email, lang: lang},\n      authinfo: {\n        pwd: pwd,\n      },\n      verifycode: code,\n      token: token,\n    };\n    let processError = (where, error) => {\n      this.error(_m, where + \" reported error: \", error);\n      if (callback) callback(error, null);\n    };\n    let processResult = (authResult) => {\n      let err = null;\n\n      // this.log(_m, \"got results from server: \", JSON.stringify(authResult));\n      let authenticated = authResult[\"token\"];\n      let loadedUserInfo = authResult[\"user\"];\n      // let hasToken = XUserInfo.GetUserToken(authResult, null) != null;\n      if (!authenticated) {\n        // this.log(_m, \"Auth FAILED with userinfo:\", userInfo);\n        err = Error.AUTH_FAILED();\n      } else {\n        // this.log(_m, \"Authentication SUCCEEDED for user: \", userinfo_str);\n\n        if (userInfo) {\n          let inIconUrl = XUserInfo.GetIconUrl(userInfo, null);\n          let loadedIconUrl = XUserInfo.GetIconUrl(loadedUserInfo, null);\n          if (\n            !Util.StringIsEmpty(inIconUrl) &&\n            Util.StringIsEmpty(loadedIconUrl)\n          ) {\n            XUserInfo.SetIconUrl(loadedUserInfo, inIconUrl);\n          }\n          XUserInfo.SetUserToken(loadedUserInfo, authenticated);\n        }\n\n        // Remember in session; sets cookie\n        this._setUserInfo(loadedUserInfo, rememberMe);\n      }\n      if (callback) callback(err, loadedUserInfo);\n    };\n\n    let url = this.apiUserSignup;\n    try {\n      let result = await this.getAppService().requestPOST(url, content);\n      // result = result ? Util.DecryptJSON(result) : null;\n      return processResult(result);\n    } catch (err) {\n      console.log(err);\n      return processError(null, err);\n    }\n\n    // this.apiPostCall(this.apiUserLogin, content, processResult, processError);\n  }\n\n  /**\n   * signup a user.\n   *\n   * Why not in GetterService? The original intention is each\n   * instance of app service can represent an \"app\", and therefore\n   * there can be multiple instances if there are multiple \"apps\"\n   * or sub-apps. The login/logout is specific to the portal \"shell\".\n   *\n   * But this can be debated and changed if assumption is wrong.\n   *\n   *\n   * @param userInfo record tracks different login info type,\n   * including 'email', 'username', '_id', etc\n   *\n   * @param {XUserInfo} userInfo\n   * @param {XAuthInfo} authInfo\n   * @param {boolean=} rememberMe\n   *\n   */\n  async claimSignup(\n    userInfo,\n    url,\n    username,\n    pwd,\n    lang,\n    email,\n    rememberMe,\n    callback,\n  ) {\n    const _m = \"login\";\n\n    const content = {\n      email,\n      pwd,\n    };\n    let processError = (where, error) => {\n      this.error(_m, where + \" reported error: \", error);\n      if (callback) callback(error, null);\n    };\n    let processResult = (authResult) => {\n      let err = null;\n\n      // this.log(_m, \"got results from server: \", JSON.stringify(authResult));\n      let authenticated = authResult[\"token\"];\n      let loadedUserInfo = authResult[\"user\"];\n      // let hasToken = XUserInfo.GetUserToken(authResult, null) != null;\n      if (!authenticated) {\n        // this.log(_m, \"Auth FAILED with userinfo:\", userInfo);\n        err = Error.AUTH_FAILED();\n      } else {\n        // this.log(_m, \"Authentication SUCCEEDED for user: \", userinfo_str);\n\n        if (userInfo) {\n          let inIconUrl = XUserInfo.GetIconUrl(userInfo, null);\n          let loadedIconUrl = XUserInfo.GetIconUrl(loadedUserInfo, null);\n          if (\n            !Util.StringIsEmpty(inIconUrl) &&\n            Util.StringIsEmpty(loadedIconUrl)\n          ) {\n            XUserInfo.SetIconUrl(loadedUserInfo, inIconUrl);\n          }\n          XUserInfo.SetUserToken(loadedUserInfo, authenticated);\n        }\n\n        // Remember in session; sets cookie\n        this._setUserInfo(loadedUserInfo, rememberMe);\n      }\n      if (callback) callback(err, loadedUserInfo);\n    };\n\n    try {\n      let result = await this.getAppService().requestPOST(url, content);\n      // debugger\n      // result = result ? Util.DecryptJSON(result) : null;\n      return processResult(result);\n    } catch (err) {\n      // debugger\n      console.log(err);\n      return processError(null, err);\n    }\n\n    // this.apiPostCall(this.apiUserLogin, content, processResult, processError);\n  }\n\n  /**\n   * User logout. User info will be cleared from\n   * session (and cookie).\n   *\n   * @param {string} userId\n   * @callback\n   */\n  async logout(userId, callback) {\n    if (userId == null) userId = this.getUserId();\n    // this.log(\"logging out: \", userId);\n\n    // clear session first in case of network problem\n    this._logoutUser();\n\n    var helper = this;\n    var logoutData = {\n      userId: userId,\n    };\n    let processError = function (where, error) {\n      helper.error(where + \" reported error: \", error);\n      if (callback) callback(error, null);\n    };\n    let processResult = function (jsonResult) {\n      let err = null;\n\n      // helper.log(\"logout\", \"got results from server: \", jsonResult);\n      // No matter what, clear user and cookie. Better safe than sorry\n      helper._clearUserInfo();\n      if (callback) callback(err, jsonResult);\n    };\n\n    this.apiPostCall(\n      this.apiUserLogout,\n      logoutData,\n      processResult,\n      processError,\n    );\n  }\n\n  /**\n   * TODO: Move to Ranker.js like signupUser()\n   *\n   * @param {*} userId\n   * @param {*} changeRules\n   * @param {*} callback\n   */\n  updateUser(userId, changeRules, callback) {\n    var helper = this;\n    this.log(\n      \"updateUser\",\n      \"Updating with the following change actions: \",\n      changeRules,\n    );\n    let processResult = function (jsonResult) {\n      let err = null;\n\n      helper.log(\"updateUser: got results from server: \", jsonResult);\n      if (callback) callback(err, jsonResult);\n    };\n    let msgBody = {userId: userId, rules: changeRules};\n    let p1 = fetch(this.apiUserRUD(userId), {\n      method: \"put\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(msgBody),\n    });\n    let p2 = p1.then((response) => response.json());\n    p2.then((result) => processResult(result));\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n   * @return {Portal}\n   */\n  static CreateNew() {\n    let p = new Portal();\n    if (Portal.instance == null) Portal.instance = p;\n    return p;\n  }\n\n  /**\n   * @return {Portal}\n   */\n  static GetInstance() {\n    return Portal.instance;\n  }\n\n  static CheckIn() {\n    return true;\n  }\n}\n\nexport default Portal;\n","import Util from './Util';\nimport {\n  API_TYPE_API,\n  API_TYPE_SVC,\n  API_TYPE_SYS,\n  API_TYPE_USER,\n  XObjectProps\n} from './model/ModelConsts';\n\n\n// -------- Fetch parameters: Results inclusion\nexport const PARAM_INCL = 'incl';\nexport const INCL_POSTS = 'posts';\nexport const INCL_POSTSTATS = 'poststats';\nexport const INCL_USERINFO = 'userinfo';\nexport const INCL_USERSTATS = 'userstats';\nexport const INCL_COMMENTS = 'comments';\nexport const INCL_COMMENTSTATS = 'commentstats';\nexport const INCL_ALL_STATS = 'stats';\nexport const INCL_FOLLOWINGS = 'followings';\nexport const INCL_FOLLOWERS = 'followers';\nexport const INCL_HASHTAGS = '#';\nexport const INCL_HASHTAGINFO = 'htinfo';\nexport const INCL_USERTAGS = '@';\nexport const INCL_ALLPARENTS = 'parents';\nexport const INCL_LIKED = 'liked';\nexport const INCL_SHARED = 'shared';\n\n// -------- Fetch parameters: Results exclusion\nexport const EXCL_DELETED = 'deleted';\nexport const EXCL_UNSHARED = 'unshared';\nexport const EXCL_UNLIKED = 'unliked';\n\n// --------- Old Style (to be phased out)\nexport const INCL_STATS = 'incl_stats';\nexport const INCL_REFOBJS = 'incl_refobjs';\nexport const INCL_OBJ = 'incl_obj';\nexport const INCL_TAGINFO = 'catObjs';\n\n// -------- Search parameters: search type\nexport const SEARCH_TYPE = 'stype';\nexport const SEARCH_TAGTAGS = 'tagtags';\nexport const SEARCH_MAINTAGS = 'intag';\nexport const SEARCH_KWDTAGS = 'kwdtags';\nexport const SEARCH_EXTENDED = 'x';\nexport const SEARCH_TYPE_VALUES = [SEARCH_TAGTAGS, SEARCH_MAINTAGS, SEARCH_KWDTAGS];\n\n// --------- Filter parameters\n\nexport const FILTER_LANGUAGE_PREF = 'lang';\nexport const FILTER_TOPICS = 'topics';\n\n// ---------- CRUD parameters ------------\nexport const NEW_VERSION = 'newver';\nexport const ALL_VERSIONS = 'allvers';\nexport const VISIBILITY = 'vis';\n\nconst OPTION_DELIM = '|';\n\n\n/** Search tags and return all its associated tags */\n// export const TAG2TAGS = \"tag2tags\";\n\n/**\n * API utilities and declared Parameters used by\n * client side and processed on the server side\n */\nclass API {\n  // static get ENTRY_TYPE_SYS() { return API_TYPE_SYS; }\n  // static get ENTRY_TYPE_USER() { return API_TYPE_USER; }\n  // static get ENTRY_TYPE_API() { return API_TYPE_API; }\n  // static get ENTRY_TYPE_SVC() { return API_TYPE_SVC; }\n\n  // General\n  static get USERID() { return 'user_id'; }\n  static get USERNAME() { return 'username'; }\n\n  static get OPTION_DELIM() { return OPTION_DELIM; }\n  static get PARAM_INCL() { return PARAM_INCL; }\n  static get PARAM_CATEGORIES() { return 'cats'; }\n  static get PARAM_FEEDPREFIX() { return 'fp'; }\n\n  // Constants and access selectors for API calls\n  // static get INCL_ALL_STATS() { return INCL_ALL_STATS; }\n  static get INCL_STATS() { return INCL_ALL_STATS; }\n  static get INCL_POSTS() { return INCL_POSTS; }\n  static get INCL_POSTSTATS() { return INCL_POSTSTATS; }\n  static get INCL_USERINFO() { return INCL_USERINFO; }\n  static get INCL_USERSTATS() { return INCL_USERSTATS; }\n  static get INCL_COMMENTS() { return INCL_COMMENTS; }\n  static get INCL_COMMENTSTATS() { return INCL_COMMENTSTATS; }\n  static get INCL_FOLLOWINGS() { return INCL_FOLLOWINGS; }\n  static get INCL_FOLLOWERS() { return INCL_FOLLOWERS; }\n  static get INCL_HASHTAGS() { return INCL_HASHTAGS; }\n  static get INCL_HASHTAGINFO() { return INCL_HASHTAGINFO; }\n  static get INCL_USERTAGS() { return INCL_USERTAGS; }\n  static get INCL_ALLPARENTS() { return INCL_ALLPARENTS; }\n  static get INCL_LIKED() { return INCL_LIKED; }\n  static get INCL_SHARED() { return INCL_SHARED; }\n\n  static get EXCL_DELETED() { return EXCL_DELETED; }\n  static get EXCL_UNSHARED() { return EXCL_UNSHARED; }\n  static get EXCL_UNLIKED() { return EXCL_UNLIKED; }\n\n  static get INCL_REFOBJS() { return INCL_REFOBJS; }\n\n  static get FILTER_LANGUAGE_PREF() { return FILTER_LANGUAGE_PREF; }\n  static get FILTER_TOPICS() { return FILTER_TOPICS; }\n\n  static get MAIN_DATA() { return XObjectProps.MAIN_DATA; }\n  static get AUX_DATA() { return XObjectProps.AUX_DATA; }\n  static get AUX_DATA_STATS() { return XObjectProps.AUX_DATA_STATS; }\n  static get NEW_VERSION() { return NEW_VERSION; }\n  static get ALL_VERSIONS() { return ALL_VERSIONS; }\n  static get VISIBILITY() { return VISIBILITY; }\n  static get SEARCH_MAINTAGS() { return SEARCH_MAINTAGS; }\n\n  static get SORT_BY() { return 'sort'; }\n  static get USER_ID() { return 'user_id'; }\n  static get USER_IDS() { return 'user_ids'; }\n  static get BATCH_SIZE() { return 'max'; }\n  static get OFFSET() { return 'offset'; }\n  static get MAX() { return 'max'; }\n  static get START_TS() { return 'startts'; }\n  static get END_TS() { return 'endts'; }\n  static get DIRECTION() { return 'dir'; }\n  static get DIRECTION_FORWARD() { return 'fwd'; }\n  static get DIRECTION_REVERSE() { return 'rev'; }\n\n  // Alerts related\n  static get ALERT_IDS() { return 'alert_ids'; }\n  static get READ_TS() { return 'read_ts'; }\n  static get READ_MEDIUM() { return 'read_medium'; }\n  static get DONE_TS() { return 'done_ts'; }\n  static get DONE_METHOD() { return 'done_method'; }\n\n  // Passwords\n  static get CURRENT_PASSWORD() { return 'cur_pwd'; }\n  static get NEW_PASSWORD() { return 'new_pwd'; }\n\n  // --------------- PARAMETER RELATED UTILITIES ----------------------\n\n  /**\n   * Check options string and report if the given label is in that optons\n   * string.\n   *\n   * @param {string} optionString\n   * @param {string} label\n   * @param {string} label2 secodnary label (just in case caller meant for HasOptions)\n   * @return {boolean}\n   */\n  static HasOption(optionString, label, label2) {\n    return Util.HasValueInValuesString(optionString, label, label2, OPTION_DELIM, true);\n  }\n\n  /**\n   * Check option string for two possible labels, and reports on either\n   * match\n   *\n   * @param {string} optionString\n   * @param {string} label1\n   * @param {string=} label2\n   * @return {boolean}\n   */\n  static HasOptions(optionString, label1, label2) {\n    return Util.HasValueInValuesString(optionString, label1, label2, OPTION_DELIM, true);\n  }\n\n  /**\n   * Given options string 'v1|v2|v3', return ['v1', 'v2', 'v3]\n   *\n   * @param {string} optionString\n   * @param {boolean} upperCase\n   * @return {string[]}\n   */\n  static GetOptionsArray(optionString, upperCase = true) {\n    return Util.GetValuesInValuesString(optionString, OPTION_DELIM, upperCase);\n  }\n\n  /**\n   * Add an option label to existing option string. Will not add\n   * duplicates.\n   *\n   * @param {string} optionString existing string, like 'opt1|opt2|opt3'\n   * @param {string} label new label, like 'opt4'\n   * @param {boolean} upperCase\n   * @return {string} new option string result string like 'opt1|opt2|opt3|opt4'\n   */\n  static AddOption(optionString, label, upperCase = true) {\n    return Util.AddValueToValuesString(optionString, label, OPTION_DELIM, upperCase);\n  }\n\n  /**\n   * Create an option string based on array of options in indvidual strings\n   *\n   * @param {string[]} args individual string options to be concatenated\n   * @return {string} all args delimited by |\n   */\n  static CreateOptions(args) {\n    return args ? args.join(OPTION_DELIM) : '';\n  }\n\n  /**\n   *\n   * @param {string} optionString existing string, like 'opt1|opt2|opt3'\n   * @param {string} label target option like 'opt2'\n   * @param {boolean} upperCase\n   * @return {string} result option string like 'opt1|opt3'\n   */\n  static RemoveOption(optionString, label, upperCase = true) {\n    return Util.RemoveValueFromValuesString(optionString, label, OPTION_DELIM, upperCase);\n  }\n\n} // API\n\n\nexport default API;\n\n","/**\n * Represent an error record that can be passed\n * between servers and clients.\n *\n * @see ErrorCodes\n */\n\nimport XObject from './XObject';\nimport { ModelType } from './ModelConsts';\nimport { USER_BAD_TOKEN, HTTP_CLIENT_ERROR, USER_INVALID } from '../ErrorConsts';\nimport Util from '../Util';\n\n\nexport const PROP_ECODE = 'code';\nexport const PROP_EMSG = 'emsg';\nexport const PROP_ARGS = 'args';\n\nconst _CLSNAME = 'XError';\n\n/**\n * Model representation of an error, which can be\n * serialized and sent over network.\n */\nclass XError extends XObject {\n  constructor(clsname = _CLSNAME, params = null) {\n    super(clsname, params);\n    this.class = XError;\n\n    this._setTypeID();\n    // let data = this[XObject.MAIN_DATA];\n    // data[PROP_ECODE] = errCode;\n    // data[PROP_EMSG] = errMsg;\n    // data[PROP_ARGS] = null;\n    // this.setStackTrace();\n  }\n\n  /**\n   * Set a stack trace. If null, one will\n   * be created at this point of entry.\n   *\n   * @param {*} stack\n   *\n   * @see ~getStackTracek\n   */\n  setStackTrace(stack = null) {\n    if (stack == null) {\n      stack = new Error().stack;\n    }\n    this.stackTrace = stack;\n  }\n\n  /**\n   * Return a saved stack trace.\n   *\n   * @param {*} defaultVal\n   */\n  getStackTrace(defaultVal = null) {\n    return this.stackTrace ? this.stackTrace : defaultVal;\n  }\n\n  setContent(code, msg, ...args) {\n    const data = this.getData(true);\n    data[PROP_ECODE] = code;\n    this.setMessage(msg, ...args);\n  }\n\n  setMessage(msg, ...args) {\n    const data = this.getData(true);\n    data[PROP_EMSG] = String(msg);\n    data[PROP_ARGS] = args;\n  }\n\n  /**\n   *\n   * @param {string} defaultVal in case no code\n   * @return {string} error code\n   */\n  getCode(defaultVal = 'Error') {\n    const data = this.getData(false);\n    const code = data ? data[PROP_ECODE] : null;\n    return code || defaultVal;\n  }\n  /**\n   *\n   * @param {string} code\n   * @return {boolean} true if matching code\n   * @see ~isNot\n   */\n  is(code) {\n    return this.getCode() === code;\n  }\n\n  isBadTokenError() {\n    return this.getCode() === USER_BAD_TOKEN;\n  }\n\n  invalidUser() {\n    return this.getCode() === USER_INVALID;\n  }\n\n  /**\n   *\n   * @param {string} code\n   * @return {boolean} true if code doesn't match\n   * @see ~is\n   */\n  isNot(code) {\n    return this.getCode() !== code;\n  }\n\n  /**\n   * @return {string} message if any\n   */\n  getMessage() {\n    const data = this.getData(false);\n    return data ? data[PROP_EMSG] : null;\n  }\n\n  getFormattedMessage() {\n    const code = this.getCode();\n    const emsg = this.getMessage();\n    if (emsg) {\n      return `${code}: ${emsg}`;\n    }\n    return `(code=${this.getCode()})`;\n  }\n\n  getReadableMessage() {\n    // let code = this.getCode();\n    const emsg = this.getMessage();\n    if (emsg) {\n      return emsg;\n    }\n    return `(code=${this.getCode()})`;\n  }\n\n\n  toConsole() {\n    this.error(`Error(${this.getCode()})`, this.getMessage());\n  }\n  toString() {\n    return `[${this.getClassname()}]: ${this.getFormattedMessage()}`;\n  }\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n   * Check if the given type is an instance of XError\n   * @param {*} obj\n   */\n  static IsInstance(obj) {\n    return obj instanceof XError;\n  }\n\n  static GetTypeID() {\n    return ModelType.XERROR;\n  }\n\n  static FromJSON(errRec) {\n    const ecode = errRec[PROP_ECODE];\n    const errObj = new XError(ecode);\n    if (PROP_EMSG in errRec) { errObj.setMessage(errRec[PROP_EMSG], errRec[PROP_ARGS]); }\n    return errObj;\n  }\n\n  /**\n   * Construct an error object from the HTTP response object. It\n   * should contain \"status\", \"statusText\", and \"data\" which server\n   * side transmit the XError content\n   *\n   * @param {object} httpResponse\n   */\n  static FromHttpResponse(httpResponse) {\n    const edata = httpResponse.data;\n    const status = httpResponse.status;\n    const statusText = httpResponse.statusText;\n    let errObj = null;\n    if (status === HTTP_CLIENT_ERROR) {\n      if (edata) { errObj = XError.Wrap(edata); } else { errObj = XError.New(status, statusText); }\n    } else {\n      errObj = XError.New(status, statusText);\n    }\n    return errObj;\n  }\n\n  /**\n   * Convert content from standard Error object to XError\n   *\n   * @param {Error} errorObj if it's XError, will just return that\n   * @return {XError}\n   *\n   * @see ~GetCode if you only care about getting the error code (not the msg)\n   */\n  static FromError(errorObj) {\n    if (XError.IsInstance(errorObj)) { return errorObj; }\n\n    const code = (errorObj.getCode) ? errorObj.getCode() : 'Unknown';\n    const msg = (errorObj.getMessage) ? errorObj.getMessage() : String(errorObj);\n    const eobj = new XError();\n    eobj.setContent(code, msg);\n    return eobj;\n  }\n\n  /**\n   * Convert content of Error type to XError\n   *\n   * @deprecated - see FromError\n   *\n   * @param {Error} errorObj if it's XError, will just return that\n   * @return {XError}\n   *\n   * @see ~GetCode if you only care about getting the error code (not the msg)\n   */\n  static FromRequestError(errorObj) {\n    return this.FromError(errorObj);\n  }\n\n  /**\n   *\n   * @param {string} code\n   * @param {string} msg\n   * @param {boolean} setTrace true to include a stack from this call\n   */\n  static New(code, msg, setTrace = false) {\n    const eobj = new XError();\n    eobj.setContent(code, msg);\n    if (setTrace) { eobj.setStackTrace(); }\n    return eobj;\n  }\n\n  /**\n   * Attempt to retrieve error code from the given error object\n   *\n   * @param {XError?} errorObj XError or another error type\n   */\n  static GetCode(errorObj) {\n    let ecode;\n    if (XError.IsInstance(errorObj)) {\n      ecode = errorObj.getCode();\n    } else if (errorObj.getCode) {\n      ecode = errorObj.getCode();\n    } else {\n      ecode = 'Unknown';\n    }\n    return ecode;\n  }\n\n  /**\n   * Determine if the given error object that:\n   * 1) is instance of XError, and 2) has error\n   * code specified.\n   *\n   * @param {object} err error object to check\n   * @param {string} code a code string\n   * @return {boolean} true if error object has the specified code\n   */\n  static HasCode(xerr, code) {\n    const err = XError.Unwrap(xerr);\n    if (err == null) { return false; }\n\n    // if (XError.IsInstance(xerr))\n    //     return xerr.is(code);\n    try {\n      if (code == null) { console.trace(`${_CLSNAME}.HasCode: null code, err=${JSON.stringify(err)}`); }\n\n      if (err && err.hasOwnProperty(PROP_ECODE)) { return err[PROP_ECODE] === code; } else if (Util.NotNull(err.getCode)) { return err.getCode() === code; }\n    } catch (ee) {\n      console.log(ee);\n    }\n    return false;\n  } // HasCode\n\n  static IsError(err) {\n    const xerr = XError.Wrap(err, null);\n    return XError.IsInstance(xerr);\n  }\n\n}\n\nXError.RegisterType(XError);\n\nexport default XError;\n","\nimport XObject from '../XObject';\n\nimport { UserProps, StatsProps } from '../ModelConsts';\nimport Util from '../../Util';\n\nconst _CLSNAME = 'XMObjectStats'; // match class name\n\n\n/**\n * Container for statistics retrieved from server (cache)\n * and used in clients.\n */\nclass XMObjectStats extends XObject {\n\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMObjectStats;\n\n    // Set by subclass, not at this level\n    // this._setTypeID();\n  }\n\n  /**\n     * Initialize content as a new object.\n     */\n  initNew() {\n    super.initNew();\n  }\n\n  /**\n     * UserId is set from server side extracting content from\n     * XMUser and other related objects. It is actually the _id\n     * field (primary key).\n     *\n     * @param {string} defaultVal\n     * @return {string}\n     */\n  getUserId(defaultVal) {\n    const data = this.getData(false);\n    return data ? XMObjectStats.GetUserId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n     *\n     * @param {string} nickname\n     */\n  setNickname(nickname) {\n    return XMObjectStats.SetNickname(this.getData(true), nickname);\n  }\n\n  /**\n     *\n     * @param {string} useUsername\n     * @param {*} defaultVal\n     * @return {string}\n     */\n  getNickname(useUsername = true, defaultVal = null) {\n    const data = this.getData(false);\n    return XMObjectStats.GetNickname(data, useUsername, defaultVal);\n  }\n\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  static GetTypeID() {\n    return 'objstats_base';\n  }\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  /**\n   * Create an stat info object and import stats\n   * from props. This is a template class and should\n   * be overridden by subclass\n   *\n   * @param {string} objId\n   * @return {XMObjectStats}\n   */\n  static CreateNew(objId, props) {\n    const statObj = new XMObjectStats();\n    statObj._setId(objId);\n    if (props) { statObj.importObjectFields(props); }\n\n    return statObj;\n  } // CreateNew\n\n  static SetUserId(jsonRec, userId) {\n    return XMObjectStats.SetId(jsonRec, userId);\n  }\n\n  static GetUserId(jsonRec, defaultVal = null) {\n    return XMObjectStats.GetId(jsonRec, defaultVal);\n  }\n\n  static SetUsername(jsonRec, username) {\n    return XMObjectStats.SetObjectField(jsonRec, UserProps.USERNAME, username);\n  }\n\n  static GetUsername(jsonRec, useMail = true, defaultVal = null) {\n    let username = XMObjectStats.GetObjectField(jsonRec, UserProps.USERNAME, null);\n    if (username == null) { username = XMObjectStats.GetUserId(jsonRec, null); }\n    if ((username == null) && (useMail === true)) {\n      username = XMObjectStats.GetEmail(jsonRec, null);\n    }\n    return username || defaultVal;\n  }\n\n\n} // class XMObjectStats\n\nXMObjectStats.RegisterType(XMObjectStats);\n\nexport default XMObjectStats;\n","import {\n  ModelType,\n  ModelFolder,\n  MessageProps,\n  ActivityLogProps,\n} from '../ModelConsts';\nimport Util from '../../Util';\nimport XMSocialIndexable from '../social/XMSocialIndexable';\nimport XObject from '../XObject';\n\nconst _CLSNAME = 'XMActivityLog'; // match class name\n\n// const STATUS_OK = \"ok\";\n// const STATUS_ERROR = \"error\";\n\n/**\n * Model a log entry storing a single activity,\n * or a sub-activity. Depends on the activity, the\n * fields can be quite different. Thus json style\n * document is very much preferred. But there are\n * some core fields that we define:\n *\n * FIELD_INITIATOR: initiator of the action (user or system)\n * FIELD_ACTION: action verb\n * FIELD_SRC_TYPE: source side data type\n * FIELD_SRC_ID: source side record ID\n * FIELD_TGT_TYPE: target side data type\n * FIELD_TGT_ID: target side record ID\n * POST_ID: convenient access to post in question\n * ORIG_POST_ID: track the original post if post_id is a repost type\n */\nclass XMActivityLog extends XMSocialIndexable {\n  // Constants access\n  constructor(clsname = _CLSNAME, props) {\n    super(clsname, props);\n    this.class = XMActivityLog;\n  }\n\n  /**\n   * Initialize content as a new object.\n   */\n  initNew() {\n    super.initNew();\n    this._setNew();\n    this.setCreatedTS();\n  }\n\n  /**\n   * Tell StorageManager don't create an updated timestamp.\n   *\n   * @return {boolean} false\n   */\n  mustHaveUpdatedTS() {\n    return false;\n  }\n\n\n  /**\n   * Return the ID of this log record, and if isn't\n   * assigned yet, derive it if possible and set\n   * in the record\n   *\n   * @deprecated - replaced by a sequential ID generator\n   *\n   * @param {*} derive\n   *\n   * @see ~ActivityLogger._AssignID (backend)\n   */\n  getDerivedID(defaultVal = null) {\n    let id = super.getId();\n    if (id == null) {\n      const data = this.getData(false);\n      if (data == null) {\n        return defaultVal;\n      }\n      id = XMActivityLog.DeriveID(data);\n      if (id) {\n        this._setId(id);\n      }\n    }\n    return id;\n  }\n\n  /**\n   * Derive unique ID based on action, user, and\n   * creation timestamp, and set it as ID if it's\n   * not already.\n   *\n   * @param {string} action action verb override\n   * @param {string} userId username override\n   * @param {number} ts timestamp override\n   * @return {string} derived ID that is set\n   */\n  setDerivedID(action = null, userId = null, ts = null) {\n    const id = XMActivityLog.DeriveID(this.getData(true), action, userId, ts);\n    if (id) {\n      const curId = this.getId();\n      if (id !== curId) {\n        this._setId(id);\n      }\n    }\n    return id;\n  } // setDerivedID\n\n  /**\n   * Determine the content type of the activity record. There are two types,\n   * one for source actor, and one for target entity. Usually one is a user\n   * type, and the other is an object. We'll return the object type in these\n   * cases. Will return ModelTYPE.USER if user is on both ends.\n   *\n   * @param {*} defaultVal in case there is no content type (shouldn't happen)\n   * @return {string} one of ModelType.*, which can be POST, USER, etc.\n   *\n   */\n  getContentType(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetContentType(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set the associated post ID to avoid guessing on whether\n   * a post is source or target object\n   *\n   * @param {string} action\n   *\n   * @see ActivityLogger\n   */\n  setPostId(action) {\n    const data = this.getData(true);\n    return data ? XMActivityLog.SetPostID(data, action) : null;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   */\n  getPostId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetPostID(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set the associated post ID to avoid guessing on whether\n   * a post is source or target object\n   *\n   * @param {string} action\n   *\n   * @see ActivityLogger\n   */\n  setPostOwnerId(action) {\n    const data = this.getData(true);\n    return data ? XMActivityLog.SetPostOwnerID(data, action) : null;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   */\n  getPostOwnerId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetPostOwnerID(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   */\n  getOriginalOwnerId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetOriginalPostOwnerId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set the associated post ID to avoid guessing on whether\n   * a post is source or target object\n   *\n   * @param {string} action\n   *\n   * @see ActivityLogger\n   */\n  setOriginalPostOwnerId(action) {\n    const data = this.getData(true);\n    return data ? XMActivityLog.SetOriginalPostOwnerID(data, action) : null;\n  }\n\n  /**\n   * Set the associated post ID to avoid guessing on whether\n   * a post is source or target object\n   *\n   * @param {string} postId\n   *\n   * @see ActivityLogger\n   */\n  setOriginalPostId(postId) {\n    const data = this.getData(true);\n    return data ? XMActivityLog.SetOriginalPostID(data, postId) : null;\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   */\n  getOriginalPostId(defaultVal = null) {\n    const data = this.getData(false);\n    return data\n      ? XMActivityLog.GetOriginalPostID(data, defaultVal)\n      : defaultVal;\n  }\n\n  /**\n   * Set the action verb. Note the action is not\n   * validated here in the model. It is defined\n   * and used in ActivityLogger.\n   *\n   * @param {string} action\n   *\n   * @see ActivityLogger\n   */\n  setAction(action) {\n    const data = this.getData(true);\n    return data ? XMActivityLog.SetAction(data, action) : null;\n  }\n\n  /**\n   * Retrieve the action string.\n   *\n   * @param {*} defaultVal\n   */\n  getAction(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetAction(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Derive/return the actioner ID. Actioner is the user ID on the left\n   * side of the action verb. If the actioner is not a user, then fall back\n   * to the initiator.\n   *\n   * @param {*} defaultVal\n   * @return {string} source user Id or initiator Id\n   * @see ~getInitiator\n   */\n  getActioner(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetActioner(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set the initiator of this log entry.\n   *\n   * @param {string} initiator a string value\n   */\n  setInitiator(initiator) {\n    const data = this.getData(true);\n    return data ? XMActivityLog.SetInitiator(data, initiator) : null;\n  }\n\n  setInitiatorLvl(lvl) {\n    const data = this.getData(true);\n    return data ? XMActivityLog.SetInitiatorLvl(data, lvl) : null;\n  }\n\n  /**\n   * Retrieve the initiator string.\n   *\n   * @param {*} defaultVal\n   */\n  getInitiator(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetInitiator(data, defaultVal) : defaultVal;\n  }\n\n  getInitiatorLvl(defaultVal = 0) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetInitiatorLvl(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set the hostname that carried out user's action\n   *\n   * @param {string} hostname a string value. if it's an url,\n   * standard http:// and https:// will be stripped.\n   * @return {string} previous set value\n   */\n  setUserHost(hostname) {\n    const data = this.getData(true);\n    return data ? XMActivityLog.SetUserHost(data, hostname) : null;\n  }\n\n  /**\n   * Retrieve the user's action hostname\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getUserHost(defaultVal) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetUserHost(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   *\n   * @param {string} ecode\n   */\n  setErrorCode(ecode) {\n    if (ecode) { this.set(ActivityLogProps.API_ECODE, ecode); }\n  }\n\n  /**\n   *\n   * @param {string} serviceName\n   */\n  setServiceName(serviceName) {\n    return this.set(ActivityLogProps.SVC_NAME, serviceName);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getServiceName(defaultVal = null) {\n    return this.get(ActivityLogProps.SVC_NAME, defaultVal);\n  }\n\n  /**\n   *\n   * @param {string} hasMedia\n   */\n  setHasMedia(hasMedia) {\n    return this.set(ActivityLogProps.HAS_MEDIA, hasMedia);\n  }\n\n  /**\n   *\n   * @param {*} defaultVal\n   * @return {string}\n   */\n  getHasMedia(defaultVal = null) {\n    return this.get(ActivityLogProps.HAS_MEDIA, defaultVal);\n  }\n\n  /**\n   * Set the backend API entry point information\n   *\n   * @param {string} apiType one of API_TYPE_USER, API_TYPE_SYS, API_TYPE_API\n   * @param {string} hostname user's hostname\n   * @param {string} apiName offical name of the API\n   * @param {string} spec API details (endpoint, parameters, etc)\n   * @param {number} duration runtime in milliseconds\n   * @param {string} ecode error code, if any\n   */\n  setAPIStatus(apiType, hostname, apiName, spec, duration, ecode) {\n    // if (apiName == null) {\n    //   console.trace('Missing API name');\n    //   apiName = 'unkonwn';\n    // }\n    // if (apiType == null) {\n    //   apiType = 'unknown';\n    // }\n    if (hostname) {\n      this.setUserHost(hostname);\n    }\n    if (Util.NotNull(apiType)) {\n      this.set(ActivityLogProps.API_TYPE, apiType);\n    }\n    if (Util.NotNull(apiName)) {\n      this.set(ActivityLogProps.API_NAME, apiName);\n    }\n    if (Util.NotNull(spec)) {\n      this.set(ActivityLogProps.API_SPEC, spec);\n    }\n    if (Util.NotNull(duration)) {\n      this.set(ActivityLogProps.API_TIME, duration);\n    }\n    if (Util.NotNull(ecode)) {\n      this.setErrorCode(ecode);\n    }\n    return true;\n  }\n\n  getAPI_Name(defaultVal = null) {\n    return this.get(ActivityLogProps.API_NAME, defaultVal);\n  }\n\n  getAPI_Type(defaultVal = null) {\n    return this.get(ActivityLogProps.API_TYPE, defaultVal);\n  }\n\n  getAPI_Spec(defaultVal = null) {\n    return this.get(ActivityLogProps.API_SPEC, defaultVal);\n  }\n\n  getAPI_Runtime(defaultVal = null) {\n    return this.get(ActivityLogProps.API_TIME, defaultVal);\n  }\n\n  getAPI_ECode(defaultVal = null) {\n    return this.get(ActivityLogProps.API_ECODE, defaultVal);\n  }\n\n  /**\n   * Set the backend service entry point information\n   *\n   * @param {string} svcName\n   * @param {*} defaultVal\n   */\n  setServiceStatus(svcName, duration = -1, rc = 0) {\n    this.set(MessageProps.SVC_NAME, svcName);\n    if (duration) {\n      this.set(MessageProps.SVC_TIME);\n    }\n    if (rc) {\n      this.set(MessageProps.SVC_ECODE);\n    }\n  }\n\n  /**\n   * Set the source side object type and ID.\n   *\n   * @param {string} srcType object (model) type, e.g., \"rl\"\n   * @param {string} srcId\n   * @param {string} ownerId userId who owns this source object\n   *\n   * @see ~getSourceId\n   * @see ~getSourceType\n   */\n  setSourceObject(srcType, srcId, ownerId, srcObject = null) {\n    return XMActivityLog.SetSourceObject(\n      this.getData(true),\n      srcType,\n      srcId,\n      ownerId,\n      srcObject\n    );\n  }\n\n  /**\n   * Get the source side object's ID\n   *\n   * @param {*} defaultVal\n   * @return {string} object identifier or defaultVal\n   *\n   * @see ~setSourceObject\n   * @see ~getSourceId\n   */\n  getSourceId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetSourceId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Get the source side object's type\n   * @param {*} defaultVal\n   * @return {string} object type or defaultVal\n   *\n   * @see ~setSourceObject\n   * @see ~getSourceId\n   */\n  getSourceType(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetSourceType(data, defaultVal) : defaultVal;\n  }\n\n  getSourceObject(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetSourceObject(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Get the source side object's owner ID\n   *\n   * @param {*} defaultVal\n   * @return {string} object identifier or defaultVal\n   *\n   * @see ~setSourceObject\n   * @see ~getSourceId\n   */\n  getSourceOwnerId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetSourceOwnerId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Determine if the source side of the action is a user (with userId).\n   *\n   * @param {{}} jsonObj\n   * @return {boolean} true if source type is ModelType.USER\n   */\n  sourceIsUser() {\n    const data = this.getData(false);\n    return data ? XMActivityLog.SourceIsUser(data) : false;\n  }\n\n  /**\n   * Set the source side object type and ID.\n   *\n   * @param {string} targetType object (model) type, e.g., \"rl\"\n   * @param {string} targetId\n   * @param {string} ownerId user that owns this target object\n   *\n   * @see ~getSourceId\n   * @see ~getSourceType\n   */\n  setTargetObject(targetType, targetId, ownerId, targetObject = null) {\n    return XMActivityLog.SetTargetObject(\n      this.getData(true),\n      targetType,\n      targetId,\n      ownerId,\n      targetObject\n    );\n  }\n\n  /**\n   * Get the source side object's ID\n   *\n   * @param {*} defaultVal\n   * @return {string} object identifier or defaultVal\n   *\n   * @see ~setSourceObject\n   * @see ~getSourceId\n   */\n  getTargetId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetTargetId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Get the source side object's type\n   *\n   * @param {*} defaultVal\n   * @return {string} object type or defaultVal\n   *\n   * @see ~setTargetObject\n   * @see ~getTargetId\n   */\n  getTargetType(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetTargetType(data, defaultVal) : defaultVal;\n  }\n\n  getTargetObject(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetTargetObject(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Get the source side object's owner ID\n   *\n   * @param {*} defaultVal\n   * @return {string} object identifier or defaultVal\n   *\n   * @see ~setSourceObject\n   * @see ~getSourceId\n   * @see ~getTargetId\n   * @see ~getTargetType\n   */\n  getTargetOwnerId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetTargetOwnerId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Determine if the target side of the action is a user (with userId).\n   *\n   * @param {{}} jsonObj\n   * @return {boolean} true if target type is ModelType.USER\n   */\n  targetIsUser() {\n    const data = this.getData(false);\n    return data ? XMActivityLog.TargetIsUser(data) : false;\n  }\n\n  /**\n   * Set the reposted side object type and ID.\n   *\n   * @param {string[]} repostedIds\n   * @param {string[]} repostedOwnerIds user that owns this reposted object\n   *\n   * @see ~getSourceId\n   * @see ~getSourceType\n   */\n  setRepostedObject(repostedIds, repostedOwnerIds) {\n    return XMActivityLog.SetRepostedObject(\n      this.getData(true),\n      repostedIds,\n      repostedOwnerIds\n    );\n  }\n\n  /**\n   * Get the source side object's ID\n   *\n   * @param {*} defaultVal\n   * @return {string} object identifier or defaultVal\n   *\n   * @see ~setSourceObject\n   * @see ~getSourceId\n   */\n  getRepostedId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetRepostedId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Get the source side object's type\n   *\n   * @param {*} defaultVal\n   * @return {string} object type or defaultVal\n   *\n   * @see ~setTargetObject\n   * @see ~getTargetId\n   */\n  getRepostedType(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetRepostedType(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Get the source side object's owner ID\n   *\n   * @param {*} defaultVal\n   * @return {string} object identifier or defaultVal\n   *\n   * @see ~setSourceObject\n   * @see ~getSourceId\n   * @see ~getTargetId\n   * @see ~getTargetType\n   */\n  getRepostedOwnerId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetRepostedOwnerId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set the source side object type and ID.\n   *\n   * @param {string} logId parent log's ID\n   *\n   * @see ~getParentLogId\n   */\n  setParentLogId(logId) {\n    return XMActivityLog.SetParentLogId(this.getData(true), logId);\n  }\n\n  /**\n   * Get parent's log ID, if any\n   *\n   * @param {*} defaultVal\n   *\n   * @see ~setParentLogId\n   */\n  getParentLogId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetParentLogId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Set the ID of the log that is the inverse action of this log action\n   *\n   * @param {string} logId parent log's ID\n   *\n   * @see ~getInverseLogId\n   */\n  setInverseLogId(logId) {\n    return XMActivityLog.SetInverseLogId(this.getData(true), logId);\n  }\n\n  /**\n   * Get ID of the log that is the inverse action of this log action, if any\n   *\n   * @param {*} defaultVal\n   *\n   * @see ~setInverseLogId\n   */\n  getInverseLogId(defaultVal = null) {\n    const data = this.getData(false);\n    return data ? XMActivityLog.GetInverseLogId(data, defaultVal) : defaultVal;\n  }\n\n  /**\n   * Generate a variable map using property labels defined\n   * in ModelConst.MessageProp and refer to values stored in\n   * this instance.\n   *\n   * @param {boolean} includeNull true to include all existing\n   * fields in the object, null valued or not. Fields that don't\n   * exist but can be included will not be.\n   * @return {{}} variable map\n   */\n  getVarMap(includeNull = false, addBracket = false, defaultVal = null) {\n    const data = this.getData(false);\n    return data\n      ? XMActivityLog.GetVarMap(data, includeNull, addBracket, defaultVal)\n      : null;\n  }\n\n  /**\n   * Derive signature for this activity log that focus more\n   * on the actual event (xxx action yyy) rather than timestamp\n   * or unique activity log id.\n   *\n   * @param {*} includeType\n   */\n  getSignature(includeType = false, defaultVal = null) {\n    const data = this.getData(false);\n    const sig = data ? XMActivityLog.GetSignature(data, includeType) : null;\n    return sig || defaultVal;\n  }\n\n  /**\n   * Return all common (message) properties from the activity log content.\n   *\n   * @return {{}} values associated with labels defined in MessageProps.PROPS_COMMON\n   */\n  getEssentialProps() {\n    return this.toJSON(MessageProps.PROPS_COMMON, null);\n  }\n\n  /**\n   * Return all properties from the activity log content that are\n   * pre-identified to go into cache\n   *\n   * @return {{}} values associated with labels defined in MessageProps.PROPS_CACHE\n   */\n  getCachedProps() {\n    return this.toJSON(MessageProps.PROPS_CACHED, null);\n  }\n\n  /**\n   * Return the object Id. This depends on whether the\n   * source is the user performing an action against\n   * the target which is the object, or the other way\n   * around.\n   *\n   * NOTE: Getter right now supports one object and that\n   * is the post object. So the return value is most likely\n   * the Id of the Post object in question\n   *\n   * @param {string=} type if specified, must match this type\n   *\n   * @return {string} object Id (likley Post Id)\n   *\n   * @see ~getPostId()\n   */\n  getObjectId(type = null, defaultVal = null) {\n    let objectId;\n    let objectType;\n    if (this.targetIsUser()) {\n      // no post I think...\n      if (this.sourceIsUser()) {\n        // this.log(_m, \"src/tgt are users. dump activity log: \", activityLog);\n        // skip - no object\n      }\n      objectId = this.getSourceId();\n      objectType = this.getSourceType();\n    } else {\n      // hardcode for now...\n      objectId = this.getTargetId();\n      objectType = this.getTargetType();\n    }\n    if (objectId == null) {\n      return defaultVal;\n    }\n\n    if (type == null) {\n      return objectId;\n    }\n\n    return type === objectType ? objectId : defaultVal;\n  } // getObjectId\n\n  // *************************************************************\n  //\n  // Class/static methods.\n  //\n  // *************************************************************\n\n  /**\n   * Return the default folder/table/collection name used\n   * for storing stats\n   */\n  static GetFolderName() {\n    return ModelFolder.ACTIVITY_LOG;\n  }\n\n  static GetName() {\n    return _CLSNAME;\n  }\n\n  static GetTypeID() {\n    return ModelType.ACTIVITY_LOG;\n  }\n\n  /**\n   * Wrap JSON data that represents XMList\n   */\n  static Wrap(jsonRec, clsType = XMActivityLog) {\n    return XMActivityLog.WrapXMObject(jsonRec, clsType);\n  }\n\n  /**\n   * Derive a log record ID that with the format:\n   * {action}_{userId}_{ISODate}\n   *\n   * @param {{}} jsonRec\n   * @param {string} action action verb override\n   * @param {string} userId username override\n   * @param {number} ts timestamp override\n   * @return {string} ID string. Null if action or initiator fields not specified.\n   *\n   * @see XMActivityLog~setDerivedID\n   */\n  static DeriveID(jsonRec, action = null, userId = null, ts = null) {\n    action = action || XMActivityLog.GetAction(jsonRec, null);\n    userId = userId || XMActivityLog.GetActioner(jsonRec, null);\n    if (!action || !userId) {\n      return null;\n    }\n\n    const createdTS = ts || XMActivityLog.GetCreatedTS(jsonRec, Date.now());\n\n    // let dateStr = new Date(createdTS).toISOString();\n    const idStr = `${userId}_${action}_${createdTS}`;\n    return idStr;\n  } // DeriveID\n\n  /**\n   * Create a new log for a user action.\n   *\n   * @param {string} userId user performed the action, and is also as the initiator. So\n   * if the initiator is different then the user, make a separate call to setInitiatorId()\n   * @param {number} userLvl\n   * @param {string} action\n   * @param {string=} targetType object type on the target side of the action\n   * @param {string=} targetId object ID on the target side of the action\n   * @param {string=} targetOwnerId object's owner ID, if any\n   * @param {number=} initTS initiation timestamp. If null then use current time\n   * @param {string[]=} repostIds reposted object's ID, if any\n   * @param {string[]=} reposterIds reposted object's owner ID, if any\n   * @param {string=} postId object ID on the post side of the action\n   * @param {string=} postOwnerId object's owner ID, if any\n   * @param {string=} originalPostId object ID on the original post side of the action\n   * @param {string=} originalPostOwnerId object's owner ID, if any\n   *\n   * @return {XMActivityLog} new instance wrapper with initTS/action field set\n   */\n  static NewUserAction(\n    userId,\n    action,\n    targetType = null,\n    targetId = null,\n    targetOwnerId = null,\n    initTS = null,\n    repostIds = null,\n    reposterIds = null,\n    postId = null,\n    postOwnerId = null,\n    originalPostId = null,\n    originalPostOwnerId = null\n  ) {\n    const log = new XMActivityLog();\n    log.initNew();\n    log.setCreatedTS(initTS);\n    log.setInitiator(userId);\n    log.setSourceObject(ModelType.USER, userId);\n    log.setAction(action);\n\n    if (targetType || targetId) {\n      log.setTargetObject(targetType, targetId, targetOwnerId);\n    }\n\n    if (!Util.IsNull(repostIds) || !Util.IsNull(reposterIds)) {\n      log.setRepostedObject(repostIds, reposterIds);\n    }\n\n    if (postId) {\n      log.setPostId(postId);\n      log.setPostOwnerId(postOwnerId);\n    }\n\n    if (originalPostId) {\n      log.setOriginalPostId(originalPostId);\n      log.setOriginalPostOwnerId(originalPostOwnerId);\n    }\n\n    return log;\n  }\n\n  static NewUserActionFromMap(\n    data = {}\n  ) {\n    const initiatorId = data[MessageProps.INITIATOR_ID];\n    const initiatorLvl = data[MessageProps.INITIATOR_LVL] || 0;\n    const srcId = data[MessageProps.SRC_ID];\n    const action = data[MessageProps.ACTION];\n    const targetType = data[MessageProps.TGT_TYPE];\n    const targetId = data[MessageProps.TGT_ID];\n    const targetOwnerId = data[MessageProps.TGT_OWNER_ID];\n    const initTS = data[MessageProps.CREATED_DATE];\n    const repostIds = data[MessageProps.RPS_IDS];\n    const reposterIds = data[MessageProps.RPS_OWNER_IDS];\n    const postId = data[MessageProps.POST_ID];\n    const postOwnerId = data[MessageProps.OWNERID];\n    const originalPostId = data[MessageProps.ORIG_POST_ID];\n    const originalPostOwnerId = data[MessageProps.ORIG_POST_OWNER_ID];\n    const hasMedia = data[MessageProps.HAS_MEDIA];\n    const targetObject = data[MessageProps.TGT_OBJECT];\n\n    const log = new XMActivityLog();\n    log.initNew();\n    log.setCreatedTS(initTS);\n    log.setInitiator(initiatorId || srcId);\n    log.setInitiatorLvl(initiatorLvl);\n    log.setSourceObject(ModelType.USER, srcId || initiatorId);\n    log.setAction(action);\n\n    if (targetType || targetId || targetObject) {\n      log.setTargetObject(targetType, targetId, targetOwnerId, targetObject);\n    }\n\n    if (!Util.IsNull(repostIds) || !Util.IsNull(reposterIds)) {\n      log.setRepostedObject(repostIds, reposterIds);\n    }\n\n    if (postId) {\n      log.setPostId(postId);\n      log.setPostOwnerId(postOwnerId);\n      log.setHasMedia(hasMedia);\n    }\n\n    if (originalPostId) {\n      log.setOriginalPostId(originalPostId);\n      log.setOriginalPostOwnerId(originalPostOwnerId);\n    }\n\n    return log;\n  }\n\n  /**\n   * Create a new log for an API request. This creates the log record. Use\n   * setAPIStatus() to set API endpoint name and execution status\n   *\n   * @param {string} userId user performed the action, and is also as the initiator\n   * @param {string} action\n   * @param {string=} targetType object type on the target side of the action\n   * @param {string=} targetId object ID on the target side of the action\n   * @param {string=} targetOwnerId object's owner ID, if any\n   * @param {number=} initTS initiation timestamp. If null then use current time\n   *\n   * @return {XMActivityLog} new instance wrapper with initTS/action field set\n   *\n   * @see ~setAPIStatus()\n   */\n  static NewAPIRequest(\n    userId,\n    action,\n    targetType = null,\n    targetId = null,\n    targetOwnerId = null,\n    initTS = null\n  ) {\n    const log = new XMActivityLog();\n    log.initNew();\n    log.setCreatedTS(initTS);\n    log.setInitiator(userId);\n    log.setSourceObject(ModelType.USER, userId);\n    log.setAction(action);\n\n    if (targetType || targetId) {\n      log.setTargetObject(targetType, targetId, targetOwnerId);\n    }\n\n    return log;\n  }\n\n  /**\n   * Create a new log for an object-on-object action as oppose to from user\n   *\n   * @param {string} initiatorId user set as the initiator. If null, then assume it's system\n   * @param {number} initiatorLvl\n   * @param {string} srcType object type for the source side of the action\n   * @param {string} srcId object ID for the source side of the action\n   * @param {string} srcOwnerId object's owner\n   * @param {string} action verb\n   * @param {string=} targetType object type on the target side of the action\n   * @param {string=} targetId object ID on the target side of the action\n   * @param {string=} targetOwnerId object's owner ID, if any\n   * @param {number=} initTS initiation timestamp. If null then use current time\n   * @param {string[]=} repostIds object's owner ID, if any\n   * @param {string[]=} reposterIds object's owner ID, if any\n   * @param {string=} postId object ID on the post side of the action\n   * @param {string=} postOwnerId object's owner ID, if any\n   * @param {string=} originalPostId object ID on the original post side of the action\n   * @param {string=} originalPostOwnerId object's owner ID, if any\n   *\n   * @return {XMActivityLog} new instance wrapper with initTS/action field set\n   */\n  static NewObjectAction(\n    initiatorId,\n    srcType,\n    srcId,\n    srcOwnerId = null,\n    action,\n    targetType = null,\n    targetId = null,\n    targetOwnerId = null,\n    initTS = null,\n    repostIds = null,\n    reposterIds = null,\n    postId = null,\n    postOwnerId = null,\n    originalPostId = null,\n    originalPostOwnerId = null\n  ) {\n    const log = new XMActivityLog();\n    log.initNew();\n    log.setCreatedTS(initTS);\n    if (initiatorId == null) {\n      initiatorId = '_sys_';\n    }\n    log.setInitiator(initiatorId);\n    log.setSourceObject(srcType, srcId, srcOwnerId);\n    log.setAction(action);\n\n    if (targetType || targetId) {\n      log.setTargetObject(targetType, targetId, targetOwnerId);\n    }\n\n    if (!Util.IsNull(repostIds) || !Util.IsNull(reposterIds)) {\n      log.setRepostedObject(repostIds, reposterIds);\n    }\n\n    if (postId) {\n      log.setPostId(postId);\n      log.setPostOwnerId(postOwnerId);\n    }\n\n    if (originalPostId) {\n      log.setOriginalPostId(originalPostId);\n      log.setOriginalPostOwnerId(originalPostOwnerId);\n    }\n\n    return log;\n  }\n\n  static NewObjectActionFromMap(\n    data = {}\n  ) {\n    let initiatorId = data[MessageProps.INITIATOR_ID];\n    const initiatorLvl = data[MessageProps.INITIATOR_LVL] || 0;\n    const srcType = data[MessageProps.SRC_TYPE];\n    const srcId = data[MessageProps.SRC_ID];\n    const srcOwnerId = data[MessageProps.SRC_OWNER_ID];\n    const action = data[MessageProps.ACTION];\n    const targetType = data[MessageProps.TGT_TYPE];\n    const targetId = data[MessageProps.TGT_ID];\n    const targetOwnerId = data[MessageProps.TGT_OWNER_ID];\n    const initTS = data[MessageProps.CREATED_DATE];\n    const repostIds = data[MessageProps.RPS_IDS];\n    const reposterIds = data[MessageProps.RPS_OWNER_IDS];\n    const postId = data[MessageProps.POST_ID];\n    const postOwnerId = data[MessageProps.OWNERID];\n    const originalPostId = data[MessageProps.ORIG_POST_ID];\n    const originalPostOwnerId = data[MessageProps.ORIG_POST_OWNER_ID];\n    const hasMedia = data[MessageProps.HAS_MEDIA];\n\n    const log = new XMActivityLog();\n    log.initNew();\n    log.setCreatedTS(initTS);\n    if (initiatorId == null) {\n      initiatorId = '_sys_';\n    }\n    log.setInitiator(initiatorId);\n    log.setInitiatorLvl(initiatorLvl);\n    log.setSourceObject(srcType, srcId, srcOwnerId);\n    log.setAction(action);\n\n    if (targetType || targetId) {\n      log.setTargetObject(targetType, targetId, targetOwnerId);\n    }\n\n    if (!Util.IsNull(repostIds) || !Util.IsNull(reposterIds)) {\n      log.setRepostedObject(repostIds, reposterIds);\n    }\n\n    if (postId) {\n      log.setPostId(postId);\n      log.setPostOwnerId(postOwnerId);\n      log.setHasMedia(hasMedia);\n    }\n\n    if (originalPostId) {\n      log.setOriginalPostId(originalPostId);\n      log.setOriginalPostOwnerId(originalPostOwnerId);\n    }\n\n    return log;\n  }\n\n  /**\n   * Set the action verb for the given log record\n   *\n   * @param {{}} jsonObj\n   * @param {*} action\n   */\n  static SetAction(jsonObj, action) {\n    return XMActivityLog.SetObjectField(jsonObj, MessageProps.ACTION, action);\n  }\n\n  /**\n   * Get the action logged in the given (json) log entry.\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetAction(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.ACTION,\n      defaultVal\n    );\n  }\n\n  /**\n   * Set the ID of the post if this activity log is associate with one\n   *\n   * @param {{}} jsonObj\n   * @param {string} postId\n   */\n  static SetPostID(jsonObj, postId) {\n    return XMActivityLog.SetObjectField(jsonObj, MessageProps.POST_ID, postId);\n  }\n\n  /**\n   * Get the associated post ID\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetPostID(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.POST_ID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Set the ID of the post if this activity log is associate with one\n   *\n   * @param {{}} jsonObj\n   * @param {string} postId\n   */\n  static SetPostOwnerID(jsonObj, postId) {\n    return XMActivityLog.SetObjectField(jsonObj, MessageProps.OWNERID, postId);\n  }\n\n  /**\n   * Get the associated post ID\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetPostOwnerID(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.OWNERID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Set the ID of the post if this activity log is associate with one\n   *\n   * @param {{}} jsonObj\n   * @param {string} postId\n   */\n  static SetOriginalPostOwnerID(jsonObj, commentId) {\n    return XMActivityLog.SetObjectField(jsonObj, MessageProps.ORIG_POST_OWNER_ID, commentId);\n  }\n\n  /**\n   * Get the associated post ID\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetOriginalPostOwnerId(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.ORIG_POST_OWNER_ID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Set the ID of the original post Id\n   *\n   * @param {{}} jsonObj\n   * @param {string} postId\n   */\n  static SetOriginalPostID(jsonObj, postId) {\n    return XMActivityLog.SetObjectField(\n      jsonObj,\n      MessageProps.ORIG_POST_ID,\n      postId\n    );\n  }\n\n  /**\n   * Get the original post's ID if the activity is related to the shared post\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetOriginalPostID(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.ORIG_POST_ID,\n      defaultVal\n    );\n  }\n\n  static GetOriginalPostOwnerID(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.ORIG_POST_OWNER_ID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Get the shared posts' IDs if the activity is related to the shared post\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   */\n  static GetSharedPostIDs(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      XMSocialIndexable.PROP_REPOSTID_TRACE,\n      defaultVal\n    );\n  }\n\n  static GetSharedPosterIDs(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      XMSocialIndexable.PROP_REPOSTER_TRACE,\n      defaultVal\n    );\n  }\n\n  /**\n   * Determine the content type of the activity record. There are two types,\n   * one for source actor, and one for target entity. Usually one is a user\n   * type, and the other is an object. We'll return the object type in these\n   * cases. Will return ModelTYPE.USER if user is on both ends.\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   * @return {string} one of ModelType.*, which can be POST or COMMENT for now.\n   */\n  static GetContentType(jsonObj, defaultVal = null) {\n    const stype = XMActivityLog.GetSourceType(jsonObj, null);\n    if (stype && stype !== ModelType.USER) {\n      return stype;\n    }\n\n    const ttype = XMActivityLog.GetTargetType(jsonObj, null);\n    if (ttype && ttype !== ModelType.USER) {\n      return ttype;\n    }\n\n    // Both source / target are user..\n    return ModelType.USER;\n  } // GetContentType\n\n  /**\n   * Determine if the main subject of the activity is a post.\n   *\n   * @param {{}} jsonObj\n   * @return {boolean} true if either source type or target type is POST\n   */\n  static IsPost(jsonObj) {\n    return XMActivityLog.GetContentType(jsonObj, null) === ModelType.POST;\n  }\n\n  /**\n   * Return the actioner's user ID. Actioner is the left-side\n   * of action verb if it's a user. If not, then default to\n   * initiator.\n   *\n   * @param {{}} jsonRec\n   * @param {*} defaultVal\n   *\n   * @return {string} either source userId or initiatorId in the order of preference\n   * @see ~GetInitiator\n   */\n  static GetActioner(jsonRec, defaultVal = null) {\n    let userId =\n      XMActivityLog.GetSourceType(jsonRec) === ModelType.USER\n        ? XMActivityLog.GetSourceId(jsonRec, null)\n        : null;\n    if (userId == null) {\n      userId = XMActivityLog.GetInitiator(jsonRec, null);\n    }\n    return userId || defaultVal;\n  }\n\n  /**\n   * Set the action verb for the given log record\n   *\n   * @param {{}} jsonObj\n   * @param {*} action\n   */\n  static SetInitiator(jsonObj, action) {\n    return XMActivityLog.SetObjectField(\n      jsonObj,\n      MessageProps.INITIATOR_ID,\n      action\n    );\n  }\n\n  static SetInitiatorLvl(jsonObj, action) {\n    return XMActivityLog.SetObjectField(\n      jsonObj,\n      MessageProps.INITIATOR_LVL,\n      action\n    );\n  }\n\n  /**\n   * Get the initiator ID of this log. Note initiator is different than\n   * actioner.\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~GetActioner\n   */\n  static GetInitiator(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.INITIATOR_ID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Get the comment initiator ID of this log. Note comment initiator is different than\n   * actioner.\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~GetActioner\n   */\n  static GetCommentInitiator(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.TGT_OWNER_ID,\n      defaultVal\n    );\n  }\n\n  static GetInitiatorLvl(jsonObj, defaultVal = 0) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.INITIATOR_LVL,\n      defaultVal\n    );\n  }\n\n  /**\n   * Set the host that carry out user action\n   *\n   * @param {{}} jsonObj\n   * @param {string} hostExpr a string value. if it's an url,\n   * standard http:// and https:// will be stripped.\n   * @return {boolean} true if host string set.\n   */\n  static SetUserHost(jsonObj, hostExpr) {\n    if (!hostExpr) {\n      return false;\n    }\n    hostExpr = Util.StripHttpFromURL(hostExpr);\n    return XMActivityLog.SetObjectField(\n      jsonObj,\n      MessageProps.USER_HOST,\n      hostExpr\n    );\n  }\n\n  /**\n   * Get the user's host device\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~GetActioner\n   */\n  static GetUserHost(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.USER_HOST,\n      defaultVal\n    );\n  }\n\n  /**\n   * Set the source side's object type and ID of the action\n   *\n   * @param {{}} jsonObj\n   * @param {string} srcType is this user or post or ?\n   * @param {srcId} srcId unique ID\n   * @param {srcOwnerId} srcOwnerId userId that owns the object\n   * @param {*} action\n   */\n  static SetSourceObject(jsonObj, srcType, srcId, srcOwnerId = null, srcObject = null) {\n    XMActivityLog.AssertArrayNoNulls(\n      [jsonObj, srcType, srcId],\n      'SetSourceObject'\n    );\n    XMActivityLog.SetObjectField(jsonObj, MessageProps.SRC_TYPE, srcType);\n    XMActivityLog.SetObjectField(jsonObj, MessageProps.SRC_ID, srcId);\n    if (srcOwnerId) {\n      XMActivityLog.SetObjectField(\n        jsonObj,\n        MessageProps.SRC_OWNER_ID,\n        srcOwnerId\n      );\n    }\n    if (srcObject) {\n      XMActivityLog.SetObjectField(\n        jsonObj,\n        MessageProps.SRC_OBJECT,\n        srcObject\n      );\n    }\n  }\n\n  static SetParentLogId(jsonObj, logId) {\n    XMActivityLog.SetObjectField(jsonObj, MessageProps.PARENT_LOG_ID, logId);\n  }\n\n  /**\n   * Get the parent log's ID, if any\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   */\n  static GetParentLogId(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.PARENT_LOG_ID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Set the log ID with the inverse action/relationship\n   *\n   * @param {{}} jsonObj\n   * @param {string} logId recipricating log's ID\n   */\n  static SetInverseLogId(jsonObj, logId) {\n    XMActivityLog.SetObjectField(jsonObj, MessageProps.INVERSE_LOG_ID, logId);\n  }\n\n  /**\n   * Get the inverse log's ID, if any\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   */\n  static GetInverseLogId(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.INVERSE_LOG_ID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Get the source side object's ID\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetSourceObject\n   * @see ~GetSourceType\n   * @see ~GetSourceOwnerId\n   */\n  static GetSourceId(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.SRC_ID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Get the source side object's type\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetSourceObject\n   * @see ~GetSourceId\n   */\n  static GetSourceType(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.SRC_TYPE,\n      defaultVal\n    );\n  }\n\n  static GetSourceObject(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.SRC_OBJECT,\n      defaultVal\n    );\n  }\n\n  /**\n   * Get the source side object's ID\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetSourceObject\n   * @see ~GetSourceType\n   * @see ~GetSourceId\n   */\n  static GetSourceOwnerId(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.SRC_OWNER_ID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Determine if the source side of the action is a user (with userId).\n   *\n   * @param {{}} jsonObj\n   * @return {boolean} true if target type is ModelType.USER\n   */\n  static SourceIsUser(jsonObj) {\n    const srcType = XMActivityLog.GetSourceType(jsonObj, null);\n    return srcType ? srcType === ModelType.USER : false;\n  }\n\n  /**\n   * Set the source side's object type and ID of the action\n   *\n   * @param {{}} jsonObj\n   * @param {string} targetType is this user or post or ?\n   * @param {srcId} targetId unique ID\n   * @param {srcOwnerId} targetOwnerId userId that owns the object\n   * @param {*} action\n   */\n  static SetTargetObject(jsonObj, targetType, targetId, targetOwnerId = null, targetObject = null) {\n    // XMActivityLog.AssertArrayNoNulls([jsonObj, targetType, targetId], _CLSNAME, \"SetTargetObject\");\n    if (targetType) {\n      XMActivityLog.SetObjectField(jsonObj, MessageProps.TGT_TYPE, targetType);\n    }\n    if (targetId) {\n      XMActivityLog.SetObjectField(jsonObj, MessageProps.TGT_ID, targetId);\n    }\n    if (targetOwnerId) {\n      XMActivityLog.SetObjectField(\n        jsonObj,\n        MessageProps.TGT_OWNER_ID,\n        targetOwnerId\n      );\n    }\n    if (targetObject) {\n      XMActivityLog.SetObjectField(\n        jsonObj,\n        MessageProps.TGT_OBJECT,\n        targetObject\n      );\n    }\n  }\n\n  /**\n   * Get the target side object's ID\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetTargetObject\n   * @see ~GetTargetType\n   * @see ~GetTargetOwnerId\n   */\n  static GetTargetId(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.TGT_ID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Get the target side object's type\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetTargetObject\n   * @see ~GetTargetId\n   * @see ~GetTargetOwnerId\n   */\n  static GetTargetType(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.TGT_TYPE,\n      defaultVal\n    );\n  }\n\n  static GetTargetObject(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.TGT_OBJECT,\n      defaultVal\n    );\n  }\n\n  /**\n   * Get the target side object's owner ID\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetTargetObject\n   * @see ~GetTargetType\n   * @see ~GetTargetId\n   */\n  static GetTargetOwnerId(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.TGT_OWNER_ID,\n      defaultVal\n    );\n  }\n\n  /**\n   * Determine if the target side of the action is a user (with userId).\n   *\n   * @param {{}} jsonObj\n   * @return {boolean} true if target type is ModelType.USER\n   */\n  static TargetIsUser(jsonObj) {\n    const targetType = XMActivityLog.GetTargetType(jsonObj, null);\n    return targetType ? targetType === ModelType.USER : false;\n  }\n\n  /**\n   * Set the source side's object type and ID of the action\n   *\n   * @param {{}} jsonObj\n   * @param {string[]} repostedIds unique ID\n   * @param {string[]} repostedOwnerIds userId that owns the object\n   * @param {*} action\n   */\n  static SetRepostedObject(jsonObj, repostedIds, repostedOwnerIds = null) {\n    // XMActivityLog.AssertArrayNoNulls([jsonObj, targetType, targetId], _CLSNAME, \"SetTargetObject\");\n    XMActivityLog.SetObjectField(jsonObj, MessageProps.RPS_IDS, repostedIds);\n    if (repostedOwnerIds) {\n      XMActivityLog.SetObjectField(\n        jsonObj,\n        XMSocialIndexable.PROP_REPOSTER_TRACE,\n        repostedOwnerIds\n      );\n    }\n  }\n\n  /**\n   * Get the target side object's ID\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetTargetObject\n   * @see ~GetTargetType\n   * @see ~GetTargetOwnerId\n   */\n  static GetRepostedIds(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.RPS_IDS,\n      defaultVal\n    );\n  }\n\n  /**\n   * Get the target side object's type\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetTargetObject\n   * @see ~GetTargetId\n   * @see ~GetTargetOwnerId\n   */\n  static GetRepostedType(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.RPS_TYPE,\n      defaultVal\n    );\n  }\n\n  /**\n   * Get the target side object's owner ID\n   *\n   * @param {{}} jsonObj\n   * @param {*} defaultVal\n   *\n   * @see ~SetTargetObject\n   * @see ~GetTargetType\n   * @see ~GetTargetId\n   */\n  static GetRepostedOwnerIds(jsonObj, defaultVal = null) {\n    return XMActivityLog.GetObjectField(\n      jsonObj,\n      MessageProps.RPS_OWNER_IDS,\n      defaultVal\n    );\n  }\n\n  /**\n   * Construct a variable map from the content of the given activity log\n   *\n   * @param {{}} jsonObj\n   * @param {boolean} includeNull if true then fields that exist but with null\n   * values will be included.\n   * @return {{}} map of property label/value but only those having a value\n   */\n  static GetVarMap(\n    jsonObj,\n    includeNull = false,\n    addBracket = false,\n    defaultVal = null\n  ) {\n    if (!XMActivityLog.AssertNotNull(jsonObj, 'GetVarMap')) {\n      return defaultVal;\n    }\n\n    const varMap = {};\n    const fields = MessageProps.PROPS_ACTIVITY;\n    fields.forEach((field) => {\n      const val = XMActivityLog.GetObjectField(jsonObj, field, null);\n      if (val || includeNull) {\n        if (addBracket) {\n          varMap[field] = `\\${${val}}`;\n        } else {\n          varMap[field] = val;\n        }\n      }\n    });\n    return varMap;\n  } // GetVarMap\n\n  /**\n   *\n   * @param {{}} jsonObj\n   * @param {boolean} includeType true if add source and target\n   * data types to the string\n   */\n  static GetSignature(jsonObj, includeType = false) {\n    jsonObj = XMActivityLog.Unwrap(jsonObj);\n    const srcId = XMActivityLog.GetSourceId(jsonObj);\n    const srcType = XMActivityLog.GetSourceType(jsonObj);\n    const targetId = XMActivityLog.GetTargetId(jsonObj);\n    const targetType = XMActivityLog.GetTargetType(jsonObj);\n    const action = XMActivityLog.GetAction(jsonObj);\n\n    const frags = [];\n    if (includeType && srcType) {\n      frags.push(srcType);\n    }\n    frags.push(srcId);\n    frags.push(action);\n    if (includeType && targetType) {\n      frags.push(targetType);\n    }\n    frags.push(targetId);\n\n    const sig = frags.join('_');\n    return sig;\n  } // GetSignature\n\n  /**\n   * Given a full XMActivityLog json object, extract only\n   * those that are considered user information, suitable\n   * for crafting user notifications, etc.\n   *\n   * @param {{}} jsonObj null if empty object passed in\n   * @param {[]} extraFields other fields to also include in the result object\n   * @param {*} defaultVal in case json obj passed in is null\n   * @return {{}} subset data\n   */\n  static GetActivityInfo(jsonObj, extraFields, defaultVal = null) {\n    if (!XMActivityLog.AssertNotNull(jsonObj, 'GetActivityInfo')) {\n      return defaultVal;\n    }\n\n    const includeNull = false;\n\n    jsonObj = XMActivityLog.Unwrap(jsonObj);\n\n    const varMap = {};\n    const fields = MessageProps.PROPS_ACTIVITY;\n    fields.forEach((field) => {\n      const val = XMActivityLog.GetObjectField(jsonObj, field, null);\n      if (val || includeNull === true) {\n        varMap[field] = val;\n      }\n    });\n    return varMap;\n  }\n} // class XMActivityLog\n\nXMActivityLog.RegisterType(XMActivityLog);\n\nexport default XMActivityLog;\n","import {StyleConsts, RenderProps} from \"../core/model/VisualConsts\";\n\n// ----------------------- Application Specific Constants -------------------------\n\nexport const APP_NAME = \"Getome\";\nexport const APP_WEB_NAME = \"Getome\";\nexport const APP_WEB_DOMAIN = \"Getome\";\n\nexport const PROP_OBJID = \"objId\";\nexport const PROP_OBJDATA = \"obj\";\n\nexport const style_vlist_nobullet = {\n  listStyleType: \"none\",\n};\n\nexport const style_tr_align_top = {\n  alignItems: \"top\",\n};\n\n/**\n * Constants. PROP_ for properties, STATE_ for states, etc.\n */\nexport class AppConsts extends RenderProps {\n  static get APP_NAME() {\n    return APP_NAME;\n  }\n  static get APP_WEB_NAME() {\n    return APP_WEB_NAME;\n  }\n  static get APP_WEB_DOMAIN() {\n    return APP_WEB_DOMAIN;\n  }\n  static get APP_TWITTER_USERNAME() {\n    return \"getter.gtv\";\n  }\n  static get APP_FACEBOOK_USERNAME() {\n    return \"getter.gtv\";\n  }\n  static get APP_EMAIL_REQUEST() {\n    return \"getter.gtv@gmail.com\";\n  }\n  static get APP_UID_ADMIN() {\n    return \"admin\";\n  }\n\n  static get PROP_OBJID() {\n    return \"objId\";\n  }\n  static get PROP_OBJDATA() {\n    return \"obj\";\n  }\n  static get PROP_BUTTON_TYPE() {\n    return \"buttonType\";\n  }\n  static get PROP_COMPNAME() {\n    return \"compName\";\n  }\n  static get PROP_LABEL() {\n    return \"label\";\n  }\n  static get PROP_COUNT() {\n    return \"count\";\n  }\n  static get PROP_SHARE_COUNT() {\n    return \"shares\";\n  }\n  static get PROP_SHOW_ICON() {\n    return \"showIcon\";\n  }\n  static get PROP_SHOW_COUNT() {\n    return \"showCount\";\n  }\n  static get PROP_SIGNUP_REDIRECT_URL() {\n    return \"SignupRedirect\";\n  }\n  static get PROP_STATUS() {\n    return \"status\";\n  }\n  static get PROP_THEME() {\n    return \"theme\";\n  }\n  static get PROP_INFO_CODE() {\n    return \"ifc\";\n  }\n  static get PROP_ERROR_CODE() {\n    return \"emc\";\n  }\n\n  static get TYPE_BUTTON_PILL() {\n    return \"pill\";\n  }\n  static get TYPE_BUTTON_ICON() {\n    return \"icon\";\n  }\n\n  static get CONNECTION_TYPE_FOLLOWERS() {\n    return \"followers\";\n  }\n  static get CONNECTION_TYPE_FOLLOWING() {\n    return \"following\";\n  }\n  static get CONNECTION_TYPE_POSTWATCHED() {\n    return \"pstwatched\";\n  }\n\n  static get COMPOSER_MAX_TEXT_LENGTH() {\n    return 777;\n  }\n\n  static get DIALOG_HEIGHT() {\n    return 720;\n  }\n  static get DIALOG_WIDTH() {\n    return 640;\n  } // 40rem Must match dialog-view__box.width minus padding\n  static get MIN_DIALOG_HEIGHT() {\n    return 1200;\n  }\n  static get LIST_ITEM_WIDTH() {\n    return \"400px\";\n  }\n  static get ONE_COLUMN_WIDTH() {\n    return 1024;\n  }\n\n  static get STATE_LOADING() {\n    return \"_ldg\";\n  }\n  static get STATE_LOADING_LIKES() {\n    return \"_ldglks\";\n  }\n  static get STATE_LOADING_SHARES() {\n    return \"_ipshs\";\n  }\n\n  static get STATE_STATUS() {\n    return \"status\";\n  }\n  static get STATE_LIKE_STATUS() {\n    return \"lkst\";\n  }\n  static get STATE_SHARE_STATUS() {\n    return \"shst\";\n  }\n\n  static get URL_SIGNUP() {\n    return \"/signup\";\n  }\n  static get URL_LOGIN() {\n    return \"/login\";\n  }\n  static get URL_LOGOUT() {\n    return \"/logout\";\n  }\n  static get URL_CLAIM() {\n    return \"/claim\";\n  }\n  static get URL_TEMPORARILY_BLOCKED() {\n    return \"/temporarily-blocked\";\n  }\n  static get URL_CHANGE_PASSWORD() {\n    return \"/chgpwd\";\n  }\n  static get URL_HOME() {\n    return \"/\";\n  }\n  static get URL_DASHBOARD() {\n    return \"/\";\n  }\n  static get URL_HELP_CENTER() {\n    return \"/helpcenter\";\n  }\n  static get URL_HELP_CENTER_MOBILE_APP() {\n    return \"/helpcenter-app\";\n  }\n  static get URL_ROOT() {\n    return \"/\";\n  }\n\n  static get URL_LOGO_32T() {\n    return \"/logos/getter_logo_128.png\";\n  }\n  static get URL_LOGO_64T() {\n    return \"/logos/getter_logo_192.png\";\n  }\n  static get URL_LOGO_96T() {\n    return \"/logos/getter_logo_96.png\";\n  }\n\n  static get URL_UNKNOWN_USER() {\n    return \"\";\n  }\n  static get URL_MILES_GUO() {\n    return \"https://yt3.ggpht.com/a/AATXAJzXqvFDzrgTS3Aed9kAO4tnFZOItkGdKiYr6_o4Og=s900-c-k-c0xffffffff-no-rj-mo\";\n  }\n  static get URL_SETTINGS_PRIVACY() {\n    return \"privacy\";\n  }\n  static get URL_SETTINGS_CHANGE_PASSWORD() {\n    return \"change-password\";\n  }\n  static get URL_SETTINGS_INTERFACE_LANGUAGE() {\n    return \"interface-language\";\n  }\n  static get URL_SETTINGS_MOBILE_INDEX() {\n    return \"mobile\";\n  }\n  static get URL_HELPCENTER_REGISTRATION() {\n    return \"registration\";\n  }\n  static get URL_HELPCENTER_POST_REPOST_REPLY() {\n    return \"post-repost-reply\";\n  }\n  static get URL_HELPCENTER_SHARE() {\n    return \"share\";\n  }\n  static get URL_HELPCENTER_COOKIEPOLICY() {\n    return \"cookie-policy\";\n  }\n  static get URL_HELPCENTER_PRIVACYPOLICY() {\n    return \"privacy-policy\";\n  }\n  static get URL_HELPCENTER_TERMSOFUSER() {\n    return \"terms-of-user\";\n  }\n  static get URL_HELPCENTER_MOBILE_INDEX() {\n    return \"mobile\";\n  }\n  static get URL_HELPCENTER_CONTACTUS() {\n    return \"contact-us\";\n  }\n  static get COOKIE_EXPIRE_DAYS() {\n    return 30;\n  }\n  static get SELLIST_TAGS() {\n    return \"tags\";\n  }\n  static get SELLIST_DATA() {\n    return \"cats\";\n  }\n  static get SELLIST_SIZE() {\n    return \"size\";\n  }\n  static get SELLIST_SEQ() {\n    return \"seq\";\n  }\n  static get SELLIST_TEXT() {\n    return \"text\";\n  }\n  static get SELLIST_LABEL() {\n    return \"label\";\n  }\n  static get SELLIST_SUBTITLE() {\n    return \"sttl\";\n  }\n  static get SELLIST_STICKY() {\n    return \"sticky\";\n  }\n  static get SELLIST_DESC() {\n    return \"dsc\";\n  }\n  static get SELLIST_ICON_URL() {\n    return \"ico\";\n  }\n\n  static get TYPE_SEARCH_DELAY_MS() {\n    return 350;\n  }\n\n  static get LOCAL_STORAGE_RECENT_SEARCH() {\n    return \"localStorageRecentSearch\";\n  }\n\n  static get LOCAL_STORAGE_FIRST_TIME_VISIT() {\n    return \"FIRST_TIME_VISIT\";\n  }\n\n  static get LOCAL_STORAGE_LAST_BROWSER_LANG() {\n    return \"LAST_BROWSER_LANG\";\n  }\n\n  static get EMAIL_SAMPLE() {\n    return \"12345@gmail.com.\";\n  }\n\n  static get CONTACTUS_EMAIL() {\n    return \"info@getter.ga\";\n  }\n\n  static get CHAR_AROBASE() {\n    return \"@\";\n  }\n\n  static get DESCRIPTION_MAX_CHARACT() {\n    return 147;\n  }\n\n  static get USER_LIST_MUTED() {\n    return \"muted\";\n  }\n\n  static get USER_LIST_BLOCKED() {\n    return \"blocked\";\n  }\n\n  static get USER_LIST_FOLLOW() {\n    return \"follow\";\n  }\n\n  static get NOTIF_MESSAGE_SUCCESS() {\n    return \"notif_message_success\";\n  }\n\n  static get NOTIF_MESSAGE_ERROR() {\n    return \"notif_message_error\";\n  }\n\n  // -------------------------- STATUS -------------------------------------\n\n  static get STATUS_ACCEPTED() {\n    return \"y\";\n  }\n\n  static get STATUS_SERVER_ERROR() {\n    return \"server_error\";\n  }\n}\n\nexport class UIStyleConsts extends StyleConsts {\n  static get APP_PAGE() {\n    return \"app-page\";\n  }\n  static get DASHBOARD() {\n    return \"dashboard\";\n  }\n  static get DASHBOARD_COLUMN() {\n    return \"dashboard-column\";\n  }\n  static get DASHBOARD_COLUMN_OVERFLOW() {\n    return \"column-overflow\";\n  }\n  static get DASHBOARD_COLUMN_HEADER() {\n    return \"column-header\";\n  }\n  static get DASHBOARD_PRIMARY_COLUMN() {\n    return \"primary-column\";\n  }\n  static get DASHBOARD_SECONDARY_COLUMN() {\n    return \"secondary-column\";\n  }\n\n  static get DROPDOWN_MENU_ITEM() {\n    return \"menu-item\";\n  }\n\n  static get POST_FEED_ITEM_BUTTON() {\n    return \"post-feed-item-button\";\n  }\n\n  static get BUTTON_PILL() {\n    return \"button--pill panel-view__button\";\n  }\n  static get BUTTON_COLOR_PILL() {\n    return \"button--color-pill panel-view__button\";\n  }\n  static get BUTTON_PANEL() {\n    return \"button panel-view__button\";\n  }\n  static get BUTTON_LINK() {\n    return \"cbutton button--link\";\n  }\n  static get BUTTON_PANEL_DISABLED() {\n    return \"button-disabled panel-view__button\";\n  }\n\n  static get MBUTTON_ACTION() {\n    return \"mbutton panel-view__mbutton\";\n  }\n  static get MBUTTON_ACTION_DISABLED() {\n    return \"mbutton-disabled panel-view__mbutton\";\n  }\n  static get MBUTTON_PANEL() {\n    return \"mbutton panel-view__mbutton\";\n  }\n  static get MBUTTON_PANEL_DISABLED() {\n    return \"mbutton-disabled panel-view__mbutton\";\n  }\n\n  static get SBUTTON_ACTION() {\n    return \"mbutton panel-view__sbutton\";\n  }\n  static get SBUTTON_ACTION_DISABLED() {\n    return \"mbutton-disabled panel-view__sbutton\";\n  }\n\n  static get INPUT_LABEL() {\n    return \"panel-view__inputLabel\";\n  }\n  static get INPUT_COMP() {\n    return \"panel-view__input\";\n  }\n  static get CHECKBOX_LABEL() {\n    return \"panel-view__checkboxLabel\";\n  }\n  static get CHECKBOX_COMP() {\n    return \"panel-view__checkbox\";\n  }\n\n  static get INPUT_SIZE_PASSWORD() {\n    return \"25\";\n  }\n}\n\n// --------------------------- LABEL IDs --------------------------------\n\nexport const LABEL_WEBSITE = \"WWW\";\nexport const LABEL_APPNAME = \"APPN\";\nexport const LABEL_HOMEPAGE = \"HMPG\";\nexport const LABEL_ABOUT_US = \"ABUS\";\nexport const LABEL_TOS = \"TOS\";\nexport const LABEL_PRIVACY_POLICY = \"PRVP\";\nexport const LABEL_FEEDBACK = \"FDBK\";\n\nexport const LABEL_SUBMIT_CHANGE = \"SBCH\";\n\nexport const LABEL_EMAIL_ADDRESS = \"EMLADR\";\nexport const LABEL_USERNAME = \"USRN\";\nexport const LABEL_DISPLAYNAME = \"DSPN\";\n\nexport const LABEL_EMAIL_ENTER = \"INPEML\";\nexport const LABEL_DISPLAYNAME_ENTER = \"INPDSN\";\nexport const LABEL_USERNAME_ENTER = \"INPUSN\";\nexport const LABEL_PASSWORD_ENTER = \"INPPWD\";\nexport const LABEL_PASSWORD2_ENTER = \"INPPW2\";\n\nexport const LABEL_SELECT = \"SEL\";\nexport const LABEL_DELETE = \"DEL\";\nexport const LABEL_EDIT = \"EDT\";\nexport const LABEL_CANCEL = \"CAN\";\nexport const LABEL_CLONE = \"CLN\";\nexport const LABEL_CLOSE = \"CLS\";\nexport const LABEL_RESET = \"RST\";\nexport const LABEL_RETURN = \"RET\";\nexport const LABEL_SUBMIT_POST = \"PST\";\nexport const LABEL_SUBMIT_REPOST = \"RPST\";\nexport const LABEL_SUBMIT_COMMENT = \"SCM\";\n\nexport const LABEL_HOME = \"HM\";\nexport const LABEL_EXPLORE = \"EPLR\";\nexport const LABEL_NOTIFICATIONS = \"NTFCT\";\nexport const LABEL_MESSAGES = \"MSG\";\nexport const LABEL_PROFILE = \"PF\";\n\n// --------------------------- MESSAGE IDs ------------------------------\n\nexport const MSG_PASSWORD_OK = \"M0101\";\n\nexport const MSG_PASSWORD_NOT_VALID = \"E0101\";\nexport const MSG_PASSWORD_NOT_MATCHED = \"E0102\";\nexport const MSG_NICKNAME_NOT_VALID = \"E0103\";\nexport const MSG_EMAIL_NOT_VALID = \"E0104\";\nexport const MSG_EMAIL_NONE = \"E0105\";\nexport const MSG_INVITE_CODE_INVALID = \"E0106\";\nexport const MSG_INVITE_CODE_VERIFIED = \"E0107\";\nexport const MSG_USERNAME_EXISTS = \"E0108\";\nexport const MSG_USERNAME_AVAILABLE = \"E0109\";\nexport const MSG_USERNAME_CHECK_ERROR = \"E0110\";\nexport const MSG_USERNAME_NOT_VALID = \"E0111\";\n\nexport const MSG_CREATE_POST_LABEL = \"M0112\";\n\nexport const UIStyle = UIStyleConsts;\n\nexport default AppConsts;\n","\nimport cjk from 'cjk-regex';\nimport SymbolExpr from './SymbolExpr';\nimport Util from '../Util';\nimport ModelType, { UserProps } from '../model/ModelConsts';\n\n/** In tagname qualifying extras are delimted with \"--\" after the initial tagname, like sports--usa */\nexport const PHRASE_SPLIT = '--';\n\n/** Word split \"-\" is used within tagnames in place of space character, like los-angeles */\nexport const WORD_SPLIT = '-';\n\nexport const TAG_SPLIT = ';';\n\nexport const TAG_PROP_REL = 'rel';\n\nexport const TAGNUM_PREFIX = '~';\n\n/** In English only */\nconst uselessWords = new Set([\n  'a', 'for', 'the', 'to', 'from', 'for',\n]);\n\nconst uselessPrefix = new Set([\n  'the', 'dr', 'dr.', 'mr', 'mr.', 'mrs', 'mrs.', 'ms', 'ms.', 'la', 'el',\n]);\n\nconst uselessSuffix = new Set([\n  'jr', 'jr.', 'sr', 'sr.',\n]);\n\n/** Good for English only. \"los/las\" in Spanish should be omitted unless in name? */\nconst noBreakPrefixes = new Set([\n  'san', 'los', 'las',\n]);\n\nconst symbolText = {\n  '&': 'and',\n};\n\n// const _CLSNAME = \"TagUtil\";\n\nexport class TagUtil {\n  static get PHRASE_SPLIT() { return PHRASE_SPLIT; }\n  static get WORD_SPLIT() { return WORD_SPLIT; }\n  static get TAG_SPLIT() { return TAG_SPLIT; }\n\n  /**\n   * Determine if the tagname given is a generated number.\n   * If it's a number alone, then it's generated.\n   *\n   * @param {*} tagname\n   */\n  static IsNumberID(tagname) {\n    return TagUtil.GetGenIDNumber(tagname) !== -1;\n  }\n\n  /**\n   * Determine if the tagname given implies it is a topic.\n   * This is a simple check for \"-topic\" as the convention\n   *\n   * @param {string} tagname\n   * @return {boolean} true if \"-topic\" is within the tagname\n   * (not necessarily at the end)\n   */\n  static IsTopic(tagname) {\n    return tagname ? tagname.indexOf('-topic') >= 0 : false;\n  }\n\n  /**\n   * Determine if the tagname given is a generated number.\n   * If it's a number alone, then it's generated.\n   *\n   * @param {string} tagname\n   */\n  static GetGenIDNumber(tagname) {\n    if (tagname && !Util.IsString(tagname)) {\n      console.error('GetGenIDNumber; not string: ', (typeof tagname), ' -> ', String(tagname));\n      tagname = String(tagname);\n    }\n    if ((tagname == null) || (!tagname.startsWith(TAGNUM_PREFIX))) { return -1; }\n    try {\n      return Number(parseInt(tagname.substring(1), 36));\n    } catch (err) {\n      console.log(err);\n      return -1;\n    }\n  } // GetNumberID\n\n  /**\n   * Given a number, encode into a 'generated ID',\n   * which is a prefix + radix 36.\n   *\n   * @param {number} number\n  * @param {string=} prefix optional prefix to add after converting\n  * to radix 36 and before uuencoding\n  * @return {string} encoded number suitable to be used as a compact ID\n\n   */\n  static EncodeGenID(number, prefix = null) {\n    const n36 = number.toString(36);\n    return (prefix || TAGNUM_PREFIX) + n36;\n  }\n\n  /**\n   * Convert (tagname) to lower case.\n   *\n   * @param {string} text text to convert to lower case\n   * @return {string} lowercased text or null if empty\n   */\n  static LC(text) {\n    if (text == null) {\n      console.error('LC: Cannot lower case a NULL text.');\n      return text;\n    }\n    return String(text).toLowerCase();\n  }\n\n  /**\n   * Given text of format \"title {category}\", return\n   * just title.\n   *\n   * @param {string} text\n   */\n  static StripBracket(text) {\n    const newText = text.replace(/\\{(.+?)\\}/g, '');\n    return newText.trim();\n  }\n\n  static IsUseless(word) {\n    if (word == null) { return true; }\n    return uselessWords.has(word.toLowerCase());\n  }\n\n  static IsUselessPrefix(word) {\n    if (word == null) { return true; }\n    return uselessPrefix.has(word.toLowerCase());\n  }\n\n  static IsUselessSuffix(word) {\n    if (word == null) { return true; }\n    return uselessSuffix.has(word.toLowerCase());\n  }\n\n  static NoBreakPrefix(prefix) {\n    if (prefix == null) { return true; }\n    return noBreakPrefixes.has(prefix.toLowerCase());\n  }\n\n  /**\n   * Given a tag, if it has \"_\", like\n   * \"San_Jose\", then convert to \"SanJose\", or \"sanjose\"\n   * if going all lowercase\n   *\n   * @param {*} tagname\n   * @param {boolean} toLowerCase true to go lowercase\n   * @return {string} new processed string\n   */\n  static JoinSpace(tagname, toLowerCase = false) {\n    if (tagname == null) { return null; }\n\n    // NOTE: word split uses single \"-\" while double \"--\" is used\n    // to split terms. The replace logic below will replace both,\n    // so make sure to split terms first if you don't want them\n    // all concatenated.\n    let _newtag = tagname ? tagname.replace(WORD_SPLIT, '') : null;\n    if (toLowerCase) { _newtag = _newtag.toLowerCase(); }\n    return _newtag;\n  }\n\n  /**\n   * Convert a text string that is assumed to be a single word\n   * into a tag. If you are not sure, use Text2Tag as entry point.\n   *\n   * @param {string} text to process\n   * @param {*} qualifiers append as suffix. this is usually super/parent tags\n   */\n  static _Word2Tag(text, lc = false) {\n    // Step 1, lower-case all if desired\n    let wordStr = lc ? text.toLowerCase().trim() : text.trim();\n\n    // Step 2, remove some punctuations\n    // TO-DO: find better / more efficient method for removal\n    wordStr = wordStr.replace(',', '');\n    wordStr = wordStr.replace(';', ' ');\n    wordStr = wordStr.replace('-', ' ');\n    wordStr = wordStr.replace('_', ' ');\n    wordStr = wordStr.replace(':', ' ');\n    wordStr = wordStr.replace('.', ' ');\n    wordStr = wordStr.replace('!', ' ');\n    wordStr = wordStr.replace('~', ' ');\n    wordStr = wordStr.replace('=', ' ');\n    wordStr = wordStr.replace('(', ' ');\n    wordStr = wordStr.replace(')', ' ');\n    wordStr = wordStr.replace('@', ' ');\n    wordStr = wordStr.replace('#', ' ');\n    wordStr = wordStr.replace('$', ' ');\n    wordStr = wordStr.replace('%', ' ');\n    wordStr = wordStr.replace('^', ' ');\n    wordStr = wordStr.replace('*', ' ');\n\n    // Step 2, tokenize all words by spaces\n    const tokens = wordStr.split(' ');\n    const words = [];\n    const wordCount = tokens.length;\n    let token;\n    for (let i = 0; i < wordCount; i++) {\n      token = tokens[i];\n      if (token === '') { continue; }   // probably extra spaces\n      // if ((i === 0) && TagUtil.IsUselessPrefix(token))\n      //     continue;\n      // if ((i === (wordCount - 1) && TagUtil.IsUselessSuffix(token)))\n      //     continue;\n      // if (TagUtil.IsUseless(token))\n      //     continue;\n\n      // convert meaningful symbolx, like '&' to 'and'\n      if (Util.NotNull(symbolText[token])) { token = symbolText[token]; }\n\n      // now strip any non-alphanumeric character\n      if (!token.replace) {\n        console.error(`_Word2Tag(${text}) has a bad token:`, token);\n      }\n      token = token.replace(/[^0-9a-z]/gi, '');\n\n      words.push(token);\n    }\n\n    return words.reduce((acc, cur) => {\n      if (cur) {\n        acc = acc ? `${acc}-${cur}` : cur;\n      }\n      return acc;\n    }, '');\n  } // _Word2Tag\n\n  /**\n   * Convert a text string (e.g., a title) to tag. So something\n   * like \"The Fast & Furious 5\" would/should be \"fast-furious-5\"\n   * after stripping the useless and non-alpha words.\n   * NOTE: characters like ',' or '|' or ptag phrase separate like '--'\n   * will be used as word separator.\n   *\n   * @param {string} text to process\n   * @param {string} suffix append at end of the result with \"--\".\n   * This is usually super/parent tags. For example, \"movies\" can be used for a movie title.\n   */\n  static Text2Tag(text, suffix = null) {\n    if (text == null) { return null; }\n\n    let wordStr = text.toLowerCase().trim();\n\n    wordStr = wordStr.replace(',', '|');\n    wordStr = wordStr.replace(PHRASE_SPLIT, '|');\n\n    const tokens = wordStr.split('|');\n    const words = [];\n    let token;\n    let word;\n    let tag;\n    for (let i = 0; i < tokens.length; i++) {\n      token = tokens[i].trim();\n      if (token === '') { continue; }\n      word = TagUtil._Word2Tag(token, false);\n      if (word && word !== '') { words.push(word); }\n    }\n    tag = words.join(PHRASE_SPLIT);\n\n    // In few instances some special characters may result to nothing, leaving\n    // multiple hyphens. So should try to detect (eg., \"term1---term2-term3\") and\n    // remove with minimal overhead.\n\n    if (Util.NotNull(suffix)) { tag += PHRASE_SPLIT + suffix; }\n    return tag;\n  } // Text2Tag\n\n\n  /**\n   * Given a list of tags, split each to many keywords\n   * based on \"-\"\n   *\n   * @param {string[]} tags array of tag names which might have props\n   * space, and \"-\" for context, like \"San_Jose-CA-USA\". Props are OK and will be stripped\n   * @param {boolean} toLowerCase true to convert to lower case\n   * @param {boolean} removeSpace true to remove space (using _ as placeholder)\n   * @param {boolean} splitWords\n   * @param {set} setBucket Set collection to add if unique within set\n   * @param {boolean} firstOnly if word uses PHRASE_SPLIT, then only keep the first part.\n   * @return {array} array of individualized keywords\n   */\n  static SplitTags(tags, toLowerCase = false, removeSpace = false, splitWords = true, setBucket = null, firstOnly = false) {\n    const strippedTags = [];\n    const tagCount = tags ? tags.length : 0;\n    let t;\n    for (let i = 0; i < tagCount; i++) {\n      t = TagUtil.SplitTag(tags[i], toLowerCase);\n      if (t) { strippedTags.push(t); }\n    }\n    return strippedTags;\n  }\n\n  /**\n   * Given a tag, split to many keywords\n   * based on \"-\".\n   *\n   * @param {string} tagname standard tagname, which can have \"_\" for\n   * space, and \"-\" for context, like \"San_Jose-CA-USA\". Props are OK and will be stripped\n   * @param {boolean} toLowerCase true to convert to lower case\n   * @param {boolean} removeSpace true to remove space (using _ as placeholder)\n   * @param {boolean} splitWords\n   * @param {set} setBucket Set collection to add if unique within set\n   * @param {boolean} firstOnly if word uses PHRASE_SPLIT, then only keep the first part.\n   * @return {array} array of individualized keywords\n   */\n  static SplitTag(tagname, toLowerCase = false, removeSpace = false, splitWords = true, setBucket = null, firstOnly = false) {\n    if (tagname == null) {\n      console.error('SplitTag', 'tagname is NULL!');\n      return null;\n    }\n\n    tagname = TagUtil.StripProps(tagname);\n\n    // get the case over with\n    if (toLowerCase) { tagname = tagname.toLowerCase(); }\n\n    let words = tagname.split(PHRASE_SPLIT);\n    if ((firstOnly === true) && (words.length > 1)) {\n      // only use the part before \"--\"\n      words = words.splice(0, 1);\n    }\n\n    // console.log(`SplitTag: Initial ${tagname} --> ${words}`);\n    if (words && words.length > 0) {\n      let word;\n      let hasParts;\n      for (let i = 0; i < words.length; i++) {\n        word = words[i];\n        if (TagUtil.IsUseless(word)) {\n          // console.log(`SplitTag: Word ${word} is useless; skipping...`);\n          continue;\n        }\n\n        // Now, if word can be broken up to more words, then\n        // let's do that to expand keywords\n        hasParts = word.indexOf(WORD_SPLIT) >= 1;\n        // console.log(`SplitTag: ${word} has parts: ${hasParts}`);\n        if (hasParts && (splitWords === true)) {\n          // split into multiple words minus useless ones\n          const parts = word.split(WORD_SPLIT);\n\n          // First, check for no-break prefixes\n          if (TagUtil.NoBreakPrefix(parts[0]) === false) {\n            if (TagUtil.IsUselessPrefix(parts[0])) { parts.shift(); }  // remove the useless prefix\n            parts.forEach((part) => {\n              if (TagUtil.IsUseless(part) === false) { words.push(part); }\n            });\n          }\n        }\n        if (removeSpace && hasParts) {\n          word = word.replace(WORD_SPLIT, '');\n          words.push(word);\n        }\n      }\n    }\n    if (setBucket) {\n      words.forEach(setBucket.add, setBucket);\n      // words.forEach(w => setBucket.add(w));\n    }\n    // console.log(\"SplitTag\", `Final: ${tagname} ==> ${words}`);\n    return words;\n  } // SplitTag\n\n  /**\n   * Convert a Set of tags to keywords\n   *\n   * @param {Set} tags as a Set\n   * @param {boolean} toLowerCase convert to lower case\n   * @param {boolean} removeSpace\n   *\n   * @return {Set} unique keywords\n   */\n  static TagsToKeywords(tags) {\n    if (tags == null) { return null; }\n\n    const toLowerCase = true;\n    const removeSpace = false;\n    const splitWords = true;\n    const bucket = new Set();\n    tags.forEach((tag) => {\n      TagUtil.SplitTag(tag, toLowerCase, removeSpace, splitWords, bucket);\n    });\n    return bucket;\n  }\n\n  /**\n   * Process all tag expression strings in an array and group them\n   * by a specific label and matching value in the properties.\n   *\n   * @param {string} label label to match value in properties of each tag\n   * @param {string} value defaultValue supply value in case value does not exist\n   * @param {Array} tags can be array or set\n   *\n   * @see #GroupTagsByRel\n   * @see #GetTagsByProp\n   * @see #IndexOfTagByProp\n   */\n  static GroupTagsByProp(label, defaultValue = 'default', tags) {\n    const relMap = {};\n    if (Util.NotNull(tags)) {\n      tags.forEach((tag) => {\n        // eslint-disable-next-line\n        let [tagname, props] = TagUtil.ParseTag(tag, true);\n\n        // console.error(`GroupTagByRel: tagname: ${tagname}, props:`, props);\n        let relname = props ? props[label] : null;\n        if (relname == null) { relname = defaultValue; }\n        if (relMap[relname] == null) { relMap[relname] = [tag]; } else { relMap[relname].push(tag); }\n      });\n    }\n    return relMap;\n  } // GroupTagsByProp\n\n  /**\n   * Process all tag expression strings in an array and group them\n   * by TAG_PROP_REL property / key.\n   *\n   * @param {Array} tags can be array or set\n   * @param {string} relname relationship (key) name to use to group\n   */\n  static GroupTagsByRel(tags, relname = 'isa') {\n    return TagUtil.GroupTagsByProp(TAG_PROP_REL, relname, tags);\n  }\n\n\n  /**\n   * Process all tag expression strings in an array and group them\n   * by a specific label and matching value in the properties.\n   *\n   * @param {string} label label to match value in properties of each tag\n   * @param {string[]} tags can be array or set\n   * @param {*} defaultVal in case no result\n   *\n   * @return {string[]} array of tag expressions matching label and optionally labelled value\n   *\n   * @see #GetTagsByRel\n   * @see #GroupTagsByProp\n   * @see #IndexOfTagByProp\n   */\n  static GetTagsByProp(tags, label, value = null, defaultVal = null) {\n    const result = [];\n    tags.forEach((tag) => {\n      // eslint-disable-next-line\n      let [tagname, props] = TagUtil.ParseTag(tag, true);\n\n      // console.error(`GetTagsByProp: label: ${label}, value: ${value}`);\n      if (props && props.hasOwnProperty(label)) {\n        // console.error(`GetTagsByProp: tagname: ${tagname}: props:`, props);\n        if (value == null) { result.push(tag); } else {\n          const propValue = props[label];\n          if (value === propValue) { result.push(tag); }\n        }\n      } // if tag has property with label\n    }); // for each tag expression\n    return (result.length > 0) ? result : defaultVal;\n  } // GetTagsByProp\n\n  /**\n   *\n   * @param {string[]} tags\n   * @param {*} relname relationship name. If this is null, then all tags with TAG_PROP_REL\n   * property are returned.\n   * @param {*} defaultVal\n   *\n   * @return {string[]} array of tag expressions matching rel type and optionally rel value\n   *\n   * @see #GroupTagsByRel\n   */\n  static GetTagsByRel(tags, relname = null, defaultVal = null) {\n    return TagUtil.GetTagsByProp(tags, TAG_PROP_REL, relname, defaultVal);\n  }\n\n  /**\n   * Process all tag expression strings in an array and get values of\n   * a matching property label\n   *\n   * @param {string[]} tags can be array or set\n   * @param {string} label label to match value in properties of each tag, eg., TAG_PROP_REL\n   * @param {*} defaultVal in case no result\n   *\n   * @return {string[]} array values matching property label of given tag expressions\n   *\n   * @see #GetRelnameOfTags\n   * @see #GetTagsByProp\n   */\n  static GetPropValueOfTags(tags, label, defaultVal = null) {\n    const resultSet = new Set();\n    tags.forEach((tag) => {\n      // eslint-disable-next-line\n      let [tagname, props] = TagUtil.ParseTag(tag, true);\n\n      // console.error(`GetPropValueOfTags: label: ${label}, value: ${value}`);\n      if (props && props.hasOwnProperty(label)) {\n        // console.error(`GetPropValueOfTags: tagname: ${tagname}: props:`, props);\n        const value = props[label];\n        if (Util.NotNull(value)) { resultSet.add(value); }\n      } // if tag has property with label\n    }); // for each tag expression\n    return (resultSet.size > 0) ? Array.from(resultSet) : defaultVal;\n  } // GetPropValueOfTags\n\n  /**\n   *\n   * @param {string[]} tags\n   * @param {*} defaultVal default value to return if no match at all\n   *\n   * @return {string[]} array of rel values\n   *\n   * @see #GroupTagsByRel\n   */\n  static GetRelnamesOfTags(tags, defaultVal = null) {\n    return TagUtil.GetPropValueOfTags(tags, TAG_PROP_REL, defaultVal);\n  }\n\n\n  /**\n   * Check if the given tag expression string (with inline properties)\n   * has the given property label and optional value. Check stops at\n   * first match.\n   *\n   * @param {string[]} tags can be array or set\n   * @param {string} label label to match value in properties of each tag, e.g., TAG_PROP_REL\n   * @param {string} value value to match with the label, e.g., \"isa\". If null then\n   * any value is valid match.\n   *\n   * @return {number} index\n   *\n   * @see #GetTagsByProp\n   * @see #GroupTagsByProp\n   */\n  static IndexOfTagByProp(tags, label, value = null) {\n    const tagsCount = tags ? tags.length : 0;\n    let tag;\n    for (let idx = 0; idx < tagsCount; idx++) {\n      tag = tags[idx];\n      // eslint-disable-next-line\n      let [tagname, props] = TagUtil.ParseTag(tag, true);\n\n      // console.error(`IndexOfTagByProp: label: ${label}, value: ${value}, tagname: ${tagname}: props:`, props);\n      if (props && props.hasOwnProperty(label)) {\n        if (value == null) { return idx; }\n\n        const propValue = props[label];\n        // console.error(`   value: ${value}  propValue: ${propValue}`);\n        if (value === propValue) { return idx; }\n      } // if tag has property with label\n    } // for each tag expression\n    return -1;\n  } // IndexOfTagsByProp\n\n  /**\n   * Return index of the first tag in the tags array that has\n   * a TAG_PROP_REL property, or optionally has the given relname value.\n   *\n   * @param {string[]} tags\n   * @param {string} relname value to match, e.g. \"isa\". If null, then\n   * any value will match for the relationship property TAG_PROP_REL.\n   *\n   * @return {number} index\n   *\n   * @see #GetTagsByRel\n   * @see #GroupTagsByRel\n   * @see #HasTagsByRel\n   * @see #IndexOfTagname\n   */\n  // static IndexOfTagByRel(tags, relname=null) {\n  //     return TagUtil.IndexOfTagByProp(tags, TAG_PROP_REL, relname);\n  // }\n\n  /**\n   * Check if the given tag expression string (with inline properties)\n   * has the given property label and optional value. Check stops at\n   * first match.\n   *\n   * @param {string[]} tags can be array or set\n   * @param {string} nameCheck tagname to check. Will be normalized\n   *\n   * @return {number} index -1 means does not exist\n   *\n   * @see #IndexOfTagByRel\n   * @see ~hasTag\n   */\n  static IndexOfTagname(tags, nameCheck) {\n    if (tags == null) { return -1; }\n\n    nameCheck = TagUtil.GetTagname(nameCheck, true);    // normalize it\n    const tagsCount = tags.length;\n\n    let tagexpr;\n    let tagname;\n    for (let idx = 0; idx < tagsCount; idx++) {\n      tagexpr = tags[idx];\n      tagname = TagUtil.GetTagname(tagexpr, true);\n      // console.log(`IndexOfTagname: checking at ${idx}: nameCheck: ${nameCheck}, tagname: ${tagname}  tag: ${tagexpr}`);\n      if (tagname === nameCheck) {\n        // console.log(`IndexOfTagname: matched at ${idx}: nameCheck: ${nameCheck}, tagname: ${tagname}  tag: ${tagexpr}`);\n        return idx;\n      }\n    } // for each tag expression\n    return -1;\n  } // IndexOfTagname\n\n  /**\n   * Remove a tag from list of tagnames.\n   *\n   * @param {string[]} tagnames\n   * @param {string} tagname\n   * @return {string} removed tagname or null if nothing is removed\n   */\n  static RemoveTag(tagnames, tagname) {\n    if ((tagnames == null) || (tagname == null)) { return null; }\n    const idx = TagUtil.IndexOfTagname(tagnames, tagname);\n    if (idx < 0) { return null; }\n    const removed = tagnames.splice(idx, 1);\n    if ((removed === null) || (removed.length === 0)) { return null; }\n    return removed[0]; // expect only one\n  }\n\n  /**\n   *\n   * @param {string[]} tagnames array of tagname each with possible\n   * inline props\n   * @param {string} tagname tagname to check. Any inline props will\n   * be stripped.\n   * @param {boolean} simpleCheck true to use array indexOf. No normalizing input or\n   * strip any expressions\n   *\n   * @see ~IndexOfTagname\n   */\n  static HasTag(tagnames, tagname, simpleCheck = false) {\n    // console.log(`${_CLSNAME}.HasTag`, `tagnames: ${tagnames}, tagname: ${tagname}`);\n    if (tagnames == null) { return false; }\n    if (simpleCheck) { return tagnames.indexOf(tagname) > -1; }\n    return TagUtil.IndexOfTagname(tagnames, tagname) >= 0;\n  }\n\n  /**\n   * Find a tagname string within a list of tagnames and\n   * return it. This is not a straight comparison as\n   * the match must be only the tagname part, so any\n   * inline properties will need to be ignored.\n   *\n   * @param {string[]} tagnames array of tagnames (or expressions)\n   * @param {string} tagname tagname to check. it can have inline\n   * props too.\n   * @param {*} defaultVal\n   */\n  static GetTag(tagnames, tagname, defaultVal = null) {\n    const idx = TagUtil.IndexOfTagname(tagnames, tagname);\n    return (idx >= 0) ? tagnames[idx] : defaultVal;\n  }\n\n  /**\n   * Return verdict if there is a tag in the tag expression array\n   * where 1) a TAG_PROP_REL property exists, and/or 2) given relname\n   * value is matched.\n   *\n   * @param {string[]} tags\n   * @param {string} relname e.g., \"isa\" or null if don't match value\n   *\n   * @return {boolean} true if match found, false if none\n   *\n   * @see #GetTagsByRel\n   * @see #GroupTagsByRel\n   * @see #HasTagsByRel\n   */\n  static HasTagByRel(tags, relname = null) {\n    return TagUtil.IndexOfTagByProp(tags, TAG_PROP_REL, relname) >= 0;\n  }\n\n  /**\n   * Return tagname portion of the tag string expression in the\n   * format of tagname[:{props}]\n   *\n   * @param {string} tag expression which may have the optional props\n   * @param {boolean} normalize need to check for case and special characters?\n   * @return {string} tagname portion of the tag expression\n   * @see #GetTagname\n   */\n  static StripProps(tag, normalize = false) {\n    return SymbolExpr.StripProps(tag, normalize ? TagUtil.NormalizeTag : null);\n  }\n\n  /**\n   * Return whether the tagname has properties append to it.\n   *\n   * @param {string} tag format of tag[:{\"label1\":value1, \"label2\":value2, ...}]\n   */\n  static HasProps(tag) {\n    return SymbolExpr.HasProps(tag);\n  }\n\n  /**\n   * Return tagname portion of each tagname within the array\n   *\n   * @param {string[]} tags array of tag names which might have props\n   * @param {boolean} normalize need to check for case and special characters?\n   */\n  static StripTagsProps(tags, normalize = false) {\n    const strippedTags = [];\n    const tagCount = tags ? tags.length : 0;\n    let t;\n    for (let i = 0; i < tagCount; i++) {\n      t = TagUtil.StripProps(tags[i], normalize);\n      if (t) { strippedTags.push(t); }\n    }\n    return strippedTags;\n  }\n\n  /**\n   * Return tagname portion of the tag string expression in the\n   * format of tagname[:{props}]\n   *\n   * @param {string} tag expression which may have the optional props\n   * @param {boolean} normalize need to check for case and special characters?\n   * @return {string} tagname portion of the tag expression\n   *\n   * @see ~StripProps\n   * @see ~ParseTag\n   * @see ~ComposeTag\n   */\n  static GetTagname(tag, normalize = false) {\n    return SymbolExpr.GetSymbolName(tag, normalize ? TagUtil.NormalizeTag : null);\n  }\n\n  /**\n   * Parse a tag string and return props separately if exists\n   *\n   * @param {*} tag tag name string with optional properties\n   * @param {*} parseProps if false, leave props as string. If true, parse into object\n   * @param {boolean} normalize tag after parsing\n   * @return {[tagname,{props}]} array element 0 is tagname, then array[1] is props object\n   *\n   * @see ~GetTagname\n   * @see ~StripProps\n   * @see ~ComposeTag\n   */\n  static ParseTag(tag, parseProps = false, normalize = false) {\n    return SymbolExpr.ParseSymbol(tag, parseProps, normalize ? TagUtil.NormalizeTag : null);\n  } // ParseTag\n\n  /**\n   * Compose a complete tag with given name and property object to form\n   * tagname[:{props}]\n   *\n   * @param {string} tagname tagname only\n   * @param {{}}} props props to add\n   * @return {string} tag expression in string of form tagname[:{props}]\n   *\n   * @see ~GetTagname\n   * @see ~ParseTag\n   * @see ~CompareTag\n   */\n  static ComposeTag(tagname, props) {\n    return SymbolExpr.ComposeSymbol(tagname, props, TagUtil.NormalizeTag);\n  }\n\n  /**\n   * Compare two tag names without regards for the values of the props\n   *\n   * @param {string} tag1 string in the format of tagname[:{props}]\n   * @param {string} tag2 string in the format of tagname[:{props}]\n   * @param {*} normalize transform any part of the tagname if uppercase or have\n   * special characters\n   * @return {boolean} true if match\n   *\n   * @see ~GetTagname\n   * @see ~ParseTag\n   * @see ~ComposeTag\n   */\n  static CompareTags(tag1, tag2, normalize = false) {\n    return SymbolExpr.CompareSymbols(tag1, tag2, normalize ? TagUtil.NormalizeTag : null);\n  }\n\n  /**\n   * Return the value of a property label encoded within the\n   * tag expression string\n   *\n   * @param {string} tag expression string in format of: tagname[:{props}]\n   * @param {string} key lookup value\n   * @param {*} defaultVal\n   *\n   * @see ~HasProperty\n   * @see ~SetProperty\n   */\n  static GetPropertyValue(tag, key, defaultVal = null) {\n    const parsed = TagUtil.ParseTag(tag, true);\n    if ((parsed == null) || (parsed.length === 1)) { return defaultVal; } // no properties\n    const props = parsed[1];\n    return props[key] ? props[key] : defaultVal;\n  }\n\n  /**\n   * Determine if the given key value exists in the properties\n   * of the given tag expression string.\n   *\n   * @param {string} tag expression string in format of: tagname[:{props}]\n   * @param {string} key property label to check\n   * @return {boolean} true if exists, false if not\n   *\n   * @see ~GetProperty\n   * @see ~SetProperty\n   * @see ~RemoveProperty\n   */\n  static HasProperty(tag, key) {\n    return SymbolExpr.HasProperty(tag, key);\n  } // HasProperty\n\n  /**\n   * Set a property value of the given tag expression string.\n   * The tag can be just tag string.\n   * NOTE: this is not efficient way to set multiple properties.\n   * Best to construct such object and compose directly.\n   *\n   * @param {string} tag expression in format of tagname[:{props}]\n   * @param {string} key property label\n   * @param {string} value value to assign to key and can be null\n   * @return {string} tag expression including the new property key/value\n   *\n   * @see ~HasProperty\n   * @see ~GetProperty\n   * @see ~RemoveProperty\n   */\n  static SetProperty(tag, key, value) {\n    return SymbolExpr.SetProperty(tag, key, value);\n  } // SetProperty\n\n  /**\n   * Remove a property that exists as inline property expression\n   * in the format of tagname:{label1:value1,label2:value2} including\n   * property inline protective and parsable quotes.\n   *\n   * @param {string} tag\n   * @param {string} key\n   * @see ~HasProperty\n   * @see ~GetProperty\n   */\n  static RemoveProperty(tag, key) {\n    return SymbolExpr.RemoveProperty(tag, key);\n  }\n\n  /**\n   * Check on the input string and convert any special\n   * characters and spaces so it conforms to tag name\n   * format. One such example is any space would be\n   * replaced with \"-\".\n   *\n   * @param {string} text tag name that may be entered by user.\n   * NOTE: it can still have attached properties using the\n   * format: tagStr[:{props}]\n   *\n   * @see TagUtil.StripProps  to strip property with normalize option\n   */\n  static NormalizeTag(tagStr, lc = true) {\n    const idx = tagStr.indexOf(':');\n    let text = (idx === -1) ? tagStr : tagStr.substring(0, idx);\n    const propStr = (idx === -1) ? null : tagStr.substring(idx + 1);\n    text = lc ? text.toLowerCase().trim() : text.trim();\n    /**\n     * Mar 11, ddm - truncate by max size\n     */\n    text = text.slice(0, UserProps.TAG_MAX_LENGTH);\n\n    // now strip any non-alphanumeric character.\n    // THIS CAN BE REAL HEAVY!!! Need to revisit\n    // NOTE: also must keep TAGNUM_PREFIX (tilde)\n    // eslint-disable-next-line\n    const cjk_charset = cjk();\n    if (cjk_charset.toRegExp().test(text)) {\n      // todo punctuation\n      console.log('Supporting CJK hashtag: ', text);\n    } else {\n      text = text.replace(/[^0-9a-z_]/gi, '');\n      text = text.replace(' ', WORD_SPLIT);\n    }\n\n    return propStr ? (`${text}:${propStr}`) : text;\n  }\n\n  /**\n   * Given a Set of wordSets, consolidate all into a single\n   * set of unique tagnames.\n   *\n   * @param {Array} tagSets Set of word Sets\n   * @return {Set} Set of unique tagnames\n   */\n  static UnionTagSets(tagSets) {\n    const _m = 'unionTagSets';\n\n    if (tagSets == null) {\n      console.error(`${_m}: null input tagSets`);\n      return new Set();\n    }\n\n    if (tagSets.length === 1) {\n      const loneSet = tagSets[0];\n      if (loneSet === null) {\n        console.error(`${_m}: the only element in tagSets is NULL`);\n      }\n      return loneSet || new Set();\n    }\n\n    // TODO: find union as first priority, then by indiv. matched words\n    // For now, create one giant set and then sort as array\n    // console.log(`${_m}: total ${tagSets.length} wordSets...`);\n    const resultSet = new Set();\n\n    let wordSet;\n    for (let i = 0; i < tagSets.length; i++) {\n      wordSet = tagSets[i];\n      // console.log(`   WordSet[${i}] has ${wordSet.size} words... content:`, wordSet);\n      wordSet.forEach((word) => {\n        resultSet.add(word);\n      });\n    }\n    return resultSet;\n  } // UnionTagSets\n\n  /**\n   * Given a Set of wordSets, consolidate all into a single\n   * set of unique tagnames\n   *\n   * @param {Array} tagSets Set of word Sets\n   * @return {Set} Set of unique tagnames\n   */\n  static IntersectTagSets(tagSets) {\n    const _m = 'intersectTagSets';\n\n    if (tagSets.length === 1) {\n      const loneSet = tagSets[0];\n      if (loneSet == null) {\n        console.error(`${_m}: the only element in tagSets is NULL`);\n      }\n      return loneSet || new Set();\n    }\n\n    // console.log(`${_m}: total ${tagSets.length} wordSets...`);\n    // let resultSet = new Set();\n\n    let workingSet = tagSets[0];\n    for (let i = 1; i < tagSets.length; i++) {\n      const targetSet = tagSets[i];\n      workingSet = new Set([...workingSet].filter(word => targetSet.has(word)));\n    }\n    return workingSet;\n  } // IntersectTagSets\n}\n\nexport default TagUtil;\n\n"],"sourceRoot":""}